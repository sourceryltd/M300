{"version":3,"sources":["components/Common/3dViewer/RenderingUtils/TransformControls.js","components/Common/OptionCard/OptionCard.js","Utility/helpers.js","components/Setup/PrinterType/PrinterType.js","Utility/useMountEffect.js","components/Setup/NetworkType/NetworkSettings.js","components/Setup/NetworkType/WifiConnect.js","components/Setup/NetworkType/HotspotConnect.js","components/Setup/NetworkType/NetworkType.js","components/Menu/MenuTabs/Update.js","components/Tutorials/TutorialLayouts.js","components/Tutorials/TutorialDefinitions.js","components/Tutorials/TutorialThermometer/TutorialThermometer.js","components/Tutorials/GCodeBuilder.js","TempContext.js","components/Tutorials/Tutorial/Tutorial.js","components/Setup/NetworkSelect/NetworkSelect.js","components/Common/Tabs/TabList.js","components/Setup/Setup.js","components/Print/PrintStatus/PrintStatus.js","AppContext.js","components/Common/3dViewer/RenderingUtils/STLLoader.js","components/Common/3dViewer/FilesPanel/index.js","components/Common/3dViewer/RenderingUtils/OrbitControls.js","components/Common/3dViewer/PrintRenderer/index.js","components/Common/3dViewer/SettingsPanel/index.js","components/Common/3dViewer/RenderingUtils/ExportSTL.js","components/Common/SliceModal/index.js","components/Common/FileManager/FileManager.js","components/Print/Print.js","components/Control/Moving/Moving.js","components/Control/Heating/Heating.js","components/Control/Control.js","components/Menu/MenuTabs/ManageStorage.js","components/Menu/MenuTabs/About.js","components/Menu/MenuTabs/Settings.js","components/Menu/MenuTabs/Tutorials.js","components/Menu/Menu.js","components/Menu/MenuTabs/ResetPrinter.js","components/Tutorials/Tutorial/TutorialButton.js","components/Tune/Tune.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","img/mm-print.svg"],"names":["module","exports","THREE","BoxGeometry","BufferGeometry","Color","CylinderGeometry","DoubleSide","Euler","Float32BufferAttribute","Line","LineBasicMaterial","Matrix4","Mesh","MeshBasicMaterial","Object3D","OctahedronGeometry","PlaneGeometry","Quaternion","Raycaster","SphereGeometry","TorusGeometry","Vector3","TransformControls","camera","domElement","undefined","console","warn","document","call","this","visible","_gizmo","TransformControlsGizmo","add","_plane","TransformControlsPlane","scope","defineProperty","changeEvent","type","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","raycaster","intersectObjectWithRay","object","includeInvisible","allIntersections","intersectObject","i","length","_tempVector","_tempVector2","_tempQuaternion","_unit","X","Y","Z","pointStart","pointEnd","offset","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","Object","get","set","value","dispatchEvent","getPointer","event","ownerDocument","pointerLockElement","x","y","button","pointer","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","onPointerHover","enabled","pointerType","pointerHover","onPointerDown","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","onPointerUp","removeEventListener","pointerUp","dispose","traverse","child","geometry","material","attach","detach","axis","updateMatrixWorld","parent","error","matrixWorld","decompose","copy","invert","sub","normalize","prototype","dragging","setFromCamera","intersect","picker","name","planeIntersect","space","snap","rotationSnap","rotation","Math","round","z","position","quaternion","scale","point","applyQuaternion","indexOf","divide","translationSnap","search","setFromMatrixPosition","d","dot","multiply","scaleSnap","ROTATION_SPEED","distanceTo","angleTo","cross","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSize","size","setSpace","update","assign","create","constructor","isTransformControls","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","clone","opacity","matHelper","matRed","color","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","PI","sin","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","tempVector","tempEuler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","concat","children","factor","handle","isOrthographicCamera","bottom","zoom","min","tan","fov","multiplyScalar","abs","setFromRotationMatrix","lookAt","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","split","some","a","lerp","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","useStyles","makeStyles","card","margin","border","textAlign","OptionCard","title","description","onClick","classes","Card","className","CardActionArea","CardContent","Typography","variant","formatBytes","bytes","decimals","k","dm","sizes","floor","log","parseFloat","pow","toFixed","storage","fillStorage","getSettings","then","data","setStorage","key","val","formData","FormData","append","JSON","stringify","postSettings","getStorage","response","fetch","window","location","hostname","method","json","body","header","fontSize","useMountEffect","fun","useEffect","backdrop","zIndex","buttonContainer","display","justifyContent","marginTop","connecting","flexDirection","alignItems","marginBottom","container","item","padding","props","settingsScreen","keyboard","right","NetworkSettings","setStep","setShowSnack","setSnackMessage","useState","useRef","printerName","setPrinterName","Grid","spacing","direction","paddingTop","Button","accordion","alignSelf","marginLeft","wifiList","overflow","borderRadius","WifiConnect","setConnectWifi","handleSnackClose","onGoBack","setStage","expanded","setExpanded","layout","setLayout","input","setInput","wifiArr","setWifiArr","setConnecting","loading","setLoading","maskPassword","setMaskPassword","getNetworks","networks","filter","obj","pos","arr","map","mapObj","ssid","handleSubmit","setNetwork","headers","password","status","passwordToggle","onChangeInput","target","current","IconButton","aria-label","src","imgPrint","List","network","Accordion","AccordionSummary","content","ListItem","panel","AccordionDetails","TextField","id","label","onChange","InputProps","endAdornment","InputAdornment","Backdrop","open","CircularProgress","keyboardRef","r","layoutName","default","shift","symbol","number","onKeyPress","HotspotConnect","checker","flex","updateContainer","Update","autoCheck","firstBoot","handleOnboarding","fastTrackUpdate","setFastTrackUpdate","checking","setChecking","text","setText","releaseNotes","setReleaseNotes","updateChecked","setUpdateChecked","updates","setUpdates","checkDisabled","setCheckDisabled","rebootMessage","setRebootMessage","retryCount","setRetryCount","handleCheck","checkUpdates","message","endIcon","ArrowForward","justify","dangerouslySetInnerHTML","__html","replace","downloadUpdates","updated","setTimeout","attemptReboot","catch","err","disabled","TutorialLayouts","ButtonSingle","AxisManipulation","ButtonMulti","ThermalGate","DualThermalGate","TutorialDefinitions","firstRun","userVisable","exitActions","params","steps","buttonText","buttonActions","axisX","axisY","axisZ","buttons","minimumTemp","gateText","minimumExtruderTemp","minimumBedTemp","blTouchCalibration","bedLevelCornerCalibration","loadFilament","unloadFilament","printTestCube","TutorialThermometer","max","GCodeBuilder","_actions","retString","command","GSetZProbeOffset","GMoveToOrigin","GSetSoftwareEndstops","GLinearMove","doX","doY","doZ","xPos","yPos","zPos","TempContext","React","createContext","bedTarget","nozzleTarget","bed","nozzle","zOffset","setBedTarget","temp","setNozzleTarget","setBed","setNozzle","setZOffset","Tutorial","evTutorialClose","onTutorialClose","state","tutorialId","tutorialName","tutorialReady","currentStep","exitWarning","showSnack","snackMessage","unit","delay","tutorial","offsetRequested","attemptGetZOffset","setState","prevProps","context","processButtonActions","reason","amount","toLowerCase","newOffset","codeBuilder","addCommand","sendGcode","build","GSetBedTemp","GSetExtruderTemp","distance","GExtrude","find","b","gcode","actions","currentState","action","actionContinue","attemptHome","attemptBlLevel","attemptXYMoveTo","actionJumpTo","attemptSaveZOffset","attemptSetExtruderTemp","attemptSetBedTemp","attemptTestPrint","attemptZOffsetStart","step","tutorialWindow","AppBar","paddingLeft","Container","tutorialContainer","xs","tutorialHeading","tutorialCloseButton","attemptCloseTutorial","CloseSharp","renderTutorialPage","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","attemptExitActions","autoFocus","Snackbar","autoHideDuration","onClose","alignContent","layoutSingleGrid","layoutSingleGridText","textSegment","tutorialText","layoutSingleGridButton","tutorialButton","tutorialButtonPressed","layoutSingleGridAxisControl","renderAxisControl","layoutSingleGridThermalControl","thermoLabel","btnContainer","Paper","Tabs","tabs","e","u","Tab","minWidth","attemptAxisMove","ArrowUpward","ArrowDownward","Component","contextType","withStyles","theme","backgroundColor","float","marginRight","paddingRight","flexGrow","layoutSingleGridTop","axisButton","textTransform","centerBtns","NetworkSelect","stage","enableInternet","selectedInterface","enableHotspot","setNewType","renderHeader","Language","SettingsInputHdmi","complete","SettingsRemote","TabList","welcome","tabList","handleTabClick","activeTab","disabledNav","centered","tab","textCenter","toHHMMSS","secs","sec_num","parseInt","v","join","BorderLinearProgress","root","colorPrimary","bar","LinearProgress","PrintStatus","lastMessage","progressState","setDisabledNav","statusText","fileName","paused","setPaused","camEnabled","setCamEnabled","setValue","elapsed","setElapsed","remaining","setRemaining","cameraFeedUrl","cameraUrl","setCameraUrl","waiting","setWaiting","url","callback","img","Image","onload","onerror","imageExists","exists","completion","printTime","printTimeLeft","flags","component","Consumer","transform","startIcon","PlayArrow","Pause","Stop","AppContext","camRotation","camZoom","camZ","showMagnet","showBounds","showGrid","addRotation","deg","setZoom","addZ","setShowMagnet","setShowBounds","setShowGrid","STLLoader","manager","onLoad","onProgress","onError","loader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","parse","itemError","matchDataViewAt","query","reader","il","getUint8","buffer","binData","array_buffer","Uint8Array","charCodeAt","ensureBinary","DataView","getUint32","byteLength","solid","off","isBinary","g","colors","defaultR","defaultG","defaultB","alpha","faces","hasColors","index","Float32Array","normals","face","start","normalX","getFloat32","normalY","normalZ","packedColor","getUint16","vertexstart","componentIdx","parseBinary","result","patternSolid","patternFace","faceCounter","patternFloat","source","patternVertex","RegExp","patternNormal","normal","groupCount","startVertex","endVertex","exec","vertexCountPerFace","normalCountPerFace","count","addGroup","parseASCII","decodeText","blob","FilesPanel","useContext","stl","listOpen","setListOpen","fileList","setFileList","uploadElement","setUploadElement","getFile","file","File","expandIcon","ExpandMore","aria-controls","currentFile","selected","selectedFile","setSelectedFile","handleListItemClick","ListItemIcon","Checkbox","checked","idx","objRoot","mesh","control","swapTrasformTool","inputProps","ListItemText","primary","ListItemSecondaryAction","edge","remove","filesWithoutDeleted","deleteFile","DeleteForever","click","Add","files","match","FileReader","contents","sourceType","sourceFile","specular","shininess","castShadow","receiveShadow","center","setFromObject","getSize","on","ev","setTransformValue","setModifiedStl","readAsBinaryString","ref","accept","OrbitControls","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","listenToKeyEvents","onKeyDown","saveState","reset","updateProjectionMatrix","STATE","NONE","quat","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","zoomChanged","distanceToSquared","EPS","onContextMenu","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","angle","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","mouseAction","preventDefault","focus","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","handleMouseWheel","needsUpdate","code","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","EventDispatcher","MapControls","require","PrintRenderer","posRotScale","canvas","createRef","canvasBg","rotationTarget","lastTime","renderer","scene","cameraHelper","cameraPivot","zTarget","gridObj","magnetObj","planeObj","boundsObj","showMagnetBed","viewControls","nextProps","nextState","assignCanvas","parentElement","initCanvas","background","Interaction","gpMesh","magTexture","magMesh","moveTo","lineTo","pathMesh","setFromPoints","getPoints","grid","buildGeometry","buildEdges","buildLines","cameraControl","setFileName","geo","mat","matchCount","intersects","intersectedPlane","setControl","setScene","setCamera","setObjRoot","renderFrame","requestAnimationFrame","bind","render","ButtonGroup","orientation","transformValue","OpenInNew","OpenWith","Loop","SettingsPanel","settingsOpen","setSettingsOpen","FormControl","FormGroup","FormControlLabel","Switch","STLExporter","options","output","binary","objects","triangles","isMesh","isBufferGeometry","Error","positionAttribute","getAttribute","object3d","arrayBuffer","ArrayBuffer","setUint32","vA","vB","vC","cb","ab","j","writeFace","getX","c","fromBufferAttribute","isSkinnedMesh","boneTransform","setFloat32","writeNormal","writeVertex","setUint16","vertex","setProfileSettings","slicer","metadata","preferred_quality_type","setChildSettings","settings","resolution","layer_height","speed","speed_print","speed_infill","speed_wall","speed_wall_0","speed_wall_x","travel","retraction_enable","default_material_print_temperature","material_print_temperature","material_print_temperature_layer_0","material_initial_print_temperature","material_final_print_temperature","default_material_bed_temperature","material_bed_temperature","setHeadTemp","setBedTemp","setInfillType","infill","infill_pattern","default_value","setFlowRate","rate","material_flow","setStickType","platform_adhesion","adhesion_type","setSpeed","pace","setStructure","struct","support","support_structure","setSupportType","support_pattern","setting","hasOwnProperty","property","traverseChildSettings","setInfillLineDistance","percent_density","infill_sparse_density","infill_line_distance","multiplier","setInfillMultiplier","infillLineDistance","line_width","infill_line_width","getStlGroupName","meshes","slice","SliceModal","shown","filament","quality","infill_type","flow","stick_type","supports","vase","structure","support_type","modifiedStl","drawerOpen","slicerOpen","savedFile","stlName","userMode","fillMode","infill_patterns","stick_patterns","skirt","structures","support_types","defaultSettings","onboardSettings","startPrint","profile_type","support_enable","blackmagic","magic_spiralize","exporter","stlString","Blob","groupedStlName","buildFileName","realFile","handleFileSaveOpen","onFailure","sliceModal","Modal","disableBackdropClick","settingsBack","settingsDrawer","mainContainer","Provider","Drawer","anchor","paper","drawerContainer","formControl","InputLabel","Select","labelId","MenuItem","InputLabelProps","shrink","maxLength","helperText","entries","pattern","row","setSliceAndStartPrint","alt","aria-labelledby","aria-describedby","okButton","slider","modal","modalContainer","printButton","sliceDropdown","maxWidth","summary","cursor","palette","secondary","main","hover","fontWeight","fileContainer","maxHeight","fileLocation","icon","isFolder","filename","fileTypes","endsWith","getFolderOnlyPath","o","p","FileManager","setDrawerOpen","manage","setSelected","setFiles","rootFiles","setRootFiles","storageUsed","setStorageUsed","storageFree","setStorageFree","storageTotal","setStorageTotal","directories","setDirectories","currentDirectory","setCurrentDirectory","showModal","setShowModal","setShowTooltip","getFiles","free","total","fileTree","Array","forEach","reduce","prevDir","currDir","filePath","Treeify","handleZipCheck","resetFiles","newFiles","toUpperCase","Close","directory","fileKeys","fileIdx","pop","getFileDirectory","folder","Folder","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","protectedFiles","isFileProtected","Slideshow","FolderOpen","includes","test","SystemUpdateAlt","Layers","selected_file","handleSelect","cardContent","clearInputFile","f","form","createElement","parentNode","nextSibling","appendChild","insertBefore","Print","extruder","connected","feed","printing","progress","printState","setPrintState","jobState","setJobState","setProgressState","fileDrawerOpen","setFileDrawerOpen","setFileLocation","showSliceModal","setShowSliceModal","uploadFile","setUploadFile","fetchFiles","substring","job","units","Moving","nozzleTemp","setUnit","heatingDialog","setHeatingDialog","setDelay","homeAxis","moveAxis","negative","Box","gauges","nozzleSlider","tempOutputs","Heating","Slider","newVal","onChangeCommitted","getAriaValueText","valueLabelDisplay","Control","setPosition","setNozzleTemp","temps","tool0","actual","payload","componentContainer","ManageStorage","About","checkUpdateInfo","success","update_info","subheader","ListSubheader","Save","packageJson","version","reverse","Settings","networkType","setNetworkType","printerMode","setPrinterMode","setUserMode","displayWifi","displaySSID","allowPrerelease","setAllowPrerelease","allowAutoUpdate","setAllowAutoUpdate","rebootRequired","setRebootRequired","setNetworkData","networkProfile","handleCameraToggle","confirm","toggleCamera","LocalLibrary","native","MenuProps","anchorOrigin","vertical","horizontal","getContentAnchorEl","Class","checkedValue","Dns","Videocam","Tutorials","currentTutorial","selectTutorial","getOwnPropertyNames","tutName","tutorialCard","showClose","closeTutorial","Menu","activeComponent","setActiveComponent","updateItem","MenuArray","handleDrawer","Fragment","Divider","TutorialButton","tutorialShown","extruderTemp","bedTemp","Tune","setExtruder","appBar","Home","setActiveMode","setActiveTab","newVersionTitle","setNewVersionTitle","checkOnline","onlineData","online","updateData","messages","values","offsetIgnoreZ","Components","Prepare","sliceOnly","Alert","elevation","createMuiTheme","overrides","MuiTab","MuiAppBar","MuiPaper","rounded","MuiButton","MuiButtonBase","MuiIconButton","MuiListItemText","MuiAccordion","MuiAccordionSummary","minHeight","MuiAccordionDetails","MuiDialogActions","MuiTypography","h1","h2","h3","h4","h5","h6","body1","body2","App","onboarded","setOnboarded","bedTargetTemp","setBedTargetTemp","nozzleTargetTemp","setNozzleTargetTemp","setMachineName","userLevelDialog","setUserLevelDialog","errorDialog","setErrorDialog","errorMessage","setErrorMessage","errorTitle","setErrorTitle","snackText","setSnackText","handleClose","socketUrl","messageHistory","useWebSocket","shouldReconnect","closeEvent","reconnectAttempts","reconnectInterval","onOpen","onMessage","msg","sendMessage","readyState","useMemo","connectionStatus","ReadyState","CONNECTING","OPEN","CLOSING","CLOSED","UNINSTANTIATED","CssBaseline","severity","Boolean","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.24e99b83.chunk.js","sourcesContent":["/**\n * @author arodic / https://github.com/arodic\n */\nmodule.exports = function (THREE) {\n\n\tconst BoxGeometry = THREE.BoxGeometry;\n\tconst BufferGeometry = THREE.BufferGeometry;\n\tconst Color = THREE.Color;\n\tconst CylinderGeometry = THREE.CylinderGeometry;\n\tconst DoubleSide = THREE.DoubleSide;\n\tconst Euler = THREE.Euler;\n\tconst Float32BufferAttribute = THREE.Float32BufferAttribute;\n\tconst Line = THREE.Line;\n\tconst LineBasicMaterial = THREE.LineBasicMaterial;\n\tconst Matrix4 = THREE.Matrix4;\n\tconst Mesh = THREE.Mesh;\n\tconst MeshBasicMaterial = THREE.MeshBasicMaterial;\n\tconst Object3D = THREE.Object3D;\n\tconst OctahedronGeometry = THREE.OctahedronGeometry;\n\tconst PlaneGeometry = THREE.PlaneGeometry;\n\tconst Quaternion = THREE.Quaternion;\n\tconst Raycaster = THREE.Raycaster;\n\tconst SphereGeometry = THREE.SphereGeometry;\n\tconst TorusGeometry = THREE.TorusGeometry;\n\tconst Vector3 = THREE.Vector3;\n\n\tvar TransformControls = function ( camera, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tObject3D.call( this );\n\n\t\tthis.visible = false;\n\t\tthis.domElement = domElement;\n\n\t\tvar _gizmo = new TransformControlsGizmo();\n\t\tthis.add( _gizmo );\n\n\t\tvar _plane = new TransformControlsPlane();\n\t\tthis.add( _plane );\n\n\t\tvar scope = this;\n\n\t\t// Define properties with getters/setter\n\t\t// Setting the defined property will automatically trigger change event\n\t\t// Defined properties are passed down to gizmo and plane\n\n\t\tdefineProperty( 'camera', camera );\n\t\tdefineProperty( 'object', undefined );\n\t\tdefineProperty( 'enabled', true );\n\t\tdefineProperty( 'axis', null );\n\t\tdefineProperty( 'mode', 'translate' );\n\t\tdefineProperty( 'translationSnap', null );\n\t\tdefineProperty( 'rotationSnap', null );\n\t\tdefineProperty( 'scaleSnap', null );\n\t\tdefineProperty( 'space', 'world' );\n\t\tdefineProperty( 'size', 1 );\n\t\tdefineProperty( 'dragging', false );\n\t\tdefineProperty( 'showX', true );\n\t\tdefineProperty( 'showY', true );\n\t\tdefineProperty( 'showZ', true );\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar mouseDownEvent = { type: 'mouseDown' };\n\t\tvar mouseUpEvent = { type: 'mouseUp', mode: scope.mode };\n\t\tvar objectChangeEvent = { type: 'objectChange' };\n\n\t\t// Reusable utility variables\n\n\t\tvar raycaster = new Raycaster();\n\n\t\tfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\n\n\t\t\tvar allIntersections = raycaster.intersectObject( object, true );\n\n\t\t\tfor ( var i = 0; i < allIntersections.length; i ++ ) {\n\n\t\t\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\n\n\t\t\t\t\treturn allIntersections[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tvar _tempVector = new Vector3();\n\t\tvar _tempVector2 = new Vector3();\n\t\tvar _tempQuaternion = new Quaternion();\n\t\tvar _unit = {\n\t\t\tX: new Vector3( 1, 0, 0 ),\n\t\t\tY: new Vector3( 0, 1, 0 ),\n\t\t\tZ: new Vector3( 0, 0, 1 )\n\t\t};\n\n\t\tvar pointStart = new Vector3();\n\t\tvar pointEnd = new Vector3();\n\t\tvar offset = new Vector3();\n\t\tvar rotationAxis = new Vector3();\n\t\tvar startNorm = new Vector3();\n\t\tvar endNorm = new Vector3();\n\t\tvar rotationAngle = 0;\n\n\t\tvar cameraPosition = new Vector3();\n\t\tvar cameraQuaternion = new Quaternion();\n\t\tvar cameraScale = new Vector3();\n\n\t\tvar parentPosition = new Vector3();\n\t\tvar parentQuaternion = new Quaternion();\n\t\tvar parentQuaternionInv = new Quaternion();\n\t\tvar parentScale = new Vector3();\n\n\t\tvar worldPositionStart = new Vector3();\n\t\tvar worldQuaternionStart = new Quaternion();\n\t\tvar worldScaleStart = new Vector3();\n\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldQuaternion = new Quaternion();\n\t\tvar worldQuaternionInv = new Quaternion();\n\t\tvar worldScale = new Vector3();\n\n\t\tvar eye = new Vector3();\n\n\t\tvar positionStart = new Vector3();\n\t\tvar quaternionStart = new Quaternion();\n\t\tvar scaleStart = new Vector3();\n\n\t\t// TODO: remove properties unused in plane and gizmo\n\n\t\tdefineProperty( 'worldPosition', worldPosition );\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\n\t\tdefineProperty( 'pointStart', pointStart );\n\t\tdefineProperty( 'pointEnd', pointEnd );\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\n\t\tdefineProperty( 'eye', eye );\n\n\t\t{\n\n\t\t\tdomElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.addEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tdomElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.removeEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tthis.traverse( function ( child ) {\n\n\t\t\t\tif ( child.geometry ) child.geometry.dispose();\n\t\t\t\tif ( child.material ) child.material.dispose();\n\n\t\t\t} );\n\n\t\t};\n\n\t\t// Set current object\n\t\tthis.attach = function ( object ) {\n\n\t\t\tthis.object = object;\n\t\t\tthis.visible = true;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Detatch from object\n\t\tthis.detach = function () {\n\n\t\t\tthis.object = undefined;\n\t\t\tthis.visible = false;\n\t\t\tthis.axis = null;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Defined getter, setter and store for a property\n\t\tfunction defineProperty( propName, defaultValue ) {\n\n\t\t\tvar propValue = defaultValue;\n\n\t\t\tObject.defineProperty( scope, propName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( propValue !== value ) {\n\n\t\t\t\t\t\tpropValue = value;\n\t\t\t\t\t\t_plane[ propName ] = value;\n\t\t\t\t\t\t_gizmo[ propName ] = value;\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\n\t\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tscope[ propName ] = defaultValue;\n\t\t\t_plane[ propName ] = defaultValue;\n\t\t\t_gizmo[ propName ] = defaultValue;\n\n\t\t}\n\n\t\t// updateMatrixWorld  updates key transformation variables\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tif ( this.object !== undefined ) {\n\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tif ( this.object.parent === null ) {\n\n\t\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.object.parent.matrixWorld.decompose( parentPosition, parentQuaternion, parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object.matrixWorld.decompose( worldPosition, worldQuaternion, worldScale );\n\n\t\t\t\tparentQuaternionInv.copy( parentQuaternion ).invert();\n\t\t\t\tworldQuaternionInv.copy( worldQuaternion ).invert();\n\n\t\t\t}\n\n\t\t\tthis.camera.updateMatrixWorld();\n\t\t\tthis.camera.matrixWorld.decompose( cameraPosition, cameraQuaternion, cameraScale );\n\n\t\t\teye.copy( cameraPosition ).sub( worldPosition ).normalize();\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t\tthis.pointerHover = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar intersect = intersectObjectWithRay( _gizmo.picker[ this.mode ], raycaster );\n\n\t\t\tif ( intersect ) {\n\n\t\t\t\tthis.axis = intersect.object.name;\n\n\t\t\t} else {\n\n\t\t\t\tthis.axis = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerDown = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\n\n\t\t\tif ( this.axis !== null ) {\n\n\t\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\t\tif ( planeIntersect ) {\n\n\t\t\t\t\tvar space = this.space;\n\n\t\t\t\t\tif ( this.mode === 'scale' ) {\n\n\t\t\t\t\t\tspace = 'local';\n\n\t\t\t\t\t} else if ( this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ' ) {\n\n\t\t\t\t\t\tspace = 'world';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'local' && this.mode === 'rotate' ) {\n\n\t\t\t\t\t\tvar snap = this.rotationSnap;\n\n\t\t\t\t\t\tif ( this.axis === 'X' && snap ) this.object.rotation.x = Math.round( this.object.rotation.x / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Y' && snap ) this.object.rotation.y = Math.round( this.object.rotation.y / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Z' && snap ) this.object.rotation.z = Math.round( this.object.rotation.z / snap ) * snap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.object.updateMatrixWorld();\n\t\t\t\t\tthis.object.parent.updateMatrixWorld();\n\n\t\t\t\t\tpositionStart.copy( this.object.position );\n\t\t\t\t\tquaternionStart.copy( this.object.quaternion );\n\t\t\t\t\tscaleStart.copy( this.object.scale );\n\n\t\t\t\t\tthis.object.matrixWorld.decompose( worldPositionStart, worldQuaternionStart, worldScaleStart );\n\n\t\t\t\t\tpointStart.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\t\t}\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tmouseDownEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseDownEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerMove = function ( pointer ) {\n\n\t\t\tvar axis = this.axis;\n\t\t\tvar mode = this.mode;\n\t\t\tvar object = this.object;\n\t\t\tvar space = this.space;\n\n\t\t\tif ( mode === 'scale' ) {\n\n\t\t\t\tspace = 'local';\n\n\t\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\n\n\t\t\t\tspace = 'world';\n\n\t\t\t}\n\n\t\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\tif ( ! planeIntersect ) return;\n\n\t\t\tpointEnd.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\tif ( mode === 'translate' ) {\n\n\t\t\t\t// Apply translate\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) offset.x = 0;\n\t\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) offset.y = 0;\n\t\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) offset.z = 0;\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( quaternionStart ).divide( parentScale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset.applyQuaternion( parentQuaternionInv ).divide( parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tobject.position.copy( offset ).add( positionStart );\n\n\t\t\t\t// Apply translation snap\n\n\t\t\t\tif ( this.translationSnap ) {\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( quaternionStart ).invert() );\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject.position.applyQuaternion( quaternionStart );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'world' ) {\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'scale' ) {\n\n\t\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\n\n\t\t\t\t\tvar d = pointEnd.length() / pointStart.length();\n\n\t\t\t\t\tif ( pointEnd.dot( pointStart ) < 0 ) d *= - 1;\n\n\t\t\t\t\t_tempVector2.set( d, d, d );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_tempVector.copy( pointStart );\n\t\t\t\t\t_tempVector2.copy( pointEnd );\n\n\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternionInv );\n\t\t\t\t\t_tempVector2.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t\t_tempVector2.divide( _tempVector );\n\n\t\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.x = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.y = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.z = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Apply scale\n\n\t\t\t\tobject.scale.copy( scaleStart ).multiply( _tempVector2 );\n\n\t\t\t\tif ( this.scaleSnap ) {\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'rotate' ) {\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tvar ROTATION_SPEED = 20 / worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\n\n\t\t\t\tif ( axis === 'E' ) {\n\n\t\t\t\t\trotationAxis.copy( eye );\n\t\t\t\t\trotationAngle = pointEnd.angleTo( pointStart );\n\n\t\t\t\t\tstartNorm.copy( pointStart ).normalize();\n\t\t\t\t\tendNorm.copy( pointEnd ).normalize();\n\n\t\t\t\t\trotationAngle *= ( endNorm.cross( startNorm ).dot( eye ) < 0 ? 1 : - 1 );\n\n\t\t\t\t} else if ( axis === 'XYZE' ) {\n\n\t\t\t\t\trotationAxis.copy( offset ).cross( eye ).normalize();\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.copy( rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\n\n\t\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\n\n\t\t\t\t\trotationAxis.copy( _unit[ axis ] );\n\n\t\t\t\t\t_tempVector.copy( _unit[ axis ] );\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.cross( eye ).normalize() ) * ROTATION_SPEED;\n\n\t\t\t\t}\n\n\t\t\t\t// Apply rotation snap\n\n\t\t\t\tif ( this.rotationSnap ) rotationAngle = Math.round( rotationAngle / this.rotationSnap ) * this.rotationSnap;\n\n\t\t\t\tthis.rotationAngle = rotationAngle;\n\n\t\t\t\t// Apply rotate\n\t\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\n\n\t\t\t\t\tobject.quaternion.copy( quaternionStart );\n\t\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) ).normalize();\n\n\t\t\t\t} else {\n\n\t\t\t\t\trotationAxis.applyQuaternion( parentQuaternionInv );\n\t\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) );\n\t\t\t\t\tobject.quaternion.multiply( quaternionStart ).normalize();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\t\t\tthis.dispatchEvent( objectChangeEvent );\n\n\t\t};\n\n\t\tthis.pointerUp = function ( pointer ) {\n\n\t\t\tif ( pointer.button !== 0 ) return;\n\n\t\t\tif ( this.dragging && ( this.axis !== null ) ) {\n\n\t\t\t\tmouseUpEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseUpEvent );\n\n\t\t\t}\n\n\t\t\tthis.dragging = false;\n\t\t\tthis.axis = null;\n\n\t\t};\n\n\t\t// normalize mouse / touch pointer and remap {x,y} to view space.\n\n\t\tfunction getPointer( event ) {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tvar pointer = event.changedTouches ? event.changedTouches[ 0 ] : event;\n\n\t\t\t\tvar rect = domElement.getBoundingClientRect();\n\n\t\t\t\treturn {\n\t\t\t\t\tx: ( pointer.clientX - rect.left ) / rect.width * 2 - 1,\n\t\t\t\t\ty: - ( pointer.clientY - rect.top ) / rect.height * 2 + 1,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t// mouse / touch event handlers\n\n\t\tfunction onPointerHover( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = 'none'; // disable touch scroll\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\tscope.pointerDown( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.pointerMove( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = '';\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerUp( getPointer( event ) );\n\n\t\t}\n\n\t\t// TODO: deprecate\n\n\t\tthis.getMode = function () {\n\n\t\t\treturn scope.mode;\n\n\t\t};\n\n\t\tthis.setMode = function ( mode ) {\n\n\t\t\tscope.mode = mode;\n\n\t\t};\n\n\t\tthis.setTranslationSnap = function ( translationSnap ) {\n\n\t\t\tscope.translationSnap = translationSnap;\n\n\t\t};\n\n\t\tthis.setRotationSnap = function ( rotationSnap ) {\n\n\t\t\tscope.rotationSnap = rotationSnap;\n\n\t\t};\n\n\t\tthis.setScaleSnap = function ( scaleSnap ) {\n\n\t\t\tscope.scaleSnap = scaleSnap;\n\n\t\t};\n\n\t\tthis.setSize = function ( size ) {\n\n\t\t\tscope.size = size;\n\n\t\t};\n\n\t\tthis.setSpace = function ( space ) {\n\n\t\t\tscope.space = space;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\n\n\t\t};\n\n\t};\n\n\tTransformControls.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControls,\n\n\t\tisTransformControls: true\n\n\t} );\n\n\n\tvar TransformControlsGizmo = function () {\n\n\t\t'use strict';\n\n\t\tObject3D.call( this );\n\n\t\tthis.type = 'TransformControlsGizmo';\n\n\t\t// shared materials\n\n\t\tvar gizmoMaterial = new MeshBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tside: DoubleSide,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\tvar gizmoLineMaterial = new LineBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tlinewidth: 1,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\t// Make unique material for each axis/color\n\n\t\tvar matInvisible = gizmoMaterial.clone();\n\t\tmatInvisible.opacity = 0.15;\n\n\t\tvar matHelper = gizmoMaterial.clone();\n\t\tmatHelper.opacity = 0.33;\n\n\t\tvar matRed = gizmoMaterial.clone();\n\t\tmatRed.color.set( 0xff0000 );\n\n\t\tvar matGreen = gizmoMaterial.clone();\n\t\tmatGreen.color.set( 0x00ff00 );\n\n\t\tvar matBlue = gizmoMaterial.clone();\n\t\tmatBlue.color.set( 0x0000ff );\n\n\t\tvar matWhiteTransparent = gizmoMaterial.clone();\n\t\tmatWhiteTransparent.opacity = 0.25;\n\n\t\tvar matYellowTransparent = matWhiteTransparent.clone();\n\t\tmatYellowTransparent.color.set( 0xffff00 );\n\n\t\tvar matCyanTransparent = matWhiteTransparent.clone();\n\t\tmatCyanTransparent.color.set( 0x00ffff );\n\n\t\tvar matMagentaTransparent = matWhiteTransparent.clone();\n\t\tmatMagentaTransparent.color.set( 0xff00ff );\n\n\t\tvar matYellow = gizmoMaterial.clone();\n\t\tmatYellow.color.set( 0xffff00 );\n\n\t\tvar matLineRed = gizmoLineMaterial.clone();\n\t\tmatLineRed.color.set( 0xff0000 );\n\n\t\tvar matLineGreen = gizmoLineMaterial.clone();\n\t\tmatLineGreen.color.set( 0x00ff00 );\n\n\t\tvar matLineBlue = gizmoLineMaterial.clone();\n\t\tmatLineBlue.color.set( 0x0000ff );\n\n\t\tvar matLineCyan = gizmoLineMaterial.clone();\n\t\tmatLineCyan.color.set( 0x00ffff );\n\n\t\tvar matLineMagenta = gizmoLineMaterial.clone();\n\t\tmatLineMagenta.color.set( 0xff00ff );\n\n\t\tvar matLineYellow = gizmoLineMaterial.clone();\n\t\tmatLineYellow.color.set( 0xffff00 );\n\n\t\tvar matLineGray = gizmoLineMaterial.clone();\n\t\tmatLineGray.color.set( 0x787878 );\n\n\t\tvar matLineYellowTransparent = matLineYellow.clone();\n\t\tmatLineYellowTransparent.opacity = 0.25;\n\n\t\t// reusable geometry\n\n\t\tvar arrowGeometry = new CylinderGeometry( 0, 0.05, 0.2, 12, 1, false );\n\n\t\tvar scaleHandleGeometry = new BoxGeometry( 0.125, 0.125, 0.125 );\n\n\t\tvar lineGeometry = new BufferGeometry();\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\n\n\t\tvar CircleGeometry = function ( radius, arc ) {\n\n\t\t\tvar geometry = new BufferGeometry( );\n\t\t\tvar vertices = [];\n\n\t\t\tfor ( var i = 0; i <= 64 * arc; ++ i ) {\n\n\t\t\t\tvertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\t\tvar TranslateHelperGeometry = function () {\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\t\tvar gizmoTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, - Math.PI / 2 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, Math.PI / 2 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ) ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], null, null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], [ Math.PI, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ Math.PI / 2, 0, 0 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ - Math.PI / 2, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ], [ 0, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matYellowTransparent.clone() ), [ 0.15, 0.15, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.18, 0.3, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.3, 0.18, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matCyanTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.18, 0.3 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.3, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matMagentaTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.18, 0, 0.3 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.3, 0, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0.6, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0.6, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0, 0.6 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0.2, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0, 0.2, 0.2 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0, 0.2 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperTranslate = {\n\t\t\tSTART: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tEND: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tDELTA: [\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineRed ) ],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matRed ), [ 0, 0, 0.99 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineGreen ), null, [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matGreen ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineBlue ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matBlue ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Line( CircleGeometry( 1.25, 1 ), matLineYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 1.17, 0, 0 ], [ 0, 0, - Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ - 1.17, 0, 0 ], [ 0, 0, Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, - 1.17, 0 ], [ Math.PI, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, 1.17, 0 ], [ 0, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 1 ), matLineGray ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperRotate = {\n\t\t\tAXIS: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1.25, 0.1, 2, 24 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.7, 10, 8 ), matInvisible ) ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.8, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ), null, null, [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.8, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.8 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matYellowTransparent ), [ 0.85, 0.85, 0 ], null, [ 2, 2, 0.2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.855, 0.98, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.98, 0.855, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matCyanTransparent ), [ 0, 0.85, 0.85 ], null, [ 0.2, 2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.855, 0.98 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.98, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matMagentaTransparent ), [ 0.85, 0, 0.85 ], null, [ 2, 0.2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.855, 0, 0.98 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.98, 0, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar pickerScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0.5, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0.85, 0 ], null, [ 3, 3, 0.2 ]],\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0, 0.85, 0.85 ], null, [ 0.2, 3, 3 ]],\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0, 0.85 ], null, [ 3, 0.2, 3 ]],\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar helperScale = {\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\n\n\t\tvar setupGizmo = function ( gizmoMap ) {\n\n\t\t\tvar gizmo = new Object3D();\n\n\t\t\tfor ( var name in gizmoMap ) {\n\n\t\t\t\tfor ( var i = gizmoMap[ name ].length; i --; ) {\n\n\t\t\t\t\tvar object = gizmoMap[ name ][ i ][ 0 ].clone();\n\t\t\t\t\tvar position = gizmoMap[ name ][ i ][ 1 ];\n\t\t\t\t\tvar rotation = gizmoMap[ name ][ i ][ 2 ];\n\t\t\t\t\tvar scale = gizmoMap[ name ][ i ][ 3 ];\n\t\t\t\t\tvar tag = gizmoMap[ name ][ i ][ 4 ];\n\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\n\t\t\t\t\tobject.name = name;\n\t\t\t\t\tobject.tag = tag;\n\n\t\t\t\t\tif ( position ) {\n\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rotation ) {\n\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( scale ) {\n\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tvar tempGeometry = object.geometry.clone();\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\n\t\t\t\t\tobject.geometry = tempGeometry;\n\t\t\t\t\tobject.renderOrder = Infinity;\n\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\n\n\t\t\t\t\tgizmo.add( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn gizmo;\n\n\t\t};\n\n\t\t// Reusable utility variables\n\n\t\tvar tempVector = new Vector3( 0, 0, 0 );\n\t\tvar tempEuler = new Euler();\n\t\tvar alignVector = new Vector3( 0, 1, 0 );\n\t\tvar zeroVector = new Vector3( 0, 0, 0 );\n\t\tvar lookAtMatrix = new Matrix4();\n\t\tvar tempQuaternion = new Quaternion();\n\t\tvar tempQuaternion2 = new Quaternion();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\t// Gizmo creation\n\n\t\tthis.gizmo = {};\n\t\tthis.picker = {};\n\t\tthis.helper = {};\n\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\n\n\t\t// Pickers should be hidden always\n\n\t\tthis.picker[ 'translate' ].visible = false;\n\t\tthis.picker[ 'rotate' ].visible = false;\n\t\tthis.picker[ 'scale' ].visible = false;\n\n\t\t// updateMatrixWorld will update transformations and appearance of individual handles\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tvar quaternion = space === 'local' ? this.worldQuaternion : identityQuaternion;\n\n\t\t\t// Show only gizmos for current transform mode\n\n\t\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\n\n\t\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\n\n\n\t\t\tvar handles = [];\n\t\t\thandles = handles.concat( this.picker[ this.mode ].children );\n\t\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\n\t\t\thandles = handles.concat( this.helper[ this.mode ].children );\n\n\t\t\tfor ( var i = 0; i < handles.length; i ++ ) {\n\n\t\t\t\tvar handle = handles[ i ];\n\n\t\t\t\t// hide aligned to camera\n\n\t\t\t\thandle.visible = true;\n\t\t\t\thandle.rotation.set( 0, 0, 0 );\n\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\tvar factor;\n\n\t\t\t\tif ( this.camera.isOrthographicCamera ) {\n\n\t\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\n\n\t\t\t\t}\n\n\t\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 7 );\n\n\t\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\n\n\t\t\t\tif ( handle.tag === 'helper' ) {\n\n\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\tif ( handle.name === 'AXIS' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = !! this.axis;\n\n\t\t\t\t\t\tif ( this.axis === 'X' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Y' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, Math.PI / 2 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Z' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'XYZE' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\talignVector.copy( this.rotationAxis );\n\t\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( zeroVector, alignVector, unitY ) );\n\t\t\t\t\t\t\thandle.quaternion.multiply( tempQuaternion );\n\t\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'E' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} else if ( handle.name === 'START' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'END' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'DELTA' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\n\t\t\t\t\t\ttempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\n\t\t\t\t\t\ttempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\n\t\t\t\t\t\thandle.scale.copy( tempVector );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\t\t\tif ( this.dragging ) {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis ) {\n\n\t\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If updating helper, skip rest of the loop\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\n\n\t\t\t\t\t// Hide translate and scale axis facing the camera\n\n\t\t\t\t\tvar AXIS_HIDE_TRESHOLD = 0.99;\n\t\t\t\t\tvar PLANE_HIDE_TRESHOLD = 0.2;\n\t\t\t\t\tvar AXIS_FLIP_TRESHOLD = 0.0;\n\n\n\t\t\t\t\tif ( handle.name === 'X' || handle.name === 'XYZX' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' || handle.name === 'XYZY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' || handle.name === 'XYZZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'YZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Flip translate and scale axis ocluded behind another axis\n\n\t\t\t\t\tif ( handle.name.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.x *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.y *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.z *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( this.mode === 'rotate' ) {\n\n\t\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\t\ttempQuaternion2.copy( quaternion );\n\t\t\t\t\talignVector.copy( this.eye ).applyQuaternion( tempQuaternion.copy( quaternion ).invert() );\n\n\t\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\n\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( this.eye, zeroVector, unitY ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitX, Math.atan2( - alignVector.y, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitY, Math.atan2( alignVector.x, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitZ, Math.atan2( alignVector.y, alignVector.x ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Hide disabled axes\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\n\n\t\t\t\t// highlight selected axis\n\n\t\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\n\t\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\n\n\t\t\t\thandle.material.color.copy( handle.material._color );\n\t\t\t\thandle.material.opacity = handle.material._opacity;\n\n\t\t\t\tif ( ! this.enabled ) {\n\n\t\t\t\t\thandle.material.opacity *= 0.5;\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t} else if ( this.axis ) {\n\n\t\t\t\t\tif ( handle.name === this.axis ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\n\n\t\t\t\t\t\treturn handle.name === a;\n\n\t\t\t\t\t} ) ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.material.opacity *= 0.25;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsGizmo.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControlsGizmo,\n\n\t\tisTransformControlsGizmo: true\n\n\t} );\n\n\n\tvar TransformControlsPlane = function () {\n\n\t\t'use strict';\n\n\t\tMesh.call( this,\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\n\t\t);\n\n\t\tthis.type = 'TransformControlsPlane';\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\tvar tempVector = new Vector3();\n\t\tvar dirVector = new Vector3();\n\t\tvar alignVector = new Vector3();\n\t\tvar tempMatrix = new Matrix4();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tthis.position.copy( this.worldPosition );\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tunitX.set( 1, 0, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitY.set( 0, 1, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitZ.set( 0, 0, 1 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\n\t\t\t// Align the plane for current transform mode, axis and space.\n\n\t\t\talignVector.copy( unitY );\n\n\t\t\tswitch ( this.mode ) {\n\n\t\t\t\tcase 'translate':\n\t\t\t\tcase 'scale':\n\t\t\t\t\tswitch ( this.axis ) {\n\n\t\t\t\t\t\tcase 'X':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitX );\n\t\t\t\t\t\t\tdirVector.copy( unitX ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitY );\n\t\t\t\t\t\t\tdirVector.copy( unitY ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitZ ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XY':\n\t\t\t\t\t\t\tdirVector.copy( unitZ );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'YZ':\n\t\t\t\t\t\t\tdirVector.copy( unitX );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XZ':\n\t\t\t\t\t\t\talignVector.copy( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XYZ':\n\t\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\tdefault:\n\t\t\t\t\t// special case for rotate\n\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( dirVector.length() === 0 ) {\n\n\t\t\t\t// If in rotate mode, make the plane parallel to camera\n\t\t\t\tthis.quaternion.copy( this.cameraQuaternion );\n\n\t\t\t} else {\n\n\t\t\t\ttempMatrix.lookAt( tempVector.set( 0, 0, 0 ), dirVector, alignVector );\n\n\t\t\t\tthis.quaternion.setFromRotationMatrix( tempMatrix );\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsPlane.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\t\tconstructor: TransformControlsPlane,\n\n\t\tisTransformControlsPlane: true\n\n\t} );\n\n\treturn TransformControls;\n}\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  CardActionArea,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  card: {\n    margin: '32px',\n    border: '2px solid rgba(0, 0, 0, 0.12)',\n    textAlign: 'center',\n  },\n});\nconst OptionCard = ({ title, description, onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <Card onClick={onClick} className={classes.card}>\n      <CardActionArea>\n        <CardContent>\n          <Typography variant=\"h2\">{title}</Typography>\n          <p>{description}</p>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default OptionCard;\n","export const formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport let storage = {};\n\nexport const fillStorage = () => {\n  return getSettings().then((data) => {\n    storage = data;\n  });\n};\n\nexport const setStorage = (key, val) => {\n  storage[key] = val;\n  let formData = new FormData();\n  formData.append(\"json\", JSON.stringify(storage));\n  postSettings(formData);\n};\nexport const getStorage = (key) => {\n  return (typeof storage[key] !== 'undefined' ? storage[key] : false);\n};\nexport const removeStorage = (key) => {\n  storage[key] = null;\n};\nexport const resetStorage = () => {\n  return storageReset();\n};\nasync function getSettings() {\n    let response = null;\n    response = await fetch(`http://${window.location.hostname}:2127/api/v1/get/ui/settings`, {\n      method: \"GET\"\n    });\n    return await response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function storageReset() {\n  let settings = {};\n  await getSettings().then((data) => {\n    console.log('before', data);\n    let setAll = (obj, val) => Object.keys(obj).forEach(\n      k => obj[k] = (k == 'network' || k == 'printerName' ? obj[k] : val)\n     );\n    setAll(data, \"\");\n    console.log('after', data);\n    let formData = new FormData();\n    formData.append(\"json\", JSON.stringify(data));\n    postSettings(formData);\n    settings = data;\n  });\n  return settings;\n}\n\nasync function postSettings(formData) {\n  await fetch(`http://${window.location.hostname}:2127/api/v1/set/ui/settings`, {\n    method: \"POST\",\n    body: formData // send updated settings\n  });\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport OptionCard from '../../Common/OptionCard/OptionCard';\nimport { setStorage } from '../../../Utility/helpers';\nconst useStyles = makeStyles({\n  header: {\n    textAlign: 'center',\n    fontSize: '32px',\n  },\n});\n\nconst PrinterType = ({ setStep }) => {\n  const classes = useStyles();\n  const handleClick = (val) => {\n    setStorage('printerProfile', val);\n    setStep(3);\n  };\n  return (\n    <div>\n      <h2 className={classes.header}>Where will this printer be used?</h2>\n      <OptionCard title=\"Home\" onClick={() => handleClick('home')} />\n      <OptionCard title=\"Classroom\" onClick={() => handleClick('classroom')} />\n    </div>\n  );\n};\n\nexport default PrinterType;\n","import { useEffect } from 'react';\n\nexport const useMountEffect = (fun) => useEffect(fun, []);\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography, TextField } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Keyboard from \"react-simple-keyboard\";\nimport { setStorage, getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst NetworkSettings = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n  const [printerName, setPrinterName] = useState(\"300x\");\n\n  useMountEffect(() => {\n    setPrinterName(setStorage(\"printerName\"));\n  });\n\n\n  const nextSubmit = () => {\n    !settingsScreen && setStep(4);\n  }\n\n  const handleSubmit = async () => {\n    // TODO remove previous name via action \"remove\"\n    console.log(input, \"input\");\n    const host_name = { hostname: input, action: \"add\" };\n    const lastHostname = { hostname: printerName !== null ? printerName : \"300x\", action: \"remove\"};\n    const ssid_name = { ssid: input };\n\n    //after, display success or failure\n    setConnecting(false);\n    const hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(host_name)\n    });\n\n    hostname_response.json().then((data) => {\n      console.log(data);\n      if (data.status.includes(\"add\")) {\n\n\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n\n    if(input !== printerName) {\n      const remove_hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(lastHostname)\n      });\n\n      remove_hostname_response.json().then((data) => {\n        console.log(data);\n        if (data.status.includes(\"remove\")) {\n          setStorage(\"hostname\", input);\n        }\n      });\n    }\n\n    const ssid_name_response = await fetch(`http://${window.location.hostname}:8990/hotspot/change/ssid/name`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(ssid_name)\n    });\n\n    ssid_name_response.json().then((data) => {\n      console.log(data);\n      setConnecting(false);\n      if (data.status.includes(\"changed\")) {\n        setStorage(\"ssid\", input);\n        setSnackMessage(\"Successfully Named!\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(4);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        // show snack message \"Failure\"\n      }\n    });\n\n  };\n\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\">Your Printer's Name Is:</Typography>\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>{printerName}</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'flex-end'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      nextSubmit()\n                  }}\n                    >\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default NetworkSettings;\n","import React, { useRef, useState } from \"react\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Backdrop,\n  Button,\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n  List,\n  ListItem,\n  TextField\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport RemoveRedEyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport Keyboard from \"react-simple-keyboard\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  accordion: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  button: {\n    alignSelf: \"flex-end\",\n    height: \"36px\",\n    marginLeft: \"25px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  },\n  wifiList: {\n    height: \"600px\",\n    overflow: \"scroll\",\n    border: \"1px solid #fff\",\n    borderRadius: \"5px\"\n  }\n});\nconst WifiConnect = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  handleSnackClose,\n  setConnectWifi,\n  settingsScreen,\n  setStage,\n  onGoBack\n}) => {\n  const classes = useStyles({ settingsScreen });\n  const [expanded, setExpanded] = useState(false);\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [wifiArr, setWifiArr] = useState([]);\n  const [connecting, setConnecting] = useState(false);\n  const keyboard = useRef();\n  const [loading, setLoading] = useState(false);\n  const [maskPassword, setMaskPassword] = useState(true);\n\n  useMountEffect(() => {\n    async function getNetworks() {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/networks/scan`);\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    //Fetch http://${window.location.hostname}:8990/networks/scan\n    //setWifiArr response.networks\n    setLoading(true);\n    getNetworks().then((data) => {\n      let networks = data.networks.filter((obj, pos, arr) => {\n        return (\n          arr.map((mapObj) => mapObj[\"ssid\"]).indexOf(obj[\"ssid\"]) === pos &&\n          obj.ssid != null\n        );\n      });\n      setWifiArr(networks);\n      setLoading(false);\n    });\n  });\n\n  const handleSubmit = async () => {\n    const body = { ssid: expanded, password: input };\n    //set loading screen\n    setExpanded(false);\n    setConnecting(true);\n    setInput(\"\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function setNetwork(body) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/connect`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setNetwork(body).then((data) => {\n      //after, display success or failure\n      setConnecting(false);\n      if (data.status === \"connected!\") {\n        setSnackMessage(\"Successfully Connected\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(1);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n  };\n\n  //toggle password masking\n  const passwordToggle = () => {\n    setMaskPassword(!maskPassword);\n  };\n\n  //update text entered into input field\n  const onChange = (input) => {\n    setInput(input);\n    console.log(\"Input changed\", input);\n  };\n\n  //toggle keyboard layouts when user presses shift\n  const handleShift = () => {\n    const newLayoutName = layout === \"default\" ? \"shift\" : \"default\";\n    setLayout(newLayoutName);\n  };\n\n  //handle keyboard layout key presses\n  const onKeyPress = (button) => {\n    if (button === \"{ABC}\") {\n      setLayout(\"shift\");\n    } else if (button === \"{abc}\") {\n      setLayout(\"default\");\n    } else if (button === \"{+=#}\") {\n      setLayout(\"symbol\");\n    } else if (button === \"{123}\") {\n      setLayout(\"number\");\n    }\n    (button === \"{shift}\" || button === \"{lock}\") && handleShift();\n  };\n  const handleExpand = (panel) => {\n    setExpanded(panel);\n  };\n\n  //handle keyboard key presses for input keys\n  const onChangeInput = (event) => {\n    const input = event.target.value;\n    setInput(input);\n    keyboard.current.setInput(input);\n  };\n  console.log(setSnackMessage);\n  return (\n    <div className={classes.container}>\n      {!settingsScreen && (\n        <div className={classes.header}>\n          <IconButton\n            aria-label=\"back\"\n            onClick={() => {\n              setConnectWifi(() => null);\n              if (onGoBack) {\n                onGoBack();\n              }\n            }}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          <h2>Wi-Fi</h2>\n        </div>\n      )}\n      {loading && (\n        <>\n          <img\n            src={imgPrint}\n            style={{\n              width: 200,\n              height: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% - 100px)\"\n            }}\n          ></img>\n          <h4\n            style={{\n              width: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% + 120px)\",\n              textAlign: \"center\"\n            }}\n          >\n            Gathering Networks\n          </h4>\n        </>\n      )}\n      <List className={classes.wifiList}>\n        {wifiArr.map((network) => {\n          return (\n            <Accordion\n              expanded={expanded === network.ssid}\n              key={`${network.ssid}-list-item`}\n            >\n              <AccordionSummary classes={{ content: \"accordion-style\" }}>\n                <ListItem className={classes.item}>\n                  {network.ssid}\n                  <Button\n                    color={expanded === network.ssid ? \"secondary\" : \"primary\"}\n                    variant=\"contained\"\n                    onClick={() => {\n                      if (expanded === network.ssid) {\n                        setExpanded(() => false);\n                        setInput(\"\");\n                      } else {\n                        handleExpand(network.ssid);\n                      }\n                    }}\n                  >\n                    {expanded === network.ssid ? \"Close\" : \"Join\"}\n                  </Button>\n                </ListItem>\n              </AccordionSummary>\n              <AccordionDetails className={classes.accordion}>\n                <TextField\n                  id=\"standard-password-input\"\n                  label=\"Password\"\n                  type={maskPassword ? \"password\" : \"text\"}\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <RemoveRedEyeIcon onClick={passwordToggle} />\n                      </InputAdornment>\n                    )\n                  }}\n                />\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  onClick={() => {\n                    if (input.length > 0) {\n                      handleSubmit();\n                    } else {\n                      setSnackMessage(\"Password required\");\n                      setShowSnack(true);\n                    }\n                  }}\n                >\n                  Connect\n                </Button>\n              </AccordionDetails>\n            </Accordion>\n          );\n        })}\n      </List>\n      {connecting && (\n        <Backdrop className={classes.backdrop} open={connecting}>\n          <div className={classes.connecting}>\n            <h4>Connecting</h4>\n            <CircularProgress color=\"inherit\" />\n          </div>\n        </Backdrop>\n      )}\n      {expanded && (\n        <div className={classes.keyboard}>\n          <Keyboard\n            keyboardRef={(r) => (keyboard.current = r)}\n            layoutName={layout}\n            layout={{\n              default: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"a b c d e\",\n                \"f g h i j\",\n                \"k l m n o\",\n                \"p q r s t\",\n                \"u v w x y\",\n                \"z {space} {bksp}\"\n              ],\n              shift: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"A B C D E\",\n                \"F G H I J\",\n                \"K L M N O\",\n                \"P Q R S T\",\n                \"U V W X Y\",\n                \"Z {space} {bksp}\"\n              ],\n              symbol: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"! @ # $ %\",\n                \"^ & * ( )\",\n                \"~ ' _ - =\",\n                \"[ ] { } \\\\\",\n                \"| ; ' : ,\",\n                '\" < > ? .'\n              ],\n              number: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"1 2 3\",\n                \"4 5 6\",\n                \"7 8 9\",\n                \"$ 0 .\",\n                \"{space}\",\n                \"# {bksp}\"\n              ]\n            }}\n            display={{\n              \"{bksp}\": \"Backspace\",\n              \"{enter}\": \"Enter\",\n              \"{shift}\": \"Shift\",\n              \"{space}\": \"Space\",\n              \"{123}\": \"123\",\n              \"{ABC}\": \"ABC\",\n              \"{abc}\": \"abc\",\n              \"{+=#}\": \"+ = #\"\n            }}\n            onChange={onChange}\n            onKeyPress={onKeyPress}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WifiConnect;\n","import React from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  container: {\n    padding: \"32px\",\n    textAlign: \"center\",\n    \"& p\": {\n      fontSize: \"2.125rem\"\n    }\n  }\n});\nconst HotspotConnect = ({ setStep, setConnectWifi }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      <h2>\n        Your SSID is\n        <Typography color=\"secondary\" variant=\"body1\">\n          {window.location.hostname}\n        </Typography>\n      </h2>\n      <h2>\n        Your password is\n        <Typography color=\"secondary\" variant=\"body1\">\n          makermade\n        </Typography>\n      </h2>\n      <Grid item className={classes.buttonContainer}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={() => setConnectWifi(null)}\n        >\n          Back\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={() => setStep(1)}>\n          Next\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default HotspotConnect;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Button, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport {\n  setStorage,\n  getStorage,\n  removeStorage\n} from \"../../../Utility/helpers\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport WifiConnect from \"./WifiConnect\";\nimport HotspotConnect from \"./HotspotConnect\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    \"& h2\": {\n      fontSize: \"28px\"\n    }\n  }\n});\nconst NetworkType = ({\n  setStep,\n  setSnackMessage,\n  setShowSnack,\n  handleSnackClose,\n  setNewType\n}) => {\n  const classes = useStyles();\n  const [connectWifi, setConnectWifi] = useState(null);\n  const [flowStep, setFlowStep] = useState(\"choose-overall\");\n  const [hotspotFollow, setHotspotFollow] = useState(null);\n\n  const handleClick = (val) => {\n    getStorage(\"networkProfile\").then(function(oldProfile) {\n      setStorage(\"networkProfile\", val);\n      setConnectWifi(val);\n      setNewType(val);\n\n      if (val === \"hotspot\") {\n        fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (oldProfile == \"hotspot\" && val === \"wifi\") {\n        fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (val === \"none\") {\n        setStep(1);\n      }\n    });\n  };\n  return (\n    <>\n      {connectWifi === null ? (\n        <>\n          <Grid\n            container\n            justify=\"space-between\"\n            alignItems=\"center\"\n            className={classes.header}\n          >\n            <h2>Network</h2>\n            <Button\n              aria-label=\"skip\"\n              endIcon={<ArrowForward />}\n              onClick={() => {\n                removeStorage(\"networkProfile\");\n                setStep(1);\n              }}\n            >\n              Skip\n            </Button>\n          </Grid>\n          {flowStep === \"choose-overall\" && (\n            <>\n              <Typography variant=\"h5\">\n                Do you want to connect this printer to the internet?\n              </Typography>\n              <OptionCard\n                title=\"Yes\"\n                onClick={() => {\n                  setStorage(\"internet\", true);\n                  setFlowStep(\"choose-internet\");\n                }}\n              />\n              <OptionCard\n                title=\"No\"\n                onClick={() => {\n                  setStorage(\"internet\", false);\n                  setFlowStep(\"choose-hotspot\");\n                }}\n              />\n            </>\n          )}\n          {flowStep === \"choose-internet\" && (\n            <>\n              <Typography variant=\"h5\">\n                How will this printer connect to the internet?\n              </Typography>\n              <OptionCard\n                title=\"Wi-Fi\"\n                onClick={() => {\n                  handleClick(\"wifi\");\n                }}\n              />\n              <OptionCard\n                title=\"Ethernet\"\n                onClick={() => {\n                  handleClick(\"ethernet\");\n                }}\n              />\n            </>\n          )}\n          {flowStep === \"choose-hotspot\" && (\n            <>\n              <Typography variant=\"h5\">\n                Would you like to activate the printer's wireless hotspot?\n              </Typography>\n              <Typography variant=\"h6\">\n                This allows you to remotely access and control the printer.\n              </Typography>\n              <OptionCard\n                title=\"Yes\"\n                onClick={() => {\n                  setStorage(\"hotspot\", true);\n                  handleClick(\"hotspot\");\n                }}\n              />\n              <OptionCard\n                title=\"No\"\n                onClick={() => {\n                  setStorage(\"hotspot\", false);\n                }}\n              />\n            </>\n          )}\n          <OptionCard title=\"Wi-Fi\" onClick={() => handleClick(\"wifi\")} />\n          <OptionCard title=\"Hotspot\" onClick={() => handleClick(\"hotspot\")} />\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => handleClick(\"ethernet\")}\n          />\n          <OptionCard title=\"None\" onClick={() => handleClick(\"none\")} />\n        </>\n      ) : connectWifi === \"wifi\" ? (\n        <WifiConnect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setConnectWifi={setConnectWifi}\n        />\n      ) : (\n        <HotspotConnect\n          setStep={setStep}\n          setConnectWifi={setConnectWifi}\n          type={connectWifi}\n        />\n      )}\n    </>\n  );\n};\n\nexport default NetworkType;\n","import React, { useState } from \"react\";\nimport { Button, Grid, CircularProgress, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport UpdateIcon from \"@material-ui/icons/Update\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\n\nconst useStyles = makeStyles({\n  checker: {\n    flex: 2,\n    \"& button\": {\n      width: \"200px\",\n      height: \"50px\",\n      fontSize: \"14px\"\n    }\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nconst Update = ({ autoCheck, handleOnboarding, firstBoot, setStep, fastTrackUpdate, setFastTrackUpdate }) => {\n  const classes = useStyles();\n\n  const [checking, setChecking] = useState(false);\n  const [text, setText] = useState(\"Update device\");\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [updateChecked, setUpdateChecked] = useState(false);\n  const [updates, setUpdates] = useState(false);\n  const [checkDisabled, setCheckDisabled] = useState(false);\n  const [rebootMessage, setRebootMessage] = useState(false);\n  const [retryCount, setRetryCount] = useState(0);\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://localhost:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(retryCount < maxRetryCount) {\n        setTimeout(() => {\n          setRetryCount(retryCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setText(\"This update requires a second run. Please try to install the update again.\");\n        setUpdates(true);\n        setChecking(false);\n        setCheckDisabled(false);\n      }\n\n    });\n  };\n\n  useMountEffect(() => {\n    if (autoCheck) {\n      handleCheck();\n    }\n\n    if(fastTrackUpdate) {\n      setChecking(false);\n      setUpdates(true);\n      setUpdateChecked(true);\n      setFastTrackUpdate(false);\n    }\n\n  });\n  const handleCheck = () => {\n    if (firstBoot && updateChecked) {\n      setStep(2);\n    } else {\n      setText(\"Checking for updates...\");\n      setChecking(true);\n      //make api call\n      //await POST body to http://${window.location.hostname}:8990/connect\n      async function checkUpdates() {\n        // Default options are marked with *\n        const response = await fetch(\n          `http://${window.location.hostname}:2127/api/v1/update/software/check`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }\n        );\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n      checkUpdates().then((data) => {\n        console.log(data);\n        //after api call\n        if (data.update) {\n          setChecking(false);\n          //if updates present\n          setText(data.message);\n          setReleaseNotes(data.releaseNotes);\n          setUpdates(true);\n          setUpdateChecked(true);\n        } else {\n          setChecking(false);\n          setText(data.message);\n          setUpdateChecked(true);\n        }\n      });\n    }\n  };\n  const handleDownload = () => {\n    //console.log(\"handleDownload state 1 of 6; Entry point\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function downloadUpdates() {\n      //console.log(\"handleDownload state 2 of 6; downloadUpdates called\");\n      // Default options are marked with *\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/update/software`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setChecking(true);\n    setText(\"Downloading, please wait...\");\n    setUpdates(false);\n    //call download api\n    downloadUpdates().then((data) => {\n      //console.log(\"handleDownload state 3 of 6; Await'd downloadUpdates\");\n      console.log(data);\n      //after api call\n      if (data.updated) {\n        //console.log(\"handleDownload state 4 of 6; data.updated === true\");\n        //after api call\n        setChecking(false);\n        //on success\n        setText(data.message);\n        setRebootMessage(true);\n        setCheckDisabled(true);\n\n        //console.log(\n        //  \"handleDownload state 5 of6 ; Waiting 3 seconds and then calling reboot\"\n        //);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          attemptReboot();\n        }, 3000);\n      } else {\n        console.log(\"handleDownload state error of 6; Entry point\");\n        //on failure\n        setText(data.message);\n        setUpdates(true);\n        setCheckDisabled(false);\n        setChecking(false);\n      }\n    });\n  };\n  const handleSkip = () => {\n    setStep(2);\n  };\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{ height: \"100%\" }}\n    >\n      {!checkDisabled && firstBoot && (\n        <Button\n          style={{ alignSelf: \"flex-end\", marginTop: \"15px\" }}\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={handleSkip}\n        >\n          Skip\n        </Button>\n      )}\n\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.updateContainer}\n      >\n        {checking && <CircularProgress color=\"secondary\" />}\n        <UpdateIcon\n          style={{\n            fontSize: 100,\n            width: \"100%\",\n            textAlign: \"center\",\n            marginBottom: 20\n          }}\n        />\n        {text.length > 0 && (\n          <>\n          <Typography variant=\"h3\" style={{\n            textAlign: \"center\",\n          }}>\n            {text}\n          </Typography>\n          {releaseNotes && (\n            <Typography variant=\"h5\" style={{\n                textAlign: \"left\",\n                marginTop: 5,\n              }}\n              dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n          )}\n          </>\n        )}\n        {rebootMessage && (\n          <div>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              Rebooting printer to apply update, this will take approximately 2\n              minutes.\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n            </Typography>\n          </div>\n        )}\n        {updates && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleDownload}\n            style={{ marginTop: \"24px\" }}\n          >\n            Download Update\n          </Button>\n        )}\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.checker}\n      >\n        {!updates && !checking && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={checking || checkDisabled}\n            onClick={handleCheck}\n          >\n            {firstBoot && updateChecked ? \"Next\" : \"Check for Updates\"}\n          </Button>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Update;\n","const TutorialLayouts = {\n  ButtonSingle: \"single-button\",\n  AxisManipulation: \"axis-manipulation\",\n  ButtonMulti: \"multi-button\",\n  ThermalGate: \"thermal-gate\",\n  DualThermalGate: \"dual-thermal-gate\"\n};\n\nexport default TutorialLayouts;\n","import TutorialLayouts from \"./TutorialLayouts\";\n\nconst TutorialDefinitions = {\n  firstRun: {\n    userVisable: false,\n    name: \"Initial Setup\",\n    description: \"\",\n    exitActions: [\n      {\n        type: \"nozzletemp\",\n        params: [0]\n      },\n      {\n        type: \"bedtemp\",\n        params: [0]\n      }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"continue\", params: [] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [3] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [22] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [18] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [23] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      }\n    ]\n  },\n\n  blTouchCalibration: {\n    userVisable: true,\n    name: \"Calibrate BLTouch Sensor\",\n    description: \"Calibrate the z-offset with the BLTouch sensor.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text: `Make sure the print bed is clear and then tap \"Start\" to begin.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: `Calibration complete. Press \"Exit\" to finish this tutorial.`\n      }\n    ]\n  },\n\n  bedLevelCornerCalibration: {\n    userVisable: true,\n    name: \"Level the printing bed corners\",\n    description: \"Level the printing bed corners sequentially.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"home\", params: [] },\n          { type: \"movexy\", params: [150, 150] }\n        ],\n        text: `Place a sheet of printer paper on the center of the print bed. Ensure the bed is clear of anything else and then press \"Start\". The nozzle will move to the center of the print bed.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it does in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [1] }]\n          },\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [\n              { type: \"bl_level\", params: [] },\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [\n          { type: \"exit\", params: [] }\n        ],\n        text: \"The leveling process is complete.\"\n      }\n    ]\n  },\n  loadFilament: {\n    userVisable: true,\n    name: \"Load Filament\",\n    description: \"The steps required to load a new filament into the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bLoad\",\n            buttonText: \"Load Filament\",\n            buttonActions: [\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Next\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Now push the \\\"Load Filament\\\" button and wait until you see melted filament coming out of the nozzle. If a large amount of material has come out of the nozzle, you may remove it.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now loaded! If you are not ready to print now, press the \"Cooldown\" button so the printer\\'s extruder does not remain hot. If you are about to print something, press the \"Exit\" button to leave this tutorial while keeping the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  unloadFilament: {\n    userVisable: true,\n    name: \"Unload Filament\",\n    description:\n      \"The steps required to remove a previously loaded filament from the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          'To unload filament from the printer, the nozzle must be preheated because the filament is solid at room temperature and is consequently stuck inside the extruder.%BREAK%Press \"Preheat\" to start preheating the extruder to 220 °C.%BREAK%Remember that it will be hot, so don\\'t touch it!'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bUnload\",\n            buttonText: \"Unload Filament\",\n            buttonActions: [\n              { type: \"load\", params: [10] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Next\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"To unload the filament, press the \\\"Unload Filament\\\" button and wait until you see it coming out of the end of the nozzle. Then, pull the filament out of the tube in one fluid motion. This enures that the end is fully melted and will make it easier to remove from the Bowden tube.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now unloaded! Rewrap the filament around the roll and put the end into the storage slot on the side.%BREAK%If you are not going to load a new filament into the machine, press the \"Cooldown\" button so the extruder does not stay hot.%BREAK%If you are going to load another filament into the machine, pressing \"Exit\" will exit this tutorial while leaving the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  printTestCube: {\n    userVisable: true,\n    name: \"Test Print\",\n    description:\n      \"Print a small object to test the functionality of your printer\",\n    exitActions: [\n      { type: \"nozzletemp\", params: [0] },\n      { type: \"bedtemp\", params: [0] }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [4] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      }\n    ]\n  }\n};\n\nexport default TutorialDefinitions;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction TutorialThermometer(props) {\n  return (\n    <div className=\"big-thermometer\">\n      <div className=\"big-thermometer-container\">\n        <div className=\"big-thermometer-bulb-container\"></div>\n        <div className=\"big-thermometer-indicator-container\">\n          <div\n            className=\"big-thermometer-indicator\"\n            style={{\n              height: `${\n                15 + 85 * ((props.value - props.min) / (props.max - props.min))\n              }%`\n            }}\n          ></div>\n          <div className=\"big-thermometer-bulb\">\n            <span>{props.value}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TutorialThermometer;\n","class GCodeBuilder {\n  constructor() {\n    this._actions = [];\n  }\n\n  build() {\n    let retString = \"\";\n    for (let i = 0; i < this._actions.length; i++) {\n      retString += this._actions[i] + \"\\n\";\n    }\n    return retString;\n  }\n\n  addCommand(command) {\n    this._actions.push(command);\n  }\n}\n\nfunction GGetZProbeOffset() {\n  return `M851`;\n}\n\nfunction GSetZProbeOffset(offset) {\n  return `M851 Z${offset}`;\n}\n\nfunction GStoreParams() {\n  return `M500`;\n}\n\nfunction GLoadParams() {\n  return `M501`;\n}\n\nfunction Home() {\n  return `G28`;\n}\n\nfunction BlLevel() {\n  return `G29 T`;\n}\n\n/**\n *\n * @param {Boolean} x Home the X axis?\n * @param {Boolean} y Home the Y axis?\n * @param {Boolean} z Home the Z axis?\n */\nfunction GMoveToOrigin(x, y, z) {\n  if (x && y && z) {\n    return `G28`;\n  } else {\n    return `G28${x ? \"X \" : \"\"}${y ? \"Y \" : \"\"}${x ? \"Z \" : \"\"}`;\n  }\n}\n\nfunction GSetToRelativePositioning() {\n  return \"G91\";\n}\n\nfunction GSetToAbsolutePositioning() {\n  return \"G90\";\n}\n\nfunction GSetSoftwareEndstops(enabled) {\n  if (enabled) {\n    return \"M211 S1\";\n  } else {\n    return \"M211 S0\";\n  }\n}\n\nfunction GLinearMove(doX, doY, doZ, xPos, yPos, zPos) {\n  if (doX || doY || doZ) {\n    return `G1${doX ? ` X${xPos}` : \"\"}${doY ? ` Y${yPos}` : \"\"}${\n      doZ ? ` Z${zPos}` : \"\"\n    }`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GExtrude(distance, temp) {\n  if (temp > 219) {\n    return `G91\\nG1 E${distance} F300\\nM114`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GSetExtruderTemp(temp) {\n  return `M104 S${temp}`;\n}\n\nfunction GSetBedTemp(temp) {\n  return `M140 S${temp}`;\n}\n\nfunction GDisableAllMotors() {\n  return `M18`;\n}\n\nfunction GEnableAllMotors() {\n  return `M17`;\n}\n\nexport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  Home,\n  BlLevel,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  GEnableAllMotors,\n  GDisableAllMotors\n};\n","import React from \"react\";\nconst TempContext = React.createContext({\n  bedTarget: 0,\n  nozzleTarget: 0,\n  bed: 0,\n  nozzle: 0,\n  zOffset: 0,\n  setBedTarget: (temp) => {},\n  setNozzleTarget: (temp) => {},\n  setBed: (temp) => {},\n  setNozzle: (temp) => {},\n  setZOffset: (val) => {}\n});\n\nexport default TempContext;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport TutorialLayouts from \"../TutorialLayouts\";\nimport {\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Paper,\n  Snackbar,\n  Tabs,\n  Tab,\n  AppBar\n} from \"@material-ui/core\";\nimport { ArrowDownward, ArrowUpward, CloseSharp } from \"@material-ui/icons\";\nimport TutorialThermometer from \"../TutorialThermometer/TutorialThermometer\";\nimport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  Home,\n  BlLevel\n} from \"../GCodeBuilder\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst styles = (theme) => ({\n  tutorialWindow: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1250,\n    backgroundColor: \"#303030\"\n  },\n  tutorialButton: {\n    // backgroundColor: \"rgb(42, 57, 131)\",\n    fontSize: \"20px\"\n  },\n  tutorialCloseButton: {\n    float: \"right\",\n    marginRight: -8\n  },\n  tutorialText: {\n    fontSize: \"20px\"\n  },\n  tutorialContainer: {\n    padding: \"8px\",\n    height: \"calc(100% - 48px)\"\n  },\n  tutorialHeading: {\n    paddingTop: \"8px\"\n  },\n  layoutSingleGrid: {\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\"\n  },\n  layoutSingleGridText: {\n    // height: \"50%\"\n    flexGrow: 1\n  },\n  layoutSingleGridButton: {\n    height: \"80px\",\n    textAlign: \"center\"\n  },\n  layoutSingleGridTop: {\n    height: \"50px\"\n  },\n  layoutSingleGridAxisControl: {\n    height: \"550px\"\n  },\n  layoutSingleGridThermalControl: {\n    height: \"550px\"\n  },\n  axisButton: {\n    marginTop: \"2px\",\n    marginBottom: \"2px\",\n    fontSize: \"20px\",\n    textTransform: \"none\",\n    width: \"120px\"\n  },\n  thermoLabel: {\n    textAlign: \"center\",\n    fontSize: \"26px\"\n  },\n  btnContainer: {\n    marginTop: \"40px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nclass Tutorial extends React.Component {\n  constructor(props) {\n    super(props);\n    this.evTutorialClose =\n      props.onTutorialClose ||\n      (() => {\n        console.log(\"Unhandled tutorial close event\");\n      });\n    this.state = {\n      tutorialId: this.props.tutorialName || null,\n      tutorialReady: false,\n      currentStep: 0,\n      exitWarning: false,\n      showSnack: false,\n      snackMessage: \"Your printer is reheating. Wait a moment and try the load/unload button again.\",\n      unit: 0.1,\n      offset: -1.55,\n      delay: false\n    };\n    this.tutorial = null;\n    this.offsetRequested = false;\n  }\n\n  static contextType = TempContext;\n\n  componentDidMount() {\n\n    if(this.props.tutorialName == \"blTouchCalibration\") {\n      // this returns:\n      // [0].current.logs[\n      // 0: \"Send: M851\"\n      // 1: \"Recv: Probe Offset X-44.00 Y-3.74 Z0.00\"\n      // 2: \"Recv: ok\"\n      // ]\n      // and\n      // [0].current.messages: [\"Probe Offset X-44.00 Y-3.74 Z0.00\"]\n      // getting this from ws and storing to TempContext\n      this.attemptGetZOffset();\n      this.offsetRequested = true;\n    }\n\n    if (this.state.tutorialId && TutorialDefinitions[this.state.tutorialId]) {\n      this.tutorial = TutorialDefinitions[this.state.tutorialId];\n      this.setState({ tutorialReady: true, currentStep: 0 });\n    } else {\n      console.log(\n        `Unknown tutorial id \"${this.state.tutorialId}\", closing tutorial`\n      );\n      this.evTutorialClose();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.tutorial) {\n      const currentStep = this.tutorial.steps[this.state.currentStep];\n      if (currentStep.layout === TutorialLayouts.ThermalGate) {\n        //We only need to trigger ThermalGates when they are displayed\n      }\n    }\n    if(this.context.zOffset && this.offsetRequested) {\n      console.log(\"offset: \", this.context.zOffset);\n      this.setState({offset: this.context.zOffset});\n      this.offsetRequested = false;\n    }\n  }\n\n  attemptExitActions() {\n    this.processButtonActions(this.tutorial.exitActions);\n  }\n\n  attemptCloseTutorial(reason) {\n    if (\n      this.state.currentStep === 0 ||\n      this.currentStep === this.tutorial.steps.length - 1\n    ) {\n      //This is the first or last step of the tutorial, so we can just close without any warnings\n      this.evTutorialClose(reason);\n    } else {\n      //The tutorial is in-progress, confirm that the user really wishes to exit\n      this.setState({ exitWarning: true });\n    }\n  }\n\n  attemptAxisMove(axis, amount) {\n    console.log(`Attempting to move on the ${axis} axis by ${amount}mm`);\n    if (axis.toLowerCase() === \"z\") {\n      let newOffset = parseFloat(this.state.offset) + parseFloat(amount);\n      newOffset = newOffset.toFixed(4);\n      console.log(newOffset);\n      this.setState({offset: newOffset});\n      let codeBuilder = new GCodeBuilder();\n      codeBuilder.addCommand(GSetToRelativePositioning());\n      codeBuilder.addCommand(\n        GLinearMove(false, false, true, null, null, amount)\n      );\n      this.sendGcode(codeBuilder.build());\n    }\n  }\n\n  attemptHome() {\n    console.log(`Attempting to home`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(Home());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptBlLevel() {\n    console.log(`Attempting to BL Level`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(BlLevel());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptXYMoveTo(x, y) {\n    console.log(`Attempting to move print head to x:${x}, y: ${y}`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 30));\n    codeBuilder.addCommand(GLinearMove(true, true, true, x, y, 0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptZOffsetStart() {\n    console.log(`Attempting to start z offset process`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetSoftwareEndstops(false));\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 0.0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptGetZOffset() {\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GGetZProbeOffset());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSaveZOffset() {\n    console.log(`Attempting to save z offset`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GSetSoftwareEndstops(true));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetBedTemp(temp) {\n    console.log(`Attempting to set bed temperature to ${temp} °C`);\n    this.context.setBedTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetBedTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetExtruderTemp(temp) {\n    console.log(`Attempting to set extruder temperature to ${temp} °C`);\n    this.context.setNozzleTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetExtruderTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptTestPrint() {\n    fetch(\n      `http://${window.location.hostname}:2127/api/v1/job/BLTouchCalibrationTest.gcode`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }\n    );\n  }\n\n  loadFilament(distance) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    let codeBuilder = new GCodeBuilder();\n    if(this.context.nozzle >= currentStep.minimumExtruderTemp) {\n      codeBuilder.addCommand(GExtrude(distance,this.context.nozzle));\n      this.sendGcode(codeBuilder.build());\n      this.setState({ showSnack: false });\n    } else {\n      this.setState({ showSnack: true });\n      console.log('current:'+this.context.nozzle+' min:'+currentStep.minimumExtruderTemp);\n    }\n  }\n\n  unloadFilament(distance) {\n    this.loadFilament(distance);\n  }\n\n  tutorialButtonPressed(id) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    if (\n      currentStep.layout === TutorialLayouts.ButtonSingle ||\n      currentStep.layout === TutorialLayouts.AxisManipulation ||\n      currentStep.layout === TutorialLayouts.ThermalGate ||\n      currentStep.layout === TutorialLayouts.DualThermalGate\n    ) {\n      this.processButtonActions(currentStep.buttonActions);\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      this.processButtonActions(\n        currentStep.buttons.find((b) => {\n          return b.id === id;\n        }).buttonActions\n      );\n    } else {\n      //Do correct button selection logic\n    }\n  }\n\n  sendGcode(gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  }\n\n  processButtonActions(actions) {\n    let currentState = this;\n    for (const action of actions) {\n      switch (action.type) {\n        case \"continue\":\n          this.actionContinue();\n          break;\n        case \"home\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptHome();\n          break;\n        case \"bl_level\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptBlLevel();\n          break;\n        case \"movexy\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptXYMoveTo(action.params[0], action.params[1]);\n          break;\n        case \"jumpto\":\n          this.actionJumpTo(action.params[0]);\n          break;\n        case \"load\":\n          this.loadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"unload\":\n          this.unloadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"exit\":\n          this.evTutorialClose(\n            action.params.length > 0 ? action.params[0] : \"\"\n          );\n          break;\n        case \"savezoffset\":\n          //Attempt to set the z offset from the current z position\n          this.attemptSaveZOffset();\n          break;\n        case \"nozzletemp\":\n          //Attempt to set extruder temp\n          this.attemptSetExtruderTemp(action.params[0]);\n          break;\n        case \"bedtemp\":\n          //Attempt to set bed temperature\n          this.attemptSetBedTemp(action.params[0]);\n          break;\n        case \"printtest\":\n          //Attempt to print test article\n          this.attemptTestPrint();\n          break;\n        case \"zoffsetstart\":\n          //Zero out the printer to start zoffset\n          this.attemptZOffsetStart();\n          break;\n        default:\n          console.log(\n            `Warning! Unhandled tutorial action type: \"${action.type}\"`\n          );\n      }\n    }\n  }\n\n  /**\n   * Attempts to continue to the next tutorial step\n   */\n  actionContinue() {\n    if (this.state.currentStep < this.tutorial.steps.length - 1) {\n      this.setState({ currentStep: this.state.currentStep + 1 });\n    }\n  }\n\n  /**\n   * Jumps the tutorial back (or forward) to a specific step\n   * @param {Number} step The index of the step\n   */\n  actionJumpTo(step) {\n    this.setState({ currentStep: step });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.tutorialWindow}>\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ paddingLeft: 8 }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        {this.state.tutorialReady && (\n          <Container className={classes.tutorialContainer}>\n            <Grid container>\n              <Grid item xs={10}>\n                <Typography variant=\"h5\" className={classes.tutorialHeading}>\n                  {this.tutorial.name}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <IconButton\n                  className={classes.tutorialCloseButton}\n                  onClick={() => {\n                    this.attemptCloseTutorial(\n                      this.props.firstBoot ? \"skip\" : null\n                    );\n                  }}\n                >\n                  <CloseSharp />\n                </IconButton>\n              </Grid>\n            </Grid>\n            {this.renderTutorialPage(classes)}\n          </Container>\n        )}\n        <Dialog open={this.state.exitWarning}>\n          <DialogTitle>Exit Tutorial</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Are you sure you want to exit this tutorial?\n            </DialogContentText>\n            <DialogActions>\n              <Button\n                onClick={() => {\n                  this.attemptExitActions();\n                  this.evTutorialClose();\n                }}\n              >\n                Yes\n              </Button>\n              <Button\n                autoFocus\n                onClick={() => {\n                  this.setState({ exitWarning: false });\n                }}\n              >\n                No\n              </Button>\n            </DialogActions>\n          </DialogContent>\n        </Dialog>\n        <Snackbar\n          open={this.state.showSnack}\n          autoHideDuration={6000}\n          message={this.state.snackMessage}\n          onClose={false}\n        ></Snackbar>\n      </div>\n    );\n  }\n\n  renderTutorialPage(classes) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n\n    if (currentStep.layout === TutorialLayouts.ButtonSingle) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.AxisManipulation) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridAxisControl}>\n            <Grid container justify=\"center\">\n              {currentStep.axisX && this.renderAxisControl(\"X\", classes)}\n              {currentStep.axisY && this.renderAxisControl(\"Y\", classes)}\n              {currentStep.axisZ && this.renderAxisControl(\"Z\", classes)}\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Grid container justify=\"space-around\">\n              {currentStep.buttons.map((button) => {\n                return (\n                  <Grid item xs={6}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"contained\"\n                      className={classes.tutorialButton}\n                      disabled={this.state.delay}\n                      onClick={() => {\n                        this.tutorialButtonPressed(button.id);\n                      }}\n                      id={button.id}\n                    >\n                      {button.buttonText}\n                    </Button>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <TutorialThermometer\n                min={0}\n                max={400}\n                value={this.context.nozzle}\n              ></TutorialThermometer>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={!(this.context.nozzle >= currentStep.minimumTemp)}\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.DualThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumExtruderTemp &&\n            this.context.bed >= currentStep.minimumBedTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.bed}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Bed\n                </Typography>\n              </Grid>\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.nozzle}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Extruder\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={\n                !(\n                  this.context.nozzle >= currentStep.minimumExtruderTemp &&\n                  this.context.bed >= currentStep.minimumBedTemp\n                )\n              }\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  renderAxisControl(axis, classes) {\n    const units = [0.01, 0.05, 0.1, 1.0];\n\n    return (\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={12}>\n          <Paper>\n            <Tabs\n              value={this.state.unit}\n              className={classes.tabs}\n              onChange={(e, val) => this.setState({unit:val})}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} value={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 40}}>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n            style={{ height: 220 }}\n          >\n            <Grid item>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,-this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorial);\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport HotspotConnect from \"../NetworkType/HotspotConnect\";\nimport {\n  setStorage,\n  getStorage,\n  removeStorage\n} from \"../../../Utility/helpers\";\nimport WifiConnect from \"../NetworkType/WifiConnect\";\nimport {\n  ArrowForward,\n  Language,\n  SettingsInputHdmi,\n  SettingsRemote\n} from \"@material-ui/icons\";\n\nclass NetworkSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stage: \"internet-enable\",\n      enableInternet: false,\n      selectedInterface: null,\n      enableHotspot: false\n    };\n  }\n\n  complete() {\n    setStorage(\"hotspot\", this.state.enableHotspot);\n    setStorage(\"internet\", this.state.enableInternet);\n    setStorage(\"networkProfile\", this.state.selectedInterface);\n    // if (this.state.enableHotspot) {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // } else {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // }\n    if (this.props.setNewType) {\n      this.props.setNewType(this.state.selectedInterface);\n      this.props.setStep(0);\n    } else {\n      if (this.state.enableInternet) {\n        this.props.setStep(1);\n      } else {\n        this.props.setStep(2);\n      }\n    }\n  }\n\n  render() {\n    if (this.state.stage === \"internet-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to connect this printer to the internet?\n          </Typography>\n\n          <Typography variant=\"h6\">\n            Connecting to the internet enables updates.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableInternet: true, stage: \"internet-select\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.setState({\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"internet-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            How would you like to connect this printer?\n          </Typography>\n          <OptionCard\n            title=\"Wi-Fi\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"wifi\",\n                stage: \"wifi-select\"\n              });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"ethernet\",\n                stage: \"ethernet-check\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"ethernet-check\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsInputHdmi\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Please verify that the ethernet cable is properly connected to your\n            device.\n          </Typography>\n          <OptionCard\n            title=\"Done\"\n            onClick={() => {\n              this.setState({ stage: \"hotspot-enable\" });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"wifi-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <WifiConnect\n            setStep={(step) => {\n              this.complete();\n            }}\n            setShowSnack={this.props.setShowSnack}\n            setSnackMessage={this.props.setSnackMessage}\n            handleSnackClose={this.props.handleSnackClose}\n            setConnectWifi={() => {}}\n            onGoBack={() => {\n              this.setState({ stage: \"internet-select\" });\n            }}\n          ></WifiConnect>\n        </>\n      );\n    }\n\n    if (this.state.stage === \"hotspot-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsRemote\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to enable the printer's wireless hotspot?\n          </Typography>\n          <Typography variant=\"h6\">\n            This allows you to remotely connect/control your printer.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableHotspot: true, stage: \"config-hotspot\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.complete();\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"config-hotspot\") {\n      return (\n        <HotspotConnect\n          setStep={() => {\n            this.complete();\n          }}\n          setConnectWifi={() => {}}\n        />\n      );\n    }\n  }\n\n  renderHeader() {\n    return (\n      <Grid\n        container\n        justify=\"space-between\"\n        alignItems=\"center\"\n        style={{ display: \"flex\", marginBottom: 20 }}\n      >\n        <h2 style={{ fontSize: 28 }}>Network</h2>\n        <Button\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={() => {\n            this.setState(\n              {\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              },\n              () => {\n                this.complete();\n              }\n            );\n          }}\n        >\n          Skip\n        </Button>\n      </Grid>\n    );\n  }\n}\n\n// setStep={setStep}\n// setShowSnack={setShowSnack}\n// setSnackMessage={setSnackMessage}\n// handleSnackClose={handleSnackClose}\n// setConnectWifi={setConnectWifi}\n// />\n\nexport default NetworkSelect;\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nimport './TabList.css';\nconst TabList = ({ tabList, handleTabClick, activeTab, disabledNav }) => {\n  return (\n    <Tabs value={activeTab} onChange={handleTabClick} centered>\n      {tabList.map((tab) => (\n        <Tab\n          style={{ height: '70px', fontSize: '20px', minWidth: '140px' }}\n          label={tab}\n          key={`tab - ${tab}`}\n          disabled={disabledNav}\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nexport default TabList;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport PrinterType from \"./PrinterType/PrinterType\";\nimport NetworkSettings from \"./NetworkType/NetworkSettings\";\nimport NetworkType from \"./NetworkType/NetworkType\";\nimport UserLevel from \"./UserLevel/UserLevel\";\nimport Update from \"../Menu/MenuTabs/Update\";\nimport Tutorial from \"../Tutorials/Tutorial/Tutorial\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport NetworkSelect from \"./NetworkSelect/NetworkSelect\";\nconst useStyles = makeStyles({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  welcome: {\n    textAlign: \"center\",\n    height: \"100%\",\n    \"& h2\": {\n      fontSize: \"92px\"\n    },\n    \"& h3\": {\n      fontSize: \"32px\",\n      marginTop: \"16px\"\n    }\n  }\n});\nconst Setup = ({ handleOnboarding }) => {\n  const classes = useStyles();\n\n  const [step, setStep] = useState(null);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  return (\n    <Container className={classes.container}>\n      {step === null && (\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-around\"\n          alignItems=\"center\"\n          spacing={3}\n          className={classes.welcome}\n        >\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Typography variant=\"h2\">Welcome</Typography>\n            <Typography variant=\"h3\">Let's get you set up</Typography>\n          </Grid>\n          <Grid\n            item\n            container\n            alignItems=\"flex-start\"\n            justify=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              color=\"secondary\"\n              style={{ width: \"190px\", height: \"65px\", fontSize: \"18px\" }}\n              onClick={() => setStep(0)}\n            >\n              Get Started\n            </Button>\n          </Grid>\n        </Grid>\n      )}\n      {step === 0 && (\n        <NetworkSelect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n        />\n        // <NetworkType\n        //   setStep={setStep}\n        //   setShowSnack={setShowSnack}\n        //   setSnackMessage={setSnackMessage}\n        //   handleSnackClose={handleSnackClose}\n        //   setNewType={() => {}}\n        // />\n      )}\n      {step === 1 && (\n        <Update\n          autoCheck={false}\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n        />\n      )}\n      {step === 2 && <PrinterType setStep={setStep} />}\n      {step === 3 && (\n        <NetworkSettings\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setNewType={() => {}}\n        />\n      )}\n      {step === 4 && (\n        <UserLevel handleOnboarding={handleOnboarding} setStep={setStep} />\n      )}\n      {step === 5 && (\n        <Tutorial\n          tutorialName=\"bedLevelCornerCalibration\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            setStep(6);\n          }}\n        />\n      )}\n      {step === 6 && (\n        <Tutorial\n          tutorialName=\"loadFilament\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            handleOnboarding(getStorage(\"userMode\"));\n          }}\n        />\n      )}\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </Container>\n  );\n};\n\nexport default Setup;\n","import React, { useState, useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Container, Grid, Typography } from \"@material-ui/core\";\nimport { Button, LinearProgress } from \"@material-ui/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPause, faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport { PlayArrow, Pause, Stop } from \"@material-ui/icons\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport TutorialThermometer from \"../../Tutorials/TutorialThermometer/TutorialThermometer\";\nimport TempContext from \"../../../TempContext\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  camera: {\n    width: \"100%\",\n    border: \"2px solid white\",\n    borderRadius: 5\n  }\n});\n\nvar toHHMMSS = (secs) => {\n  if(secs) {\n    var sec_num = parseInt(secs, 10)\n    var hours   = Math.floor(sec_num / 3600)\n    var minutes = Math.floor(sec_num / 60) % 60\n    var seconds = sec_num % 60\n\n    return [hours,minutes,seconds]\n        .map(v => v < 10 ? \"0\" + v : v)\n        .filter((v,i) => v !== \"00\" || i > 0)\n        .join(\":\");\n  } else {\n    return \"calculating...\";\n  }\n}\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst PrintStatus = ({\n  lastMessage,\n  progressState,\n  setDisabledNav,\n  state,\n  statusText,\n  fileName\n}) => {\n  const classes = useStyles();\n  const [paused, setPaused] = useState(false);\n  const [camEnabled, setCamEnabled] = useState(false);\n  const [value, setValue] = useState(0);\n  const [elapsed, setElapsed] = useState(\"\");\n  const [remaining, setRemaining] = useState(\"\");\n  const cameraFeedUrl = `http://${window.location.hostname}:8090/?action=stream`;\n  const cameraFallbackUrl = 'no-signal.gif';\n  const [cameraUrl, setCameraUrl] = useState(cameraFallbackUrl);\n  const [waiting, setWaiting] = useState(false);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  useMountEffect(() => {\n    imageExists(cameraUrl, function(exists) {\n      if(exists) {\n        setCameraUrl(cameraFeedUrl);\n      } else {\n        setCameraUrl(cameraFallbackUrl);\n      }\n    });\n      setCamEnabled(() => getStorage(\"camEnabled\"));\n  });\n\n  useEffect(() => {\n    if (progressState.completion !== value) {\n      setValue(progressState.completion);\n      setElapsed(toHHMMSS(progressState.printTime));\n      setRemaining(toHHMMSS(progressState.printTimeLeft));\n    }\n  }, [progressState, value]);\n\n  useEffect(() => {\n    if (state && state.flags.paused != paused) {\n      setPaused(state.flags.paused);\n      setWaiting(false);\n    }\n  }, [state]);\n\n  return (\n    <>\n      <Container>\n        <Typography\n          variant=\"h5\"\n          style={{ marginTop: 35, width: \"100%\", textAlign: \"center\" }}\n        >\n          {statusText}: {fileName}\n        </Typography>\n        <div className=\"print-status-bar\" style={{ marginTop: 25 }}>\n          <BorderLinearProgress variant=\"determinate\" value={value} />\n          <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={4}  style={{textAlign: \"left\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {elapsed}\n          </Typography>\n          </Grid>\n          <Grid item xs={4}  style={{textAlign: \"center\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {value ? value.toFixed(1) : \"0\"}%\n          </Typography>\n          </Grid>\n          <Grid item xs={4} style={{textAlign: \"right\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {remaining}\n          </Typography>\n          </Grid>\n          </Grid>\n        </div>\n        <div>\n        <Grid container alignItems=\"center\">\n        <Grid item xs={getStorage(\"camEnabled\") ? 6 : 12} alignItems=\"center\">\n          <TempContext.Consumer>\n            {({ bed, nozzle, bedTarget, nozzleTarget }) => (\n              <Grid container alignItems=\"center\" style={{ justifyContent: \"space-around\" }}>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={120} value={bed} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {bedTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Bed\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        disabled={waiting}\n                        onClick={() => {\n                          setWaiting(true);\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"PATCH\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={!paused ? <Pause /> : <PlayArrow />}\n                      >\n                        {!paused ? \"Pause\" : \"Resume\"}\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={300} value={nozzle} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {nozzleTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Nozzle\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        disabled={paused ? false : true}\n                        onClick={() => {\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"DELETE\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={<Stop />}\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n              </Grid>\n            )}\n          </TempContext.Consumer>\n        </Grid>\n        {camEnabled === 'enabled' && (\n          <Grid item xs={6} style={{ display: camEnabled ? 'block' : 'none' }}>\n            <img src={cameraUrl} className={classes.camera} />\n          </Grid>\n        )}\n        </Grid>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nconst BorderLinearProgress = withStyles((theme) => ({\n  root: {\n    height: 14,\n    borderRadius: 7\n  },\n  colorPrimary: {\n    backgroundColor: \"#606060\"\n  },\n  bar: {\n    borderRadius: 7,\n    backgroundColor: \"#ACC12F\"\n  }\n}))(LinearProgress);\n\nexport default PrintStatus;\n","import React from \"react\";\nconst AppContext = React.createContext({\n  camRotation: 0,\n  camZoom: 0,\n  camZ: 0,\n  showMagnet: false,\n  showBounds: false,\n  showGrid: false,\n  addRotation: (deg) => {},\n  setZoom: (zoom) => {},\n  addZ: (z) => {},\n  setShowMagnet: (val) => {},\n  setShowBounds: (val) => {},\n  setShowGrid: (val) => {}\n});\n\nexport default AppContext;\n","import * as THREE from \"three\";\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * var mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  var materials = [];\n *  var nGeometryGroups = geometry.groups.length;\n *\n *  var colorMap = ...; // Some logic to index colors.\n *\n *  for (var i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tvar material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  var mesh = new THREE.Mesh(geometry, materials);\n */\n\n class STLLoader extends THREE.Loader {\n\n   constructor( manager ) {\n\n     super( manager );\n\n   }\n\n   load( url, onLoad, onProgress, onError ) {\n\n     const scope = this;\n     const loader = new THREE.FileLoader( this.manager );\n     loader.setPath( this.path );\n     loader.setResponseType( 'arraybuffer' );\n     loader.setRequestHeader( this.requestHeader );\n     loader.setWithCredentials( this.withCredentials );\n     loader.load( url, function ( text ) {\n\n       try {\n\n         onLoad( scope.parse( text ) );\n\n       } catch ( e ) {\n\n         if ( onError ) {\n\n           onError( e );\n\n         } else {\n\n           console.error( e );\n\n         }\n\n         scope.manager.itemError( url );\n\n       }\n\n     }, onProgress, onError );\n\n   }\n\n   parse( data ) {\n\n     function isBinary( data ) {\n\n       const reader = new DataView( data );\n       const face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n       const n_faces = reader.getUint32( 80, true );\n       const expect = 80 + 32 / 8 + n_faces * face_size;\n\n       if ( expect === reader.byteLength ) {\n\n         return true;\n\n       } // An ASCII STL data must begin with 'solid ' as the first six bytes.\n       // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n       // plentiful.  So, check the first 5 bytes for 'solid'.\n       // Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n       // https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n       // Search for \"solid\" to start anywhere after those prefixes.\n       // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\n       const solid = [ 115, 111, 108, 105, 100 ];\n\n       for ( let off = 0; off < 5; off ++ ) {\n\n         // If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n         if ( matchDataViewAt( solid, reader, off ) ) return false;\n\n       } // Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\n       return true;\n\n     }\n\n     function matchDataViewAt( query, reader, offset ) {\n\n       // Check if each byte in query matches the corresponding byte from the current offset\n       for ( let i = 0, il = query.length; i < il; i ++ ) {\n\n         if ( query[ i ] !== reader.getUint8( offset + i, false ) ) return false;\n\n       }\n\n       return true;\n\n     }\n\n     function parseBinary( data ) {\n\n       const reader = new DataView( data );\n       const faces = reader.getUint32( 80, true );\n       let r,\n         g,\n         b,\n         hasColors = false,\n         colors;\n       let defaultR, defaultG, defaultB, alpha; // process STL header\n       // check for default color in header (\"COLOR=rgba\" sequence).\n\n       for ( let index = 0; index < 80 - 10; index ++ ) {\n\n         if ( reader.getUint32( index, false ) == 0x434F4C4F\n       /*COLO*/\n       && reader.getUint8( index + 4 ) == 0x52\n       /*'R'*/\n       && reader.getUint8( index + 5 ) == 0x3D\n       /*'='*/\n         ) {\n\n           hasColors = true;\n           colors = new Float32Array( faces * 3 * 3 );\n           defaultR = reader.getUint8( index + 6 ) / 255;\n           defaultG = reader.getUint8( index + 7 ) / 255;\n           defaultB = reader.getUint8( index + 8 ) / 255;\n           alpha = reader.getUint8( index + 9 ) / 255;\n\n         }\n\n       }\n\n       const dataOffset = 84;\n       const faceLength = 12 * 4 + 2;\n       const geometry = new THREE.BufferGeometry();\n       const vertices = new Float32Array( faces * 3 * 3 );\n       const normals = new Float32Array( faces * 3 * 3 );\n\n       for ( let face = 0; face < faces; face ++ ) {\n\n         const start = dataOffset + face * faceLength;\n         const normalX = reader.getFloat32( start, true );\n         const normalY = reader.getFloat32( start + 4, true );\n         const normalZ = reader.getFloat32( start + 8, true );\n\n         if ( hasColors ) {\n\n           const packedColor = reader.getUint16( start + 48, true );\n\n           if ( ( packedColor & 0x8000 ) === 0 ) {\n\n             // facet has its own unique color\n             r = ( packedColor & 0x1F ) / 31;\n             g = ( packedColor >> 5 & 0x1F ) / 31;\n             b = ( packedColor >> 10 & 0x1F ) / 31;\n\n           } else {\n\n             r = defaultR;\n             g = defaultG;\n             b = defaultB;\n\n           }\n\n         }\n\n         for ( let i = 1; i <= 3; i ++ ) {\n\n           const vertexstart = start + i * 12;\n           const componentIdx = face * 3 * 3 + ( i - 1 ) * 3;\n           vertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n           vertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n           vertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n           normals[ componentIdx ] = normalX;\n           normals[ componentIdx + 1 ] = normalY;\n           normals[ componentIdx + 2 ] = normalZ;\n\n           if ( hasColors ) {\n\n             colors[ componentIdx ] = r;\n             colors[ componentIdx + 1 ] = g;\n             colors[ componentIdx + 2 ] = b;\n\n           }\n\n         }\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\n       if ( hasColors ) {\n\n         geometry.setAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n         geometry.hasColors = true;\n         geometry.alpha = alpha;\n\n       }\n\n       return geometry;\n\n     }\n\n     function parseASCII( data ) {\n\n       const geometry = new THREE.BufferGeometry();\n       const patternSolid = /solid([\\s\\S]*?)endsolid/g;\n       const patternFace = /facet([\\s\\S]*?)endfacet/g;\n       let faceCounter = 0;\n       const patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n       const patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n       const patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n       const vertices = [];\n       const normals = [];\n       const normal = new THREE.Vector3();\n       let result;\n       let groupCount = 0;\n       let startVertex = 0;\n       let endVertex = 0;\n\n       while ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n         startVertex = endVertex;\n         const solid = result[ 0 ];\n\n         while ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n           let vertexCountPerFace = 0;\n           let normalCountPerFace = 0;\n           const text = result[ 0 ];\n\n           while ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n             normal.x = parseFloat( result[ 1 ] );\n             normal.y = parseFloat( result[ 2 ] );\n             normal.z = parseFloat( result[ 3 ] );\n             normalCountPerFace ++;\n\n           }\n\n           while ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n             vertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n             normals.push( normal.x, normal.y, normal.z );\n             vertexCountPerFace ++;\n             endVertex ++;\n\n           } // every face have to own ONE valid normal\n\n\n           if ( normalCountPerFace !== 1 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n           } // each face have to own THREE valid vertices\n\n\n           if ( vertexCountPerFace !== 3 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n           }\n\n           faceCounter ++;\n\n         }\n\n         const start = startVertex;\n         const count = endVertex - startVertex;\n         geometry.addGroup( start, count, groupCount );\n         groupCount ++;\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( normals, 3 ) );\n       return geometry;\n\n     }\n\n     function ensureString( buffer ) {\n\n       if ( typeof buffer !== 'string' ) {\n\n         return THREE.LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n       }\n\n       return buffer;\n\n     }\n\n     function ensureBinary( buffer ) {\n\n       if ( typeof buffer === 'string' ) {\n\n         const array_buffer = new Uint8Array( buffer.length );\n\n         for ( let i = 0; i < buffer.length; i ++ ) {\n\n           array_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n         }\n\n         return array_buffer.buffer || array_buffer;\n\n       } else {\n\n         return buffer;\n\n       }\n\n     } // start\n\n\n     const binData = ensureBinary( data );\n     return isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n   }\n\n }\n\nexport default STLLoader;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Checkbox,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl\n} from \"@material-ui/core\";\nimport {\n  Add,\n  DeleteForever,\n  Description,\n  ExpandMore\n} from \"@material-ui/icons\";\nimport React, { useContext, useState } from 'react';\nimport AppContext from \"../../../../AppContext\";\nimport * as THREE from \"three\";\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport { useMountEffect } from \"../../../../Utility/useMountEffect\";\n\nimport \"./style.css\";\n\nasync function getFile(fileName) {\n  // await response of fetch call\n  let response = await fetch(`http://${window.location.hostname}:9990/${fileName}`);\n  // only proceed once promise is resolved\n  let data = await response.blob();\n  // only proceed once second promise is resolved\n  return data;\n}\n\nfunction FilesPanel() {\n  const context = useContext(AppContext)\n\n  let fileName = null;\n\n  if(context.stl) {\n    if(typeof context.stl == \"string\") {\n      fileName = context.stl;\n    } else {\n      fileName = context.stl.name;\n    }\n  }\n\n  const [listOpen, setListOpen] = React.useState(true);\n  const [fileList, setFileList] = React.useState([]);\n  const [uploadElement, setUploadElement] = useState(null);\n  const handleListItemClick = (event, currentFile) => {\n    context.setSelectedFile(currentFile.name);\n  };\n  const swapTrasformTool = (e, file) => {\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.control.attach(mesh);\n      }\n    }\n  };\n\n  const deleteFile = (file) => {\n    console.log('deleting '+file.name)\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.objRoot.remove(mesh);\n      }\n    }\n\n    let filesWithoutDeleted = fileList.filter(function( obj ) {\n    return obj.name !== file.name;\n    });\n\n    if(filesWithoutDeleted) {\n      setFileList(filesWithoutDeleted);\n    }\n  };\n\n  useMountEffect(() => {\n    if(context.stl) {\n      if(typeof context.stl == \"string\") {\n        getFile(fileName).then(function(data) {\n          let file = new File([data], fileName);\n          setFileList([{\n              'name': fileName,\n              'file': file\n            }]\n          );\n        });\n      } else {\n        setFileList([{\n          'name': fileName,\n          'file': context.stl\n        }]);\n      }\n    }\n\n  });\n\n  return (\n    <>\n      <div className=\"files-panel\">\n          <AppContext.Consumer>\n            {() => (\n              <>\n              <Accordion expanded={listOpen} onChange={() => setListOpen(!listOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Object List\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails style={{justifyContent:\"center\"}}>\n                <Grid container direction=\"column\" item xs>\n                  {fileList.length > 0 && (\n                    <Grid item xs>\n                    <List aria-label=\"file-list\" style={{width:'100%'}}>\n                    {fileList.length > 0 && fileList.map((currentFile, index) => {\n                      return (\n                        <ListItem\n                          button\n                          selected={context.selectedFile === currentFile.name}\n                          onClick={(event) => handleListItemClick(event, currentFile)}\n                          style={{backgroundColor:'#b7b7b7'}}\n                          key={index}\n                        >\n                          <ListItemIcon>\n                            <Checkbox\n                              checked={context.selectedFile === currentFile.name}\n                              onChange={ (e) => swapTrasformTool(e, currentFile)}\n                              color=\"primary\"\n                              inputProps={{ 'aria-label': 'secondary checkbox' }}\n                            />\n                          </ListItemIcon>\n                          <ListItemText primary={currentFile.name} />\n                          <ListItemSecondaryAction>\n                            <IconButton edge=\"end\" aria-label=\"delete-file\" onClick={(event) => deleteFile(currentFile)}>\n                              <DeleteForever style={{color:'#ca0000'}}/>\n                            </IconButton>\n                          </ListItemSecondaryAction>\n                        </ListItem>\n                      )\n                    })}\n                    </List>\n                    </Grid>\n                  )}\n                  <Grid container item direction=\"column\" alignItems=\"center\" justify=\"center\" xs>\n                  <Grid item>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => {\n                      uploadElement.click();\n                    }}\n                  >\n                    <Add />\n                     Add New STL\n                     <input\n                       style={{ display: \"none\" }}\n                       type=\"file\"\n                       onChange={async (e) => {\n                         let file = e.target.files[0];\n                         if(file) {\n                           setFileList([...fileList, {\n                             'name': file.name,\n                             'file': file\n                           }]);\n                           let match = /.+\\.(stl)$/gi.exec(file.name);\n                           if (match) {\n                             const fileType = match[1].toLowerCase();\n                             if (fileType === \"stl\") {\n                               let reader = new FileReader();\n                               reader.addEventListener( 'load', function ( event ) {\n\n                                 let contents = event.target.result;\n                                 console.log(contents);\n                                 let geometry = new STLLoader().parse( contents );\n                                 console.log(contents);\n                                 geometry.sourceType = \"stl\";\n                                 geometry.sourceFile = contents;\n                                 let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n                                 let mesh = new THREE.Mesh( geometry, material );\n                                 mesh.name = contents.name;\n                                 mesh.position.set(\n                                       0, //x\n                                       1, //y\n                                       0  //z\n                                   );\n                                   mesh.rotation.set( 0, 0, 0 );\n                                   mesh.scale.set( 1, 1, 1 );\n                                   mesh.name = file.name;\n                                   mesh.castShadow = false;\n                                   mesh.receiveShadow = false;\n                                   mesh.geometry.center();\n                                   mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n                                   context.control.addEventListener( 'objectChange', function( e ) {\n                                     mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n                                   });\n\n                                   mesh.on('click', function(ev) {\n                                     console.log(\"clicked \"+mesh.name+\"!\");\n                                     context.control.attach(mesh);\n                                     context.control.enabled = true;\n                                     context.setSelectedFile(mesh.name);\n                                     context.control.showX = true;\n                                     context.control.showY = true;\n                                     context.control.showZ = true;\n                                     if(context.control.mode == 'translate') {\n                                       context.setTransformValue('position');\n                                     } else if(context.control.mode == 'rotate') {\n                                       context.setTransformValue('rotation');\n                                     } else {\n                                       console.log(context.control.mode);\n                                       context.setTransformValue(context.control.mode);\n                                     }\n                                   });\n\n                                   mesh.on('touchend', function(ev) {\n                                     console.log(\"touched \"+mesh.name+\"!\");\n                                     context.control.attach(mesh);\n                                     context.control.enabled = true;\n                                     context.setSelectedFile(mesh.name);\n                                     context.control.showX = true;\n                                     context.control.showY = true;\n                                     context.control.showZ = true;\n                                     if(context.control.mode == 'translate') {\n                                       context.setTransformValue('position');\n                                     } else if(context.control.mode == 'rotate') {\n                                       context.setTransformValue('rotation');\n                                     } else {\n                                       console.log(context.control.mode);\n                                       context.setTransformValue(context.control.mode);\n                                     }\n                                   });\n\n                                   context.objRoot.add(mesh);\n                                   //combine all meshes into one object group\n                                   context.setModifiedStl(context.objRoot);\n                                   //scene.add( control );\n                               }, false );\n                               reader.readAsBinaryString(file);\n                             }\n                           } else {\n                             //Something wrong with file\n                           }\n\n                         }\n                       }}\n                       ref={(ref) => {\n                         setUploadElement(ref);\n                       }}\n                       accept=\".stl,.STL\"\n                     />\n                  </Button>\n                  </Grid>\n                  </Grid>\n                  </Grid>\n                </AccordionDetails>\n              </Accordion>\n              </>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default FilesPanel;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// the target DOM element for key events\n\tthis._domElementKeyEvents = null;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t}\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import * as THREE from \"three\";\nimport { Interaction } from 'three.interaction';\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport { OrbitControls } from '../RenderingUtils/OrbitControls';\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport AppContext from \"../../../../AppContext\";\nimport { ScreenShare, StarTwoTone } from \"@material-ui/icons\";\nimport {\n  Button,\n  ButtonGroup,\n  Grid,\n  Paper,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio\n} from \"@material-ui/core\";\nimport {\n  Loop,\n  OpenWith,\n  OpenInNew\n} from \"@material-ui/icons\";\nconst TransformControls = require('../RenderingUtils/TransformControls')(THREE);\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction rad2deg(rad) {\n  return (Math.PI * rad) / 180;\n}\n\nclass PrintRenderer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.canvas = React.createRef();\n    this.canvasBg = null;\n    this.rotationTarget = 0.0;\n    this.lastTime = null;\n\n    this.renderer = null;\n    this.scene = null;\n    this.control = null;\n    this.cameraHelper = null;\n    this.cameraPivot = null;\n    this.camera = null;\n    this.zTarget = 0;\n    this.gridObj = null;\n    this.magnetObj = null;\n    this.planeObj = null;\n    this.boundsObj = null;\n\n    this.showMagnetBed = false;\n    this.showBounds = false;\n    this.showGrid = false;\n    this.viewControls = null;\n  }\n\n  static contextType = AppContext;\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"test\");\n  }\n\n  componentDidMount() {\n    this.assignCanvas();\n  }\n\n  // GETING DATA FORM SELECT ELEMENT TO SET POSITION SCALE OR ROTATION IN TRANSFORMCONTROL\n  posRotScale = (value) => {\n\n      this.context.setTransformValue(value);\n\n      switch (value) {\n\n        case \"position\":\n          this.control.enabled = true;\n          this.control.setMode( \"translate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"rotation\":\n          this.control.enabled = true;\n          this.control.setMode( \"rotate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"scale\":\n          this.control.enabled = true;\n          this.control.setMode( \"scale\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"none\":\n          this.control.enabled = false;\n          this.control.showX = false;\n          this.control.showY = false;\n          this.control.showZ = false;\n          break;\n\n        default:;\n\n    }\n  };\n\n  assignCanvas() {\n    // this.canvas = canvas;\n    let canvasBg = this.canvas.current.parentElement;\n    this.canvas.current.width = canvasBg.clientWidth;\n    this.canvas.current.height = canvasBg.clientHeight;\n    this.initCanvas(\n      this.canvas.current,\n      this.canvas.current.width,\n      this.canvas.current.height\n    );\n  }\n\n  initCanvas(canvas, width, height) {\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n\n    const renderer = new THREE.WebGLRenderer({ canvas });\n    renderer.setSize(width, height);\n    scene.background = new THREE.Color( 0xd1d1d1 );\n    const interaction = new Interaction(renderer, scene, camera);\n    //Create a ground plane to display our mesh on\n    //const gpTexture = new THREE.TextureLoader().load(\"./buildplane.png\");\n    const gpMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(800, 800, 1, 1),\n      new THREE.MeshBasicMaterial({ color: 0xd1d1d1 })\n    );\n    scene.add(gpMesh);\n    this.planeObj = gpMesh;\n\n    //Create alternate ground plane that renders the magnetic build surface\n    const magTexture = new THREE.TextureLoader().load(\"./magnet.png\");\n    const magMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(341.3, 341.3, 1, 1),\n      new THREE.MeshBasicMaterial({ map: magTexture, transparent:true })\n    );\n    magMesh.position.y = -10;\n    magMesh.position.z = -1;\n    scene.add(magMesh);\n    this.magnetObj = magMesh;\n    this.magnetObj.visible = false;\n\n    const path = new THREE.Path();\n    path.moveTo(-150, -150);\n    path.lineTo(150, -150);\n    path.lineTo(150, 150);\n    path.lineTo(-150, 150);\n    path.lineTo(-150, -150);\n    const pathMesh = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(path.getPoints()),\n      new THREE.LineBasicMaterial({ color: 0xff0000, linewidth: 1 })\n    );\n    pathMesh.position.z = 0.25;\n    scene.add(pathMesh);\n    pathMesh.visible = false;\n    this.boundsObj = pathMesh;\n\n    // Add grid visual\n    let grid = new THREE.GridHelper(300, 30, 0x555555, 0x555555);\n    grid.rotation.set(Math.PI / 2, 0, 0);\n    grid.position.set(0, 0, 0);\n    scene.add(grid);\n    grid.visible = false;\n    this.gridObj = grid;\n    let zTarget = this.zTarget;\n    let rotationTarget = this.rotationTarget;\n    let currentContext = this.context;\n\n    let buildGeometry = new THREE.BoxGeometry(300, 300, 400, 10, 10, 10);\n    let buildEdges = new THREE.EdgesGeometry( buildGeometry );\n    let buildLines = new THREE.LineSegments( buildEdges, new THREE.LineBasicMaterial( { color: 0x555555 } ) );\n    buildLines.position.z = 200;\n    scene.add(buildLines);\n\n    camera.up = new THREE.Vector3( 0, 0, 1 );\n\n    let control = new TransformControls( camera, renderer.domElement );\n    this.viewControls = new OrbitControls( camera, renderer.domElement );\n    let cameraControl = this.viewControls;\n\n    camera.position.y = -400;\n    camera.position.z = 200;\n\n    cameraControl.update();\n    // TODO: bring this back if we re-enable the NavigationPanel\n    //this.viewControls.addEventListener( 'change', function (e) {\n    //     currentContext.setZoom((camera.position.y + 350)  / 3);\n    //     currentContext.addRotation(rad2deg(rotationTarget) - currentContext.camRotation);\n    //     currentContext.addZ(zTarget);\n    //});\n\n    let mesh = null;\n    let context = this.context;\n    control.enabled = false;\n    control.showX = false;\n    control.showY = false;\n    control.showZ = false;\n    control.setSize(2);\n    cameraControl.maxDistance = 900.00;\n\n    const objRoot = new THREE.Group();\n    const loader = new STLLoader();\n    console.log(\"stl\", this.context.stl);\n\n    if(this.context.stl) {\n      if(typeof this.context.stl == \"string\") {\n        this.context.setFileName(this.context.stl);\n        loader.load(`http://${window.location.hostname}:9990/${this.context.stl}`, (geo) => {\n          const mat = new THREE.MeshPhongMaterial({\n            color: 0xffffff,\n            specular: 0x111111,\n            shininess: 200\n          });\n          //   const mat = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n          mesh = new THREE.Mesh(geo, mat);\n          mesh.name = this.context.stl;\n          mesh.position.set(0, 0, 0);\n          //   m.scale.set(0.05, 0.05, 0.05);\n          //   m.setRotationFromEuler(new THREE.Euler(deg2rad(-90), 0, 0));\n          mesh.geometry.center();\n          control.attach( mesh );\n          mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          control.addEventListener( 'objectChange', function( e ) {\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          });\n          control.addEventListener('mouseDown', function () {\n              cameraControl.enabled = false;\n          });\n          control.addEventListener('mouseUp', function () {\n              cameraControl.enabled = true;\n          });\n          control.enabled = false;\n          control.showX = false;\n          control.showY = false;\n          control.showZ = false;\n\n          mesh.on('click', function(ev) {\n            console.log(\"clicked \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          mesh.on('touchend', function(ev) {\n            console.log(\"touched \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          objRoot.add(mesh);\n          this.context.setModifiedStl(mesh);\n          scene.add( control );\n        });\n\n      } else {\n        let reader = new FileReader();\n        let context = this.context;\n        context.setFileName(this.context.stl.name);\n        reader.addEventListener( 'load', function ( event ) {\n\n          let contents = event.target.result;\n          let geometry = new STLLoader().parse( contents );\n          console.log(contents);\n          geometry.sourceType = \"stl\";\n          geometry.sourceFile = contents;\n          let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n          mesh = new THREE.Mesh( geometry, material );\n          mesh.name = context.stl.name;\n          mesh.position.set(\n                0, //x\n                1, //y\n                0  //z\n            );\n            mesh.rotation.set( 0, 0, 0 );\n            mesh.scale.set( 1, 1, 1 );\n            mesh.castShadow = false;\n            mesh.receiveShadow = false;\n            mesh.geometry.center();\n            control.attach( mesh );\n            control.enabled = true;\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            control.addEventListener( 'objectChange', function( e ) {\n              mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            });\n            control.addEventListener('mouseDown', function () {\n                cameraControl.enabled = false;\n            });\n            control.addEventListener('mouseUp', function () {\n                cameraControl.enabled = true;\n            });\n\n            mesh.on('click', function(ev) {\n              console.log(\"clicked \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            mesh.on('touchend', function(ev) {\n              console.log(\"touched \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            objRoot.add(mesh);\n            context.setModifiedStl(mesh);\n            scene.add( control );\n        }, false );\n\n        reader.readAsBinaryString(this.context.stl);\n      }\n    } else {\n      control.addEventListener('mouseDown', function () {\n          cameraControl.enabled = false;\n      });\n      control.addEventListener('mouseUp', function () {\n          cameraControl.enabled = true;\n      });\n    }\n\n    scene.add(objRoot);\n    //control.attach( objRoot );\n    scene.add( control );\n\n    scene.add(camera);\n    scene.add(new THREE.HemisphereLight(0xffffff, 0x111533));\n\n    scene.on('click', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    scene.on('touchend', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.control = control;\n    //this.cameraHelper = cameraHelper;\n    //this.cameraPivot = cameraPivot;\n\n    this.context.setControl(this.control);\n    this.context.setScene(this.scene);\n    this.context.setCamera(this.camera);\n    this.context.setObjRoot(objRoot);\n\n    this.renderFrame();\n  }\n\n  renderFrame() {\n    requestAnimationFrame(this.renderFrame.bind(this));\n    // TODO bring this back if re-enabling NavigationPanel\n    // let camCurrent = this.cameraPivot.rotation.z;\n    // this.cameraPivot.rotation.z = camCurrent;\n    // this.cameraPivot.rotation.z= THREE.MathUtils.lerp(\n    //   camCurrent,\n    //   this.rotationTarget,\n    //   0.01\n    // );\n    //\n    // let currentHeight = this.cameraPivot.position.z;\n    // this.cameraPivot.position.z = THREE.MathUtils.lerp(\n    //   currentHeight,\n    //   this.zTarget,\n    //   0.01\n    // );\n    this.viewControls.update();\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  render() {\n    let value = this.context;\n\n    try {\n      // TODO bring this back if re-enabling NavigationPanel\n      // this.camera.position.y = -350 + value.camZoom * 3;\n      // this.rotationTarget = deg2rad(value.camRotation);\n      // this.zTarget = value.camZ;\n      this.viewControls.update();\n\n      this.boundsObj.visible = value.showBounds;\n      this.planeObj.visible = !value.showMagnet;\n      this.magnetObj.visible = value.showMagnet;\n      this.gridObj.visible = value.showGrid;\n    } catch (err) {}\n\n    console.log(\"test2\");\n    return (\n      <>\n        <div className=\"transform-panel\">\n          <ButtonGroup\n            orientation=\"vertical\"\n            color=\"primary\"\n            aria-label=\"vertical outlined primary button group\"\n          >\n            <Button onClick={() => this.posRotScale(\"scale\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'scale' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'scale' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <OpenInNew style={{left: -10, position: 'relative'}} /> Scale\n            </Button>\n            <Button onClick={() => this.posRotScale(\"position\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'position' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'position' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <OpenWith style={{left: -12, position: 'relative'}} /> Move\n            </Button>\n            <Button onClick={() => this.posRotScale(\"rotation\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'rotation' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'rotation' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <Loop style={{left: -6, position: 'relative'}} /> Rotate\n            </Button>\n          </ButtonGroup>\n        </div>\n        <div className=\"render-canvas-bg\">\n          <canvas id=\"three-scene\" className=\"render-canvas\" ref={this.canvas}></canvas>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default PrintRenderer;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Grid,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  Switch\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  ExpandMore,\n  RotateLeft,\n  RotateRight,\n  Settings,\n  Videocam,\n  ZoomIn,\n  ZoomOut\n} from \"@material-ui/icons\";\nimport React from \"react\";\n\nimport AppContext from \"../../../../AppContext\";\n\nimport \"./style.css\";\n\nfunction SettingsPanel() {\n  const [settingsOpen, setSettingsOpen] = React.useState(true);\n  return (\n    <>\n      <div className=\"settingspanel\">\n          <AppContext.Consumer>\n            {({\n              showBounds,\n              setShowBounds,\n              showMagnet,\n              setShowMagnet,\n              showGrid,\n              setShowGrid\n            }) => (\n              <Accordion expanded={settingsOpen} onChange={() => setSettingsOpen(!settingsOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Display Settings\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                  <FormControl component=\"fieldset\">\n                    <FormGroup>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showMagnet}\n                            onChange={(e) => {\n                              setShowMagnet(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Magnetic Print Bed\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showBounds}\n                            onChange={(e) => {\n                              setShowBounds(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Printer Bounds\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showGrid}\n                            onChange={(e) => {\n                              setShowGrid(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Grid\"\n                      />\n                    </FormGroup>\n                  </FormControl>\n                </AccordionDetails>\n              </Accordion>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default SettingsPanel;\n","/**\n * Usage:\n *  var exporter = new THREE.STLExporter();\n *\n *  // second argument is a list of options\n *  var data = exporter.parse( mesh, { binary: true } );\n *\n */\n\n if(typeof THREE == 'undefined' && typeof require != 'undefined')\n \tvar THREE = require('three')\n\nvar STLExporter = function () {};\n\nSTLExporter.prototype = {\n\n\tconstructor: STLExporter,\n\n\tparse: function ( scene, options ) {\n\n\t\tif ( options === undefined ) options = {};\n\n\t\tvar binary = options.binary !== undefined ? options.binary : false;\n\n\t\t//\n\n\t\tvar objects = [];\n\t\tvar triangles = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isMesh ) {\n\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\tif ( geometry.isBufferGeometry !== true ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\t\ttriangles += ( index !== null ) ? ( index.count / 3 ) : ( positionAttribute.count / 3 );\n\n\t\t\t\tobjects.push( {\n\t\t\t\t\tobject3d: object,\n\t\t\t\t\tgeometry: geometry\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tvar output;\n\t\tvar offset = 80; // skip header\n\n\t\tif ( binary === true ) {\n\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer( bufferLength );\n\t\t\toutput = new DataView( arrayBuffer );\n\t\t\toutput.setUint32( offset, triangles, true ); offset += 4;\n\n\t\t} else {\n\n\t\t\toutput = '';\n\t\t\toutput += 'solid exported\\n';\n\n\t\t}\n\n\t\tvar vA = new THREE.Vector3();\n\t\tvar vB = new THREE.Vector3();\n\t\tvar vC = new THREE.Vector3();\n\t\tvar cb = new THREE.Vector3();\n\t\tvar ab = new THREE.Vector3();\n\t\tvar normal = new THREE.Vector3();\n\n\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\tvar object = objects[ i ].object3d;\n\t\t\tvar geometry = objects[ i ].geometry;\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < index.count; j += 3 ) {\n\n\t\t\t\t\tvar a = index.getX( j + 0 );\n\t\t\t\t\tvar b = index.getX( j + 1 );\n\t\t\t\t\tvar c = index.getX( j + 2 );\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < positionAttribute.count; j += 3 ) {\n\n\t\t\t\t\tvar a = j + 0;\n\t\t\t\t\tvar b = j + 1;\n\t\t\t\t\tvar c = j + 2;\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( binary === false ) {\n\n\t\t\toutput += 'endsolid exported\\n';\n\n\t\t}\n\n\t\treturn output;\n\n\t\tfunction writeFace( a, b, c, positionAttribute, object ) {\n\n\t\t\tvA.fromBufferAttribute( positionAttribute, a );\n\t\t\tvB.fromBufferAttribute( positionAttribute, b );\n\t\t\tvC.fromBufferAttribute( positionAttribute, c );\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tobject.boneTransform( a, vA );\n\t\t\t\tobject.boneTransform( b, vB );\n\t\t\t\tobject.boneTransform( c, vC );\n\n\t\t\t}\n\n\t\t\tvA.applyMatrix4( object.matrixWorld );\n\t\t\tvB.applyMatrix4( object.matrixWorld );\n\t\t\tvC.applyMatrix4( object.matrixWorld );\n\n\t\t\twriteNormal( vA, vB, vC );\n\n\t\t\twriteVertex( vA );\n\t\t\twriteVertex( vB );\n\t\t\twriteVertex( vC );\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setUint16( offset, 0, true ); offset += 2;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\tendloop\\n';\n\t\t\t\toutput += '\\tendfacet\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeNormal( vA, vB, vC ) {\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab ).normalize();\n\n\t\t\tnormal.copy( cb ).normalize();\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, normal.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\tfacet normal ' + normal.x + ' ' + normal.y + ' ' + normal.z + '\\n';\n\t\t\t\toutput += '\\t\\touter loop\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeVertex( vertex ) {\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, vertex.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\t\\tvertex ' + vertex.x + ' ' + vertex.y + ' ' + vertex.z + '\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\nexport default STLExporter;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Modal,\n  Paper,\n  TextField,\n  Typography,\n  Grid,\n  Select,\n  Slider,\n  Switch,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  Drawer,\n  Button\n} from \"@material-ui/core\";\nimport { ArrowBack, ExpandMore, Menu } from \"@material-ui/icons\";\nimport React, { Component, useState } from \"react\";\nimport \"./style.css\";\nimport { withStyles } from \"@material-ui/styles\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport FilesPanel from \"../3dViewer/FilesPanel\";\nimport PrintRenderer from \"../3dViewer/PrintRenderer\";\nimport NavigationPanel from \"../3dViewer/NavigationPanel\";\nimport SettingsPanel from \"../3dViewer/SettingsPanel\";\nimport AppContext from \"../../../AppContext\";\nimport STLExporter from \"../3dViewer/RenderingUtils/ExportSTL\";\n\nconst styles = (theme) => ({\n  formControl: {\n    minWidth: 250,\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: \"#000\"\n    },\n    \"& .MuiInputLabel-root\": {\n      color: \"#000\"\n    },\n    \"& .MuiSelect-select.MuiSelect-select\": {\n      color: \"#000\"\n    },\n    \"& .MuiFormLabel-root.MuiInputLabel-animated.MuiInputLabel-shrink.MuiFormLabel-filled\": {\n      color: \"#000\",\n      minWidth: 236\n    },\n    \"& .MuiInput-input\": {\n      color: \"#000\"\n    },\n    \"& #standard-basic-helper-text\": {\n      color: \"red\"\n    }\n  },\n  mainContainer: {\n    marginTop: 20,\n    width: 300\n  },\n  slider: {\n    width: 215\n  },\n  drawerContainer: {\n    width: '25vw',\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  settingsDrawer: { /* hidden behind viewer rn */\n    position: \"fixed\",\n    top: 5,\n    right: 5\n  },\n  settingsBack: {\n    position: \"fixed\",\n    top: 5,\n    left: 5,\n    zIndex: 100,\n    backgroundColor: \"#424242\",\n    color: \"white\",\n    paddingRight: \"10px\",\n    \"&:hover\": {\n      backgroundColor: \"#42424280\",\n    }\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n});\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction setProfileSettings(slicer, type) {\n  switch (type) {\n\n    case \"petg_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,60);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    default:\n      return slicer;\n  }\n}\n\nfunction setHeadTemp(slicer, temp) {\n  setChildSettings(slicer.settings.material.children.default_material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, temp);\n  setChildSettings(slicer.settings.material.children.material_initial_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_final_print_temperature, temp);\n  return slicer;\n}\n\nfunction setBedTemp(slicer, temp) {\n\n  setChildSettings(slicer.settings.material.children.default_material_bed_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_bed_temperature, temp);\n\n  return slicer;\n}\n\nfunction setInfillType(slicer, type) {\n  setChildSettings(slicer.settings.infill.children.infill_pattern, type);\n  slicer.settings.infill.children.infill_pattern.value = `\"'lines' if infill_sparse_density > 25 else '${type}'\"`;\n  slicer.settings.infill.children.infill_pattern.default_value = type;\n  return slicer;\n}\n\nfunction setFlowRate(slicer, rate) {\n  setChildSettings(slicer.settings.material.children.material_flow, rate);\n  return slicer;\n}\n\nfunction setStickType(slicer, type) {\n  setChildSettings(slicer.settings.platform_adhesion.children.adhesion_type, type);\n  return slicer;\n}\n\nfunction setSpeed(slicer, pace) {\n\n  setChildSettings(slicer.settings.speed.children.speed_print,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,pace);\n\n  return slicer;\n}\n\nfunction setStructure(slicer, struct) {\n  setChildSettings(slicer.settings.support.children.support_structure, struct);\n  return slicer;\n}\n\nfunction setSupportType(slicer, type) {\n  setChildSettings(slicer.settings.support.children.support_pattern, type);\n  return slicer;\n}\n\nfunction setChildSettings(setting, value) {\n  // ref: https://github.com/Ultimaker/CuraEngine/issues/450\n  setting.value = value;\n  setting.default_value = value;\n  traverseChildSettings(setting, value);\n}\n\nfunction traverseChildSettings(setting, value) {\n  if(setting.hasOwnProperty('children')) {\n    for (var property in setting.children) {\n      setChildSettings(setting.children[property], value);\n    }\n  }\n}\n\nfunction setInfillLineDistance(slicer, percent_density) {\n  // infill line distance is what we really need to set\n  if (percent_density === 0) {\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = 0;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = 0;\n  } else {\n    let multiplier = setInfillMultiplier(\n      slicer.settings.infill.children.infill_pattern.default_value\n    );\n    let infillLineWidth =\n      slicer.settings.resolution.children.line_width.children.infill_line_width\n        .default_value;\n    let infillLineDistance =\n      ((infillLineWidth * 100) / percent_density) * multiplier;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = infillLineDistance;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = infillLineDistance;\n  }\n  return slicer;\n}\n\nfunction setInfillMultiplier(infill_pattern) {\n  switch (infill_pattern) {\n    case \"triangles\":\n    case \"trihexagon\":\n    case \"cubic\":\n    case \"cubicsubdiv\":\n      return 3;\n    case \"grid\":\n    case \"tetrahedral\":\n    case \"quarter_cubic\":\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction getStlGroupName(meshes) {\n  console.log(meshes);\n  let name = '';\n  for (let idx in meshes) {\n    let mesh = meshes[idx];\n    let match = /.+\\.(stl)$/gi.exec(mesh.name);\n    if (match) {\n      name += match[0] + '-';\n    }\n  }\n  name = name.slice(0, -1);\n  name += '.stl';\n  console.log(name);\n  return name;\n}\n\nclass SliceModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shown: props.shown || false,\n      loading: false,\n      filament: \"pla\",\n      quality: \"good\",\n      infill: 20,\n      infill_type: \"grid\",\n      flow: 100,\n      stick_type: \"skirt\",\n      nozzle: 220,\n      bed: 50,\n      speed: 50,\n      supports: false,\n      vase: false,\n      structure: \"normal\",\n      support_type: \"grid\",\n      file: props.file,\n      camZoom: 0,\n      camRotation: 0,\n      camZ: 0,\n      camera: null,\n      control: null,\n      scene: null,\n      objRoot: null,\n      showMagnet: true,\n      showBounds: true,\n      showGrid: true,\n      stl: props.file,\n      modifiedStl: null,\n      selectedFile: null,\n      transformValue: \"position\",\n      fileName: \"file.stl\",\n      drawerOpen: true,\n      slicerOpen: true,\n      savedFile: false,\n      stlName: \"\",\n      userMode: \"beginner\",\n      fillMode: \"normal\",\n      infill_patterns: {grid: \"Grid\"},\n      stick_patterns: {skirt: \"Skirt\"},\n      structures: {normal: \"Normal\"},\n      support_types: {grid: \"Grid\"}\n    };\n\n    this.defaultSettings = {};\n  }\n\n  componentDidMount() {\n    this.getSettings();\n    this.setState({ userMode: getStorage(\"userMode\")});\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      this.setState({ filament: 'pla'});\n    }\n  }\n\n  handleFileSaveOpen() {\n    this.setState({ savedFile: true })\n  };\n\n  async getSettings() {\n    let onboardSettings = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/settings`,\n      {\n        method: \"GET\"\n      }\n    );\n\n    this.defaultSettings = await onboardSettings.json();\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('infill') &&\n       this.defaultSettings.settings.infill.children.infill_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        infill_patterns: this.defaultSettings.settings.infill.children.infill_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('platform_adhesion') &&\n       this.defaultSettings.settings.platform_adhesion.children.adhesion_type.hasOwnProperty('options')\n    ) {\n      this.setState({\n        stick_patterns: this.defaultSettings.settings.platform_adhesion.children.adhesion_type.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        support_types: this.defaultSettings.settings.support.children.support_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_structure.hasOwnProperty('options')\n    ) {\n      this.setState({\n        structures: this.defaultSettings.settings.support.children.support_structure.options\n      });\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return { shown: props.shown };\n  }\n\n  async setSliceAndStartPrint(meshes, startPrint) {\n    this.setState({ loading: true });\n    let settings = this.defaultSettings;\n    let profile_type = this.state.filament + '_' + this.state.quality;\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      profile_type = 'pla_' + this.state.quality;\n\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    settings = setProfileSettings(settings, profile_type);\n\n    settings = setInfillLineDistance(settings, this.state.infill);\n\n    settings.settings.infill.children.infill_sparse_density.value = this.state.infill;\n    settings.settings.infill.children.infill_sparse_density.default_value = this.state.infill;\n    settings.settings.support.children.support_enable.value = this.state.supports;\n    settings.settings.support.children.support_enable.default_value = this.state.supports;\n    settings.settings.blackmagic.children.magic_spiralize.value = this.state.vase;\n    settings.settings.blackmagic.children.magic_spiralize.default_value = this.state.vase;\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      settings.settings.blackmagic.children.magic_spiralize.value = 0;\n      settings.settings.blackmagic.children.magic_spiralize.default_value = 0;\n    } else {\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    if(getStorage(\"userMode\") == 'expert') {\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n    }\n\n    let data = new FormData();\n    //let stlFile = fromMesh(this.state.modifiedStl, false);\n    let exporter = new STLExporter();\n    let stlString = exporter.parse( this.state.modifiedStl );\n    let mimeType = 'application/vnd.ms-pki.stl';\n    let blob = new Blob([stlString], { type: mimeType });\n    let groupedStlName = getStlGroupName(meshes);\n    let buildFileName = this.state.stlName ? this.state.stlName+'.stl' : groupedStlName;\n    let realFile = new File([blob], buildFileName);\n    data.append(\"file\", realFile);\n    data.append(\"json\", JSON.stringify(settings));\n    let resp = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/files/${buildFileName}`,\n      { method: \"POST\", body: data }\n    );\n    if (resp.status === 200) {\n      //Success\n      if(startPrint) {\n        await fetch(\n          `http://${window.location.hostname}:2127/api/v1/job/${buildFileName}`,\n          {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }\n        );\n        this.props.onClose();\n      } else {\n        this.handleFileSaveOpen();\n      }\n    } else {\n      //Error message\n      if (this.props.onFailure) {\n        this.props.onFailure();\n      }\n    }\n    this.setState({ loading: false });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const sliceModal = this;\n\n    function addRotation(deg) {\n      sliceModal.setState({ camRotation: sliceModal.state.camRotation + deg })\n    }\n\n    function setZoom(zoom) {\n      sliceModal.setState({ camZoom: zoom })\n    }\n\n    function addZ(z) {\n      sliceModal.setState({ camZ: clamp(sliceModal.state.camZ + z, 0, 200) })\n    }\n\n    return (\n      <>\n        <Modal\n          open={this.state.shown}\n          onClose={() => {\n            this.props.onClose();\n            this.setState({ shown: false });\n          }}\n          disableBackdropClick\n        >\n          <div className=\"modal\">\n            <Button onClick={() => {\n                this.props.onClose();\n                this.setState({ shown: false });\n              }}\n              color=\"primary\" className={classes.settingsBack} autoFocus>\n              <ArrowBack />\n              Exit Viewer\n            </Button>\n\n            <IconButton className={classes.settingsDrawer} aria-label=\"print-settings\" onClick={() => this.setState({ drawerOpen: !this.state.drawerOpen })}>\n              <Menu />\n            </IconButton>\n            <Grid container className={classes.mainContainer}>\n            <Grid item>\n              <AppContext.Provider\n                value={{\n                  camRotation: this.state.camRotation,\n                  camZoom: this.state.camZoom,\n                  camZ: this.state.camZ,\n                  camera: this.state.camera,\n                  showMagnet: this.state.showMagnet,\n                  showBounds: this.state.showBounds,\n                  showGrid: this.state.showGrid,\n                  stl: this.props.file,\n                  transformValue: this.state.transformValue,\n                  modifiedStl: this.state.modifiedStl,\n                  fileName: this.state.fileName,\n                  control: this.state.control,\n                  scene: this.state.scene,\n                  objRoot: this.state.objRoot,\n                  selectedFile: this.state.selectedFile,\n                  setModifiedStl: (stl) => {\n                    this.setState({ modifiedStl: stl });\n                  },\n                  setFileName: (name) => {\n                    this.setState({ fileName: name });\n                  },\n                  addRotation: (deg) => {\n                    addRotation(deg);\n                  },\n                  setZoom: (zoom) => {\n                    setZoom(zoom);\n                  },\n                  addZ: (z) => {\n                    addZ(z);\n                  },\n                  setTransformValue: (value) => {\n                    this.setState({ transformValue: value });\n                  },\n                  setCamera: (val) => {\n                    this.setState({ camera: val });\n                  },\n                  setShowMagnet: (val) => {\n                    this.setState({ showMagnet: val });\n                  },\n                  setShowBounds: (val) => {\n                    this.setState({ showBounds: val });\n                  },\n                  setShowGrid: (val) => {\n                    this.setState({ showGrid: val });\n                  },\n                  setControl: (control) => {\n                    this.setState({ control: control });\n                  },\n                  setScene: (scene) => {\n                    this.setState({ scene: scene });\n                  },\n                  setObjRoot: (objRoot) => {\n                    this.setState({ objRoot: objRoot });\n                  },\n                  setSelectedFile: (file) => {\n                    this.setState({ selectedFile: file });\n                  },\n                }}\n              >\n              <PrintRenderer />\n              <Drawer\n                anchor=\"right\"\n                open={this.state.drawerOpen}\n                onClose={() => this.setState({ drawerOpen: false })}\n                classes={{\n                  paper: classes.drawerContainer\n                }}\n                variant=\"persistent\"\n              >\n                <FilesPanel />\n                <Accordion expanded={this.state.slicerOpen} onChange={() => this.setState({slicerOpen: !this.state.slicerOpen})}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMore />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                  >\n                    <Typography>\n                    Slicer Settings\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                    <Grid item style={{ zIndex: 2 }}>\n                        { this.state.userMode !== 'beginner' && (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"fil\">Filament Type</InputLabel>\n                              <Select\n                                labelId=\"fil\"\n                                value={this.state.filament}\n                                onChange={(e) => {\n                                  this.setState({ filament: e.target.value });\n                                }}\n                              >\n                                <MenuItem value=\"pla\">PLA</MenuItem>\n                                <MenuItem value=\"petg\">PETG</MenuItem>\n                                <MenuItem value=\"tpu\">TPU</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        )}\n                        { this.state.userMode === 'beginner' ? (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"str\">Model Strength</InputLabel>\n                              <Select\n                                labelId=\"str\"\n                                value={this.state.fillMode}\n                                onChange={(e) => {\n                                  this.setState({ fillMode: e.target.value });\n                                  if(e.target.value == 'hollow') {\n                                    this.setState({ infill: 0 });\n                                  } else if (e.target.value == 'normal') {\n                                    this.setState({ infill: 20 });\n                                  } else if(e.target.value == 'solid') {\n                                    this.setState({ infill: 100 });\n                                  }\n                                }}\n                              >\n                                <MenuItem value=\"hollow\">Hollow</MenuItem>\n                                <MenuItem value=\"normal\">Normal</MenuItem>\n                                <MenuItem value=\"solid\">Solid</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        ) : (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"standard-basic\"\n                              value={this.state.infill}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ infill: value });\n                              }}\n                              type=\"number\"\n                              label=\"Infill Density\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 100,\n                                maxLength: 3\n                              }}\n                              error={(this.state.infill < 0 || this.state.infill > 100) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.infill > 100) ?\n                                \"Value must be at or between 0 and 100.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.infill < 0 || this.state.infill > 100) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"filtype\">Infill Type</InputLabel>\n                              <Select\n                                labelId=\"filtype\"\n                                value={this.state.infill_type}\n                                onChange={(e) => {\n                                  this.setState({ infill_type: e.target.value });\n                                }}\n                              >\n                              {this.state.infill_patterns && Object.entries(this.state.infill_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <InputLabel id=\"qual\">Quality</InputLabel>\n                            <Select\n                              labelId=\"qual\"\n                              value={this.state.quality}\n                              onChange={(e) => {\n                                this.setState({ quality: e.target.value });\n                              }}\n                            >\n                              <MenuItem value=\"good\">Fastest Print</MenuItem>\n                              <MenuItem value=\"better\">Normal Quality</MenuItem>\n                              <MenuItem value=\"best\">Best Quality</MenuItem>\n                            </Select>\n                          </FormControl>\n                        </Grid>\n                        { this.state.userMode === 'expert' && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"stiktype\">Adhesion Type</InputLabel>\n                              <Select\n                                labelId=\"stiktype\"\n                                value={this.state.stick_type}\n                                onChange={(e) => {\n                                  this.setState({ stick_type: e.target.value });\n                                }}\n                              >\n                              {this.state.stick_patterns && Object.entries(this.state.stick_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"flow-rate\"\n                              value={this.state.flow}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ flow: value });\n                              }}\n                              type=\"number\"\n                              label=\"Flow Rate\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 200,\n                                maxLength: 3\n                              }}\n                              error={(this.state.flow < 0 || this.state.flow > 200) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.flow > 200) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.flow < 0 || this.state.flow > 200) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"nozzle-temp\"\n                              value={this.state.nozzle}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ nozzle: value });\n                              }}\n                              type=\"number\"\n                              label=\"Nozzle Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 260,\n                                maxLength: 3\n                              }}\n                              error={(this.state.nozzle < 0 || this.state.nozzle > 260) ? true : false}\n                              helperText={\n                                (this.state.nozzle < 0 || this.state.nozzle > 260) ?\n                                \"Value must be at or between 0 and 260.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.nozzle < 0 || this.state.nozzle > 260) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"bed-temp\"\n                              value={this.state.bed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ bed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Bed Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 70,\n                                maxLength: 3\n                              }}\n                              error={(this.state.bed < 0 || this.state.bed > 70) ? true : false}\n                              helperText={\n                                (this.state.bed < 0 || this.state.bed > 70) ?\n                                \"Value must be at or between 0 and 70.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.bed < 0 || this.state.bed > 70) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"speed-rate\"\n                              value={this.state.speed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ speed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Print Speed\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 150,\n                                maxLength: 3\n                              }}\n                              error={(this.state.speed < 0 || this.state.speed > 150) ? true : false}\n                              helperText={\n                                (this.state.speed < 0 || this.state.speed > 150) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.speed < 0 || this.state.speed > 150) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormGroup row>\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.supports}\n                                  onChange={(e) => {\n                                    this.setState({ supports: e.target.checked });\n                                  }}\n                                  name=\"checkSupports\"\n                                />\n                              }\n                              label=\"Supports\"\n                            />\n                            { this.state.userMode !== 'beginner' && (\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.vase}\n                                  onChange={(e) => {\n                                    this.setState({ vase: e.target.checked });\n                                  }}\n                                  name=\"checkVase\"\n                                />\n                              }\n                              label=\"Vase Mode\"\n                            />\n                          )}\n                          </FormGroup>\n                        </Grid>\n                        { this.state.userMode === 'expert' && this.state.supports && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"struc\">Support Structure</InputLabel>\n                              <Select\n                                labelId=\"struc\"\n                                value={this.state.structure}\n                                onChange={(e) => {\n                                  this.setState({ structure: e.target.value });\n                                }}\n                              >\n                              {this.state.structures && Object.entries(this.state.structures).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"suptype\">Support Type</InputLabel>\n                              <Select\n                                labelId=\"suptype\"\n                                value={this.state.support_type}\n                                onChange={(e) => {\n                                  this.setState({ support_type: e.target.value });\n                                }}\n                              >\n                              {this.state.support_types && Object.entries(this.state.support_types).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item>\n                        <FormControl className={classes.formControl} style={{display:'none'}}>\n                          <TextField\n                            id=\"standard-basic\"\n                            value={this.state.stlName}\n                            onChange={(e) => {\n                              const { value } = e.target;\n                              this.setState({ stlName: value });\n                              console.log(this.state.stlName);\n                            }}\n                            type=\"text\"\n                            label=\"Set File Name\"\n                          />\n                          </FormControl>\n                        </Grid>\n                        <Grid item container style={{ marginTop: 20, justifyContent:\"center\", flexDirection:\"column\" }}>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              style={{marginBottom:5}}\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, false);\n                              }}\n                            >\n                              Slice & Save\n                            </Button>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, true);\n                              }}\n                            >\n                              Slice & Print\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    </Grid>\n                  </AccordionDetails>\n                </Accordion>\n                <SettingsPanel />\n              </Drawer>\n              {/* <NavigationPanel /> */}\n              </AppContext.Provider>\n            </Grid>\n            </Grid>\n            {this.state.loading && (\n              <>\n                <img\n                  alt=\"print\"\n                  src={imgPrint}\n                  style={{\n                    width: 200,\n                    height: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 100px)\"\n                  }}\n                ></img>\n                <h4\n                  style={{\n                    width: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 270px)\",\n                    textAlign: \"center\"\n                  }}\n                >\n                  Preparing File\n                </h4>\n              </>\n            )}\n            <Dialog\n              open={this.state.savedFile}\n              onClose={() => {\n                this.setState({ savedFile: false });\n                this.props.onClose();\n              }}\n              disableBackdropClick={true}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{\"Gcode File Saved\"}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  The generated gcode has been added to your printer storage.\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={() => {\n                    this.setState({ savedFile: false });\n                    this.props.onClose();\n                  }}\n                  color=\"primary\" className={classes.okButton} autoFocus>\n                  OK\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(SliceModal);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Snackbar,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableCell,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  ArrowBack,\n  ArrowForward,\n  Close,\n  DeleteForever,\n  Folder,\n  FolderOpen,\n  Home,\n  Layers,\n  Slideshow,\n  SystemUpdateAlt\n} from \"@material-ui/icons\";\nimport { formatBytes, getStorage } from \"../../../Utility/helpers\";\nimport protectedFiles from \"./protected_files.json\"\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport SliceModal from \"../SliceModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\"\n  },\n  modalContainer: {\n    padding: \"25px\",\n    width: 300,\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"200px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"20px\",\n    marginBottom: \"50px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"175px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  fileContainer: {\n    maxHeight: \"700px\",\n    overflow: \"auto\",\n    width: \"auto\"\n  },\n  fileLocation: {\n    overflow: \"scroll\",\n    height: \"400px\"\n  },\n  icon: {\n    width: \"40px\"\n  }\n}));\n\nfunction Treeify(files) {\n  var fileTree = {};\n\n  if (files instanceof Array === false) {\n    throw new Error(\"Expected an Array of file paths, but saw \" + files);\n  }\n\n  files.forEach(function parseFilePath(file) {\n    var filePath = file.display;\n    var fileLocation = filePath.split(\"/\");\n\n    // If file is in root directory, eg 'index.js'\n    if (fileLocation.length === 1) {\n      return (fileTree[fileLocation[0]] = file);\n    }\n\n    fileLocation.reduce(function mergePathsIntoFileTree(\n      prevDir,\n      currDir,\n      i,\n      filePath\n    ) {\n      if (i === filePath.length - 1) {\n        prevDir[currDir] = file;\n      }\n\n      if (!prevDir.hasOwnProperty(currDir)) {\n        prevDir[currDir] = {};\n      }\n\n      return prevDir[currDir];\n    },\n    fileTree);\n  });\n\n  return fileTree;\n}\n\nfunction isFolder(filename) {\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n\n  for (let idx in fileTypes) {\n    if (filename.endsWith(fileTypes[idx])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getFolderOnlyPath(o, id, path) {\n  //Early return\n  if (o === id) {\n    return path;\n  }\n  var result, p;\n  for (p in o) {\n    if (o.hasOwnProperty(p) && typeof o[p] === \"object\") {\n      if (isFolder(p)) {\n        path.push(p);\n        result = getFolderOnlyPath(o[p], id, path);\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n  return path;\n}\n\nfunction getFileDirectory(rootFiles, newFiles) {\n  let directory = [];\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n  let fileKeys = Object.keys(newFiles);\n\n  for (let fileIdx in fileKeys) {\n    for (let idx in fileTypes) {\n      if (fileKeys[fileIdx].endsWith(fileTypes[idx])) {\n        if (newFiles[fileKeys[fileIdx]].hasOwnProperty(\"display\")) {\n          let parts = newFiles[fileKeys[fileIdx]].display.split(\"/\");\n          directory = parts;\n          directory.pop();\n          return directory;\n        }\n      } else {\n        directory = getFolderOnlyPath(rootFiles, newFiles, []);\n      }\n    }\n  }\n  return directory;\n}\n\nfunction getSize(files) {\n  let size = 0;\n  Object.keys(files).forEach((key, i) => {\n    if (files[key].hasOwnProperty(\"size\")) {\n      size += files[key].size;\n    } else {\n      if(typeof files[key] == \"object\") {\n        size += getSize(files[key]);\n      }\n    }\n  });\n\n  return size;\n}\n\nfunction isFileProtected(filename) {\n  for (let idx in protectedFiles) {\n    if(protectedFiles[idx].name == filename) {\n      return true;\n    }\n  }\n  return false;\n}\n\nconst FileManager = ({\n  drawerOpen,\n  setDrawerOpen,\n  fileLocation,\n  manage,\n  update\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [files, setFiles] = useState([]);\n  const [rootFiles, setRootFiles] = useState([]);\n  const [storageUsed, setStorageUsed] = useState(0);\n  const [storageFree, setStorageFree] = useState(0);\n  const [storageTotal, setStorageTotal] = useState(0);\n  const [directories, setDirectories] = useState({});\n  const [currentDirectory, setCurrentDirectory] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const [retryCount, setRetryCount] = useState(0);\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://${window.location.hostname}:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(retryCount < maxRetryCount) {\n        setTimeout(() => {\n          setRetryCount(retryCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setSnackMessage(\"Software Update Failed. Please run the update again.\");\n        setShowSnack(true);\n      }\n\n    });\n  };\n\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  useEffect(() => {\n    if (drawerOpen) {\n      setLoading(true);\n      //make api call to fetch files\n      //use fileLocation (usb or local) to determine which call to make\n      async function getFiles() {\n        // Default options are marked with *\n        let response = null;\n\n        if (fileLocation === \"local\") {\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n            method: \"GET\"\n          });\n        } else {\n          await fetch(`http://${window.location.hostname}:2127/api/v1/usb/refresh`, {\n            method: \"POST\"\n          });\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/usb/files`, {\n            method: \"GET\"\n          });\n        }\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n\n      getFiles().then((data) => {\n        if (fileLocation === \"local\") {\n          setFiles(data.files);\n          setStorageFree(data.free);\n          setStorageTotal(data.total);\n          setStorageUsed(data.total - data.free);\n        } else {\n          let fileTree = Treeify(data.files);\n          setFiles(fileTree);\n          setRootFiles(fileTree);\n        }\n        setLoading(false);\n      });\n\n    }\n  }, [drawerOpen, fileLocation]);\n\n  const handleZipCheck = () => {\n    console.log(selected);\n    setLoading(true);\n    setDrawerOpen(false);\n    async function checkUpdates() {\n      // Default options are marked with *\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/usb/copy/${selected}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    checkUpdates().then((data) => {\n      console.log(data);\n      setLoading(false);\n      //after api call\n      if (data.updated) {\n        setSnackMessage(\"Software Updated. Rebooting...\");\n        setShowSnack(true);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          attemptReboot();\n        }, 3000);\n      } else {\n        setSnackMessage(\"Software Update Failed. Reverted to previous version.\");\n        setShowSnack(true);\n      }\n    });\n  }\n\n  const handleSelect = () => {\n    console.log(selected);\n    setLoading(true);\n    if (fileLocation === \"local\") {\n      //call api to print file\n      let selected_file = selected.split('\\\\').pop().split('/').pop();\n      fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then((data) => {\n        setLoading(false);\n        setDrawerOpen(() => false);\n        //call function or swap to status screen\n        setSelected(\"\");\n        setShowTooltip(false);\n        setShowModal(false);\n      });\n    } else {\n        fetch(`http://${window.location.hostname}:2127/api/v1/usb/copy/${selected}`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then((data) => {\n          let selected_file = selected.split('\\\\').pop().split('/').pop();\n          fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }).then((data) => {\n            setLoading(false);\n            setDrawerOpen(() => false);\n            //call function or swap to status screen\n            setSelected(\"\");\n            setShowTooltip(false);\n            setShowModal(false);\n          });\n        });\n    }\n  };\n\n  const deleteFile = () => {\n    setLoading(true);\n\n    fetch(`http://${window.location.hostname}:2127/api/v1/files/local/${selected}`, {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" }\n    }).then(response => response.json()).then((data) => {\n      fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then(response => response.json()).then((data) => {\n        setLoading(false);\n        setFiles(data.files);\n        setStorageFree(data.free);\n        setStorageTotal(data.total);\n        setStorageUsed(data.total - data.free);\n      });\n    });\n\n  };\n\n  const resetFiles = (newFiles) => {\n    if (currentDirectory) {\n      directories[currentDirectory] = newFiles;\n      setDirectories(directories);\n    }\n    setFiles(newFiles);\n  };\n\n  const folderSelected = (newFiles, directory) => {\n    setCurrentDirectory(directory);\n    setSelected(newFiles);\n  };\n\n  const exitFiles = () => {\n    setFiles([]);\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div>\n      {!manage && !update && (\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n      )}\n      <div className={classes.header}>\n        {!manage && !update && (\n          <h2 style={{marginLeft: 10}}>\n            {(\n              fileLocation.toUpperCase() === 'USB' ? 'USB Media' : 'Printer Storage'\n            )}\n          </h2>\n        )}\n        {!manage && !update && (\n        <IconButton aria-label=\"back\" onClick={() => exitFiles()} style={{ position:'absolute', right:0}}>\n          <Close />\n        </IconButton>\n        )}\n      </div>\n      {fileLocation === \"usb\" && (\n        <Container className={classes.fileContainer}>\n          <Grid container direction=\"row\" style={{background: '#525252'}}>\n            <Grid\n              item\n              style={{ alignSelf: \"center\" }}\n              onClick={() => resetFiles(rootFiles)}\n            >\n              <Typography variant=\"h6\">\n                <IconButton aria-label=\"back\"  className={classes.icon}>\n                  <Home />\n                </IconButton>\n              </Typography>\n            </Grid>\n            {getFileDirectory(rootFiles, files).map((folder, index, {length}) => {\n              if (isFolder(folder)) {\n                return (\n                  <Grid\n                    item\n                    style={{ alignSelf: \"center\" }}\n                    onClick={() => resetFiles(directories[folder])}\n                    key={folder}\n                  >\n                    <Typography variant=\"h6\">\n                      <IconButton aria-label=\"back\"  className={classes.icon}>\n                        <ArrowForward />\n                      </IconButton>\n                      {index + 1 === length && (\n                        <IconButton aria-label=\"back\"  className={classes.icon}>\n                          <Folder />\n                        </IconButton>\n                      )}\n                      {folder}\n                    </Typography>\n                  </Grid>\n                );\n              } else {\n                return <></>;\n              }\n            })}\n          </Grid>\n        </Container>\n      )}\n      {loading ? (\n        <Backdrop className={classes.backdrop} open={true}>\n          <img\n            alt=\"print\"\n            src={imgPrint}\n            style={{ width: 200, height: 200, zIndex: 99999999 }}\n          ></img>\n        </Backdrop>\n      ) : (\n        <Container className={classes.fileContainer}>\n          <TableContainer className={classes.fileList}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Size</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {fileLocation === \"local\"\n                  ? files &&\n                    files.map((file, index) => {\n\n                      if(!manage || !isFileProtected(file.name)) {\n                        return (\n                          <TableRow\n                            key={file.display}\n                            onClick={() => setSelected(file.display)}\n                            selected={selected === file.display}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                {manage ? (\n                                  <DeleteForever />\n                                ) : (\n                                  <Slideshow />\n                                )}\n                              </IconButton>\n                              {file.display}\n                            </TableCell>\n                            <TableCell>{formatBytes(file.size)}</TableCell>\n                          </TableRow>\n                        );\n                      }\n\n                    })\n                  : files &&\n                    Object.keys(files).map((file, index) => {\n                      if (isFolder(file)) {\n                        return (\n                          <TableRow\n                            key={file}\n                            onClick={() => folderSelected(files[file], file)}\n                            selected={selected === files[file]}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell style={{\n                              width: update ? '400px' : '100%'\n                            }}>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                <FolderOpen />\n                              </IconButton>\n                              {file}\n                            </TableCell>\n                            <TableCell style={{minWidth: 110}}>\n                              {formatBytes(getSize(files[file]))}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      } else {\n                        if(\n                          (files[file].display.includes(\".zip\") ||\n                          files[file].display.includes(\".ZIP\")) &&\n                          /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(file)\n                        ) {\n                          if(update) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell style={{width: \"400px\"}}>\n                                  <IconButton aria-label=\"back\"  className={classes.icon}>\n                                    <SystemUpdateAlt />\n                                  </IconButton>\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        } else {\n                          if(!update && !(\n                            files[file].display.includes(\".zip\") ||\n                            files[file].display.includes(\".ZIP\"))\n                          ) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell>\n                                  {file.endsWith(\".g\") ||\n                                  file.endsWith(\".gcode\") ||\n                                  file.endsWith(\".G\") ||\n                                  file.endsWith(\".GCODE\") ? (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Slideshow />\n                                    </IconButton>\n                                  ) : (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Layers />\n                                    </IconButton>\n                                  )}\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        }\n                      }\n                    })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Container>\n      )}\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-around\"\n        alignItems=\"center\"\n      >\n      {manage ? (\n        <Grid\n          container\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            disabled={selected.length <= 0}\n            onClick={() => deleteFile()}\n            className={classes.printButton}\n          >\n            Delete\n          </Button>\n\n          <Typography variant=\"h6\">\n            {\n              formatBytes(storageUsed)\n            } used of {\n              formatBytes(storageTotal)\n            } total, leaving {\n              formatBytes(storageFree)\n            } available\n          </Typography>\n          </Grid>\n      ) : typeof selected !== \"object\" &&\n      (selected.endsWith(\".g\") ||\n        selected.endsWith(\".gcode\") ||\n        selected.endsWith(\".G\") ||\n        selected.endsWith(\".GCODE\")) ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => handleSelect(false)}\n          className={classes.printButton}\n        >\n          Print\n        </Button>\n      ) : typeof selected === \"object\" ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => resetFiles(selected)}\n          className={classes.printButton}\n        >\n          Open Folder\n        </Button>\n      ) : update &&\n        (selected.endsWith(\".zip\") || selected.endsWith(\".ZIP\")) &&\n        (/^(.+)300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected) ||\n        /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected)\n        ) ? (\n         <Button\n           variant=\"contained\"\n           disabled={selected.length <= 0}\n           onClick={() => handleZipCheck()}\n           className={classes.printButton}\n         >\n           Update from ZIP\n         </Button>\n      ) : (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => {\n            setLoading(true);\n            setShowModal(true);\n          }}\n          className={classes.printButton}\n        >\n          Slice\n        </Button>\n      )}\n      </Grid>\n      <SliceModal\n        file={selected}\n        shown={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setLoading(false);\n        }}\n      />\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </div>\n  );\n};\n\nexport default FileManager;\n","import React, { useState } from \"react\";\nimport { Grid, Card, CardContent, CardActionArea, Drawer } from \"@material-ui/core\";\nimport PrintStatus from \"./PrintStatus/PrintStatus\";\n\nimport FileManager from \"../Common/FileManager/FileManager\";\nimport SliceModal from \"../Common/SliceModal\";\nimport \"./Print.css\";\n\nimport { Button, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  card: {\n    margin: \"32px\",\n    border: \"2px solid rgba(0, 0, 0, 0.12)\",\n    textAlign: \"center\"\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\n\nfunction clearInputFile(f){\n    if(f.value){\n        try{\n            f.value = ''; //for IE11, latest Chrome/Firefox/Opera...\n        }catch(err){ }\n        if(f.value){ //for IE5 ~ IE10\n            var form = document.createElement('form'),\n                parentNode = f.parentNode, ref = f.nextSibling;\n            form.appendChild(f);\n            form.reset();\n            parentNode.insertBefore(f,ref);\n        }\n    }\n}\n\nconst Print = ({ lastMessage, setDisabledNav }) => {\n  const classes = useStyles();\n  let [state, setState] = useState({\n    extruder: 0,\n    bed: 0,\n    connected: false,\n    feed: \"1\",\n    file: -1,\n    files: [],\n    printing: false,\n    progress: 0,\n    paused: false\n  });\n  const [file, uploadedFile] = useState(false);\n  const [status, setStatus] = useState(null);\n  const [printState, setPrintState] = useState(null);\n  const [jobState, setJobState] = useState(null);\n  const [progressState, setProgressState] = useState(null);\n  const [fileDrawerOpen, setFileDrawerOpen] = useState(false);\n  const [fileLocation, setFileLocation] = useState(\"\");\n  const [uploadElement, setUploadElement] = useState(null);\n  const [showSliceModal, setShowSliceModal] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n\n  const fetchFiles = (location) => {\n    setFileLocation(location);\n    setFileDrawerOpen(true);\n  };\n\n  const fetchUploadFiles = () => {\n    setFileLocation(\"local\");\n    setFileDrawerOpen(true);\n  };\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n        setPrintState(json[0].current.state);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.job) {\n        setJobState(json[0].current.job);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        setProgressState(json[0].current.progress);\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Grid>\n        {progressState &&\n        jobState &&\n        jobState.file.name &&\n        progressState.completion < 100 &&\n        printState &&\n        printState.text !== \"Operational\" ? (\n          <PrintStatus\n            lastMessage={lastMessage}\n            progressState={progressState}\n            setDisabledNav={setDisabledNav}\n            statusText={printState.text}\n            fileName={jobState.file.display}\n            state={printState}\n          />\n        ) : (\n          <Grid>\n            <Card className={classes.card} onClick={() => fetchFiles(\"local\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Printer Storage</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card className={classes.card} onClick={() => fetchFiles(\"usb\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">USB Media</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card\n              className={classes.card}\n              onClick={() => {\n                uploadElement.click();\n              }}\n            >\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Local Storage</Typography>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    onChange={async (e) => {\n                      let file = e.target.files[0];\n                      let match = /.+\\.(stl|gcode)$/gi.exec(file.name);\n                      if (match) {\n                        const fileType = match[1].toLowerCase();\n                        if (fileType === \"stl\") {\n                          setUploadFile(file);\n                          setShowSliceModal(true);\n                          clearInputFile(e.target);\n                        } else {\n                          //Gcode - just needs to upload and start\n                          let data = new FormData();\n                          data.append(\"file\", file);\n                          let resp = await fetch(\n                            `http://${window.location.hostname}:2127/api/v1/files/${file.name}`,\n                            { method: \"POST\", body: data }\n                          );\n                          if (resp.status === 200) {\n                            //Good - start job\n                            await fetch(\n                              `http://${window.location.hostname}:2127/api/v1/job/${file.name}`,\n                              {\n                                method: \"POST\",\n                                headers: { \"Content-Type\": \"application/json\" }\n                              }\n                            );\n                          } else {\n                            //Something went wrong with upload\n                          }\n                        }\n                      } else {\n                        //Something wrong with file\n                      }\n                    }}\n                    ref={(ref) => {\n                      setUploadElement(ref);\n                    }}\n                    accept=\".stl,.gcode\"\n                  />\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            {/*<label className=\"Files-Upload\">\n                  <span>Upload</span>\n                  <input\n                    type=\"file\"\n                    onChange={async e => {\n                      let data = new FormData();\n                      console.log(e.target.files);\n                      e.persist();\n                      data.append(\"file\", e.target.files[0]);\n                      await fetch(\n                        `http://makerhub.local:8080/api/v1/files/${e.target.files[0].name}`,\n                        { method: \"POST\", body: data }\n                      );\n                      this.setState({\n                        files: [...this.state.files, e.target.files[0].name]\n                      });\n                    }}\n                  ></input>\n                </label>*/}\n                <Drawer\n                  anchor=\"left\"\n                  open={fileDrawerOpen}\n                  onClose={() => setFileDrawerOpen(false)}\n                  classes={{\n                    paper: classes.drawerContainer\n                  }}\n                >\n                  <FileManager\n                    setDrawerOpen={setFileDrawerOpen}\n                    drawerOpen={fileDrawerOpen}\n                    fileLocation={fileLocation}\n                  />\n                </Drawer>\n            {/*<div className=\"Files\">\n            <label className=\"Files-Upload\">\n              <span>Upload</span>\n              <input\n                type=\"file\"\n                onChange={async (e) => {\n                  let data = new FormData();\n                  console.log(e.target.files);\n                  e.persist();\n                  data.append('file', e.target.files[0]);\n                  // Upload the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/files/${e.target.files[0].name}`,\n                    { method: 'POST', body: data }\n                  );\n                  // Print the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/job/${e.target.files[0].name}`,\n                    {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                    }\n                  );\n                  state.printing = true;\n                  uploadedFile(true);\n                  setState({\n                    files: [...state.files, e.target.files[0].name],\n                    file: 0,\n                  });\n                }}\n              ></input>\n            </label>\n              </div>*/}\n          </Grid>\n        )}\n        <div>\n          <Grid>\n            {printState &&\n              jobState &&\n              (jobState.file ? (\n                <div>\n                  <div className={classes.buttonContainer}>\n                    {progressState &&\n                      (progressState.completion == null ||\n                        progressState.completion == 100) &&\n                      jobState &&\n                      jobState.file.display && (\n                        <>\n                          <div className={classes.textCenter}>\n                            {/*`${printState.text} : ${jobState.file.display}`*/}\n                          </div>\n                        </>\n                      )}\n                  </div>\n                </div>\n              ) : (\n                <span>Not Printing</span>\n              ))}\n          </Grid>\n        </div>\n      </Grid>\n      <SliceModal\n        shown={showSliceModal}\n        file={uploadFile}\n        onClose={() => {\n          setShowSliceModal(false);\n        }}\n      />\n    </>\n  );\n};\n\nexport default Print;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid,\n  Paper,\n  Tab,\n  Tabs,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowForward,\n  ArrowUpward,\n  ArrowBack,\n  Home\n} from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport \"./Moving.css\";\n\nconst useStyles = makeStyles({\n  btnContainer: {\n    marginTop: \"14px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nconst units = [0.1, 1.0, 10, 20];\n\nconst Moving = ({ position, nozzleTemp }) => {\n  const classes = useStyles();\n\n  const [unit, setUnit] = useState(1);\n  const [heatingDialog, setHeatingDialog] = useState(false);\n  const [delay, setDelay] = useState(false);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  const homeAxis = (axis) => {\n    //homing commands\n    // const x = 'G28 X\\nM114\\n';\n    // const y = 'G28 Y\\nM114\\n';\n    // const z = 'G28 Z\\nM114\\n';\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: `G28 ${axis}\\nM114\\n`\n      })\n    });\n  };\n\n  const moveAxis = (axis, negative) => {\n    //example move commands\n    // const x = 'G91\\nG0 X-10\\nM114\\n';\n    // const y = 'G91\\nG0 Y-1\\nM114\\n';\n    // const z = 'G91\\nG0 Z10\\nM114\\n';\n    // const e = 'G91\\nG1 E10 F300\\nM114\\n';\n    const command = `${axis}${negative ? -units[unit] : units[unit]}`;\n    let gcode = `M220 S200\\nG91\\nG0 ${command}\\nM220 S100\\nM114\\n`\n\n    if(axis == 'E') {\n      if(nozzleTemp < 200) {\n        setHeatingDialog(true);\n        return;\n      }\n\n      setDelay(true);\n      setTimeout(function(){\n        setDelay(false);\n      }, 3000);\n\n      gcode = `M220 S200\\nG91\\nG1 ${command} F300\\nM220 S100\\nM114\\n`\n    }\n\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  return (\n    <Box style={{ textAlign: \"center\" }}>\n      <Typography variant=\"h4\" style={{ marginTop: 15 }}>\n        Movement\n      </Typography>\n      <Grid container justify=\"center\" style={{ marginTop: 30 }}>\n        <Grid item justifyContent=\"center\" alignItems=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              sendGcode(\"G28\\nM240 S1\\nM114\\n\");\n            }}\n          >\n            Home All\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={4}>\n          <Paper>\n            <Tabs\n              value={unit}\n              className={classes.tabs}\n              onChange={(e, val) => setUnit(val)}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 20 }}>\n          <Grid\n            container\n            item\n            xs={6}\n            justify=\"center\"\n            alignItems=\"flex-start\"\n            spacing={0}\n          >\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">X</Typography>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"X\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n            <Grid item xs={12} style={{margin:20}}>\n\n            </Grid>\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">E</Typography>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Y</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Y\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Z\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Dialog\n        open={heatingDialog}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Hotend Must Be Hot to Move Filament\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            You must preheat the hotend before extruding filament.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n        <Button onClick={() => {\n                  setHeatingDialog(false);\n                }}\n                color=\"primary\" autoFocus\n                style={{\n                  backgroundColor: \"#0072CE\",\n                  color: \"white\",\n                  marginRight: 10,\n                  marginBottom: 10\n                }}\n        >\n          Cancel\n        </Button>\n          <Button onClick={() => {\n                    sendGcode(\"M104 S220\");\n                    setHeatingDialog(false);\n                  }}\n                  color=\"primary\" autoFocus\n                  style={{\n                    backgroundColor: \"#0072CE\",\n                    color: \"white\",\n                    marginRight: 10,\n                    marginBottom: 10\n                  }}\n          >\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default Moving;\n","import React, { useState } from \"react\";\nimport { Button, Box, Grid, Slider, Typography } from \"@material-ui/core\";\nimport \"./Heating.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\",\n    height: \"60%\"\n  },\n  modalContainer: {\n    height: \"100%\",\n    padding: \"25px\",\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"120px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"auto\",\n    marginBottom: \"100px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"150px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  gauges: {\n    display: \"flex\"\n  },\n  nozzleSlider: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: 250\n  },\n  tempOutputs: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst Heating = () => {\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Box style={{ textAlign: \"center\", marginTop: 40 }}>\n      <Typography variant=\"h4\">Heating</Typography>\n      <Grid container justify=\"center\">\n        <Grid item xs={1}>\n          <h4>Preheat</h4>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <TempContext.Consumer>\n              {({ setBedTarget, setNozzleTarget }) => (\n                <>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S220\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(220);\n                    }}\n                  >\n                    PLA\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S245\\nM140 S70\");\n                      setBedTarget(70);\n                      setNozzleTarget(245);\n                    }}\n                  >\n                    PETG\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S230\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(230);\n                    }}\n                  >\n                    TPU\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S0\\nM140 S0\");\n                      setBedTarget(0);\n                      setNozzleTarget(0);\n                    }}\n                  >\n                    Cooldown\n                  </Button>\n                </>\n              )}\n            </TempContext.Consumer>\n          </div>\n        </Grid>\n        <Grid item xs={7}>\n          <h4></h4>\n          <Grid container direction=\"column\">\n            <Grid item style={{ marginTop: 40 }}>\n              <span>Nozzle</span>\n            </Grid>\n            <Grid item container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ nozzleTarget, setNozzleTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                        sendGcode(`M104 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${nozzleTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={260}\n                      style={{ maxWidth: \"200px\" }}\n                      value={nozzleTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ nozzle, nozzleTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${nozzle}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${nozzleTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <span>Bed</span>\n            </Grid>\n            <Grid container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ bedTarget, setBedTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setBedTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setBedTarget(newVal);\n                        sendGcode(`M140 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${bedTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={100}\n                      style={{ maxWidth: \"200px\" }}\n                      value={bedTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ bed, bedTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${bed}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${bedTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Heating;\n","import React from \"react\";\nimport Moving from \"./Moving/Moving\";\nimport Heating from \"./Heating/Heating\";\n\nimport \"./Control.css\";\n\nconst Control = (lastMessage) => {\n  const [position, setPosition] = React.useState({ x: 0, y: 0, z: 0 });\n  const [nozzleTemp, setNozzleTemp] = React.useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      typeof lastMessage.lastMessage !== \"undefined\" &&\n      lastMessage.lastMessage &&\n      typeof lastMessage.lastMessage.data !== \"undefined\" &&\n      lastMessage.lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if(json[0].current.temps[0].hasOwnProperty(\"tool0\")\n        ) {\n          let temps = json[0].current.temps[0];\n          setNozzleTemp(parseInt(temps.tool0.actual));\n        }\n      }\n      \n      if (\n        json[0].hasOwnProperty(\"event\") &&\n        json[0].event.hasOwnProperty(\"payload\")\n      ) {\n        if (json[0].event.payload) {\n          setPosition({\n            x: json[0].event.payload.x,\n            y: json[0].event.payload.y,\n            z: json[0].event.payload.z\n          });\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Moving position={position} nozzleTemp={nozzleTemp} />\n      <Heating />\n    </>\n  );\n};\n\nexport default Control;\n","import React, { useState, useEffect } from 'react';\nimport {\n    Button,\n    Grid,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    ListItemSecondaryAction,\n    ListSubheader,\n    Select,\n    Switch,\n    Typography,\n  } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FileManager from '../../Common/FileManager/FileManager';\n\n\nconst useStyles = makeStyles({\n    componentContainer: {\n      display: 'flex',\n      flex: 1,\n    },\n    drawerContainer: {\n      width: '100%',\n    },\n    header: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    item: {\n      height: '100px',\n      padding: '0 22px',\n    },\n    text: {\n      fontSize: '1.5em',\n      fontWeight: 'bold',\n    },\n  });\n\n\n\n\nconst ManageStorage = () => {\n    const classes = useStyles();\n    const [fileDrawerOpen, setFileDrawerOpen] = useState(true);\n\n\n  return (\n    <Grid>\n      <FileManager\n        fileLocation={'local'}\n        drawerOpen={true}\n        setDrawerOpen={setFileDrawerOpen}\n        manage={true}\n        update={false}\n      />\n    </Grid>\n  );\n};\n\nexport default ManageStorage;\n","import React, { useState } from \"react\";\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Container,\n  Grid,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport {\n  AcUnit,\n  Dns,\n  LocalGasStation,\n  Pool,\n  Save,\n  WbIncandescent\n} from \"@material-ui/icons\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport packageJson from '../../../../package.json';\n\nconst About = () => {\n  const [releaseNotes, setReleaseNotes] = useState(false);\n\n  useMountEffect(() => {\n\n    async function checkUpdateInfo() {\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/update/version/info`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n\n    checkUpdateInfo().then((data) => {\n      //after api call\n      console.log(data);\n      if(data.success) {\n        setReleaseNotes(data.update_info);\n      }\n    });\n\n  });\n\n  return (\n    <Grid container direction=\"column\">\n    {/*\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Hardware</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <WbIncandescent />\n          </ListItemIcon>\n          <ListItemText primary=\"Lamp\" secondary=\"700 Watt\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <Pool />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Liquids\"\n            secondary=\"1.5 Gallons Emergency Water Supply\"\n          />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <LocalGasStation />\n          </ListItemIcon>\n          <ListItemText primary=\"Gases\" secondary=\"Secondary Helium Reserve\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <AcUnit />\n          </ListItemIcon>\n          <ListItemText primary=\"Operating Range\" secondary=\"-40 °C - -37 °C\" />\n        </ListItem>\n      </List>\n      */}\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Software</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <Save />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Firmware Version\"\n            secondary={packageJson.version}\n          />\n        </ListItem>\n      </List>\n      {releaseNotes && (\n        <List\n          subheader={\n            <ListSubheader style={{ fontSize: \"20px\" }}>Release Notes</ListSubheader>\n          }\n        >\n        {Object.entries(releaseNotes).reverse().map((version, index) => {\n            return (\n              <ListItem key={`version-${index}`}>\n              <ListItemText\n                primary={version[0]}\n                secondary={\n                  <div dangerouslySetInnerHTML={{\n                    __html: version[1].replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n                  }} />\n                }\n              />\n              </ListItem>\n            );\n        })}\n        </List>\n      )}\n    </Grid>\n    // <Accordion>\n    //   <AccordionSummary classes={{ content: 'accordion-style' }}>\n    //     <h3 style={{ margin: '0' }}>About</h3>\n    //     <ArrowForwardIosIcon />\n    //   </AccordionSummary>\n    //   <AccordionDetails>\n    //     <div>\n    //       <h3>List Hardware Stats</h3>\n    //       <h3>Firmware Version</h3>\n    //     </div>\n    //   </AccordionDetails>\n    // </Accordion>\n  );\n};\n\nexport default About;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  ListSubheader,\n  Select,\n  Snackbar,\n  Switch,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Class,\n  Dns,\n  LocalLibrary,\n  Wifi,\n  WifiTethering,\n  SettingsEthernet,\n  SignalCellularNull,\n  Videocam\n} from \"@material-ui/icons/\";\n\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { fillStorage, getStorage, setStorage } from \"../../../Utility/helpers\";\nimport NetworkSettings from \"../../Setup/NetworkType/NetworkSettings\";\n\nimport NetworkSelect from \"../../Setup/NetworkSelect/NetworkSelect\";\n\nimport WifiConnect from \"../../Setup/NetworkType/WifiConnect\";\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst useStyles = makeStyles({});\nconst Settings = () => {\n  const [networkExpanded, setNetworkExpanded] = useState(false);\n  const [networkType, setNetworkType] = useState(\"none\");\n  const [printerMode, setPrinterMode] = useState(\"\");\n  const [userMode, setUserMode] = useState(\"\");\n  const [displayWifi, setDisplayWifi] = useState(false);\n  const [displaySSID, setDisplaySSID] = useState(false);\n  const [allowPrerelease, setAllowPrerelease] = useState(false);\n  const [allowAutoUpdate, setAllowAutoUpdate] = useState(false);\n  const [camEnabled, setCamEnabled] = useState('disabled');\n  const [rebootRequired, setRebootRequired] = useState('no');\n  const [step, setStep] = useState(0);\n  const [networkData, setNetworkData] = useState({});\n\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  const classes = useStyles();\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n      setNetworkType(() => {\n        const networkProfile = getStorage(\"networkProfile\");\n        return networkProfile ? networkProfile : \"none\";\n      });\n      setPrinterMode(() => getStorage(\"printerProfile\"));\n      setUserMode(() => getStorage(\"userMode\"));\n      setAllowPrerelease(getStorage(\"allowPrerelease\"));\n      setAllowAutoUpdate(getStorage(\"allowAutoUpdate\"));\n      setNetworkData(getStorage(\"network\"));\n    });\n  });\n\n  const handleNetworkToggle = (value) => {\n    const network = value.toLowerCase();\n    setNetworkExpanded(false);\n    setNetworkType(network);\n    setStorage(\"networkProfile\", network);\n    setStep(0);\n  };\n\n  const setNewType = (value) => {\n    const network = value.toLowerCase();\n    setNetworkType(network);\n  };\n\n  const handleCameraToggle = (checked) => {\n    let action = '';\n\n    if(checked) {\n      setCamEnabled('enabled');\n      setStorage(\"camEnabled\", 'enabled');\n      action = 'add';\n    } else {\n      setCamEnabled('disabled');\n      setStorage(\"camEnabled\", 'disabled');\n      action = 'remove';\n    }\n\n    if(action == 'add') {\n      var imageUrl = `http://${window.location.hostname}:8090/?action=snapshot`;\n      imageExists(imageUrl, function(exists) {\n        if(!exists) {\n          if(window.confirm('Reboot Required on initial camera setup. Continue?')) {\n            setRebootRequired('yes');\n            toggleCamera(action).then((data) => {\n              setTimeout(() => {\n                fetch(`http://${window.location.hostname}:8990/reboot`, {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n              }, 3000);\n            });\n          } else {\n            setCamEnabled('disabled');\n          }\n        }\n      });\n    }\n\n    async function toggleCamera(action) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/toggle/camera`, {\n        method: \"POST\",\n        body: JSON.stringify({'action':action}),\n        headers: { \"Content-Type\": \"application/json\" }\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n  };\n\n  return (\n    <>\n      <Grid container direction=\"column\" className={classes.container}>\n\n        {displaySSID && (\n          <Grid>\n            Your SSID is\n            <Typography color=\"secondary\" variant=\"body1\">\n              {window.location.hostname}\n            </Typography>\n            Your password is\n            <Typography color=\"secondary\" variant=\"body1\">\n              makermade\n            </Typography>\n            {networkType === \"ethernet\" && (\n              <Typography variant=\"body2\">\n                Don't forget to connect your cable!\n              </Typography>\n            )}\n          </Grid>\n        )}\n        {displayWifi && (\n          <Grid item xs>\n            <WifiConnect\n              setShowSnack={setShowSnack}\n              setSnackMessage={setSnackMessage}\n              handleSnackClose={handleSnackClose}\n              settingsScreen={true}\n            />\n          </Grid>\n        )}\n\n        <Grid>\n          <List\n            subheader={<ListSubheader>User Type</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <LocalLibrary />\n              </ListItemIcon>\n              <ListItemText primary=\"Experience Level\" />\n              <Select\n                native\n                value={userMode}\n                onChange={(e) => {\n                  if (e.target && e.target.value) {\n                    setUserMode(e.target.value);\n                    setStorage(\"userMode\", e.target.value);\n                  }\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                  },\n                  getContentAnchorEl: null\n                }}\n              >\n                <option value=\"beginner\">Beginner</option>\n                <option value=\"advanced\">Advanced</option>\n                <option value=\"expert\">Expert</option>\n              </Select>\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Printer</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Classroom Mode\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    const checkedValue = e.target.checked\n                      ? \"classroom\"\n                      : \"home\";\n                    setPrinterMode(() => checkedValue);\n                    setStorage(\"printerProfile\", checkedValue);\n                  }}\n                  checked={printerMode !== \"home\"}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Dns />\n              </ListItemIcon>\n              <ListItemText\n                primary={`Printer Name: ${window.location.hostname}`}\n              />\n              <ListItemSecondaryAction>\n                {/*<Button\n                  variant=\"contained\"\n                  color={networkExpanded ? \"secondary\" : \"primary\"}\n                  onClick={() => {\n                    setStep(1);\n                  }}\n                  size={networkExpanded ? \"small\" : \"medium\"}\n                >\n                  {networkExpanded ? \"Select\" : \"Change\"}\n                </Button>*/}\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Videocam />\n              </ListItemIcon>\n              <ListItemText primary=\"Enable Camera\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    handleCameraToggle(e.target.checked);\n                  }}\n                  checked={camEnabled === 'enabled'}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n          {rebootRequired == 'yes' && (\n            <Grid\n              container\n              direction=\"column\"\n              alignItems=\"center\"\n            >\n            <Grid item>\n              <CircularProgress className={classes.button} color=\"secondary\" />\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                Rebooting printer to apply changes, this will take approximately 2\n                minutes.\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n              </Typography>\n            </Grid>\n            </Grid>)}\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Software</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Update Pre-Releases\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowPrerelease(e.target.checked);\n                    setStorage(\"allowPrerelease\", e.target.checked);\n                  }}\n                  checked={allowPrerelease}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Software Auto-Updating\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowAutoUpdate(e.target.checked);\n                    setStorage(\"allowAutoUpdate\", e.target.checked);\n                  }}\n                  checked={allowAutoUpdate}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n        </Grid>\n        <Snackbar\n          open={showSnack}\n          autoHideDuration={6000}\n          message={snackMessage}\n          onClose={handleSnackClose}\n        ></Snackbar>\n      </Grid>\n      {step === 2 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSelect\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n      {step === 1 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSettings\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\nconst test = {\n  message: \"scanning networks...\",\n  status: \"Scanned networks!\",\n  refresh: true,\n  networks: [\n    {\n      bssid: \"cc:be:59:c1:d8:eb\",\n      frequency: 2462,\n      signalLevel: -52,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"cc:be:59:c1:d8:ec\",\n      frequency: 5680,\n      signalLevel: -67,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b7\",\n      frequency: 2437,\n      signalLevel: -60,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 2.4G\"\n    },\n    {\n      bssid: \"88:6a:e3:a5:e2:1d\",\n      frequency: 2437,\n      signalLevel: -61,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"tla5e21d\"\n    },\n    {\n      bssid: \"42:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 5G\"\n    },\n    {\n      bssid: \"46:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:be\",\n      frequency: 5805,\n      signalLevel: -77,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 5G\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:bd\",\n      frequency: 2462,\n      signalLevel: -68,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 2.4G\"\n    },\n    {\n      bssid: \"88:b4:a6:f5:0e:66\",\n      frequency: 2412,\n      signalLevel: -70,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Bucks_in_6\"\n    },\n    {\n      bssid: \"fa:8f:ca:5d:92:cf\",\n      frequency: 5680,\n      signalLevel: -71,\n      flags: \"[ESS]\"\n    },\n    {\n      bssid: \"fa:8f:ca:86:46:6d\",\n      frequency: 5680,\n      signalLevel: -82,\n      ssid: \"[ESS]\"\n    }\n  ]\n};\n","import React from \"react\";\nimport {\n  AppBar,\n  Card,\n  CardContent,\n  Container,\n  Typography\n} from \"@material-ui/core\";\nimport TutorialDefinitions from \"../../Tutorials/TutorialDefinitions\";\nimport Tutorial from \"../../Tutorials/Tutorial/Tutorial\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\nclass Tutorials extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { currentTutorial: null };\n  }\n  selectTutorial(id) {\n    this.setState({ currentTutorial: id });\n  }\n  closeTutorial(reason) {\n    this.setState({ currentTutorial: null });\n    if (reason && reason === \"request-calibration\") {\n      setTimeout(() => {\n        this.selectTutorial(\"bedLevelSensorCalibration\");\n      }, 1000);\n    }\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Container className={classes.tutorialContainer}>\n          {Object.getOwnPropertyNames(TutorialDefinitions).map((tutName) => {\n            if (TutorialDefinitions[tutName].userVisable) {\n              return (\n                <>\n                  <Card\n                    className={classes.tutorialCard}\n                    onClick={() => {\n                      this.selectTutorial(tutName);\n                    }}\n                  >\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {TutorialDefinitions[tutName].name}\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {TutorialDefinitions[tutName].description}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </>\n              );\n            } else {\n              return <></>;\n            }\n          })}\n        </Container>\n        {this.state.currentTutorial && (\n          <Tutorial\n            tutorialName={this.state.currentTutorial}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.closeTutorial(reason);\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorials);\n","import React, { useState } from \"react\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport {\n  AppBar,\n  Container,\n  Divider,\n  Drawer,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Update from \"./MenuTabs/Update\";\nimport ManageStorage from \"./MenuTabs/ManageStorage\";\nimport About from \"./MenuTabs/About\";\nimport Settings from \"./MenuTabs/Settings\";\nimport Tutorials from \"./MenuTabs/Tutorials\";\nimport ResetPrinter from \"./MenuTabs/ResetPrinter\";\n\nconst useStyles = makeStyles({\n  componentContainer: {\n    display: \"flex\",\n    flex: 1\n  },\n  drawerContainer: {\n    width: \"100%\",\n    maxWidth: \"700px\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  text: {\n    fontSize: \"1.5em\"\n  }\n});\n\nconst Menu = ({lastMessage, fastTrackUpdate, setFastTrackUpdate}) => {\n  const classes = useStyles();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [activeComponent, setActiveComponent] = useState({});\n\n  useMountEffect(() => {\n     if(getStorage(\"allowAutoUpdate\") && fastTrackUpdate) {\n       let updateItem = MenuArray.find(obj => {\n         return obj.name === \"Update\"\n       });\n       if(updateItem) {\n         handleDrawer(updateItem);\n       }\n     }\n  });\n\n  const handleDrawer = (item) => {\n    //call setActiveComponent\n    setActiveComponent(item);\n    setDrawerOpen(true);\n  };\n  const MenuArray = [\n    {\n      name: \"Tutorials\",\n      component: <Tutorials />\n    },\n    {\n      name: \"Settings\",\n      component: <Settings />\n    },\n    {\n      name: \"Storage\",\n      component: <ManageStorage />\n    },\n    //{ name: \"Troubleshooting\", component: null },\n    { name: \"Update\", component: <Update firstBoot={false} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} /> },\n    //{ name: \"Reset\", component: <ResetPrinter /> },\n    { name: \"About\", component: <About /> }\n\n  ];\n  return (\n    <div>\n      <List>\n        {MenuArray.map((item) => {\n          return (\n            <React.Fragment key={`${item.name}-item`}>\n              <ListItem\n                button\n                onClick={() => handleDrawer(item)}\n                className={classes.item}\n              >\n                <ListItemText\n                  primary={\n                    <Typography className={classes.text}>\n                      {item.name}\n                    </Typography>\n                  }\n                />\n                <ArrowForwardIosIcon />\n              </ListItem>\n              <Divider />\n            </React.Fragment>\n          );\n        })}\n      </List>\n      <Drawer\n        anchor=\"right\"\n        open={drawerOpen}\n        onClose={() => setDrawerOpen(false)}\n        classes={{\n          paper: classes.drawerContainer\n        }}\n      >\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        <div className={classes.header}>\n          <IconButton aria-label=\"back\" onClick={() => setDrawerOpen(false)}>\n            <ArrowBackIcon />\n          </IconButton>\n          <Typography variant=\"h5\">\n            {activeComponent.name}\n          </Typography>\n        </div>\n        <Container className={classes.componentContainer}>\n          {activeComponent.component}\n        </Container>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setStorage, getStorage, resetStorage } from \"../../../Utility/helpers\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst ResetPrinter = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n\n  const handleReset = () => {\n    console.log(\"reset\");\n    resetStorage().then((newSettings) => {\n      window.location.reload(false);\n    });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>Warning!</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>This will reset your printer to factory settings.</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>All gcode and stl files will be preserved.</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'center'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      handleReset()\n                  }}\n                    >\n                  Reset\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default ResetPrinter;\n","import { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport React, { Component } from \"react\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport Tutorial from \"./Tutorial\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nclass TutorialButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { tutorialShown: false };\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Card\n          className={classes.tutorialCard}\n          onClick={() => {\n            this.setState({ tutorialShown: true });\n          }}\n        >\n          <CardContent>\n            <Typography variant=\"h6\">\n              {TutorialDefinitions[this.props.tutorialName].name}\n            </Typography>\n            <Typography variant=\"body2\">\n              {TutorialDefinitions[this.props.tutorialName].description}\n            </Typography>\n          </CardContent>\n        </Card>\n        {this.state.tutorialShown && (\n          <Tutorial\n            tutorialName={this.props.tutorialName}\n            extruderTemp={this.props.extruderTemp}\n            bedTemp={this.props.bedTemp}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.setState({ tutorialShown: false });\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(TutorialButton);\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TutorialButton from \"../Tutorials/Tutorial/TutorialButton\";\n\nconst Tune = (lastMessage) => {\n  const [offset, setOffset] = useState(0);\n  const units = [0.01, 0.05, 0.1, 1.0, 10];\n  const [unit, setUnit] = useState(1);\n  const [extruder, setExtruder] = useState(0);\n  const [bed, setBed] = useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if (json[0].current.temps[0]) {\n          let temps = json[0].current.temps[0];\n          setExtruder(parseInt(temps.tool0.actual));\n          setBed(parseInt(temps.bed.actual));\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  const useStyles = makeStyles({\n    btnContainer: {\n      marginTop: \"14px\",\n      marginBottom: \"28px\",\n      textAlign: \"center\"\n    },\n    centerBtns: {\n      \"& button\": {\n        margin: \"0 12px\"\n      }\n    },\n    tabs: {\n      \"& button\": {\n        textTransform: \"none\"\n      }\n    }\n  });\n  const classes = useStyles();\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  let position = { x: 0, y: 0, z: 0 };\n\n  return (\n    <div>\n      <TutorialButton\n        tutorialName={\"blTouchCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"bedLevelCornerCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      {/*<Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={() => {\n          sendGcode(\"G29 T\\nM114\\n\");\n        }}\n      >\n        Generate Mesh\n      </Button>*/}\n      <TutorialButton\n        tutorialName={\"loadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"unloadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n    </div>\n  );\n};\n\nexport default Tune;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport {\n  AppBar,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TabList from \"../Common/Tabs/TabList\";\nimport Print from \"../Print/Print\";\nimport Control from \"../Control/Control\";\nimport Menu from \"../Menu/Menu\";\nimport Tune from \"../Tune/Tune\";\nimport SliceModal from \"../Common/SliceModal\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport { getStorage, fillStorage } from \"../../Utility/helpers\";\nimport TempContext from \"../../TempContext\";\n\nimport \"./Home.css\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n    textAlign: \"center\",\n    padding: 0\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n}));\n\nasync function checkOnline() {\n  const response = await fetch(\n    `http://${window.location.hostname}:2127/api/v1/check/internet/connection`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function checkUpdates() {\n  // Default options are marked with *\n  const response = await fetch(\n    `http://${window.location.hostname}:2127/api/v1/update/software/check`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nconst tabList = [\"Print\", \"Prepare\", \"Control\", \"Tune\", \"Menu\"];\nconst Home = ({ lastMessage, mode, setActiveMode }) => {\n  const context = useContext(TempContext);\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = useState(\"Print\");\n  const [disabledNav, setDisabledNav] = useState(false);\n  const [newVersionTitle, setNewVersionTitle] = useState(false);\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [fastTrackUpdate, setFastTrackUpdate] = useState(false);\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n       if(getStorage(\"allowAutoUpdate\")) {\n         checkOnline().then((onlineData) => {\n           //after api call\n           if (onlineData.online) {\n             checkUpdates().then((updateData) => {\n               console.log(updateData);\n               //after api call\n               if (updateData.update) {\n                 setNewVersionTitle(updateData.message);\n                 setReleaseNotes(updateData.releaseNotes);\n               }\n             });\n           }\n         });\n       }\n     });\n  });\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        if(\n          json[0].current.progress &&\n          json[0].current.job &&\n          json[0].current.job.file.name &&\n          json[0].current.progress.completion < 100 &&\n          json[0].current.state &&\n          json[0].current.state.text !== \"Operational\"\n        ) {\n          setActiveTab('Print');\n          setDisabledNav(true);\n        } else {\n          setDisabledNav(false);\n        }\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.messages.length) {\n        let messages = json[0].current.messages;\n        for (let idx in messages) {\n          if(!messages[idx].includes(\"echo:\") && messages[idx].includes(\"Probe Offset\")) {\n            let values = messages[idx].split(\" \");\n            let offset = values[values.length - 1];\n            let offsetIgnoreZ = offset.substring(1);\n            console.log(offsetIgnoreZ);\n            context.setZOffset(offsetIgnoreZ);\n          }\n        }\n      }\n\n    }\n  }, [lastMessage]);\n\n  const handleTabClick = (event, val) => {\n    setActiveTab(tabList[val]);\n  };\n  const Components = {\n    Print: <Print lastMessage={lastMessage} setDisabledNav={setDisabledNav} />,\n    Control: <Control lastMessage={lastMessage} />,\n    Menu: <Menu lastMessage={lastMessage} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} />,\n    Tune: <Tune lastMessage={lastMessage} />,\n    Prepare: <SliceModal file={null} shown={true} onClose={() => setActiveTab('Print')} sliceOnly={true} />\n  };\n  return (\n    <div className=\"home-container\">\n      <AppBar\n        position=\"fixed\"\n        color=\"primary\"\n        className={classes.appBar}\n        disabled={true}\n      >\n        <TabList\n          tabList={tabList}\n          handleTabClick={handleTabClick}\n          activeTab={tabList.indexOf(activeTab)}\n          disabledNav={disabledNav}\n        />\n      </AppBar>\n      <div className=\"component-container\">{Components[activeTab]}</div>\n      <Dialog\n        open={newVersionTitle}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{textAlign:\"center\"}} >\n          {newVersionTitle}\n        </DialogTitle>\n        <DialogContent style={{textAlign:\"left\"}}>\n          <DialogContentText id=\"alert-dialog-description\">\n            <b>A new software version is available.</b>\n\n            {releaseNotes && (\n              <div dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n            )}\n\n            <b>Would you like to update now?</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => {\n              setFastTrackUpdate(false);\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={() => {\n              setFastTrackUpdate(true);\n              setActiveTab('Menu');\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useMemo, useRef } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Setup from \"./components/Setup/Setup\";\nimport Home from \"./components/Home/Home\";\nimport {\n  createMuiTheme,\n  MuiThemeProvider\n  // makeStyles,\n} from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { getStorage, setStorage, fillStorage } from \"./Utility/helpers\";\nimport { useMountEffect } from \"./Utility/useMountEffect\";\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\nimport TempContext from \"./TempContext\";\nimport imgPrint from \"./img/mm-print.svg\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0071CE\"\n    },\n    secondary: {\n      main: \"#CD6930\"\n    },\n    background: {\n      default: \"#3A3A3A\"\n    },\n    type: \"dark\"\n  },\n  overrides: {\n    MuiTab: {\n      \"root\": {\n        \"&$selected\": {\n          \"color\": \"#FFFFFF\",\n        },\n        \"font-weight\": 300,\n      }\n    },\n    MuiAppBar: {\n      \"root\": {\n        \"padding\": \"10px\"\n      }\n    },\n    MuiPaper: {\n      rounded: {\n        \"border-radius\": \"15px\",\n      }\n    },\n    MuiButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiButtonBase: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiIconButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiListItemText: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiAccordion: {\n      \"root\": {\n        \"&$expanded\": {\n          margin: 0\n        }\n      }\n    },\n    MuiAccordionSummary: {\n      \"root\": {\n        maxHeight: 40,\n        minHeight: 10,\n        \"&$expanded\": {\n          maxHeight: 40,\n          minHeight: 10\n        }\n      }\n    },\n    MuiAccordionDetails: {\n      \"root\": {\n        \"background-color\": \"#d1d1d1\",\n        \"padding\": \"8px\",\n        \"color\": \"#000\",\n        \"margin\": 5,\n        \"border-radius\": 1\n      }\n    },\n    MuiDialogActions: {\n      \"root\": {\n        \"justify-content\": \"space-around\"\n      }\n    },\n    MuiTypography: {\n      \"root\": {\n        \"font-weight\": 300\n      },\n      h1: {\n        \"font-weight\": 300\n      },\n      h2: {\n        \"font-weight\": 300\n      },\n      h3: {\n        \"font-weight\": 300\n      },\n      h4: {\n        \"font-weight\": 300\n      },\n      h5: {\n        \"font-weight\": 300\n      },\n      h6: {\n        \"font-weight\": 300\n      },\n      body1: {\n        \"font-weight\": 300\n      },\n      body2: {\n        \"font-weight\": 300\n      }\n    }\n  }\n});\n// const useStyles = makeStyles({});\nconst App = () => {\n  // const classes = useStyles();\n\n  const [mode, setActiveMode] = useState(null);\n  const [onboarded, setOnboarded] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [bedTemp, setBedTemp] = useState(0);\n  const [bedTargetTemp, setBedTargetTemp] = useState(0);\n  const [nozzleTemp, setNozzleTemp] = useState(0);\n  const [nozzleTargetTemp, setNozzleTargetTemp] = useState(0);\n  const [zOffset, setZOffset] = useState(0);\n  const [machineName, setMachineName] = useState(\"\");\n  const [userLevelDialog, setUserLevelDialog] = useState(false);\n  const [errorDialog, setErrorDialog] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorTitle, setErrorTitle] = useState(\"\");\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackText, setSnackText] = useState(\"\");\n\n  const handleClose = (event, reason) => {\n    setShowSnack(false);\n  };\n\n  useMountEffect(() => {\n   setLoading(true);\n   fillStorage().then(function() {\n     setOnboarded(getStorage(\"onboarded\"));\n\n     if(!getStorage(\"userMode\") || getStorage(\"userMode\") == \"standard\") {\n       setStorage(\"userMode\", null);\n       setUserLevelDialog(true);\n     } else {\n       setActiveMode(getStorage(\"userMode\"));\n     }\n\n     let networkType = getStorage(\"networkProfile\");\n     let printerName = getStorage(\"printerName\");\n\n     if (networkType === \"hotspot\") {\n       fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n         method: \"POST\",\n         headers: {\n           \"Content-Type\": \"application/json\"\n         }\n       });\n     }\n\n     if (networkType === \"wifi\") {\n       fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n         method: \"POST\",\n         headers: {\n           \"Content-Type\": \"application/json\"\n         }\n       });\n     }\n\n     if (printerName === null) {\n       setStorage(\"printerName\", \"300x\");\n       setMachineName(\"300x\");\n     } else {\n       if(printerName === \"300X\") {\n         setStorage(\"printerName\", \"300x\");\n         setMachineName(\"300x\");\n       } else {\n         setMachineName(printerName);\n       }\n     }\n   });\n  });\n\n  const handleOnboarding = (val) => {\n    setActiveMode(val);\n    setOnboarded(true);\n  };\n  const [socketUrl, setSocketUrl] = useState(\n    `ws://${window.location.hostname}:9000/sockjs/718/qerksnvm/websocket`\n  );\n  const messageHistory = useRef([]);\n\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: (closeEvent) => true,\n    reconnectAttempts: 999999, // default: 20\n    reconnectInterval: 0, // default: 5000\n    onOpen: () => {\n      console.log(\"socket opened\");\n    },\n    onError: () => {\n      console.log(\"socket error\");\n    },\n    onClose: () => {\n      // force reconnect somehow like sending message?\n      console.log(\"socket closed\");\n    },\n    onMessage: (msg) => {\n      // console.log(\"MESSAGE EVENT\");\n      try {\n        let json = JSON.parse(msg.data.substring(1));\n        if (json.length && json.length > 0) {\n          if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n            if(json[0].current.temps[0].hasOwnProperty(\"tool0\") &&\n               json[0].current.temps[0].hasOwnProperty(\"bed\")\n            ) {\n              let temps = json[0].current.temps[0];\n              console.log(\"setting temps\");\n              setNozzleTemp(parseInt(temps.tool0.actual));\n              setBedTemp(parseInt(temps.bed.actual));\n              setNozzleTargetTemp(parseInt(temps.tool0.target));\n              setBedTargetTemp(parseInt(temps.bed.target));\n            }\n          }\n\n          if (json[0].hasOwnProperty(\"event\") && json[0].event.type == \"Error\") {\n            // set error\n            let error = json[0].event;\n            console.log(error);\n            let title = \"Error thrown by \" + error.payload.reason;\n            let message = error.payload.error;\n            setErrorMessage(message);\n            setErrorTitle(title);\n            setErrorDialog(true);\n          }\n\n          if (errorDialog && json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n            if(json[0].current.state.text == \"Operational\") {\n              setErrorDialog(false);\n              setSnackText(\"Your Printer Is Back Online!\");\n              setShowSnack(true);\n            }\n          }\n\n        }\n      } catch (error) {}\n    // console.log(msg);\n    }\n  });\n\n  messageHistory.current = useMemo(() => {\n    try {\n      messageHistory.current.concat(lastMessage);\n      // let json = JSON.parse(lastMessage.data.substring(1));\n      // if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n      //   if (json[0].current.temps[0]) {\n      //     let temps = json[0].current.temps[0];\n      //     setNozzleTemp(parseInt(temps.tool0.actual));\n      //     setBedTemp(parseInt(temps.bed.actual));\n      //   }\n      // }\n    } catch (error) {}\n  }, [lastMessage]);\n\n  const connectionStatus = {\n    [ReadyState.CONNECTING]: \"Connecting\",\n    [ReadyState.OPEN]: \"Open\",\n    [ReadyState.CLOSING]: \"Closing\",\n    [ReadyState.CLOSED]: \"Closed\",\n    [ReadyState.UNINSTANTIATED]: \"Uninstantiated\"\n  }[readyState];\n\n  React.useEffect(() => {\n    console.log(connectionStatus);\n    if (connectionStatus == \"Open\") {\n      sendMessage('{ \"auth\": \"E7BFE47F2DBF489B9E78A3D9D042874A\" }');\n      sendMessage('{ \"throttle\": 2 }');\n      sendMessage('{ \"current\": \"state\" }');\n      setLoading(false);\n    }\n  }, [connectionStatus]);\n\n  return (\n\n    <MuiThemeProvider theme={theme}>\n      <TempContext.Provider\n        value={{\n          bedTarget: bedTargetTemp,\n          bed: bedTemp,\n          nozzleTarget: nozzleTargetTemp,\n          nozzle: nozzleTemp,\n          zOffset: zOffset,\n          setBedTarget: setBedTargetTemp,\n          setNozzleTarget: setNozzleTargetTemp,\n          setBed: setBedTemp,\n          setNozzle: setNozzleTemp,\n          setZOffset: setZOffset\n        }}\n      >\n        <CssBaseline />\n        <Box height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n          {onboarded && (\n            <AppBar position=\"sticky\">\n              <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n                Printer Name: {window.location.hostname}\n              </Typography>\n            </AppBar>\n          )}\n          {loading ? (\n            <>\n              <img\n                src={imgPrint}\n                style={{\n                  width: 200,\n                  height: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% - 100px)\"\n                }}\n              ></img>\n              <h4\n                style={{\n                  width: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% + 120px)\",\n                  textAlign: \"center\"\n                }}\n              >\n                Loading ...\n              </h4>\n            </>\n          ) : (\n            <Home\n              mode={mode}\n              lastMessage={lastMessage}\n              setActiveMode={setActiveMode}\n            />\n          )}\n          <Dialog\n            open={errorDialog}\n            disableBackdropClick={true}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            style={{textAlign:\"center\"}}\n          >\n            <DialogTitle id=\"alert-dialog-title\">{errorTitle}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                {errorMessage}\n                <br />\n                Turn off your printer and check to make sure you have no loose wire connections.\n                Once you have checked all connections, turn your printer back on and try again.\n              </DialogContentText>\n            </DialogContent>\n          </Dialog>\n          <Dialog\n            open={userLevelDialog}\n            disableBackdropClick={true}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            style={{textAlign:\"center\"}}\n          >\n            <DialogTitle id=\"alert-dialog-title\">New User Levels Unlocked</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                New User Levels Unlocked. Go into settings to change your user level.\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => {\n                  setStorage(\"userMode\", \"advanced\");\n                  setActiveMode(\"advanced\");\n                  setUserLevelDialog(false);\n                }}\n                color=\"primary\" style={{\n                  backgroundColor: \"#0072CE\",\n                  color: \"white\",\n                  marginRight: 10,\n                  marginBottom: 10\n                }} autoFocus>\n                Set Advanced User Level\n              </Button>\n            </DialogActions>\n          </Dialog>\n          <Snackbar\n            open={showSnack}\n            autoHideDuration={6000}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n            onClose={handleClose}\n            style={{top:'45%'}}\n          >\n            <Alert onClose={handleClose} autoHideDuration={6000} severity=\"success\">\n              {snackText}\n            </Alert>\n          </Snackbar>\n        </Box>\n      </TempContext.Provider>\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === '300x.local' ||\n    // [::1] is the IPv6 300x.local address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered 300x.local for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on 300x.local. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to 300x.local, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not 300x.local. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mm-print.01cf77d4.svg\";"],"sourceRoot":""}