{"version":3,"sources":["components/Common/3dViewer/RenderingUtils/TransformControls.js","Utility/useMountEffect.js","components/Common/OptionCard/OptionCard.js","Utility/helpers.js","components/Setup/PrinterType/PrinterType.js","components/Setup/NetworkType/NetworkSettings.js","components/Menu/MenuTabs/Update.js","components/Tutorials/TutorialLayouts.js","components/Tutorials/TutorialDefinitions.js","components/Tutorials/TutorialThermometer/TutorialThermometer.js","components/Tutorials/GCodeBuilder.js","TempContext.js","components/Tutorials/Tutorial/Tutorial.js","components/Setup/NetworkType/HotspotConnect.js","components/Setup/NetworkType/WifiConnect.js","components/Setup/NetworkSelect/NetworkSelect.js","components/Common/Tabs/TabList.js","components/Setup/Setup.js","components/Print/PrintStatus/PrintStatus.js","AppContext.js","components/Common/3dViewer/RenderingUtils/STLLoader.js","components/Common/3dViewer/FilesPanel/index.js","components/Common/3dViewer/RenderingUtils/OrbitControls.js","components/Common/3dViewer/PrintRenderer/index.js","components/Common/3dViewer/SettingsPanel/index.js","components/Common/3dViewer/RenderingUtils/ExportSTL.js","components/Common/SliceModal/index.js","components/Common/FileManager/FileManager.js","components/Print/Print.js","components/Control/Moving/Moving.js","components/Control/Heating/Heating.js","components/Control/Control.js","components/Menu/MenuTabs/ManageStorage.js","components/Menu/MenuTabs/About.js","components/Menu/MenuTabs/Settings.js","components/Menu/MenuTabs/Tutorials.js","components/Menu/Menu.js","components/Menu/MenuTabs/ResetPrinter.js","components/Tutorials/Tutorial/TutorialButton.js","components/Tune/Tune.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","img/mm-print.svg"],"names":["module","exports","THREE","BoxGeometry","BufferGeometry","Color","CylinderGeometry","DoubleSide","Euler","Float32BufferAttribute","Line","LineBasicMaterial","Matrix4","Mesh","MeshBasicMaterial","Object3D","OctahedronGeometry","PlaneGeometry","Quaternion","Raycaster","SphereGeometry","TorusGeometry","Vector3","TransformControls","camera","domElement","undefined","console","warn","document","call","this","visible","_gizmo","TransformControlsGizmo","add","_plane","TransformControlsPlane","scope","defineProperty","changeEvent","type","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","raycaster","intersectObjectWithRay","object","includeInvisible","allIntersections","intersectObject","i","length","_tempVector","_tempVector2","_tempQuaternion","_unit","X","Y","Z","pointStart","pointEnd","offset","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","Object","get","set","value","dispatchEvent","getPointer","event","ownerDocument","pointerLockElement","x","y","button","pointer","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","onPointerHover","enabled","pointerType","pointerHover","onPointerDown","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","onPointerUp","removeEventListener","pointerUp","dispose","traverse","child","geometry","material","attach","detach","axis","updateMatrixWorld","parent","error","matrixWorld","decompose","copy","invert","sub","normalize","prototype","dragging","setFromCamera","intersect","picker","name","planeIntersect","space","snap","rotationSnap","rotation","Math","round","z","position","quaternion","scale","point","applyQuaternion","indexOf","divide","translationSnap","search","setFromMatrixPosition","d","dot","multiply","scaleSnap","ROTATION_SPEED","distanceTo","angleTo","cross","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSize","size","setSpace","update","assign","create","constructor","isTransformControls","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","clone","opacity","matHelper","matRed","color","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","PI","sin","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","tempVector","tempEuler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","concat","children","factor","handle","isOrthographicCamera","bottom","zoom","min","tan","fov","multiplyScalar","abs","setFromRotationMatrix","lookAt","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","split","some","a","lerp","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","useMountEffect","fun","useEffect","useStyles","makeStyles","card","margin","border","textAlign","OptionCard","title","description","onClick","classes","Card","className","CardActionArea","CardContent","Typography","variant","formatBytes","bytes","decimals","k","dm","sizes","floor","log","parseFloat","pow","toFixed","storage","fillStorage","getSettings","then","data","setStorage","key","val","formData","FormData","append","JSON","stringify","postSettings","getStorage","response","fetch","window","location","hostname","method","json","body","header","fontSize","backdrop","zIndex","buttonContainer","display","justifyContent","marginTop","connecting","flexDirection","alignItems","marginBottom","container","item","padding","props","settingsScreen","keyboard","right","NetworkSettings","setStep","setShowSnack","setSnackMessage","useState","useRef","printerName","setPrinterName","Grid","spacing","direction","paddingTop","Button","checker","flex","updateContainer","Update","autoCheck","firstBoot","handleOnboarding","fastTrackUpdate","setFastTrackUpdate","checking","setChecking","text","setText","releaseNotes","setReleaseNotes","updateChecked","setUpdateChecked","updates","setUpdates","checkDisabled","setCheckDisabled","rebootMessage","setRebootMessage","retryCount","setRetryCount","handleCheck","checkUpdates","headers","message","alignSelf","aria-label","endIcon","ArrowForward","justify","CircularProgress","dangerouslySetInnerHTML","__html","replace","downloadUpdates","updated","setTimeout","attemptReboot","catch","err","disabled","TutorialLayouts","ButtonSingle","AxisManipulation","ButtonMulti","ThermalGate","DualThermalGate","TutorialDefinitions","firstRun","userVisable","exitActions","params","steps","layout","buttonText","buttonActions","axisX","axisY","axisZ","buttons","id","minimumTemp","gateText","minimumExtruderTemp","minimumBedTemp","blTouchCalibration","image","bedLevelCornerCalibration","loadFilament","unloadFilament","printTestCube","TutorialThermometer","max","GCodeBuilder","_actions","retString","command","GSetZProbeOffset","GMoveToOrigin","GSetSoftwareEndstops","GLinearMove","doX","doY","doZ","xPos","yPos","zPos","TempContext","React","createContext","bedTarget","nozzleTarget","bed","nozzle","zOffset","setBedTarget","temp","setNozzleTarget","setBed","setNozzle","setZOffset","Tutorial","evTutorialClose","onTutorialClose","state","tutorialId","tutorialName","tutorialReady","currentStep","exitWarning","showSnack","snackMessage","unit","delay","tutorial","offsetRequested","attemptGetZOffset","setState","prevProps","context","processButtonActions","reason","amount","toLowerCase","newOffset","codeBuilder","addCommand","sendGcode","build","GSetBedTemp","GSetExtruderTemp","attemptAbsolute","distance","GExtrude","find","b","gcode","actions","currentState","action","actionContinue","attemptHome","attemptBlLevel","attemptXYMoveTo","actionJumpTo","attemptSaveZOffset","attemptSetExtruderTemp","attemptSetBedTemp","attemptTestPrint","attemptZOffsetStart","step","tutorialWindow","AppBar","paddingLeft","Container","tutorialContainer","xs","tutorialHeading","IconButton","tutorialCloseButton","attemptCloseTutorial","CloseSharp","renderTutorialPage","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","attemptExitActions","autoFocus","Snackbar","autoHideDuration","onClose","alignContent","layoutSingleGrid","layoutSingleGridText","map","textSegment","tutorialText","alt","src","layoutSingleGridButton","tutorialButton","tutorialButtonPressed","layoutSingleGridAxisControl","renderAxisControl","layoutSingleGridThermalControl","thermoLabel","btnContainer","Paper","Tabs","tabs","onChange","e","u","Tab","label","minWidth","attemptAxisMove","ArrowUpward","ArrowDownward","Component","contextType","withStyles","theme","backgroundColor","float","marginRight","paddingRight","flexGrow","layoutSingleGridTop","axisButton","textTransform","centerBtns","HotspotConnect","setConnectWifi","accordion","marginLeft","wifiList","overflow","borderRadius","WifiConnect","handleSnackClose","onGoBack","setStage","expanded","setExpanded","setLayout","input","setInput","wifiArr","setWifiArr","setConnecting","loading","setLoading","maskPassword","setMaskPassword","getNetworks","networks","filter","obj","pos","arr","mapObj","ssid","handleSubmit","setNetwork","password","status","passwordToggle","onChangeInput","target","current","imgPrint","List","network","Accordion","AccordionSummary","content","ListItem","panel","AccordionDetails","TextField","InputProps","endAdornment","InputAdornment","Backdrop","keyboardRef","r","layoutName","default","shift","symbol","number","onKeyPress","NetworkSelect","stage","enableInternet","selectedInterface","enableHotspot","setNewType","renderHeader","Language","SettingsInputHdmi","complete","SettingsRemote","TabList","welcome","tabList","handleTabClick","activeTab","disabledNav","centered","tab","textCenter","toHHMMSS","secs","sec_num","parseInt","v","join","BorderLinearProgress","root","colorPrimary","bar","LinearProgress","PrintStatus","lastMessage","progressState","setDisabledNav","statusText","fileName","paused","setPaused","camEnabled","setCamEnabled","setValue","elapsed","setElapsed","remaining","setRemaining","cameraFeedUrl","cameraUrl","setCameraUrl","waiting","setWaiting","url","callback","img","Image","onload","onerror","imageExists","exists","completion","printTime","printTimeLeft","flags","component","Consumer","transform","startIcon","PlayArrow","Pause","Stop","AppContext","camRotation","camZoom","camZ","showMagnet","showBounds","showGrid","addRotation","deg","setZoom","addZ","setShowMagnet","setShowBounds","setShowGrid","STLLoader","manager","onLoad","onProgress","onError","loader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","parse","itemError","matchDataViewAt","query","reader","il","getUint8","buffer","binData","array_buffer","Uint8Array","charCodeAt","ensureBinary","DataView","getUint32","byteLength","solid","off","isBinary","g","colors","defaultR","defaultG","defaultB","alpha","faces","hasColors","index","Float32Array","normals","face","start","normalX","getFloat32","normalY","normalZ","packedColor","getUint16","vertexstart","componentIdx","parseBinary","result","patternSolid","patternFace","faceCounter","patternFloat","source","patternVertex","RegExp","patternNormal","normal","groupCount","startVertex","endVertex","exec","vertexCountPerFace","normalCountPerFace","count","addGroup","parseASCII","decodeText","blob","FilesPanel","useContext","stl","listOpen","setListOpen","fileList","setFileList","uploadElement","setUploadElement","getFile","file","File","expandIcon","ExpandMore","aria-controls","currentFile","selected","selectedFile","setSelectedFile","handleListItemClick","ListItemIcon","Checkbox","checked","idx","objRoot","mesh","control","swapTrasformTool","inputProps","ListItemText","primary","ListItemSecondaryAction","edge","remove","filesWithoutDeleted","deleteFile","DeleteForever","click","Add","files","match","FileReader","contents","sourceType","sourceFile","specular","shininess","castShadow","receiveShadow","center","setFromObject","getSize","on","ev","setTransformValue","setModifiedStl","readAsBinaryString","ref","accept","OrbitControls","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","listenToKeyEvents","onKeyDown","saveState","reset","updateProjectionMatrix","STATE","NONE","quat","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","zoomChanged","distanceToSquared","EPS","onContextMenu","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","angle","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","mouseAction","preventDefault","focus","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","handleMouseWheel","needsUpdate","code","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","EventDispatcher","MapControls","require","PrintRenderer","posRotScale","canvas","createRef","canvasBg","rotationTarget","lastTime","renderer","scene","cameraHelper","cameraPivot","zTarget","gridObj","magnetObj","planeObj","boundsObj","showMagnetBed","viewControls","nextProps","nextState","assignCanvas","parentElement","initCanvas","background","Interaction","gpMesh","magTexture","magMesh","moveTo","lineTo","pathMesh","setFromPoints","getPoints","grid","buildGeometry","buildEdges","buildLines","cameraControl","setFileName","geo","mat","matchCount","intersects","intersectedPlane","setControl","setScene","setCamera","setObjRoot","renderFrame","requestAnimationFrame","bind","render","ButtonGroup","orientation","transformValue","OpenInNew","OpenWith","Loop","SettingsPanel","settingsOpen","setSettingsOpen","FormControl","FormGroup","FormControlLabel","Switch","STLExporter","options","output","binary","objects","triangles","isMesh","isBufferGeometry","Error","positionAttribute","getAttribute","object3d","arrayBuffer","ArrayBuffer","setUint32","vA","vB","vC","cb","ab","j","writeFace","getX","c","fromBufferAttribute","isSkinnedMesh","boneTransform","setFloat32","writeNormal","writeVertex","setUint16","vertex","setProfileSettings","slicer","metadata","preferred_quality_type","setChildSettings","settings","resolution","layer_height","speed","speed_print","speed_infill","speed_wall","speed_wall_0","speed_wall_x","travel","retraction_enable","default_material_print_temperature","material_print_temperature","material_print_temperature_layer_0","material_initial_print_temperature","material_final_print_temperature","default_material_bed_temperature","material_bed_temperature","setHeadTemp","setBedTemp","setInfillType","infill","infill_pattern","default_value","setFlowRate","rate","material_flow","setStickType","platform_adhesion","adhesion_type","setSpeed","pace","setStructure","struct","support","support_structure","setSupportType","support_pattern","setting","hasOwnProperty","property","traverseChildSettings","setInfillLineDistance","percent_density","infill_sparse_density","infill_line_distance","multiplier","setInfillMultiplier","infillLineDistance","line_width","infill_line_width","getStlGroupName","meshes","slice","SliceModal","shown","filament","quality","infill_type","flow","stick_type","supports","vase","structure","support_type","modifiedStl","drawerOpen","slicerOpen","savedFile","stlName","userMode","fillMode","infill_patterns","stick_patterns","skirt","structures","support_types","defaultSettings","onboardSettings","startPrint","profile_type","support_enable","blackmagic","magic_spiralize","exporter","stlString","Blob","groupedStlName","buildFileName","realFile","handleFileSaveOpen","onFailure","sliceModal","Modal","disableBackdropClick","settingsBack","settingsDrawer","mainContainer","Provider","Drawer","anchor","paper","drawerContainer","formControl","InputLabel","Select","labelId","MenuItem","InputLabelProps","shrink","maxLength","helperText","entries","pattern","row","setSliceAndStartPrint","aria-labelledby","aria-describedby","okButton","slider","modal","modalContainer","printButton","sliceDropdown","maxWidth","summary","cursor","palette","secondary","main","hover","fontWeight","fileContainer","maxHeight","fileLocation","icon","isFolder","filename","fileTypes","endsWith","getFolderOnlyPath","o","p","FileManager","setDrawerOpen","manage","setSelected","setFiles","rootFiles","setRootFiles","storageUsed","setStorageUsed","storageFree","setStorageFree","storageTotal","setStorageTotal","directories","setDirectories","currentDirectory","setCurrentDirectory","showModal","setShowModal","setShowTooltip","getFiles","free","total","fileTree","Array","forEach","reduce","prevDir","currDir","filePath","Treeify","handleZipCheck","resetFiles","newFiles","toUpperCase","Close","directory","fileKeys","fileIdx","pop","getFileDirectory","folder","Folder","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","protectedFiles","isFileProtected","Slideshow","FolderOpen","includes","test","SystemUpdateAlt","Layers","selected_file","handleSelect","cardContent","clearInputFile","f","form","createElement","parentNode","nextSibling","appendChild","insertBefore","Print","extruder","connected","feed","printing","progress","printState","setPrintState","jobState","setJobState","setProgressState","fileDrawerOpen","setFileDrawerOpen","setFileLocation","showSliceModal","setShowSliceModal","uploadFile","setUploadFile","runout","setRunout","fetchFiles","substring","job","plugin","filamentStatus","units","Moving","nozzleTemp","setUnit","heatingDialog","setHeatingDialog","setDelay","homeAxis","moveAxis","negative","Box","gauges","nozzleSlider","tempOutputs","Heating","Slider","newVal","onChangeCommitted","getAriaValueText","valueLabelDisplay","Control","setPosition","setNozzleTemp","temps","tool0","actual","payload","componentContainer","ManageStorage","About","checkUpdateInfo","success","update_info","subheader","ListSubheader","Save","packageJson","version","reverse","Settings","networkType","setNetworkType","printerMode","setPrinterMode","setUserMode","displayWifi","displaySSID","allowPrerelease","setAllowPrerelease","allowAutoUpdate","setAllowAutoUpdate","rebootRequired","setRebootRequired","setNetworkData","networkProfile","handleCameraToggle","confirm","toggleCamera","LocalLibrary","native","MenuProps","anchorOrigin","vertical","horizontal","getContentAnchorEl","Class","checkedValue","Dns","Videocam","Tutorials","currentTutorial","selectTutorial","getOwnPropertyNames","tutName","tutorialCard","showClose","closeTutorial","Menu","activeComponent","setActiveComponent","updateItem","MenuArray","handleDrawer","Fragment","Divider","TutorialButton","tutorialShown","extruderTemp","bedTemp","Tune","setExtruder","appBar","Home","setActiveMode","setActiveTab","newVersionTitle","setNewVersionTitle","checkOnline","onlineData","online","updateData","messages","values","offsetIgnoreZ","Components","Prepare","sliceOnly","Alert","elevation","createMuiTheme","overrides","MuiTab","MuiAppBar","MuiPaper","rounded","MuiButton","MuiButtonBase","MuiIconButton","MuiListItemText","MuiAccordion","MuiAccordionSummary","minHeight","MuiAccordionDetails","MuiDialogActions","MuiTypography","h1","h2","h3","h4","h5","h6","body1","body2","App","onboarded","setOnboarded","bedTargetTemp","setBedTargetTemp","nozzleTargetTemp","setNozzleTargetTemp","setMachineName","errorDialog","setErrorDialog","errorMessage","setErrorMessage","errorTitle","setErrorTitle","snackText","setSnackText","handleClose","socketUrl","messageHistory","useWebSocket","shouldReconnect","closeEvent","reconnectAttempts","reconnectInterval","onOpen","onMessage","msg","sendMessage","readyState","useMemo","connectionStatus","ReadyState","CONNECTING","OPEN","CLOSING","CLOSED","UNINSTANTIATED","CssBaseline","severity","Boolean","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+xCAGAA,EAAOC,QAAU,SAAUC,GAE1B,IAAMC,EAAcD,EAAMC,YACpBC,EAAiBF,EAAME,eACvBC,EAAQH,EAAMG,MACdC,EAAmBJ,EAAMI,iBACzBC,EAAaL,EAAMK,WACnBC,EAAQN,EAAMM,MACdC,EAAyBP,EAAMO,uBAC/BC,EAAOR,EAAMQ,KACbC,EAAoBT,EAAMS,kBAC1BC,EAAUV,EAAMU,QAChBC,EAAOX,EAAMW,KACbC,EAAoBZ,EAAMY,kBAC1BC,EAAWb,EAAMa,SACjBC,EAAqBd,EAAMc,mBAC3BC,EAAgBf,EAAMe,cACtBC,EAAahB,EAAMgB,WACnBC,EAAYjB,EAAMiB,UAClBC,EAAiBlB,EAAMkB,eACvBC,EAAgBnB,EAAMmB,cACtBC,EAAUpB,EAAMoB,QAElBC,EAAoB,SAAWC,EAAQC,QAEtBC,IAAfD,IAEJE,QAAQC,KAAM,gFACdH,EAAaI,UAIdd,EAASe,KAAMC,MAEfA,KAAKC,SAAU,EACfD,KAAKN,WAAaA,EAElB,IAAIQ,EAAS,IAAIC,EACjBH,KAAKI,IAAKF,GAEV,IAAIG,EAAS,IAAIC,EACjBN,KAAKI,IAAKC,GAEV,IAAIE,EAAQP,KAMZQ,EAAgB,SAAUf,GAC1Be,EAAgB,cAAUb,GAC1Ba,EAAgB,WAAW,GAC3BA,EAAgB,OAAQ,MACxBA,EAAgB,OAAQ,aACxBA,EAAgB,kBAAmB,MACnCA,EAAgB,eAAgB,MAChCA,EAAgB,YAAa,MAC7BA,EAAgB,QAAS,SACzBA,EAAgB,OAAQ,GACxBA,EAAgB,YAAY,GAC5BA,EAAgB,SAAS,GACzBA,EAAgB,SAAS,GACzBA,EAAgB,SAAS,GAEzB,IAAIC,EAAc,CAAEC,KAAM,UACtBC,EAAiB,CAAED,KAAM,aACzBE,EAAe,CAAEF,KAAM,UAAWG,KAAMN,EAAMM,MAC9CC,EAAoB,CAAEJ,KAAM,gBAI5BK,EAAY,IAAI3B,EAEpB,SAAS4B,EAAwBC,EAAQF,EAAWG,GAInD,IAFA,IAAIC,EAAmBJ,EAAUK,gBAAiBH,GAAQ,GAEhDI,EAAI,EAAGA,EAAIF,EAAiBG,OAAQD,IAE7C,GAAKF,EAAkBE,GAAIJ,OAAOhB,SAAWiB,EAE5C,OAAOC,EAAkBE,GAM3B,OAAO,EAIR,IAAIE,EAAc,IAAIhC,EAClBiC,EAAe,IAAIjC,EACnBkC,EAAkB,IAAItC,EACtBuC,EAAQ,CACXC,EAAG,IAAIpC,EAAS,EAAG,EAAG,GACtBqC,EAAG,IAAIrC,EAAS,EAAG,EAAG,GACtBsC,EAAG,IAAItC,EAAS,EAAG,EAAG,IAGnBuC,EAAa,IAAIvC,EACjBwC,EAAW,IAAIxC,EACfyC,EAAS,IAAIzC,EACb0C,EAAe,IAAI1C,EACnB2C,EAAY,IAAI3C,EAChB4C,EAAU,IAAI5C,EACd6C,EAAgB,EAEhBC,EAAiB,IAAI9C,EACrB+C,EAAmB,IAAInD,EACvBoD,EAAc,IAAIhD,EAElBiD,EAAiB,IAAIjD,EACrBkD,EAAmB,IAAItD,EACvBuD,EAAsB,IAAIvD,EAC1BwD,EAAc,IAAIpD,EAElBqD,EAAqB,IAAIrD,EACzBsD,EAAuB,IAAI1D,EAC3B2D,EAAkB,IAAIvD,EAEtBwD,EAAgB,IAAIxD,EACpByD,EAAkB,IAAI7D,EACtB8D,EAAqB,IAAI9D,EACzB+D,EAAa,IAAI3D,EAEjB4D,EAAM,IAAI5D,EAEV6D,EAAgB,IAAI7D,EACpB8D,EAAkB,IAAIlE,EACtBmE,EAAa,IAAI/D,EA8DrB,SAASiB,EAAgB+C,EAAUC,GAElC,IAAIC,EAAYD,EAEhBE,OAAOlD,eAAgBD,EAAOgD,EAAU,CAEvCI,IAAK,WAEJ,YAAqBhE,IAAd8D,EAA0BA,EAAYD,GAI9CI,IAAK,SAAWC,GAEVJ,IAAcI,IAElBJ,EAAYI,EACZxD,EAAQkD,GAAaM,EACrB3D,EAAQqD,GAAaM,EAErBtD,EAAMuD,cAAe,CAAEpD,KAAM6C,EAAW,WAAYM,MAAOA,IAC3DtD,EAAMuD,cAAerD,OAQxBF,EAAOgD,GAAaC,EACpBnD,EAAQkD,GAAaC,EACrBtD,EAAQqD,GAAaC,EA6XtB,SAASO,EAAYC,GAEpB,GAAKzD,EAAMb,WAAWuE,cAAcC,mBAEnC,MAAO,CACNC,EAAG,EACHC,EAAG,EACHC,OAAQL,EAAMK,QAKf,IAAIC,EAAUN,EAAMO,eAAiBP,EAAMO,eAAgB,GAAMP,EAE7DQ,EAAO9E,EAAW+E,wBAEtB,MAAO,CACNN,GAAKG,EAAQI,QAAUF,EAAKG,MAASH,EAAKI,MAAQ,EAAI,EACtDR,IAAOE,EAAQO,QAAUL,EAAKM,KAAQN,EAAKO,OAAS,EAAI,EACxDV,OAAQL,EAAMK,QASjB,SAASW,EAAgBhB,GAExB,GAAOzD,EAAM0E,QAEb,OAASjB,EAAMkB,aAEd,IAAK,QACL,IAAK,MACJ3E,EAAM4E,aAAcpB,EAAYC,KAOnC,SAASoB,EAAepB,GAEhBzD,EAAM0E,UAEb1E,EAAMb,WAAW2F,MAAMC,YAAc,OACrC/E,EAAMb,WAAWuE,cAAcsB,iBAAkB,cAAeC,GAEhEjF,EAAM4E,aAAcpB,EAAYC,IAChCzD,EAAMkF,YAAa1B,EAAYC,KAIhC,SAASwB,EAAexB,GAEhBzD,EAAM0E,SAEb1E,EAAMmF,YAAa3B,EAAYC,IAIhC,SAAS2B,EAAa3B,GAEdzD,EAAM0E,UAEb1E,EAAMb,WAAW2F,MAAMC,YAAc,GACrC/E,EAAMb,WAAWuE,cAAc2B,oBAAqB,cAAeJ,GAEnEjF,EAAMsF,UAAW9B,EAAYC,KA5hB9BxD,EAAgB,gBAAiBuC,GACjCvC,EAAgB,qBAAsBoC,GACtCpC,EAAgB,kBAAmBwC,GACnCxC,EAAgB,uBAAwBqC,GACxCrC,EAAgB,iBAAkB6B,GAClC7B,EAAgB,mBAAoB8B,GACpC9B,EAAgB,aAAcsB,GAC9BtB,EAAgB,WAAYuB,GAC5BvB,EAAgB,eAAgByB,GAChCzB,EAAgB,gBAAiB4B,GACjC5B,EAAgB,MAAO2C,GAItBzD,EAAW6F,iBAAkB,cAAeH,GAC5C1F,EAAW6F,iBAAkB,cAAeP,GAC5CzE,EAAMb,WAAWuE,cAAcsB,iBAAkB,YAAaI,GAI/D3F,KAAK8F,QAAU,WAEdpG,EAAWkG,oBAAqB,cAAeR,GAC/C1F,EAAWkG,oBAAqB,cAAeZ,GAC/CzE,EAAMb,WAAWuE,cAAc2B,oBAAqB,cAAeJ,GACnEjF,EAAMb,WAAWuE,cAAc2B,oBAAqB,YAAaD,GAEjE3F,KAAK+F,UAAU,SAAWC,GAEpBA,EAAMC,UAAWD,EAAMC,SAASH,UAChCE,EAAME,UAAWF,EAAME,SAASJ,cAOvC9F,KAAKmG,OAAS,SAAWlF,GAKxB,OAHAjB,KAAKiB,OAASA,EACdjB,KAAKC,SAAU,EAERD,MAKRA,KAAKoG,OAAS,WAMb,OAJApG,KAAKiB,YAAStB,EACdK,KAAKC,SAAU,EACfD,KAAKqG,KAAO,KAELrG,MAyCRA,KAAKsG,kBAAoB,gBAEH3G,IAAhBK,KAAKiB,SAETjB,KAAKiB,OAAOqF,oBAEgB,OAAvBtG,KAAKiB,OAAOsF,OAEhB3G,QAAQ4G,MAAO,gFAIfxG,KAAKiB,OAAOsF,OAAOE,YAAYC,UAAWlE,EAAgBC,EAAkBE,GAI7E3C,KAAKiB,OAAOwF,YAAYC,UAAW3D,EAAeC,EAAiBE,GAEnER,EAAoBiE,KAAMlE,GAAmBmE,SAC7C3D,EAAmB0D,KAAM3D,GAAkB4D,UAI5C5G,KAAKP,OAAO6G,oBACZtG,KAAKP,OAAOgH,YAAYC,UAAWrE,EAAgBC,EAAkBC,GAErEY,EAAIwD,KAAMtE,GAAiBwE,IAAK9D,GAAgB+D,YAEhD9H,EAAS+H,UAAUT,kBAAkBvG,KAAMC,OAI5CA,KAAKmF,aAAe,SAAWb,GAE9B,QAAqB3E,IAAhBK,KAAKiB,SAA0C,IAAlBjB,KAAKgH,SAAvC,CAEAjG,EAAUkG,cAAe3C,EAAStE,KAAKP,QAEvC,IAAIyH,EAAYlG,EAAwBd,EAAOiH,OAAQnH,KAAKa,MAAQE,GAInEf,KAAKqG,KAFDa,EAEQA,EAAUjG,OAAOmG,KAIjB,OAMdpH,KAAKyF,YAAc,SAAWnB,GAE7B,QAAqB3E,IAAhBK,KAAKiB,SAA0C,IAAlBjB,KAAKgH,UAAwC,IAAnB1C,EAAQD,QAEjD,OAAdrE,KAAKqG,KAAgB,CAEzBtF,EAAUkG,cAAe3C,EAAStE,KAAKP,QAEvC,IAAI4H,EAAiBrG,EAAwBX,EAAQU,GAAW,GAEhE,GAAKsG,EAAiB,CAErB,IAAIC,EAAQtH,KAAKsH,MAYjB,GAVmB,UAAdtH,KAAKa,KAETyG,EAAQ,QAEiB,MAAdtH,KAAKqG,MAA8B,SAAdrG,KAAKqG,MAAiC,QAAdrG,KAAKqG,OAE7DiB,EAAQ,SAIM,UAAVA,GAAmC,WAAdtH,KAAKa,KAAoB,CAElD,IAAI0G,EAAOvH,KAAKwH,aAEG,MAAdxH,KAAKqG,MAAgBkB,IAAOvH,KAAKiB,OAAOwG,SAAStD,EAAIuD,KAAKC,MAAO3H,KAAKiB,OAAOwG,SAAStD,EAAIoD,GAASA,GACrF,MAAdvH,KAAKqG,MAAgBkB,IAAOvH,KAAKiB,OAAOwG,SAASrD,EAAIsD,KAAKC,MAAO3H,KAAKiB,OAAOwG,SAASrD,EAAImD,GAASA,GACrF,MAAdvH,KAAKqG,MAAgBkB,IAAOvH,KAAKiB,OAAOwG,SAASG,EAAIF,KAAKC,MAAO3H,KAAKiB,OAAOwG,SAASG,EAAIL,GAASA,GAIzGvH,KAAKiB,OAAOqF,oBACZtG,KAAKiB,OAAOsF,OAAOD,oBAEnBlD,EAAcuD,KAAM3G,KAAKiB,OAAO4G,UAChCxE,EAAgBsD,KAAM3G,KAAKiB,OAAO6G,YAClCxE,EAAWqD,KAAM3G,KAAKiB,OAAO8G,OAE7B/H,KAAKiB,OAAOwF,YAAYC,UAAW9D,EAAoBC,EAAsBC,GAE7EhB,EAAW6E,KAAMU,EAAeW,OAAQnB,IAAKjE,GAI9C5C,KAAKgH,UAAW,EAChBrG,EAAeE,KAAOb,KAAKa,KAC3Bb,KAAK8D,cAAenD,KAMtBX,KAAK0F,YAAc,SAAWpB,GAE7B,IAAI+B,EAAOrG,KAAKqG,KACZxF,EAAOb,KAAKa,KACZI,EAASjB,KAAKiB,OACdqG,EAAQtH,KAAKsH,MAYjB,GAVc,UAATzG,EAEJyG,EAAQ,QAEY,MAATjB,GAAyB,SAATA,GAA4B,QAATA,IAE9CiB,EAAQ,cAIO3H,IAAXsB,GAAiC,OAAToF,IAAmC,IAAlBrG,KAAKgH,WAA2C,IAArB1C,EAAQD,OAAjF,CAEAtD,EAAUkG,cAAe3C,EAAStE,KAAKP,QAEvC,IAAI4H,EAAiBrG,EAAwBX,EAAQU,GAAW,GAEhE,GAAOsG,EAAP,CAIA,GAFAtF,EAAS4E,KAAMU,EAAeW,OAAQnB,IAAKjE,GAE7B,cAAT/B,EAIJmB,EAAO2E,KAAM5E,GAAW8E,IAAK/E,GAEd,UAAVwF,GAA8B,QAATjB,GAEzBrE,EAAOiG,gBAAiBhF,IAIM,IAA1BoD,EAAK6B,QAAS,OAAgBlG,EAAOmC,EAAI,IACf,IAA1BkC,EAAK6B,QAAS,OAAgBlG,EAAOoC,EAAI,IACf,IAA1BiC,EAAK6B,QAAS,OAAgBlG,EAAO4F,EAAI,GAE/B,UAAVN,GAA8B,QAATjB,EAEzBrE,EAAOiG,gBAAiB5E,GAAkB8E,OAAQxF,GAIlDX,EAAOiG,gBAAiBvF,GAAsByF,OAAQxF,GAIvD1B,EAAO4G,SAASlB,KAAM3E,GAAS5B,IAAKgD,GAI/BpD,KAAKoI,kBAEM,UAAVd,IAEJrG,EAAO4G,SAASI,gBAAiBxG,EAAgBkF,KAAMtD,GAAkBuD,WAE3C,IAAzBP,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAAS1D,EAAIuD,KAAKC,MAAO1G,EAAO4G,SAAS1D,EAAInE,KAAKoI,iBAAoBpI,KAAKoI,kBAIrD,IAAzB/B,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAASzD,EAAIsD,KAAKC,MAAO1G,EAAO4G,SAASzD,EAAIpE,KAAKoI,iBAAoBpI,KAAKoI,kBAIrD,IAAzB/B,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAASD,EAAIF,KAAKC,MAAO1G,EAAO4G,SAASD,EAAI5H,KAAKoI,iBAAoBpI,KAAKoI,iBAInFnH,EAAO4G,SAASI,gBAAiB5E,IAInB,UAAViE,IAECrG,EAAOsF,QAEXtF,EAAO4G,SAASzH,IAAKmB,EAAY+G,sBAAuBrH,EAAOsF,OAAOE,eAIzC,IAAzBJ,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAAS1D,EAAIuD,KAAKC,MAAO1G,EAAO4G,SAAS1D,EAAInE,KAAKoI,iBAAoBpI,KAAKoI,kBAIrD,IAAzB/B,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAASzD,EAAIsD,KAAKC,MAAO1G,EAAO4G,SAASzD,EAAIpE,KAAKoI,iBAAoBpI,KAAKoI,kBAIrD,IAAzB/B,EAAKgC,OAAQ,OAEjBpH,EAAO4G,SAASD,EAAIF,KAAKC,MAAO1G,EAAO4G,SAASD,EAAI5H,KAAKoI,iBAAoBpI,KAAKoI,iBAI9EnH,EAAOsF,QAEXtF,EAAO4G,SAAShB,IAAKtF,EAAY+G,sBAAuBrH,EAAOsF,OAAOE,qBAQnE,GAAc,UAAT5F,EAAmB,CAE9B,IAAgC,IAA3BwF,EAAKgC,OAAQ,OAAkB,CAEnC,IAAIE,EAAIxG,EAAST,SAAWQ,EAAWR,SAElCS,EAASyG,IAAK1G,GAAe,IAAIyG,IAAO,GAE7C/G,EAAaoC,IAAK2E,EAAGA,EAAGA,QAIxBhH,EAAYoF,KAAM7E,GAClBN,EAAamF,KAAM5E,GAEnBR,EAAY0G,gBAAiBhF,GAC7BzB,EAAayG,gBAAiBhF,GAE9BzB,EAAa2G,OAAQ5G,IAES,IAAzB8E,EAAKgC,OAAQ,OAEjB7G,EAAa2C,EAAI,IAIY,IAAzBkC,EAAKgC,OAAQ,OAEjB7G,EAAa4C,EAAI,IAIY,IAAzBiC,EAAKgC,OAAQ,OAEjB7G,EAAaoG,EAAI,GAQnB3G,EAAO8G,MAAMpB,KAAMrD,GAAamF,SAAUjH,GAErCxB,KAAK0I,aAEqB,IAAzBrC,EAAKgC,OAAQ,OAEjBpH,EAAO8G,MAAM5D,EAAIuD,KAAKC,MAAO1G,EAAO8G,MAAM5D,EAAInE,KAAK0I,WAAc1I,KAAK0I,WAAa1I,KAAK0I,YAI3D,IAAzBrC,EAAKgC,OAAQ,OAEjBpH,EAAO8G,MAAM3D,EAAIsD,KAAKC,MAAO1G,EAAO8G,MAAM3D,EAAIpE,KAAK0I,WAAc1I,KAAK0I,WAAa1I,KAAK0I,YAI3D,IAAzBrC,EAAKgC,OAAQ,OAEjBpH,EAAO8G,MAAMH,EAAIF,KAAKC,MAAO1G,EAAO8G,MAAMH,EAAI5H,KAAK0I,WAAc1I,KAAK0I,WAAa1I,KAAK0I,iBAMpF,GAAc,WAAT7H,EAAoB,CAE/BmB,EAAO2E,KAAM5E,GAAW8E,IAAK/E,GAE7B,IAAI6G,EAAiB,GAAK5F,EAAc6F,WAAYrH,EAAY+G,sBAAuBtI,KAAKP,OAAOgH,cAErF,MAATJ,GAEJpE,EAAa0E,KAAMxD,GACnBf,EAAgBL,EAAS8G,QAAS/G,GAElCI,EAAUyE,KAAM7E,GAAagF,YAC7B3E,EAAQwE,KAAM5E,GAAW+E,YAEzB1E,GAAmBD,EAAQ2G,MAAO5G,GAAYsG,IAAKrF,GAAQ,EAAI,GAAM,GAEjD,SAATkD,GAEXpE,EAAa0E,KAAM3E,GAAS8G,MAAO3F,GAAM2D,YACzC1E,EAAgBJ,EAAOwG,IAAKjH,EAAYoF,KAAM1E,GAAe6G,MAAO9I,KAAKmD,MAAUwF,GAE/D,MAATtC,GAAyB,MAATA,GAAyB,MAATA,IAE3CpE,EAAa0E,KAAMjF,EAAO2E,IAE1B9E,EAAYoF,KAAMjF,EAAO2E,IAEV,UAAViB,GAEJ/F,EAAY0G,gBAAiBjF,GAI9BZ,EAAgBJ,EAAOwG,IAAKjH,EAAYuH,MAAO3F,GAAM2D,aAAgB6B,GAMjE3I,KAAKwH,eAAepF,EAAgBsF,KAAKC,MAAOvF,EAAgBpC,KAAKwH,cAAiBxH,KAAKwH,cAEhGxH,KAAKoC,cAAgBA,EAGN,UAAVkF,GAA8B,MAATjB,GAAyB,SAATA,GAEzCpF,EAAO6G,WAAWnB,KAAMtD,GACxBpC,EAAO6G,WAAWW,SAAUhH,EAAgBsH,iBAAkB9G,EAAcG,IAAkB0E,cAI9F7E,EAAagG,gBAAiBvF,GAC9BzB,EAAO6G,WAAWnB,KAAMlF,EAAgBsH,iBAAkB9G,EAAcG,IACxEnB,EAAO6G,WAAWW,SAAUpF,GAAkByD,aAMhD9G,KAAK8D,cAAerD,GACpBT,KAAK8D,cAAehD,MAIrBd,KAAK6F,UAAY,SAAWvB,GAEH,IAAnBA,EAAQD,SAERrE,KAAKgH,UAA4B,OAAdhH,KAAKqG,OAE5BzF,EAAaC,KAAOb,KAAKa,KACzBb,KAAK8D,cAAelD,IAIrBZ,KAAKgH,UAAW,EAChBhH,KAAKqG,KAAO,OAkFbrG,KAAKgJ,QAAU,WAEd,OAAOzI,EAAMM,MAIdb,KAAKiJ,QAAU,SAAWpI,GAEzBN,EAAMM,KAAOA,GAIdb,KAAKkJ,mBAAqB,SAAWd,GAEpC7H,EAAM6H,gBAAkBA,GAIzBpI,KAAKmJ,gBAAkB,SAAW3B,GAEjCjH,EAAMiH,aAAeA,GAItBxH,KAAKoJ,aAAe,SAAWV,GAE9BnI,EAAMmI,UAAYA,GAInB1I,KAAKqJ,QAAU,SAAWC,GAEzB/I,EAAM+I,KAAOA,GAIdtJ,KAAKuJ,SAAW,SAAWjC,GAE1B/G,EAAM+G,MAAQA,GAIftH,KAAKwJ,OAAS,WAEb5J,QAAQC,KAAM,2GAMhBL,EAAkBuH,UAAYrD,OAAO+F,OAAQ/F,OAAOgG,OAAQ1K,EAAS+H,WAAa,CAEjF4C,YAAanK,EAEboK,qBAAqB,IAKtB,IAAIzJ,EAAyB,WAE5B,aAEAnB,EAASe,KAAMC,MAEfA,KAAKU,KAAO,yBAIZ,IAAImJ,EAAgB,IAAI9K,EAAmB,CAC1C+K,WAAW,EACXC,YAAY,EACZC,aAAa,EACbC,KAAMzL,EACN0L,KAAK,EACLC,YAAY,IAGTC,EAAoB,IAAIxL,EAAmB,CAC9CkL,WAAW,EACXC,YAAY,EACZC,aAAa,EACbK,UAAW,EACXH,KAAK,EACLC,YAAY,IAKTG,EAAeT,EAAcU,QACjCD,EAAaE,QAAU,IAEvB,IAAIC,EAAYZ,EAAcU,QAC9BE,EAAUD,QAAU,IAEpB,IAAIE,EAASb,EAAcU,QAC3BG,EAAOC,MAAM/G,IAAK,UAElB,IAAIgH,EAAWf,EAAcU,QAC7BK,EAASD,MAAM/G,IAAK,OAEpB,IAAIiH,EAAUhB,EAAcU,QAC5BM,EAAQF,MAAM/G,IAAK,KAEnB,IAAIkH,EAAsBjB,EAAcU,QACxCO,EAAoBN,QAAU,IAE9B,IAAIO,EAAuBD,EAAoBP,QAC/CQ,EAAqBJ,MAAM/G,IAAK,UAEhC,IAAIoH,EAAqBF,EAAoBP,QAC7CS,EAAmBL,MAAM/G,IAAK,OAE9B,IAAIqH,EAAwBH,EAAoBP,QAChDU,EAAsBN,MAAM/G,IAAK,UAEjBiG,EAAcU,QACpBI,MAAM/G,IAAK,UAErB,IAAIsH,EAAad,EAAkBG,QACnCW,EAAWP,MAAM/G,IAAK,UAEtB,IAAIuH,EAAef,EAAkBG,QACrCY,EAAaR,MAAM/G,IAAK,OAExB,IAAIwH,EAAchB,EAAkBG,QACpCa,EAAYT,MAAM/G,IAAK,KAEvB,IAAIyH,EAAcjB,EAAkBG,QACpCc,EAAYV,MAAM/G,IAAK,OAEvB,IAAI0H,EAAiBlB,EAAkBG,QACvCe,EAAeX,MAAM/G,IAAK,UAE1B,IAAI2H,EAAgBnB,EAAkBG,QACtCgB,EAAcZ,MAAM/G,IAAK,UAEzB,IAAI4H,EAAcpB,EAAkBG,QACpCiB,EAAYb,MAAM/G,IAAK,SAEvB,IAAI6H,EAA2BF,EAAchB,QAC7CkB,EAAyBjB,QAAU,IAInC,IAAIkB,EAAgB,IAAInN,EAAkB,EAAG,IAAM,GAAK,GAAI,GAAG,GAE3DoN,EAAsB,IAAIvN,EAAa,KAAO,KAAO,MAErDwN,EAAe,IAAIvN,EACvBuN,EAAaC,aAAc,WAAY,IAAInN,EAAwB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,IAEzF,IAAIoN,EAAiB,SAAWC,EAAQC,GAKvC,IAHA,IAAI/F,EAAW,IAAI5H,EACf4N,EAAW,GAEL5K,EAAI,EAAGA,GAAK,GAAK2K,IAAQ3K,EAElC4K,EAASC,KAAM,EAAGxE,KAAKyE,IAAK9K,EAAI,GAAKqG,KAAK0E,IAAOL,EAAQrE,KAAK2E,IAAKhL,EAAI,GAAKqG,KAAK0E,IAAOL,GAMzF,OAFA9F,EAAS4F,aAAc,WAAY,IAAInN,EAAwBuN,EAAU,IAElEhG,GAkBJqG,EAAiB,CACpB3K,EAAG,CACF,CAAE,IAAI7C,EAAM4M,EAAehB,GAAU,CAAE,EAAG,EAAG,GAAK,CAAE,EAAG,GAAKhD,KAAK0E,GAAK,GAAK,KAAM,OACjF,CAAE,IAAItN,EAAM4M,EAAehB,GAAU,CAAE,EAAG,EAAG,GAAK,CAAE,EAAG,EAAGhD,KAAK0E,GAAK,GAAK,KAAM,OAC/E,CAAE,IAAIzN,EAAMiN,EAAcV,KAE3BtJ,EAAG,CACF,CAAE,IAAI9C,EAAM4M,EAAed,GAAY,CAAE,EAAG,EAAG,GAAK,KAAM,KAAM,OAChE,CAAE,IAAI9L,EAAM4M,EAAed,GAAY,CAAE,EAAG,EAAG,GAAK,CAAElD,KAAK0E,GAAI,EAAG,GAAK,KAAM,OAC7E,CAAE,IAAIzN,EAAMiN,EAAcT,GAAgB,KAAM,CAAE,EAAG,EAAGzD,KAAK0E,GAAK,KAEnEvK,EAAG,CACF,CAAE,IAAI/C,EAAM4M,EAAeb,GAAW,CAAE,EAAG,EAAG,GAAK,CAAEnD,KAAK0E,GAAK,EAAG,EAAG,GAAK,KAAM,OAChF,CAAE,IAAItN,EAAM4M,EAAeb,GAAW,CAAE,EAAG,EAAG,GAAK,EAAInD,KAAK0E,GAAK,EAAG,EAAG,GAAK,KAAM,OAClF,CAAE,IAAIzN,EAAMiN,EAAcR,GAAe,KAAM,CAAE,GAAK1D,KAAK0E,GAAK,EAAG,KAEpEG,IAAK,CACJ,CAAE,IAAIzN,EAAM,IAAIG,EAAoB,GAAK,GAAK6L,EAAoBP,SAAW,CAAE,EAAG,EAAG,GAAK,CAAE,EAAG,EAAG,KAEnGiC,GAAI,CACH,CAAE,IAAI1N,EAAM,IAAII,EAAe,KAAO,MAAS6L,EAAqBR,SAAW,CAAE,IAAM,IAAM,IAC7F,CAAE,IAAI5L,EAAMiN,EAAcL,GAAiB,CAAE,IAAM,GAAK,GAAK,KAAM,CAAE,KAAO,EAAG,IAC/E,CAAE,IAAI5M,EAAMiN,EAAcL,GAAiB,CAAE,GAAK,IAAM,GAAK,CAAE,EAAG,EAAG7D,KAAK0E,GAAK,GAAK,CAAE,KAAO,EAAG,KAEjGK,GAAI,CACH,CAAE,IAAI3N,EAAM,IAAII,EAAe,KAAO,MAAS8L,EAAmBT,SAAW,CAAE,EAAG,IAAM,KAAQ,CAAE,EAAG7C,KAAK0E,GAAK,EAAG,IAClH,CAAE,IAAIzN,EAAMiN,EAAcP,GAAe,CAAE,EAAG,IAAM,IAAO,CAAE,EAAG,EAAG3D,KAAK0E,GAAK,GAAK,CAAE,KAAO,EAAG,IAC9F,CAAE,IAAIzN,EAAMiN,EAAcP,GAAe,CAAE,EAAG,GAAK,KAAQ,CAAE,GAAK3D,KAAK0E,GAAK,EAAG,GAAK,CAAE,KAAO,EAAG,KAEjGM,GAAI,CACH,CAAE,IAAI5N,EAAM,IAAII,EAAe,KAAO,MAAS+L,EAAsBV,SAAW,CAAE,IAAM,EAAG,KAAQ,EAAI7C,KAAK0E,GAAK,EAAG,EAAG,IACvH,CAAE,IAAIzN,EAAMiN,EAAcN,GAAkB,CAAE,IAAM,EAAG,IAAO,KAAM,CAAE,KAAO,EAAG,IAChF,CAAE,IAAI3M,EAAMiN,EAAcN,GAAkB,CAAE,GAAK,EAAG,KAAQ,CAAE,GAAK5D,KAAK0E,GAAK,EAAG,GAAK,CAAE,KAAO,EAAG,MAIjGO,EAAkB,CACrBhL,EAAG,CACF,CAAE,IAAI7C,EAAM,IAAIP,EAAkB,GAAK,EAAG,EAAG,EAAG,GAAG,GAAS+L,GAAgB,CAAE,GAAK,EAAG,GAAK,CAAE,EAAG,GAAK5C,KAAK0E,GAAK,KAEhHxK,EAAG,CACF,CAAE,IAAI9C,EAAM,IAAIP,EAAkB,GAAK,EAAG,EAAG,EAAG,GAAG,GAAS+L,GAAgB,CAAE,EAAG,GAAK,KAEvFzI,EAAG,CACF,CAAE,IAAI/C,EAAM,IAAIP,EAAkB,GAAK,EAAG,EAAG,EAAG,GAAG,GAAS+L,GAAgB,CAAE,EAAG,EAAG,IAAO,CAAE5C,KAAK0E,GAAK,EAAG,EAAG,KAE9GG,IAAK,CACJ,CAAE,IAAIzN,EAAM,IAAIG,EAAoB,GAAK,GAAKqL,KAE/CkC,GAAI,CACH,CAAE,IAAI1N,EAAM,IAAII,EAAe,GAAK,IAAOoL,GAAgB,CAAE,GAAK,GAAK,KAExEmC,GAAI,CACH,CAAE,IAAI3N,EAAM,IAAII,EAAe,GAAK,IAAOoL,GAAgB,CAAE,EAAG,GAAK,IAAO,CAAE,EAAG5C,KAAK0E,GAAK,EAAG,KAE/FM,GAAI,CACH,CAAE,IAAI5N,EAAM,IAAII,EAAe,GAAK,IAAOoL,GAAgB,CAAE,GAAK,EAAG,IAAO,EAAI5C,KAAK0E,GAAK,EAAG,EAAG,MAI9FQ,EAAkB,CACrBC,MAAO,CACN,CAAE,IAAI/N,EAAM,IAAIG,EAAoB,IAAM,GAAKwL,GAAa,KAAM,KAAM,KAAM,WAE/EqC,IAAK,CACJ,CAAE,IAAIhO,EAAM,IAAIG,EAAoB,IAAM,GAAKwL,GAAa,KAAM,KAAM,KAAM,WAE/EsC,MAAO,CACN,CAAE,IAAIpO,EAhFsB,WAE7B,IAAIsH,EAAW,IAAI5H,EAInB,OAFA4H,EAAS4F,aAAc,WAAY,IAAInN,EAAwB,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,IAE9EuH,EA0EM+G,GAA2BvC,GAAa,KAAM,KAAM,KAAM,WAEvE9I,EAAG,CACF,CAAE,IAAIhD,EAAMiN,EAAcnB,EAAUF,SAAW,EAAI,IAAK,EAAG,GAAK,KAAM,CAAE,IAAK,EAAG,GAAK,WAEtF3I,EAAG,CACF,CAAE,IAAIjD,EAAMiN,EAAcnB,EAAUF,SAAW,CAAE,GAAK,IAAK,GAAK,CAAE,EAAG,EAAG7C,KAAK0E,GAAK,GAAK,CAAE,IAAK,EAAG,GAAK,WAEvGvK,EAAG,CACF,CAAE,IAAIlD,EAAMiN,EAAcnB,EAAUF,SAAW,CAAE,EAAG,GAAK,KAAO,CAAE,GAAK7C,KAAK0E,GAAK,EAAG,GAAK,CAAE,IAAK,EAAG,GAAK,YAItGa,EAAc,CACjBtL,EAAG,CACF,CAAE,IAAIhD,EAAMmN,EAAgB,EAAG,IAAOZ,IACtC,CAAE,IAAIpM,EAAM,IAAIG,EAAoB,IAAM,GAAKyL,GAAU,CAAE,EAAG,EAAG,KAAQ,KAAM,CAAE,EAAG,EAAG,KAExF9I,EAAG,CACF,CAAE,IAAIjD,EAAMmN,EAAgB,EAAG,IAAOX,GAAgB,KAAM,CAAE,EAAG,GAAKzD,KAAK0E,GAAK,IAChF,CAAE,IAAItN,EAAM,IAAIG,EAAoB,IAAM,GAAK2L,GAAY,CAAE,EAAG,EAAG,KAAQ,KAAM,CAAE,EAAG,EAAG,KAE1F/I,EAAG,CACF,CAAE,IAAIlD,EAAMmN,EAAgB,EAAG,IAAOV,GAAe,KAAM,CAAE,EAAG1D,KAAK0E,GAAK,EAAG,IAC7E,CAAE,IAAItN,EAAM,IAAIG,EAAoB,IAAM,GAAK4L,GAAW,CAAE,IAAM,EAAG,GAAK,KAAM,CAAE,EAAG,EAAG,KAEzFqC,EAAG,CACF,CAAE,IAAIvO,EAAMmN,EAAgB,KAAM,GAAKL,GAA4B,KAAM,CAAE,EAAG/D,KAAK0E,GAAK,EAAG,IAC3F,CAAE,IAAItN,EAAM,IAAIP,EAAkB,IAAM,EAAG,IAAM,EAAG,GAAG,GAASkN,GAA4B,CAAE,KAAM,EAAG,GAAK,CAAE,EAAG,GAAK/D,KAAK0E,GAAK,GAAK,CAAE,EAAG,EAAG,OAC7I,CAAE,IAAItN,EAAM,IAAIP,EAAkB,IAAM,EAAG,IAAM,EAAG,GAAG,GAASkN,GAA4B,EAAI,KAAM,EAAG,GAAK,CAAE,EAAG,EAAG/D,KAAK0E,GAAK,GAAK,CAAE,EAAG,EAAG,OAC7I,CAAE,IAAItN,EAAM,IAAIP,EAAkB,IAAM,EAAG,IAAM,EAAG,GAAG,GAASkN,GAA4B,CAAE,GAAK,KAAM,GAAK,CAAE/D,KAAK0E,GAAI,EAAG,GAAK,CAAE,EAAG,EAAG,OACzI,CAAE,IAAItN,EAAM,IAAIP,EAAkB,IAAM,EAAG,IAAM,EAAG,GAAG,GAASkN,GAA4B,CAAE,EAAG,KAAM,GAAK,CAAE,EAAG,EAAG,GAAK,CAAE,EAAG,EAAG,QAElI0B,KAAM,CACL,CAAE,IAAIxO,EAAMmN,EAAgB,EAAG,GAAKN,GAAe,KAAM,CAAE,EAAG9D,KAAK0E,GAAK,EAAG,MAIzEgB,EAAe,CAClBC,KAAM,CACL,CAAE,IAAI1O,EAAMiN,EAAcnB,EAAUF,SAAW,EAAI,IAAK,EAAG,GAAK,KAAM,CAAE,IAAK,EAAG,GAAK,YAInF+C,EAAe,CAClB3L,EAAG,CACF,CAAE,IAAI7C,EAAM,IAAIQ,EAAe,EAAG,GAAK,EAAG,IAAMgL,GAAgB,CAAE,EAAG,EAAG,GAAK,CAAE,GAAK5C,KAAK0E,GAAK,GAAK1E,KAAK0E,GAAK,KAE9GxK,EAAG,CACF,CAAE,IAAI9C,EAAM,IAAIQ,EAAe,EAAG,GAAK,EAAG,IAAMgL,GAAgB,CAAE,EAAG,EAAG,GAAK,CAAE5C,KAAK0E,GAAK,EAAG,EAAG,KAEhGvK,EAAG,CACF,CAAE,IAAI/C,EAAM,IAAIQ,EAAe,EAAG,GAAK,EAAG,IAAMgL,GAAgB,CAAE,EAAG,EAAG,GAAK,CAAE,EAAG,GAAK5C,KAAK0E,GAAK,KAElGc,EAAG,CACF,CAAE,IAAIpO,EAAM,IAAIQ,EAAe,KAAM,GAAK,EAAG,IAAMgL,KAEpD6C,KAAM,CACL,CAAE,IAAIrO,EAAM,IAAIO,EAAgB,GAAK,GAAI,GAAKiL,MAI5CiD,EAAa,CAChB5L,EAAG,CACF,CAAE,IAAI7C,EAAM6M,EAAqBjB,GAAU,CAAE,GAAK,EAAG,GAAK,CAAE,EAAG,GAAKhD,KAAK0E,GAAK,IAC9E,CAAE,IAAIzN,EAAMiN,EAAcV,GAAc,KAAM,KAAM,CAAE,GAAK,EAAG,KAE/DtJ,EAAG,CACF,CAAE,IAAI9C,EAAM6M,EAAqBf,GAAY,CAAE,EAAG,GAAK,IACvD,CAAE,IAAIjM,EAAMiN,EAAcT,GAAgB,KAAM,CAAE,EAAG,EAAGzD,KAAK0E,GAAK,GAAK,CAAE,GAAK,EAAG,KAElFvK,EAAG,CACF,CAAE,IAAI/C,EAAM6M,EAAqBd,GAAW,CAAE,EAAG,EAAG,IAAO,CAAEnD,KAAK0E,GAAK,EAAG,EAAG,IAC7E,CAAE,IAAIzN,EAAMiN,EAAcR,GAAe,KAAM,CAAE,GAAK1D,KAAK0E,GAAK,EAAG,GAAK,CAAE,GAAK,EAAG,KAEnFI,GAAI,CACH,CAAE,IAAI1N,EAAM6M,EAAqBZ,GAAwB,CAAE,IAAM,IAAM,GAAK,KAAM,CAAE,EAAG,EAAG,KAC1F,CAAE,IAAIpM,EAAMiN,EAAcL,GAAiB,CAAE,KAAO,IAAM,GAAK,KAAM,CAAE,KAAO,EAAG,IACjF,CAAE,IAAI5M,EAAMiN,EAAcL,GAAiB,CAAE,IAAM,KAAO,GAAK,CAAE,EAAG,EAAG7D,KAAK0E,GAAK,GAAK,CAAE,KAAO,EAAG,KAEnGK,GAAI,CACH,CAAE,IAAI3N,EAAM6M,EAAqBX,GAAsB,CAAE,EAAG,IAAM,KAAQ,KAAM,CAAE,GAAK,EAAG,IAC1F,CAAE,IAAIrM,EAAMiN,EAAcP,GAAe,CAAE,EAAG,KAAO,KAAQ,CAAE,EAAG,EAAG3D,KAAK0E,GAAK,GAAK,CAAE,KAAO,EAAG,IAChG,CAAE,IAAIzN,EAAMiN,EAAcP,GAAe,CAAE,EAAG,IAAM,MAAS,CAAE,GAAK3D,KAAK0E,GAAK,EAAG,GAAK,CAAE,KAAO,EAAG,KAEnGM,GAAI,CACH,CAAE,IAAI5N,EAAM6M,EAAqBV,GAAyB,CAAE,IAAM,EAAG,KAAQ,KAAM,CAAE,EAAG,GAAK,IAC7F,CAAE,IAAItM,EAAMiN,EAAcN,GAAkB,CAAE,KAAO,EAAG,KAAQ,KAAM,CAAE,KAAO,EAAG,IAClF,CAAE,IAAI3M,EAAMiN,EAAcN,GAAkB,CAAE,IAAM,EAAG,MAAS,CAAE,GAAK5D,KAAK0E,GAAK,EAAG,GAAK,CAAE,KAAO,EAAG,KAEtGoB,KAAM,CACL,CAAE,IAAI1O,EAAM,IAAIV,EAAa,KAAO,KAAO,MAAS0M,EAAoBP,SAAW,CAAE,IAAK,EAAG,KAE9FkD,KAAM,CACL,CAAE,IAAI3O,EAAM,IAAIV,EAAa,KAAO,KAAO,MAAS0M,EAAoBP,SAAW,CAAE,EAAG,IAAK,KAE9FmD,KAAM,CACL,CAAE,IAAI5O,EAAM,IAAIV,EAAa,KAAO,KAAO,MAAS0M,EAAoBP,SAAW,CAAE,EAAG,EAAG,QAIzFoD,EAAc,CACjBhM,EAAG,CACF,CAAE,IAAI7C,EAAM,IAAIP,EAAkB,GAAK,EAAG,GAAK,EAAG,GAAG,GAAS+L,GAAgB,CAAE,GAAK,EAAG,GAAK,CAAE,EAAG,GAAK5C,KAAK0E,GAAK,KAElHxK,EAAG,CACF,CAAE,IAAI9C,EAAM,IAAIP,EAAkB,GAAK,EAAG,GAAK,EAAG,GAAG,GAAS+L,GAAgB,CAAE,EAAG,GAAK,KAEzFzI,EAAG,CACF,CAAE,IAAI/C,EAAM,IAAIP,EAAkB,GAAK,EAAG,GAAK,EAAG,GAAG,GAAS+L,GAAgB,CAAE,EAAG,EAAG,IAAO,CAAE5C,KAAK0E,GAAK,EAAG,EAAG,KAEhHI,GAAI,CACH,CAAE,IAAI1N,EAAM6M,EAAqBrB,GAAgB,CAAE,IAAM,IAAM,GAAK,KAAM,CAAE,EAAG,EAAG,MAEnFmC,GAAI,CACH,CAAE,IAAI3N,EAAM6M,EAAqBrB,GAAgB,CAAE,EAAG,IAAM,KAAQ,KAAM,CAAE,GAAK,EAAG,KAErFoC,GAAI,CACH,CAAE,IAAI5N,EAAM6M,EAAqBrB,GAAgB,CAAE,IAAM,EAAG,KAAQ,KAAM,CAAE,EAAG,GAAK,KAErFkD,KAAM,CACL,CAAE,IAAI1O,EAAM,IAAIV,EAAa,GAAK,GAAK,IAAOkM,GAAgB,CAAE,IAAK,EAAG,KAEzEmD,KAAM,CACL,CAAE,IAAI3O,EAAM,IAAIV,EAAa,GAAK,GAAK,IAAOkM,GAAgB,CAAE,EAAG,IAAK,KAEzEoD,KAAM,CACL,CAAE,IAAI5O,EAAM,IAAIV,EAAa,GAAK,GAAK,IAAOkM,GAAgB,CAAE,EAAG,EAAG,QAIpEsD,EAAc,CACjBjM,EAAG,CACF,CAAE,IAAIhD,EAAMiN,EAAcnB,EAAUF,SAAW,EAAI,IAAK,EAAG,GAAK,KAAM,CAAE,IAAK,EAAG,GAAK,WAEtF3I,EAAG,CACF,CAAE,IAAIjD,EAAMiN,EAAcnB,EAAUF,SAAW,CAAE,GAAK,IAAK,GAAK,CAAE,EAAG,EAAG7C,KAAK0E,GAAK,GAAK,CAAE,IAAK,EAAG,GAAK,WAEvGvK,EAAG,CACF,CAAE,IAAIlD,EAAMiN,EAAcnB,EAAUF,SAAW,CAAE,EAAG,GAAK,KAAO,CAAE,GAAK7C,KAAK0E,GAAK,EAAG,GAAK,CAAE,IAAK,EAAG,GAAK,YAMtGyB,EAAa,SAAWC,GAE3B,IAAIC,EAAQ,IAAI/O,EAEhB,IAAM,IAAIoI,KAAQ0G,EAEjB,IAAM,IAAIzM,EAAIyM,EAAU1G,GAAO9F,OAAQD,KAAQ,CAE9C,IAAIJ,EAAS6M,EAAU1G,GAAQ/F,GAAK,GAAIkJ,QACpC1C,EAAWiG,EAAU1G,GAAQ/F,GAAK,GAClCoG,EAAWqG,EAAU1G,GAAQ/F,GAAK,GAClC0G,EAAQ+F,EAAU1G,GAAQ/F,GAAK,GAC/B2M,EAAMF,EAAU1G,GAAQ/F,GAAK,GAGjCJ,EAAOmG,KAAOA,EACdnG,EAAO+M,IAAMA,EAERnG,GAEJ5G,EAAO4G,SAASjE,IAAKiE,EAAU,GAAKA,EAAU,GAAKA,EAAU,IAIzDJ,GAEJxG,EAAOwG,SAAS7D,IAAK6D,EAAU,GAAKA,EAAU,GAAKA,EAAU,IAIzDM,GAEJ9G,EAAO8G,MAAMnE,IAAKmE,EAAO,GAAKA,EAAO,GAAKA,EAAO,IAIlD9G,EAAOgN,eAEP,IAAIC,EAAejN,EAAOgF,SAASsE,QACnC2D,EAAaC,aAAclN,EAAOmN,QAClCnN,EAAOgF,SAAWiI,EAClBjN,EAAOoN,YAAcC,IAErBrN,EAAO4G,SAASjE,IAAK,EAAG,EAAG,GAC3B3C,EAAOwG,SAAS7D,IAAK,EAAG,EAAG,GAC3B3C,EAAO8G,MAAMnE,IAAK,EAAG,EAAG,GAExBmK,EAAM3N,IAAKa,GAMb,OAAO8M,GAMJQ,EAAa,IAAIhP,EAAS,EAAG,EAAG,GAChCiP,EAAY,IAAI/P,EAChBgQ,GAAc,IAAIlP,EAAS,EAAG,EAAG,GACjCmP,GAAa,IAAInP,EAAS,EAAG,EAAG,GAChCoP,GAAe,IAAI9P,EACnB+P,GAAiB,IAAIzP,EACrB0P,GAAkB,IAAI1P,EACtB2P,GAAqB,IAAI3P,EAEzB4P,GAAQ,IAAIxP,EAAS,EAAG,EAAG,GAC3ByP,GAAQ,IAAIzP,EAAS,EAAG,EAAG,GAC3B0P,GAAQ,IAAI1P,EAAS,EAAG,EAAG,GAI/BS,KAAK+N,MAAQ,GACb/N,KAAKmH,OAAS,GACdnH,KAAKkP,OAAS,GAEdlP,KAAKI,IAAKJ,KAAK+N,MAAL,UAA4BF,EAAYvB,IAClDtM,KAAKI,IAAKJ,KAAK+N,MAAL,OAAyBF,EAAYZ,IAC/CjN,KAAKI,IAAKJ,KAAK+N,MAAL,MAAwBF,EAAYN,IAC9CvN,KAAKI,IAAKJ,KAAKmH,OAAL,UAA6B0G,EAAYlB,IACnD3M,KAAKI,IAAKJ,KAAKmH,OAAL,OAA0B0G,EAAYP,IAChDtN,KAAKI,IAAKJ,KAAKmH,OAAL,MAAyB0G,EAAYF,IAC/C3N,KAAKI,IAAKJ,KAAKkP,OAAL,UAA6BrB,EAAYjB,IACnD5M,KAAKI,IAAKJ,KAAKkP,OAAL,OAA0BrB,EAAYT,IAChDpN,KAAKI,IAAKJ,KAAKkP,OAAL,MAAyBrB,EAAYD,IAI/C5N,KAAKmH,OAAL,UAA2BlH,SAAU,EACrCD,KAAKmH,OAAL,OAAwBlH,SAAU,EAClCD,KAAKmH,OAAL,MAAuBlH,SAAU,EAIjCD,KAAKsG,kBAAoB,WAExB,IAAIgB,EAAQtH,KAAKsH,MAEE,UAAdtH,KAAKa,OAAmByG,EAAQ,SAErC,IAAIQ,EAAuB,UAAVR,EAAoBtH,KAAKgD,gBAAkB8L,GAI5D9O,KAAK+N,MAAL,UAA0B9N,QAAwB,cAAdD,KAAKa,KACzCb,KAAK+N,MAAL,OAAuB9N,QAAwB,WAAdD,KAAKa,KACtCb,KAAK+N,MAAL,MAAsB9N,QAAwB,UAAdD,KAAKa,KAErCb,KAAKkP,OAAL,UAA2BjP,QAAwB,cAAdD,KAAKa,KAC1Cb,KAAKkP,OAAL,OAAwBjP,QAAwB,WAAdD,KAAKa,KACvCb,KAAKkP,OAAL,MAAuBjP,QAAwB,UAAdD,KAAKa,KAGtC,IAAIsO,EAAU,GAGdA,GADAA,GADAA,EAAUA,EAAQC,OAAQpP,KAAKmH,OAAQnH,KAAKa,MAAOwO,WACjCD,OAAQpP,KAAK+N,MAAO/N,KAAKa,MAAOwO,WAChCD,OAAQpP,KAAKkP,OAAQlP,KAAKa,MAAOwO,UAEnD,IAAM,IAAIhO,EAAI,EAAGA,EAAI8N,EAAQ7N,OAAQD,IAAO,CAE3C,IAQIiO,EARAC,EAASJ,EAAS9N,GAwBtB,GApBAkO,EAAOtP,SAAU,EACjBsP,EAAO9H,SAAS7D,IAAK,EAAG,EAAG,GAC3B2L,EAAO1H,SAASlB,KAAM3G,KAAK+C,eAM1BuM,EAFItP,KAAKP,OAAO+P,sBAELxP,KAAKP,OAAOqF,IAAM9E,KAAKP,OAAOgQ,QAAWzP,KAAKP,OAAOiQ,KAIvD1P,KAAK+C,cAAc6F,WAAY5I,KAAKqC,gBAAmBqF,KAAKiI,IAAK,IAAMjI,KAAKkI,IAAKlI,KAAK0E,GAAKpM,KAAKP,OAAOoQ,IAAM,KAAQ7P,KAAKP,OAAOiQ,KAAM,GAIjJH,EAAOxH,MAAMnE,IAAK,EAAG,EAAG,GAAIkM,eAAgBR,EAAStP,KAAKsJ,KAAO,GAI7C,WAAfiG,EAAOvB,IAAZ,CAmHA,GAFAuB,EAAOzH,WAAWnB,KAAMmB,GAEL,cAAd9H,KAAKa,MAAsC,UAAdb,KAAKa,KAAmB,CASpC,MAAhB0O,EAAOnI,MAAgC,SAAhBmI,EAAOnI,MAE7BM,KAAKqI,IAAKtB,GAAY9H,KAAMoI,IAAQ9G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAPzD,MASvBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,GAME,MAAhBsP,EAAOnI,MAAgC,SAAhBmI,EAAOnI,MAE7BM,KAAKqI,IAAKtB,GAAY9H,KAAMqI,IAAQ/G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAlBzD,MAoBvBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,GAME,MAAhBsP,EAAOnI,MAAgC,SAAhBmI,EAAOnI,MAE7BM,KAAKqI,IAAKtB,GAAY9H,KAAMsI,IAAQhH,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MA7BzD,MA+BvBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,GAME,OAAhBsP,EAAOnI,MAENM,KAAKqI,IAAKtB,GAAY9H,KAAMsI,IAAQhH,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAvCxD,KAyCxBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,GAME,OAAhBsP,EAAOnI,MAENM,KAAKqI,IAAKtB,GAAY9H,KAAMoI,IAAQ9G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAlDxD,KAoDxBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,GAME,OAAhBsP,EAAOnI,MAENM,KAAKqI,IAAKtB,GAAY9H,KAAMqI,IAAQ/G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MA7DxD,KA+DxBoM,EAAOxH,MAAMnE,IAAK,MAAO,MAAO,OAChC2L,EAAOtP,SAAU,IAQkB,IAAhCsP,EAAOnI,KAAKiB,OAAQ,OAEnBoG,GAAY9H,KAAMoI,IAAQ9G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,KAzE/C,EA2EH,QAAfoM,EAAOvB,IAEXuB,EAAOtP,SAAU,EAIjBsP,EAAOxH,MAAM5D,IAAO,EAIK,QAAfoL,EAAOvB,MAElBuB,EAAOtP,SAAU,KAMkB,IAAhCsP,EAAOnI,KAAKiB,OAAQ,OAEnBoG,GAAY9H,KAAMqI,IAAQ/G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,KA/F/C,EAiGH,QAAfoM,EAAOvB,IAEXuB,EAAOtP,SAAU,EAIjBsP,EAAOxH,MAAM3D,IAAO,EAIK,QAAfmL,EAAOvB,MAElBuB,EAAOtP,SAAU,KAMkB,IAAhCsP,EAAOnI,KAAKiB,OAAQ,OAEnBoG,GAAY9H,KAAMsI,IAAQhH,gBAAiBH,GAAaU,IAAKxI,KAAKmD,KArH/C,EAuHH,QAAfoM,EAAOvB,IAEXuB,EAAOtP,SAAU,EAIjBsP,EAAOxH,MAAMH,IAAO,EAIK,QAAf2H,EAAOvB,MAElBuB,EAAOtP,SAAU,QAMM,WAAdD,KAAKa,OAIhBgO,GAAgBlI,KAAMmB,GACtB2G,GAAY9H,KAAM3G,KAAKmD,KAAM8E,gBAAiB2G,GAAejI,KAAMmB,GAAalB,WAE3C,IAAhC2I,EAAOnI,KAAKiB,OAAQ,MAExBkH,EAAOzH,WAAWkI,sBAAuBrB,GAAasB,OAAQjQ,KAAKmD,IAAKuL,GAAYM,KAIhE,MAAhBO,EAAOnI,OAEXwH,GAAe7F,iBAAkBgG,GAAOrH,KAAKwI,OAASzB,GAAYrK,EAAGqK,GAAY7G,IACjFgH,GAAeuB,oBAAqBtB,GAAiBD,IACrDW,EAAOzH,WAAWnB,KAAMiI,KAIJ,MAAhBW,EAAOnI,OAEXwH,GAAe7F,iBAAkBiG,GAAOtH,KAAKwI,MAAOzB,GAAYtK,EAAGsK,GAAY7G,IAC/EgH,GAAeuB,oBAAqBtB,GAAiBD,IACrDW,EAAOzH,WAAWnB,KAAMiI,KAIJ,MAAhBW,EAAOnI,OAEXwH,GAAe7F,iBAAkBkG,GAAOvH,KAAKwI,MAAOzB,GAAYrK,EAAGqK,GAAYtK,IAC/EyK,GAAeuB,oBAAqBtB,GAAiBD,IACrDW,EAAOzH,WAAWnB,KAAMiI,MAO1BW,EAAOtP,QAAUsP,EAAOtP,WAA8C,IAAjCsP,EAAOnI,KAAKc,QAAS,MAAiBlI,KAAKoQ,OAChFb,EAAOtP,QAAUsP,EAAOtP,WAA8C,IAAjCsP,EAAOnI,KAAKc,QAAS,MAAiBlI,KAAKqQ,OAChFd,EAAOtP,QAAUsP,EAAOtP,WAA8C,IAAjCsP,EAAOnI,KAAKc,QAAS,MAAiBlI,KAAKsQ,OAChFf,EAAOtP,QAAUsP,EAAOtP,WAA8C,IAAjCsP,EAAOnI,KAAKc,QAAS,MAAmBlI,KAAKoQ,OAASpQ,KAAKqQ,OAASrQ,KAAKsQ,OAI9Gf,EAAOrJ,SAASqK,SAAWhB,EAAOrJ,SAASqK,UAAYhB,EAAOrJ,SAASsE,QACvE+E,EAAOrJ,SAASsK,OAASjB,EAAOrJ,SAASsK,QAAUjB,EAAOrJ,SAASyE,MAAMJ,QAEzEgF,EAAOrJ,SAASyE,MAAMhE,KAAM4I,EAAOrJ,SAASsK,QAC5CjB,EAAOrJ,SAASsE,QAAU+E,EAAOrJ,SAASqK,SAEnCvQ,KAAKiF,QAKAjF,KAAKqG,OAEXkJ,EAAOnI,OAASpH,KAAKqG,MAKdrG,KAAKqG,KAAKoK,MAAO,IAAKC,MAAM,SAAWC,GAElD,OAAOpB,EAAOnI,OAASuJ,MALvBpB,EAAOrJ,SAASsE,QAAU,EAC1B+E,EAAOrJ,SAASyE,MAAMiG,KAAM,IAAItS,EAAO,EAAG,EAAG,GAAK,MAalDiR,EAAOrJ,SAASsE,SAAW,IAC3B+E,EAAOrJ,SAASyE,MAAMiG,KAAM,IAAItS,EAAO,EAAG,EAAG,GAAK,OAtBnDiR,EAAOrJ,SAASsE,SAAW,GAC3B+E,EAAOrJ,SAASyE,MAAMiG,KAAM,IAAItS,EAAO,EAAG,EAAG,GAAK,UAxTlDiR,EAAOtP,SAAU,EAEI,SAAhBsP,EAAOnI,MAEXmI,EAAO1H,SAASlB,KAAM3G,KAAK4C,oBAC3B2M,EAAOtP,UAAaD,KAAKqG,KAEN,MAAdrG,KAAKqG,OAETuI,GAAeiC,aAAcrC,EAAU5K,IAAK,EAAG,EAAG,IAClD2L,EAAOzH,WAAWnB,KAAMmB,GAAaW,SAAUmG,IAE1ClH,KAAKqI,IAAKtB,GAAY9H,KAAMoI,IAAQ9G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAAU,KAE1FoM,EAAOtP,SAAU,IAMA,MAAdD,KAAKqG,OAETuI,GAAeiC,aAAcrC,EAAU5K,IAAK,EAAG,EAAG8D,KAAK0E,GAAK,IAC5DmD,EAAOzH,WAAWnB,KAAMmB,GAAaW,SAAUmG,IAE1ClH,KAAKqI,IAAKtB,GAAY9H,KAAMqI,IAAQ/G,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAAU,KAE1FoM,EAAOtP,SAAU,IAMA,MAAdD,KAAKqG,OAETuI,GAAeiC,aAAcrC,EAAU5K,IAAK,EAAG8D,KAAK0E,GAAK,EAAG,IAC5DmD,EAAOzH,WAAWnB,KAAMmB,GAAaW,SAAUmG,IAE1ClH,KAAKqI,IAAKtB,GAAY9H,KAAMsI,IAAQhH,gBAAiBH,GAAaU,IAAKxI,KAAKmD,MAAU,KAE1FoM,EAAOtP,SAAU,IAMA,SAAdD,KAAKqG,OAETuI,GAAeiC,aAAcrC,EAAU5K,IAAK,EAAG8D,KAAK0E,GAAK,EAAG,IAC5DqC,GAAY9H,KAAM3G,KAAKiC,cACvBsN,EAAOzH,WAAWkI,sBAAuBrB,GAAasB,OAAQvB,GAAYD,GAAaO,KACvFO,EAAOzH,WAAWW,SAAUmG,IAC5BW,EAAOtP,QAAUD,KAAKgH,UAIJ,MAAdhH,KAAKqG,OAETkJ,EAAOtP,SAAU,IAKS,UAAhBsP,EAAOnI,MAElBmI,EAAO1H,SAASlB,KAAM3G,KAAK4C,oBAC3B2M,EAAOtP,QAAUD,KAAKgH,UAEK,QAAhBuI,EAAOnI,MAElBmI,EAAO1H,SAASlB,KAAM3G,KAAK+C,eAC3BwM,EAAOtP,QAAUD,KAAKgH,UAEK,UAAhBuI,EAAOnI,MAElBmI,EAAO1H,SAASlB,KAAM3G,KAAK4C,oBAC3B2M,EAAOzH,WAAWnB,KAAM3G,KAAK6C,sBAC7B0L,EAAW3K,IAAK,MAAO,MAAO,OAAQxD,IAAKJ,KAAK4C,oBAAqBiE,IAAK7G,KAAK+C,eAAgB+M,gBAAkB,GACjHvB,EAAWtG,gBAAiBjI,KAAK6C,qBAAqB0H,QAAQ3D,UAC9D2I,EAAOxH,MAAMpB,KAAM4H,GACnBgB,EAAOtP,QAAUD,KAAKgH,WAItBuI,EAAOzH,WAAWnB,KAAMmB,GAEnB9H,KAAKgH,SAETuI,EAAO1H,SAASlB,KAAM3G,KAAK4C,oBAI3B2M,EAAO1H,SAASlB,KAAM3G,KAAK+C,eAIvB/C,KAAKqG,OAETkJ,EAAOtP,SAAgD,IAAtCD,KAAKqG,KAAKgC,OAAQkH,EAAOnI,QAmP9CpI,EAAS+H,UAAUT,kBAAkBvG,KAAMC,QAM7CG,EAAuB4G,UAAYrD,OAAO+F,OAAQ/F,OAAOgG,OAAQ1K,EAAS+H,WAAa,CAEtF4C,YAAaxJ,EAEb2Q,0BAA0B,IAK3B,IAAIxQ,EAAyB,WAE5B,aAEAxB,EAAKiB,KAAMC,KACV,IAAId,EAAe,IAAQ,IAAQ,EAAG,GACtC,IAAIH,EAAmB,CAAEkB,SAAS,EAAO8Q,WAAW,EAAM9G,KAAMzL,EAAYwL,aAAa,EAAMQ,QAAS,GAAKL,YAAY,KAG1HnK,KAAKU,KAAO,yBAEZ,IAAIqO,EAAQ,IAAIxP,EAAS,EAAG,EAAG,GAC3ByP,EAAQ,IAAIzP,EAAS,EAAG,EAAG,GAC3B0P,EAAQ,IAAI1P,EAAS,EAAG,EAAG,GAE3BgP,EAAa,IAAIhP,EACjByR,EAAY,IAAIzR,EAChBkP,EAAc,IAAIlP,EAClB0R,EAAa,IAAIpS,EACjBiQ,EAAqB,IAAI3P,EAE7Ba,KAAKsG,kBAAoB,WAExB,IAAIgB,EAAQtH,KAAKsH,MAcjB,OAZAtH,KAAK6H,SAASlB,KAAM3G,KAAK+C,eAEN,UAAd/C,KAAKa,OAAmByG,EAAQ,SAErCyH,EAAMnL,IAAK,EAAG,EAAG,GAAIqE,gBAA2B,UAAVX,EAAoBtH,KAAKgD,gBAAkB8L,GACjFE,EAAMpL,IAAK,EAAG,EAAG,GAAIqE,gBAA2B,UAAVX,EAAoBtH,KAAKgD,gBAAkB8L,GACjFG,EAAMrL,IAAK,EAAG,EAAG,GAAIqE,gBAA2B,UAAVX,EAAoBtH,KAAKgD,gBAAkB8L,GAIjFL,EAAY9H,KAAMqI,GAEThP,KAAKa,MAEb,IAAK,YACL,IAAK,QACJ,OAASb,KAAKqG,MAEb,IAAK,IACJoI,EAAY9H,KAAM3G,KAAKmD,KAAM2F,MAAOiG,GACpCiC,EAAUrK,KAAMoI,GAAQjG,MAAO2F,GAC/B,MACD,IAAK,IACJA,EAAY9H,KAAM3G,KAAKmD,KAAM2F,MAAOkG,GACpCgC,EAAUrK,KAAMqI,GAAQlG,MAAO2F,GAC/B,MACD,IAAK,IACJA,EAAY9H,KAAM3G,KAAKmD,KAAM2F,MAAOmG,GACpC+B,EAAUrK,KAAMsI,GAAQnG,MAAO2F,GAC/B,MACD,IAAK,KACJuC,EAAUrK,KAAMsI,GAChB,MACD,IAAK,KACJ+B,EAAUrK,KAAMoI,GAChB,MACD,IAAK,KACJN,EAAY9H,KAAMsI,GAClB+B,EAAUrK,KAAMqI,GAChB,MACD,IAAK,MACL,IAAK,IACJgC,EAAUpN,IAAK,EAAG,EAAG,GAKvB,MACD,IAAK,SACL,QAECoN,EAAUpN,IAAK,EAAG,EAAG,GAIK,IAAvBoN,EAAU1P,SAGdtB,KAAK8H,WAAWnB,KAAM3G,KAAKsC,mBAI3B2O,EAAWhB,OAAQ1B,EAAW3K,IAAK,EAAG,EAAG,GAAKoN,EAAWvC,GAEzDzO,KAAK8H,WAAWkI,sBAAuBiB,IAIxCjS,EAAS+H,UAAUT,kBAAkBvG,KAAMC,QAc7C,OARAM,EAAuByG,UAAYrD,OAAO+F,OAAQ/F,OAAOgG,OAAQ5K,EAAKiI,WAAa,CAElF4C,YAAarJ,EAEb4Q,0BAA0B,IAIpB1R,I,6TCxpDK2R,EAAiB,SAACC,GAAD,OAASC,oBAAUD,EAAK,K,2BCOhDE,EAAYC,YAAW,CAC3BC,KAAM,CACJC,OAAQ,OACRC,OAAQ,gCACRC,UAAW,YAkBAC,EAfI,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,QAClCC,EAAUV,IAEhB,OACE,kBAACW,EAAA,EAAD,CAAMF,QAASA,EAASG,UAAWF,EAAQR,MACzC,kBAACW,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,QAAQ,MAAMT,GAC1B,2BAAIC,O,yBCxBDS,EAAc,SAACC,GAAyB,IAAlBC,EAAiB,uDAAN,EAC5C,GAAc,IAAVD,EAAa,MAAO,UAExB,IAAME,EAAI,KACJC,EAAKF,EAAW,EAAI,EAAIA,EACxBG,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAE5DvR,EAAIqG,KAAKmL,MAAMnL,KAAKoL,IAAIN,GAAS9K,KAAKoL,IAAIJ,IAEhD,OAAOK,YAAYP,EAAQ9K,KAAKsL,IAAIN,EAAGrR,IAAI4R,QAAQN,IAAO,IAAMC,EAAMvR,IAG7D6R,EAAU,GAERC,EAAc,WACzB,OAAOC,IAAcC,MAAK,SAACC,GACzBJ,EAAUI,MAIDC,EAAa,SAACC,EAAKC,GAC9BP,EAAQM,GAAOC,EACf,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQC,KAAKC,UAAUZ,IACvCa,EAAaL,IAEFM,EAAa,SAACR,GACzB,MAAgC,qBAAjBN,EAAQM,IAAuBN,EAAQM,I,SAQzCJ,I,2EAAf,4BAAAzC,EAAA,6DACQsD,EAAW,KADnB,SAEqBC,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,gCAAmE,CACvFC,OAAQ,QAHd,cAEIL,EAFJ,gBAKiBA,EAASM,OAL1B,oF,+BAyBeR,E,8EAAf,WAA4BL,GAA5B,SAAA/C,EAAA,sEACQuD,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,gCAAmE,CAC5EC,OAAQ,OACRE,KAAMd,IAHV,4C,sBCvDkBnC,YAAW,CAC3BkD,OAAQ,CACN9C,UAAW,SACX+C,SAAU,UAHd,I,iBCIMpD,G,MAAYC,YAAW,CAC3BoD,SAAU,CACRC,OAAQ,IACRjK,MAAO,QAETkK,gBAAiB,CACfC,QAAS,OACTlQ,MAAO,OACPmQ,eAAgB,eAChBC,UAAW,QAEbC,WAAY,CACVH,QAAS,OACTI,cAAe,SACfC,WAAY,SACZ,OAAQ,CACNC,aAAc,SAGlBC,UAAW,CACTP,QAAS,OACTI,cAAe,UAEjBT,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJC,QAAS,SAACC,GAAD,OAAYA,EAAMC,eAAiB,OAAS,aACrDf,SAAU,SAACc,GAAD,OAAYA,EAAMC,eAAiB,OAAS,QACtDX,QAAS,OACTC,eAAgB,iBAElBW,SAAU,CACR7N,SAAU,QACV4H,OAAQ,EACR9K,KAAM,EACNgR,MAAO,EACPhL,MAAO,WAqKIiL,EAjKS,SAAC,GAKlB,IAJLC,EAII,EAJJA,QAGAJ,GACI,EAHJK,aAGI,EAFJC,gBAEI,EADJN,gBAEMzD,EAAUV,IADZ,EAEwB0E,mBAAS,WAFjC,gCAGsBA,mBAAS,KAH/B,gCAIgCA,oBAAS,IAJzC,gCAMaC,mBACAjC,EAAW,YACUgC,mBAAS,SAR3C,mBAQGE,EARH,KAQgBC,EARhB,KAUJhF,GAAe,WACbgF,EAAe5C,EAAW,mBAmF5B,OACE,kBAAC6C,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJe,QAAS,EACTC,UAAU,SACVnB,WAAW,SACXjD,UAAWF,EAAQqD,WAGjB,6BACE,kBAACe,EAAA,EAAD,CACEd,MAAI,EACJe,QAAS,EACTC,UAAU,SACVnB,WAAW,SACX9P,MAAO,CAAEkR,WAAY,MAErB,kBAAClE,EAAA,EAAD,CAAYC,QAAQ,MAApB,2BACA,kBAACD,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAACsM,UAAW,WAAYuE,IAE1D,kBAACE,EAAA,EAAD,CACEd,MAAI,EACJe,QAAS,EACTC,UAAU,SACVnB,WAAW,SACX9P,MAAO,CAAE2P,UAAW,MAEpB,kBAACoB,EAAA,EAAD,CAAMf,WAAS,EAAChQ,MAAO,CAAC6P,cAAc,MAAOH,eAAgB,aAY3D,kBAACqB,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRJ,UAAWF,EAAQ3N,OACnBgB,MAAO,CAAE2P,UAAW,IACpBjD,QAAS,YA5HtB0D,GAAkBI,EAAQ,KAuHf,c,6CCxLVvE,EAAYC,YAAW,CAC3BkF,QAAS,CACPC,KAAM,EACN,WAAY,CACV9R,MAAO,QACPG,OAAQ,OACR2P,SAAU,SAGdiC,gBAAiB,CACfD,KAAM,EACN,OAAQ,CACNhC,SAAU,OACV/C,UAAW,aAwPFiF,EAnPA,SAAC,GAA8F,IAA5FC,EAA2F,EAA3FA,UAA6BC,GAA8D,EAAhFC,iBAAgF,EAA9DD,WAAWjB,EAAmD,EAAnDA,QAASmB,EAA0C,EAA1CA,gBAAiBC,EAAyB,EAAzBA,mBAC5EjF,EAAUV,IAD2F,EAG3E0E,oBAAS,GAHkE,mBAGpGkB,EAHoG,KAG1FC,EAH0F,OAInFnB,mBAAS,iBAJ0E,mBAIpGoB,EAJoG,KAI9FC,EAJ8F,OAKnErB,oBAAS,GAL0D,mBAKpGsB,EALoG,KAKtFC,EALsF,OAMjEvB,oBAAS,GANwD,mBAMpGwB,EANoG,KAMrFC,EANqF,OAO7EzB,oBAAS,GAPoE,mBAOpG0B,EAPoG,KAO3FC,EAP2F,OAQjE3B,oBAAS,GARwD,mBAQpG4B,EARoG,KAQrFC,EARqF,OASjE7B,oBAAS,GATwD,mBASpG8B,EAToG,KASrFC,EATqF,OAUvE/B,mBAAS,GAV8D,mBAUpGgC,EAVoG,KAUxFC,EAVwF,KAoC3G9G,GAAe,WACT0F,GACFqB,IAGClB,IACDG,GAAY,GACZQ,GAAW,GACXF,GAAiB,GACjBR,GAAmB,OAIvB,IAAMiB,EAAc,WAClB,GAAIpB,GAAaU,EACf3B,EAAQ,OACH,KAKUsC,EALV,uCAKL,4BAAAxH,EAAA,sEAEyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,sCAE1B,CACEC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAPxB,cAEQnE,EAFR,yBAWSA,EAASM,QAXlB,2CALK,qDACL8C,EAAQ,2BACRF,GAAY,GAgBZgB,IAAe9E,MAAK,SAACC,GACnB1T,QAAQkT,IAAIQ,GAERA,EAAK9J,QACP2N,GAAY,GAEZE,EAAQ/D,EAAK+E,SACbd,EAAgBjE,EAAKgE,cACrBK,GAAW,GACXF,GAAiB,KAEjBN,GAAY,GACZE,EAAQ/D,EAAK+E,SACbZ,GAAiB,SA2DzB,OACE,kBAACrB,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,SACX9P,MAAO,CAAEN,OAAQ,UAEf6S,GAAiBd,GACjB,kBAACN,EAAA,EAAD,CACEnR,MAAO,CAAEiT,UAAW,WAAYtD,UAAW,QAC3CuD,aAAW,OACXC,QAAS,kBAACC,EAAA,EAAD,MACT1G,QAfW,WACjB8D,EAAQ,KAUJ,QAUF,kBAACO,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVoC,QAAQ,SACRvD,WAAW,SACXjD,UAAWF,EAAQ2E,iBAElBO,GAAY,kBAACyB,EAAA,EAAD,CAAkBhO,MAAM,cACrC,kBAAC,IAAD,CACEtF,MAAO,CACLqP,SAAU,IACV9P,MAAO,OACP+M,UAAW,SACXyD,aAAc,MAGjBgC,EAAK9V,OAAS,GACb,oCACA,kBAAC+Q,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAC9BsM,UAAW,WAEVyF,GAEFE,GACC,kBAACjF,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAC5BsM,UAAW,OACXqD,UAAW,GAEb4D,wBAAyB,CACvBC,OAAQvB,EAAawB,QAAQ,kBAAmB,QAAQA,QAAQ,SAAU,sBAKjFhB,GACC,6BACE,kBAACzF,EAAA,EAAD,CACEC,QAAQ,KACRjN,MAAO,CAAE2P,UAAW,GAAIrD,UAAW,WAFrC,8EAOA,kBAACU,EAAA,EAAD,CACEC,QAAQ,KACRjN,MAAO,CAAE2P,UAAW,GAAIrD,UAAW,WAFrC,oDAQH+F,GACC,kBAAClB,EAAA,EAAD,CACElE,QAAQ,YACR3H,MAAM,YACNoH,QA/Ha,WAAM,4CAG3B,4BAAApB,EAAA,sEAGyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,gCAE1B,CACEC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBARxB,cAGQnE,EAHR,yBAYSA,EAASM,QAZlB,4CAH2B,sBAiB3B4C,GAAY,GACZE,EAAQ,+BACRM,GAAW,GAnBgB,0CAqB3BoB,GAAkB1F,MAAK,SAACC,GAEtB1T,QAAQkT,IAAIQ,GAERA,EAAK0F,SAGP7B,GAAY,GAEZE,EAAQ/D,EAAK+E,SACbN,GAAiB,GACjBF,GAAiB,GAKjBoB,YAAW,YAhHK,SAAhBC,IACJhF,MAAM,+BAAgC,CACpCI,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAEjBe,OAAM,SAACC,GAELpB,EAVe,EAWhBiB,YAAW,WACThB,EAAcD,EAAW,GACzBkB,MACC,MAEH7B,EAAQ,8EACRM,GAAW,GACXR,GAAY,GACZU,GAAiB,OAiGfqB,KACC,OAEHtZ,QAAQkT,IAAI,gDAEZuE,EAAQ/D,EAAK+E,SACbV,GAAW,GACXE,GAAiB,GACjBV,GAAY,QAiFR9R,MAAO,CAAE2P,UAAW,SAJtB,oBAUJ,kBAACoB,EAAA,EAAD,CACEf,WAAS,EACTqD,QAAQ,SACRvD,WAAW,SACXjD,UAAWF,EAAQyE,UAEjBiB,IAAYR,GACZ,kBAACV,EAAA,EAAD,CACElE,QAAQ,YACR3H,MAAM,YACN0O,SAAUnC,GAAYU,EACtB7F,QAASmG,GAERpB,GAAaU,EAAgB,OAAS,wB,8CC5PpC8B,EARS,CACtBC,aAAc,gBACdC,iBAAkB,oBAClBC,YAAa,eACbC,YAAa,eACbC,gBAAiB,qBCq1BJC,EAx1Ba,CAC1BC,SAAU,CACRC,aAAa,EACb1S,KAAM,gBACN0K,YAAa,GACbiI,YAAa,CACX,CACErZ,KAAM,aACNsZ,OAAQ,CAAC,IAEX,CACEtZ,KAAM,UACNsZ,OAAQ,CAAC,KAGbC,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,eAAgBsZ,OAAQ,KAElC5C,KACE,+IAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,iPAEP,CACE8C,OAAQZ,EAAgBE,iBACxBW,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,cAAesZ,OAAQ,KAEjCK,OAAO,EACPC,OAAO,EACPC,OAAO,EACPnD,KAAK,+aAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,qRAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,OACJN,WAAY,MACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,MAE9C,CACES,GAAI,MACJN,WAAY,KACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,OAG/C5C,KAAK,+CAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KACE,0WAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,UACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,OAEjC5C,KACE,gQAEJ,CACE8C,OAAQZ,EAAgBI,YACxBgB,YAAa,IACbP,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAM,0DACNuD,SACE,sFAEJ,CACET,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KACE,0PAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KACE,mPAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,UACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,MAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,MAE9B5C,KACE,+LAEJ,CACE8C,OAAQZ,EAAgBK,gBACxBiB,oBAAqB,IACrBC,eAAgB,GAChBV,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,YAAasZ,OAAQ,KAE/B5C,KACE,6FACFuD,SAAU,sDAEZ,CACET,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,OACJN,WAAY,MACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,OAE7C,CACES,GAAI,MACJN,WAAY,KACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,OAIlC5C,KACE,gHAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,KACxC5C,KAAM,gEAER,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,aACJN,WAAY,cACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,MAGhC,CACES,GAAI,QACJN,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,KACzB,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,OAIlC5C,KACE,wFAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,eAAgBsZ,OAAQ,KAElC5C,KACE,+IAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,iPAEP,CACE8C,OAAQZ,EAAgBE,iBACxBW,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,cAAesZ,OAAQ,KAEjCK,OAAO,EACPC,OAAO,EACPC,OAAO,EACPnD,KAAK,+aAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,qRAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,OACJN,WAAY,MACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,OAE7C,CACES,GAAI,MACJN,WAAY,KACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,QAG/C5C,KAAK,iDAKX0D,mBAAoB,CAClBhB,aAAa,EACb1S,KAAM,2BACN0K,YAAa,kDACbiI,YAAa,GACbE,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,eAAgBsZ,OAAQ,KAElC5C,KAAK,kEACL2D,MAAO,yBAET,CACEb,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,iVACL2D,MAAO,6BAET,CACEb,OAAQZ,EAAgBE,iBACxBW,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,cAAesZ,OAAQ,KAEjCK,OAAO,EACPC,OAAO,EACPC,OAAO,EACPnD,KAAK,+aAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,KACxC5C,KAAK,iEAKX4D,0BAA2B,CACzBlB,aAAa,EACb1S,KAAM,iCACN0K,YAAa,+CACbiI,YAAa,GACbE,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,OAAQsZ,OAAQ,IACxB,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,wLAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,sRAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,OAEjC5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,OAElC5C,KAAK,2PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,GAAI,MAEjC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,SAAUsZ,OAAQ,CAAC,IAAK,MAElC5C,KAAK,4PAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAK,6PAEP,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,MACJN,WAAY,KACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,MAE7C,CACES,GAAI,OACJN,WAAY,MACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,WAAYsZ,OAAQ,OAIlC5C,KAAK,+CAEP,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,KAE1B5C,KAAM,uCAIZ6D,aAAc,CACZnB,aAAa,EACb1S,KAAM,gBACN0K,YAAa,6DACbiI,YAAa,CAAC,CAAErZ,KAAM,aAAcsZ,OAAQ,CAAC,KAC7CC,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,QACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KACE,yWACF2D,MAAO,mBAET,CACEb,OAAQZ,EAAgBC,aACxBY,WAAY,UACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,OAEjC5C,KACE,+PACA2D,MAAO,iBAEX,CACEb,OAAQZ,EAAgBI,YACxBgB,YAAa,IACbP,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAM,0DACNuD,SACE,sFAEJ,CACET,OAAQZ,EAAgBG,YACxBmB,oBAAqB,IACrBJ,QAAS,CACP,CACEC,GAAI,QACJN,WAAY,gBACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,MACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,CAAC,QAG7B,CACES,GAAI,QACJN,WAAY,kBACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,OAGhD5C,KACE,iuBACF2D,MAAO,yBAET,CACEb,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,YACJN,WAAY,oBACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,OAAQsZ,OAAQ,MAG5B,CACES,GAAI,QACJN,WAAY,aACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,kBAG7C5C,KACE,4NAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,KACxC5C,KACE,qGAIR8D,eAAgB,CACdpB,aAAa,EACb1S,KAAM,kBACN0K,YACE,6EACFiI,YAAa,CAAC,CAAErZ,KAAM,aAAcsZ,OAAQ,CAAC,KAC7CC,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,UACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,OAEjC5C,KACE,mSAEJ,CACE8C,OAAQZ,EAAgBI,YACxBgB,YAAa,IACbP,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,KAC5C5C,KAAM,0DACNuD,SACE,sFAEJ,CACET,OAAQZ,EAAgBG,YACxBmB,oBAAqB,IACrBJ,QAAS,CACP,CACEC,GAAI,UACJN,WAAY,kBACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,KACzB,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,MAC1B,CAAEtZ,KAAM,OAAQsZ,OAAQ,EAAE,QAG9B,CACES,GAAI,QACJN,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,WAAYsZ,OAAQ,OAGhD5C,KACE,gTAEJ,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,YACJN,WAAY,WACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,MAGnC,CACES,GAAI,QACJN,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,OAG5C5C,KACE,4YAEJ,CACE8C,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,KACxC5C,KACE,qGAIR+D,cAAe,CACbrB,aAAa,EACb1S,KAAM,aACN0K,YACE,iEACFiI,YAAa,CACX,CAAErZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,KAE9BC,MAAO,CACL,CACEC,OAAQZ,EAAgBC,aACxBY,WAAY,UACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,MAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,MAE9B5C,KACE,wSACF2D,MAAO,qBAET,CACEb,OAAQZ,EAAgBK,gBACxBiB,oBAAqB,IACrBC,eAAgB,GAChBV,WAAY,QACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,YAAasZ,OAAQ,KAE/B5C,KACE,6FACFuD,SAAU,sDAEZ,CACET,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,OACJN,WAAY,eACZC,cAAe,CAAC,CAAE1Z,KAAM,SAAUsZ,OAAQ,CAAC,MAE7C,CACES,GAAI,MACJN,WAAY,kBACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,IAC5B,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,OAIlC5C,KACE,oVACF2D,MAAO,qBAET,CACEb,OAAQZ,EAAgBC,aACxBY,WAAY,OACZC,cAAe,CAAC,CAAE1Z,KAAM,OAAQsZ,OAAQ,KACxC5C,KAAM,gEAER,CACE8C,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,aACJN,WAAY,6BACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,wBACzB,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,MAGhC,CACES,GAAI,QACJN,WAAY,mCACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,OAIlC5C,KACE,qPACF2D,MAAO,0BAET,CACEb,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,aACJN,WAAY,6BACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,wBACzB,CAAEtZ,KAAM,aAAcsZ,OAAQ,CAAC,IAC/B,CAAEtZ,KAAM,UAAWsZ,OAAQ,CAAC,MAGhC,CACES,GAAI,QACJN,WAAY,mCACZC,cAAe,CACb,CAAE1Z,KAAM,WAAYsZ,OAAQ,OAIlC5C,KACE,qSACF2D,MAAO,yBAET,CACEb,OAAQZ,EAAgBG,YACxBe,QAAS,CACP,CACEC,GAAI,aACJN,WAAY,gBACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,CAAC,oBAG7B,CACES,GAAI,QACJN,WAAY,OACZC,cAAe,CACb,CAAE1Z,KAAM,OAAQsZ,OAAQ,OAI9B5C,KACE,maACF2D,MAAO,yB,sIC1zBAK,OAvBf,SAA6B5F,GAC3B,OACE,yBAAKtD,UAAU,mBACb,yBAAKA,UAAU,6BACb,yBAAKA,UAAU,mCACf,yBAAKA,UAAU,uCACb,yBACEA,UAAU,4BACV7M,MAAO,CACLN,OAAO,GAAD,OACJ,IAAYyQ,EAAM3R,MAAQ2R,EAAM7F,MAAQ6F,EAAM6F,IAAM7F,EAAM7F,KAArD,GADD,QAKV,yBAAKuC,UAAU,wBACb,8BAAOsD,EAAM3R,YClBnByX,G,WACJ,aAAe,oBACbtb,KAAKub,SAAW,G,oDAKhB,IADA,IAAIC,EAAY,GACPna,EAAI,EAAGA,EAAIrB,KAAKub,SAASja,OAAQD,IACxCma,GAAaxb,KAAKub,SAASla,GAAK,KAElC,OAAOma,I,iCAGEC,GACTzb,KAAKub,SAASrP,KAAKuP,O,KAQvB,SAASC,GAAiB1Z,GACxB,MAAM,SAAN,OAAgBA,GA6BlB,SAAS2Z,GAAcxX,EAAGC,EAAGwD,GAC3B,OAAIzD,GAAKC,GAAKwD,EACN,MAEA,MAAN,OAAazD,EAAI,KAAO,IAAxB,OAA6BC,EAAI,KAAO,IAAxC,OAA6CD,EAAI,KAAO,IAY5D,SAASyX,GAAqB3W,GAC5B,OAAIA,EACK,UAEA,UAIX,SAAS4W,GAAYC,EAAKC,EAAKC,EAAKC,EAAMC,EAAMC,GAC9C,OAAIL,GAAOC,GAAOC,EACV,KAAN,OAAYF,EAAG,YAAQG,GAAS,IAAhC,OAAqCF,EAAG,YAAQG,GAAS,IAAzD,OACEF,EAAG,YAAQG,GAAS,IAGf,GCjFX,IAaeC,GAbKC,IAAMC,cAAc,CACtCC,UAAW,EACXC,aAAc,EACdC,IAAK,EACLC,OAAQ,EACRC,QAAS,EACTC,aAAc,SAACC,KACfC,gBAAiB,SAACD,KAClBE,OAAQ,SAACF,KACTG,UAAW,SAACH,KACZI,WAAY,SAACxJ,OCgHTyJ,G,kDACJ,WAAY1H,GAAQ,IAAD,8BACjB,cAAMA,IACD2H,gBACH3H,EAAM4H,iBACL,WACCxd,QAAQkT,IAAI,mCAEhB,EAAKuK,MAAQ,CACXC,WAAY,EAAK9H,MAAM+H,cAAgB,KACvCC,eAAe,EACfC,YAAa,EACbC,aAAa,EACbC,WAAW,EACXC,aAAc,iFACdC,KAAM,GACN7b,QAAS,KACT8b,OAAO,GAET,EAAKC,SAAW,KAChB,EAAKC,iBAAkB,EAnBN,E,gEA0Ba,sBAA3Bhe,KAAKwV,MAAM+H,eAUZvd,KAAKie,oBACLje,KAAKge,iBAAkB,GAGtBhe,KAAKwV,MAAMsB,YACkB,6BAA3B9W,KAAKwV,MAAM+H,cAA+CvJ,EAAW,YACtEhU,KAAKwV,MAAMK,QAAQ,GAGS,gBAA3B7V,KAAKwV,MAAM+H,cAAkCvJ,EAAW,WACzDhU,KAAKwV,MAAM4H,gBAAgBpJ,EAAW,cAItChU,KAAKqd,MAAMC,YAAc1D,EAAoB5Z,KAAKqd,MAAMC,aAC1Dtd,KAAK+d,SAAWnE,EAAoB5Z,KAAKqd,MAAMC,YAC/Ctd,KAAKke,SAAS,CAAEV,eAAe,EAAMC,YAAa,MAElD7d,QAAQkT,IAAR,+BAC0B9S,KAAKqd,MAAMC,WADrC,wBAGAtd,KAAKmd,qB,yCAIUgB,GACbne,KAAK+d,UACa/d,KAAK+d,SAAS9D,MAAMja,KAAKqd,MAAMI,aACnCvD,OAIfla,KAAKoe,QAAQzB,SAAW3c,KAAKge,kBAC9Bpe,QAAQkT,IAAI,WAAY9S,KAAKoe,QAAQzB,SACrC3c,KAAKke,SAAS,CAAClc,OAAQhC,KAAKoe,QAAQzB,UACpC3c,KAAKge,iBAAkB,K,2CAKzBhe,KAAKqe,qBAAqBre,KAAK+d,SAAShE,e,2CAGrBuE,GAEU,IAA3Bte,KAAKqd,MAAMI,aACXzd,KAAKyd,cAAgBzd,KAAK+d,SAAS9D,MAAM3Y,OAAS,GAGlDtB,KAAKmd,gBAAgBmB,GACS,6BAA3Bte,KAAKwV,MAAM+H,cACZhK,EAAW,WAAW,GAGM,gBAA3BvT,KAAKwV,MAAM+H,cACZhK,EAAW,UAAU,IAIvBvT,KAAKke,SAAS,CAAER,aAAa,M,sCAIjBrX,EAAMkY,GAEpB,GADA3e,QAAQkT,IAAR,oCAAyCzM,EAAzC,oBAAyDkY,EAAzD,OAC2B,MAAvBlY,EAAKmY,cAAuB,CAC9B,IAAIC,EAAY1L,WAAW/S,KAAKqd,MAAMrb,QAAU+Q,WAAWwL,GAC3DE,EAAYA,EAAUxL,QAAQ,GAC9BrT,QAAQkT,IAAI2L,GACZze,KAAKke,SAAS,CAAClc,OAAQyc,IACvB,IAAIC,EAAc,IAAIpD,GACtBoD,EAAYC,WF1KT,OE2KHD,EAAYC,WACV9C,IAAY,GAAO,GAAO,EAAM,KAAM,KAAM0C,IAE9Cve,KAAK4e,UAAUF,EAAYG,Y,oCAK7Bjf,QAAQkT,IAAR,sBACA,IAAI4L,EAAc,IAAIpD,GACtBoD,EAAYC,WF/MR,OEgNJ3e,KAAK4e,UAAUF,EAAYG,W,wCAI3Bjf,QAAQkT,IAAR,qBACA,IAAI4L,EAAc,IAAIpD,GACtBoD,EAAYC,WFlNR,OEmNJ3e,KAAK4e,UAAUF,EAAYG,W,uCAI3Bjf,QAAQkT,IAAR,0BACA,IAAI4L,EAAc,IAAIpD,GACtBoD,EAAYC,WFrNR,SEsNJ3e,KAAK4e,UAAUF,EAAYG,W,sCAGb1a,EAAGC,GACjBxE,QAAQkT,IAAR,6CAAkD3O,EAAlD,gBAA2DC,IAC3D,IAAIsa,EAAc,IAAIpD,GACtBoD,EAAYC,WFtMP,OEuMLD,EAAYC,WAAW9C,IAAY,GAAM,GAAM,EAAM,IAAK,IAAK,KAC/D6C,EAAYC,WAAW9C,IAAY,GAAM,GAAM,EAAM1X,EAAGC,EAAG,IAC3DpE,KAAK4e,UAAUF,EAAYG,W,4CAI3Bjf,QAAQkT,IAAR,wCACA,IAAI4L,EAAc,IAAIpD,GACtBoD,EAAYC,WAAWjD,GAAiB1b,KAAKqd,MAAMrb,SACnD0c,EAAYC,WFtPR,QEuPJD,EAAYC,WFnPR,QEoPJD,EAAYC,WAAWhD,IAAc,GAAM,GAAM,IACjD+C,EAAYC,WFnNP,OEoNLD,EAAYC,WAAW/C,IAAqB,IAC5C8C,EAAYC,WAAW9C,IAAY,GAAM,GAAM,EAAM,IAAK,IAAK,IAC/D7b,KAAK4e,UAAUF,EAAYG,W,0CAI3B,IAAIH,EAAc,IAAIpD,GACtBoD,EAAYC,WFzQR,QE0QJ3e,KAAK4e,UAAUF,EAAYG,W,2CAI3Bjf,QAAQkT,IAAR,+BACA,IAAI4L,EAAc,IAAIpD,GACtBoD,EAAYC,WFlOP,OEmOLD,EAAYC,WAAWjD,GAAiB1b,KAAKqd,MAAMrb,SACnD0c,EAAYC,WAAW/C,IAAqB,IAC5C8C,EAAYC,WF3QR,QE4QJD,EAAYC,WFxQR,QEyQJD,EAAYC,WAAWhD,IAAc,GAAM,GAAM,IACjD3b,KAAK4e,UAAUF,EAAYG,W,wCAGXhC,GAChBjd,QAAQkT,IAAR,+CAAoD+J,EAApD,WACA7c,KAAKoe,QAAQxB,aAAaC,GAC1B,IAAI6B,EAAc,IAAIpD,GACtBoD,EAAYC,WF9MhB,SAAqB9B,GACnB,MAAM,SAAN,OAAgBA,GE6MSiC,CAAYjC,IACnC7c,KAAK4e,UAAUF,EAAYG,W,6CAGNhC,GACrBjd,QAAQkT,IAAR,oDAAyD+J,EAAzD,WACA7c,KAAKoe,QAAQtB,gBAAgBD,GAC7B,IAAI6B,EAAc,IAAIpD,GACtBoD,EAAYC,WF1NhB,SAA0B9B,GACxB,MAAM,SAAN,OAAgBA,GEyNSkC,CAAiBlC,IACxC7c,KAAK4e,UAAUF,EAAYG,W,yCAI3B7e,KAAKgf,kBACL9K,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,iDAAoF,CACvFC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,wB,mCAIlB6G,GACX,IAAMxB,EAAczd,KAAK+d,SAAS9D,MAAMja,KAAKqd,MAAMI,aAC/CiB,EAAc,IAAIpD,GACnBtb,KAAKoe,QAAQ1B,QAAUe,EAAY7C,qBACpC8D,EAAYC,WFlPlB,SAAkBM,EAAUpC,GAC1B,OAAIA,EAAO,IACH,YAAN,OAAmBoC,EAAnB,eAEO,GE8OkBC,CAASD,EAASjf,KAAKoe,QAAQ1B,SACtD1c,KAAK4e,UAAUF,EAAYG,SAC3B7e,KAAKke,SAAS,CAAEP,WAAW,MAE3B3d,KAAKke,SAAS,CAAEP,WAAW,IAC3B/d,QAAQkT,IAAI,WAAW9S,KAAKoe,QAAQ1B,OAAO,QAAQe,EAAY7C,wB,qCAIpDqE,GACbjf,KAAKib,aAAagE,K,4CAGExE,GACpB,IAAMgD,EAAczd,KAAK+d,SAAS9D,MAAMja,KAAKqd,MAAMI,aAEjDA,EAAYvD,SAAWZ,EAAgBC,cACvCkE,EAAYvD,SAAWZ,EAAgBE,kBACvCiE,EAAYvD,SAAWZ,EAAgBI,aACvC+D,EAAYvD,SAAWZ,EAAgBK,gBAEvC3Z,KAAKqe,qBAAqBZ,EAAYrD,eAC7BqD,EAAYvD,SAAWZ,EAAgBG,aAChDzZ,KAAKqe,qBACHZ,EAAYjD,QAAQ2E,MAAK,SAACC,GACxB,OAAOA,EAAE3E,KAAOA,KACfL,iB,gCAOCiF,GACRnL,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,qBAAwD,CAC3DC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,oBAC3B5D,KAAMX,KAAKC,UAAU,CACnBuL,MAAOA,Q,2CAKQC,GACnB,IAD4B,EACxBC,EAAevf,KADS,cAEPsf,GAFO,IAE5B,2BAA8B,CAAC,IAApBE,EAAmB,QAC5B,OAAQA,EAAO9e,MACb,IAAK,WACHV,KAAKyf,iBACL,MACF,IAAK,OAEHzf,KAAK0f,cACL,MACF,IAAK,WAEH1f,KAAK2f,iBACL,MACF,IAAK,SAEH3f,KAAK4f,gBAAgBJ,EAAOxF,OAAO,GAAIwF,EAAOxF,OAAO,IACrD,MACF,IAAK,SACHha,KAAK6f,aAAaL,EAAOxF,OAAO,IAChC,MACF,IAAK,OACHha,KAAKib,aAAauE,EAAOxF,OAAO,IAChCha,KAAKke,SAAS,CAACJ,OAAM,IACrB7E,YAAW,WACTsG,EAAarB,SAAS,CAACJ,OAAM,MAC5B,KACH,MACF,IAAK,SACH9d,KAAKkb,eAAesE,EAAOxF,OAAO,IAClCha,KAAKke,SAAS,CAACJ,OAAM,IACrB7E,YAAW,WACTsG,EAAarB,SAAS,CAACJ,OAAM,MAC5B,KACH,MACF,IAAK,OACH9d,KAAKmd,gBACHqC,EAAOxF,OAAO1Y,OAAS,EAAIke,EAAOxF,OAAO,GAAK,IAEhD,MACF,IAAK,cAEHha,KAAK8f,qBACL,MACF,IAAK,aAEH9f,KAAK+f,uBAAuBP,EAAOxF,OAAO,IAC1C,MACF,IAAK,UAEHha,KAAKggB,kBAAkBR,EAAOxF,OAAO,IACrC,MACF,IAAK,YAEHha,KAAKigB,mBACL,MACF,IAAK,eAEHjgB,KAAKkgB,sBACL,MACF,QACEtgB,QAAQkT,IAAR,oDAC+C0M,EAAO9e,KADtD,QA9DsB,iC,uCAyExBV,KAAKqd,MAAMI,YAAczd,KAAK+d,SAAS9D,MAAM3Y,OAAS,GACxDtB,KAAKke,SAAS,CAAET,YAAazd,KAAKqd,MAAMI,YAAc,M,mCAQ7C0C,GACXngB,KAAKke,SAAS,CAAET,YAAa0C,M,+BAGrB,IAAD,OACCnO,EAAYhS,KAAKwV,MAAjBxD,QACR,OACE,yBAAKE,UAAWF,EAAQoO,gBACtB,kBAACC,EAAA,EAAD,CAAQxY,SAAS,UACf,kBAACwK,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAAEib,YAAa,IAA/C,iBACiBnM,OAAOC,SAASC,WAGlCrU,KAAKqd,MAAMG,eACV,kBAAC+C,EAAA,EAAD,CAAWrO,UAAWF,EAAQwO,mBAC5B,kBAACpK,EAAA,EAAD,CAAMf,WAAS,GACb,kBAACe,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,IACb,kBAACpO,EAAA,EAAD,CAAYC,QAAQ,KAAKJ,UAAWF,EAAQ0O,iBACzC1gB,KAAK+d,SAAS3W,OAGnB,kBAACgP,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACE,EAAA,EAAD,CACEzO,UAAWF,EAAQ4O,oBACnB7O,QAAS,WACP,EAAK8O,qBACH,EAAKrL,MAAMsB,UAAY,OAAS,QAIpC,kBAACgK,GAAA,EAAD,SAIL9gB,KAAK+gB,mBAAmB/O,IAG7B,kBAACgP,GAAA,EAAD,CAAQC,KAAMjhB,KAAKqd,MAAMK,aACvB,kBAACwD,GAAA,EAAD,sBACA,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,qDAGA,kBAACC,GAAA,EAAD,KACE,kBAAC7K,EAAA,EAAD,CACEzE,QAAS,WACuB,6BAA3B,EAAKyD,MAAM+H,cACZhK,EAAW,WAAW,GAGM,gBAA3B,EAAKiC,MAAM+H,cACZhK,EAAW,UAAU,GAEvB,EAAK+N,qBACL,EAAKnE,oBAVT,OAeA,kBAAC3G,EAAA,EAAD,CACE+K,WAAS,EACTxP,QAAS,WACP,EAAKmM,SAAS,CAAER,aAAa,MAHjC,SAWN,kBAAC8D,EAAA,EAAD,CACEP,KAAMjhB,KAAKqd,MAAMM,UACjB8D,iBAAkB,IAClBpJ,QAASrY,KAAKqd,MAAMO,aACpB8D,SAAS,O,yCAME1P,GAAU,IAAD,OACpByL,EAAczd,KAAK+d,SAAS9D,MAAMja,KAAKqd,MAAMI,aAEnD,OAAIA,EAAYvD,SAAWZ,EAAgBC,aAEvC,kBAACnD,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UACXwM,aAAa,UACbjJ,QAAQ,gBACRxG,UAAWF,EAAQ4P,kBAEnB,kBAACxL,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACqD,QAAQ,SAASvD,WAAW,SAASjD,UAAWF,EAAQ6P,sBAC1EpE,EAAYrG,KAAK3G,MAAM,WAAWqR,KAAI,SAACC,GACtC,OACE,kBAAC1P,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWF,EAAQgQ,cAC5CD,OAKT,kBAAC3L,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACqD,QAAQ,SAASvD,WAAW,SAASjD,UAAWF,EAAQ6P,sBAC1EpE,EAAY1C,OACX,yBACEkH,IAAKxE,EAAY1C,MACjBmH,IAAKzE,EAAY1C,MACjB1V,MAAO,CACLT,MAAO,OACPG,OAAQ,OACRiQ,UAAW,GACXI,aAAc,OAKtB,kBAACgB,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQmQ,wBAC5B,kBAAC3L,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRJ,UAAWF,EAAQoQ,eACnBrQ,QAAS,WACP,EAAKsQ,0BAGN5E,EAAYtD,cAKZsD,EAAYvD,SAAWZ,EAAgBE,iBAE9C,kBAACpD,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UACXwM,aAAa,UACbjJ,QAAQ,gBACRxG,UAAWF,EAAQ4P,kBAEnB,kBAACxL,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQ6P,sBAC3BpE,EAAYrG,KAAK3G,MAAM,WAAWqR,KAAI,SAACC,GACtC,OACE,kBAAC1P,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWF,EAAQgQ,cAC5CD,OAKT,kBAAC3L,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQsQ,6BAC5B,kBAAClM,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,UACrB+E,EAAYpD,OAASra,KAAKuiB,kBAAkB,IAAKvQ,GACjDyL,EAAYnD,OAASta,KAAKuiB,kBAAkB,IAAKvQ,GACjDyL,EAAYlD,OAASva,KAAKuiB,kBAAkB,IAAKvQ,KAGtD,kBAACoE,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQmQ,wBAC5B,kBAAC3L,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRJ,UAAWF,EAAQoQ,eACnBrQ,QAAS,WACP,EAAKsQ,0BAGN5E,EAAYtD,cAKZsD,EAAYvD,SAAWZ,EAAgBG,YAE9C,kBAACrD,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UACXwM,aAAa,UACbjJ,QAAQ,gBACRxG,UAAWF,EAAQ4P,kBAEnB,kBAACxL,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQ6P,sBAC3BpE,EAAYrG,KAAK3G,MAAM,WAAWqR,KAAI,SAACC,GACtC,OACE,kBAAC1P,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWF,EAAQgQ,cAC5CD,OAKT,kBAAC3L,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACqD,QAAQ,SAASvD,WAAW,SAASjD,UAAWF,EAAQ6P,sBAC1EpE,EAAY1C,OACX,yBACEkH,IAAKxE,EAAY1C,MACjBmH,IAAKzE,EAAY1C,MACjB1V,MAAO,CACLT,MAAO,OACPG,OAAQ,OACRiQ,UAAW,GACXI,aAAc,OAKtB,kBAACgB,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQmQ,wBAC5B,kBAAC/L,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,gBACrB+E,EAAYjD,QAAQsH,KAAI,SAACzd,GACxB,OACE,kBAAC+R,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRJ,UAAWF,EAAQoQ,eACnB/c,MAAO,CACLoM,OACuB,8BAArBpN,EAAO8V,YAAmE,oCAArB9V,EAAO8V,WAC1D,GAAK,WAEXd,SAAU,EAAKgE,MAAMS,MACrB/L,QAAS,WACP,EAAKsQ,sBAAsBhe,EAAOoW,KAEpCA,GAAIpW,EAAOoW,IAEVpW,EAAO8V,mBASfsD,EAAYvD,SAAWZ,EAAgBI,YAE9C,kBAACtD,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UACXwM,aAAa,UACbjJ,QAAQ,gBACRxG,UAAWF,EAAQ4P,kBAEnB,kBAACxL,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQ6P,sBAC3B7hB,KAAKoe,QAAQ1B,QAAUe,EAAY/C,YAChC+C,EAAY9C,SAASlK,MAAM,WAAWqR,KAAI,SAACC,GACzC,OACE,kBAAC1P,EAAA,EAAD,CACEC,QAAQ,QACRJ,UAAWF,EAAQgQ,cAElBD,MAIPtE,EAAYrG,KAAK3G,MAAM,WAAWqR,KAAI,SAACC,GACrC,OACE,kBAAC1P,EAAA,EAAD,CACEC,QAAQ,QACRJ,UAAWF,EAAQgQ,cAElBD,OAKb,kBAAC3L,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQwQ,gCAC5B,kBAACpM,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,UACtB,kBAAC,GAAD,CACE/I,IAAK,EACL0L,IAAK,IACLxX,MAAO7D,KAAKoe,QAAQ1B,WAI1B,kBAACtG,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQmQ,wBAC5B,kBAAC3L,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACR+G,WAAYrZ,KAAKoe,QAAQ1B,QAAUe,EAAY/C,aAC/CxI,UAAWF,EAAQoQ,eACnBrQ,QAAS,WACP,EAAKsQ,0BAGN5E,EAAYtD,cAKZsD,EAAYvD,SAAWZ,EAAgBK,gBAE9C,kBAACvD,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UACXwM,aAAa,UACbjJ,QAAQ,gBACRxG,UAAWF,EAAQ4P,kBAEnB,kBAACxL,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQ6P,sBAC3B7hB,KAAKoe,QAAQ1B,QAAUe,EAAY7C,qBACpC5a,KAAKoe,QAAQ3B,KAAOgB,EAAY5C,eAC5B4C,EAAY9C,SAASlK,MAAM,WAAWqR,KAAI,SAACC,GACzC,OACE,kBAAC1P,EAAA,EAAD,CACEC,QAAQ,QACRJ,UAAWF,EAAQgQ,cAElBD,MAIPtE,EAAYrG,KAAK3G,MAAM,WAAWqR,KAAI,SAACC,GACrC,OACE,kBAAC1P,EAAA,EAAD,CACEC,QAAQ,QACRJ,UAAWF,EAAQgQ,cAElBD,OAKb,kBAAC3L,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQwQ,gCAC5B,kBAACpM,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,UACtB,kBAACtC,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC,GAAD,CACE3F,IAAK,EACL0L,IAAK,IACLxX,MAAO7D,KAAKoe,QAAQ3B,MAEtB,kBAACpK,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWF,EAAQyQ,aAA/C,QAIF,kBAACrM,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC,GAAD,CACE3F,IAAK,EACL0L,IAAK,IACLxX,MAAO7D,KAAKoe,QAAQ1B,SAEtB,kBAACrK,EAAA,EAAD,CAAYC,QAAQ,QAAQJ,UAAWF,EAAQyQ,aAA/C,eAMN,kBAACrM,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQmQ,wBAC5B,kBAAC3L,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACR+G,WAEIrZ,KAAKoe,QAAQ1B,QAAUe,EAAY7C,qBACnC5a,KAAKoe,QAAQ3B,KAAOgB,EAAY5C,gBAGpC3I,UAAWF,EAAQoQ,eACnBrQ,QAAS,WACP,EAAKsQ,0BAGN5E,EAAYtD,mBAzEhB,I,wCAiFS9T,EAAM2L,GAAU,IAAD,OAG/B,OACE,kBAACoE,EAAA,EAAD,CACEf,WAAS,EACTqD,QAAQ,SACRxG,UAAWF,EAAQ0Q,aACnBrM,QAAS,EACTC,UAAU,OAEV,kBAACF,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,IACb,kBAACkC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE/e,MAAO7D,KAAKqd,MAAMQ,KAClB3L,UAAWF,EAAQ6Q,KACnBC,SAAU,SAACC,EAAGtP,GAAJ,OAAY,EAAKyK,SAAS,CAACL,KAAKpK,MAftC,CAAC,IAAM,IAAM,GAAK,GAiBfqO,KAAI,SAACkB,GAAD,OACT,kBAACC,GAAA,EAAD,CAAKC,MAAK,UAAKF,EAAL,MAAYxP,IAAKwP,EAAGnf,MAAOmf,EAAG3d,MAAO,CAAE8d,SAAU,iBAKnE,kBAAC/M,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACoL,GAAI,GAAIpb,MAAO,CAAE2P,UAAW,KAC/C,kBAACoB,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJmL,IAAE,EACFnK,UAAU,SACVnB,WAAW,SACXkB,QAAS,EACThR,MAAO,CAAEN,OAAQ,MAEjB,kBAACqR,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACjD,EAAA,EAAD,CAAYC,QAAQ,SAApB,MAEF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM,EAAKqR,gBAAgB/c,EAAK,EAAKgX,MAAMQ,OACpDxY,MAAO,CAAEoM,OAAQ,EAAG7M,MAAO,GAAIG,OAAQ,KAEvC,kBAACse,GAAA,EAAD,QAGJ,kBAACjN,EAAA,EAAD,CAAMd,MAAI,IAGV,kBAACc,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM,EAAKqR,gBAAgB/c,GAAM,EAAKgX,MAAMQ,OACrDxY,MAAO,CAAEoM,OAAQ,EAAG7M,MAAO,GAAIG,OAAQ,KAEvC,kBAACue,GAAA,EAAD,e,GAvvBOjH,IAAMkH,WAAvBrG,GAuBGsG,YAAcpH,GA0uBRqH,oBA/0BA,SAACC,GAAD,MAAY,CACzBtD,eAAgB,CACdvY,SAAU,QACV/C,IAAK,EACLH,KAAM,EACNgR,MAAO,EACPlG,OAAQ,EACRmF,OAAQ,KACR+O,gBAAiB,WAEnBvB,eAAgB,CAEd1N,SAAU,QAEZkM,oBAAqB,CACnBgD,MAAO,QACPC,aAAc,GAEhB7B,aAAc,CACZtN,SAAU,OACVU,aAAc,GAEhBoL,kBAAmB,CACjBjL,QAAS,MACTxQ,OAAQ,qBAEV2b,gBAAiB,CACfnK,WAAY,OAEdqL,iBAAkB,CAChBtB,YAAa,OACbwD,aAAc,QAEhBjC,qBAAsB,CAEpBkC,SAAU,GAEZ5B,uBAAwB,CACtBpd,OAAQ,OACR4M,UAAW,UAEbqS,oBAAqB,CACnBjf,OAAQ,QAEVud,4BAA6B,CAC3Bvd,OAAQ,SAEVyd,+BAAgC,CAC9Bzd,OAAQ,SAEVkf,WAAY,CACVjP,UAAW,MACXI,aAAc,MACdV,SAAU,OACVwP,cAAe,OACftf,MAAO,SAET6d,YAAa,CACX9Q,UAAW,SACX+C,SAAU,QAEZgO,aAAc,CACZ1N,UAAW,OACXI,aAAc,OACdzD,UAAW,UAEbwS,WAAY,CACV,WAAY,CACV1S,OAAQ,WAGZoR,KAAM,CACJ,WAAY,CACVqB,cAAe,YAswBNT,CAAmBvG,ICz3B5B5L,GAAYC,YAAW,CAC3BsD,gBAAiB,CACfC,QAAS,OACTlQ,MAAO,OACPmQ,eAAgB,eAChBC,UAAW,QAEbK,UAAW,CACTE,QAAS,OACT5D,UAAW,SACX,MAAO,CACL+C,SAAU,eA4CD0P,GAxCQ,SAAC,GAAiC,IAA/BvO,EAA8B,EAA9BA,QAASwO,EAAqB,EAArBA,eAC3BrS,EAAUV,KAEhB,OACE,kBAAC8E,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJe,QAAS,EACTC,UAAU,SACVnB,WAAW,SACXjD,UAAWF,EAAQqD,WAEnB,2CAEE,kBAAChD,EAAA,EAAD,CAAY1H,MAAM,YAAY2H,QAAQ,SACnC6B,OAAOC,SAASC,WAGrB,+CAEE,kBAAChC,EAAA,EAAD,CAAY1H,MAAM,YAAY2H,QAAQ,SAAtC,cAIF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,EAACpD,UAAWF,EAAQ6C,iBAC5B,kBAAC2B,EAAA,EAAD,CACE7L,MAAM,YACN2H,QAAQ,YACRP,QAAS,kBAAMsS,EAAe,QAHhC,QAOA,kBAAC7N,EAAA,EAAD,CAAQ7L,MAAM,UAAU2H,QAAQ,YAAYP,QAAS,kBAAM8D,EAAQ,KAAnE,W,6IC5BFvE,GAAYC,YAAW,CAC3B+S,UAAW,CACTxP,QAAS,OACTC,eAAgB,UAElBJ,SAAU,CACRC,OAAQ,IACRjK,MAAO,QAETtG,OAAQ,CACNiU,UAAW,WACXvT,OAAQ,OACRwf,WAAY,QAEdtP,WAAY,CACVH,QAAS,OACTI,cAAe,SACfC,WAAY,SACZ,OAAQ,CACNC,aAAc,SAGlBC,UAAW,CACTP,QAAS,OACTI,cAAe,UAEjBT,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJC,QAAS,SAACC,GAAD,OAAYA,EAAMC,eAAiB,OAAS,aACrDf,SAAU,SAACc,GAAD,OAAYA,EAAMC,eAAiB,OAAS,QACtDX,QAAS,OACTC,eAAgB,iBAElBW,SAAU,CACR7N,SAAU,QACV4H,OAAQ,EACR9K,KAAM,EACNgR,MAAO,EACPhL,MAAO,QAET6Z,SAAU,CACRzf,OAAQ,QACR0f,SAAU,SACV/S,OAAQ,iBACRgT,aAAc,SA0SHC,GAvSK,SAAC,GASd,IARL9O,EAQI,EARJA,QACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,gBAEAsO,GAII,EALJO,iBAKI,EAJJP,gBACA5O,EAGI,EAHJA,eAEAoP,GACI,EAFJC,SAEI,EADJD,UAEM7S,EAAUV,GAAU,CAAEmE,mBADxB,EAE4BO,oBAAS,GAFrC,mBAEG+O,EAFH,KAEaC,EAFb,OAGwBhP,mBAAS,WAHjC,mBAGGkE,EAHH,KAGW+K,EAHX,OAIsBjP,mBAAS,IAJ/B,mBAIGkP,EAJH,KAIUC,EAJV,OAK0BnP,mBAAS,IALnC,mBAKGoP,EALH,KAKYC,EALZ,OAMgCrP,oBAAS,GANzC,mBAMGf,EANH,KAMeqQ,EANf,KAOE5P,EAAWO,mBAPb,EAQ0BD,oBAAS,GARnC,mBAQGuP,EARH,KAQYC,EARZ,OASoCxP,oBAAS,GAT7C,mBASGyP,EATH,KASiBC,EATjB,KAWJvU,GAAe,WAAM,4CACnB,4BAAAR,EAAA,sEAEyBuD,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,wBAF9B,cAEQJ,EAFR,yBAGSA,EAASM,QAHlB,4CADmB,sBAQnBiR,GAAW,GARS,WAAD,+BASnBG,GAActS,MAAK,SAACC,GAClB,IAAIsS,EAAWtS,EAAKsS,SAASC,QAAO,SAACC,EAAKC,EAAKC,GAC7C,OACEA,EAAIlE,KAAI,SAACmE,GAAD,OAAYA,EAAM,QAAU/d,QAAQ4d,EAAG,QAAcC,GACjD,MAAZD,EAAII,QAGRb,EAAWO,GACXJ,GAAW,SAIf,IAAMW,EAAY,uCAAG,mBAOJC,EAPI,WAAAzV,EAAA,0FAAAA,EAAA,MAOnB,WAA0B6D,GAA1B,eAAA7D,EAAA,sEAEyBuD,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,iBAAoD,CAC9EC,OAAQ,OACR8D,QAAS,CACP,eAAgB,oBAElB5D,KAAMX,KAAKC,UAAUU,KAPzB,cAEQP,EAFR,yBASSA,EAASM,QATlB,4CAPmB,uBAOJ6R,EAPI,4CACb5R,EAAO,CAAE0R,KAAMnB,EAAUsB,SAAUnB,GAEzCF,GAAY,GACZM,GAAc,GACdH,EAAS,IAaTiB,EAAW5R,GAAMnB,MAAK,SAACC,GAErBgS,GAAc,GACM,eAAhBhS,EAAKgT,QACPvQ,EAAgB,0BAChBD,GAAa,kBAAM,MAClBL,GAAkBI,EAAQ,KAI3BE,EAAgB,gCAChBD,GAAa,kBAAM,KACnBwP,GAAc,OA9BC,2CAAH,qDAqCZiB,EAAiB,WACrBb,GAAiBD,IAiCbe,EAAgB,SAACxiB,GACrB,IAAMkhB,EAAQlhB,EAAMyiB,OAAO5iB,MAC3BshB,EAASD,GACTxP,EAASgR,QAAQvB,SAASD,IAG5B,OADAtlB,QAAQkT,IAAIiD,GAEV,yBAAK7D,UAAWF,EAAQqD,YACpBI,GACA,yBAAKvD,UAAWF,EAAQyC,QACtB,kBAACkM,EAAA,EAAD,CACEpI,aAAW,OACXxG,QAAS,WACPsS,GAAe,kBAAM,QACjBQ,GACFA,MAIJ,kBAAC,KAAD,OAEF,sCAGHU,GACC,oCACE,yBACErD,IAAKyE,KACLthB,MAAO,CACLT,MAAO,IACPG,OAAQ,IACR6P,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,uBAGT,wBACEO,MAAO,CACLT,MAAO,IACPgQ,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,oBACL6M,UAAW,WAPf,uBAcJ,kBAACiV,GAAA,EAAD,CAAM1U,UAAWF,EAAQwS,UACtBY,EAAQtD,KAAI,SAAC+E,GACZ,OACE,kBAACC,GAAA,EAAD,CACE/B,SAAUA,IAAa8B,EAAQX,KAC/B1S,IAAG,UAAKqT,EAAQX,KAAb,eAEH,kBAACa,GAAA,EAAD,CAAkB/U,QAAS,CAAEgV,QAAS,oBACpC,kBAACC,GAAA,EAAD,CAAU/U,UAAWF,EAAQsD,MAC1BuR,EAAQX,KACT,kBAAC1P,EAAA,EAAD,CACE7L,MAAOoa,IAAa8B,EAAQX,KAAO,YAAc,UACjD5T,QAAQ,YACRP,QAAS,WArEN,IAACmV,EAsEEnC,IAAa8B,EAAQX,MACvBlB,GAAY,kBAAM,KAClBG,EAAS,MAxET+B,EA0EaL,EAAQX,KAzEzClB,EAAYkC,MA6EKnC,IAAa8B,EAAQX,KAAO,QAAU,UAI7C,kBAACiB,GAAA,EAAD,CAAkBjV,UAAWF,EAAQsS,WACnC,kBAAC8C,GAAA,EAAD,CACE3M,GAAG,0BACHyI,MAAM,WACNxiB,KAAM+kB,EAAe,WAAa,OAClC9a,MAAM,YACN9G,MAAOqhB,EACPpC,SAAU0D,EACVa,WAAY,CACVC,aACE,kBAACC,GAAA,EAAD,CAAgB1f,SAAS,OACvB,kBAAC,KAAD,CAAkBkK,QAASwU,QAKnC,kBAAC/P,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRJ,UAAWF,EAAQ3N,OACnB0N,QAAS,WACHmT,EAAM5jB,OAAS,EACjB6kB,KAEApQ,EAAgB,qBAChBD,GAAa,MATnB,iBAoBTb,GACC,kBAACuS,GAAA,EAAD,CAAUtV,UAAWF,EAAQ2C,SAAUsM,KAAMhM,GAC3C,yBAAK/C,UAAWF,EAAQiD,YACtB,0CACA,kBAAC0D,EAAA,EAAD,CAAkBhO,MAAM,cAI7Boa,GACC,yBAAK7S,UAAWF,EAAQ0D,UACtB,kBAAC,IAAD,CACE+R,YAAa,SAACC,GAAD,OAAQhS,EAASgR,QAAUgB,GACxCC,WAAYzN,EACZA,OAAQ,CACN0N,QAAS,CACP,0BACA,YACA,YACA,YACA,YACA,YACA,oBAEFC,MAAO,CACL,0BACA,YACA,YACA,YACA,YACA,YACA,oBAEFC,OAAQ,CACN,0BACA,YACA,YACA,YACA,aACA,YACA,aAEFC,OAAQ,CACN,0BACA,QACA,QACA,QACA,QACA,UACA,aAGJjT,QAAS,CACP,SAAU,YACV,UAAW,QACX,UAAW,QACX,UAAW,QACX,QAAS,MACT,QAAS,MACT,QAAS,MACT,QAAS,SAEXgO,SA3MO,SAACoC,GAChBC,EAASD,GACTtlB,QAAQkT,IAAI,gBAAiBoS,IA0MrB8C,WAhMS,SAAC3jB,GACH,UAAXA,EACF4gB,EAAU,SACU,UAAX5gB,EACT4gB,EAAU,WACU,UAAX5gB,EACT4gB,EAAU,UACU,UAAX5gB,GACT4gB,EAAU,WAEA,YAAX5gB,GAAmC,WAAXA,IAdzB4gB,EADiC,YAAX/K,EAAuB,QAAU,iB,8BCqG5C+N,G,kDArPb,WAAYzS,GAAQ,IAAD,8BACjB,cAAMA,IACD6H,MAAQ,CACX6K,MAAO,kBACPC,gBAAgB,EAChBC,kBAAmB,KACnBC,eAAe,GANA,E,uDAWjB9U,EAAW,UAAWvT,KAAKqd,MAAMgL,eACjC9U,EAAW,WAAYvT,KAAKqd,MAAM8K,gBAClC5U,EAAW,iBAAkBvT,KAAKqd,MAAM+K,mBAgBpCpoB,KAAKwV,MAAM8S,YACbtoB,KAAKwV,MAAM8S,WAAWtoB,KAAKqd,MAAM+K,mBACjCpoB,KAAKwV,MAAMK,QAAQ,IAEf7V,KAAKqd,MAAM8K,eACbnoB,KAAKwV,MAAMK,QAAQ,GAEnB7V,KAAKwV,MAAMK,QAAQ,K,+BAKf,IAAD,OACP,MAAyB,oBAArB7V,KAAKqd,MAAM6K,MAEX,oCACGloB,KAAKuoB,eACN,kBAACC,GAAA,EAAD,CACEnjB,MAAO,CACLqP,SAAU,IACV9P,MAAO,OACP+M,UAAW,SACXyD,aAAc,MAGlB,kBAAC/C,EAAA,EAAD,CAAYC,QAAQ,MAApB,2DAIA,kBAACD,EAAA,EAAD,CAAYC,QAAQ,MAApB,+CAGA,kBAAC,EAAD,CACET,MAAM,MACNE,QAAS,WACP,EAAKmM,SAAS,CAAEiK,gBAAgB,EAAMD,MAAO,uBAGjD,kBAAC,EAAD,CACErW,MAAM,KACNE,QAAS,WACP,EAAKmM,SAAS,CACZiK,gBAAgB,EAChBD,MAAO,iBACPE,kBAAmB,aAON,oBAArBpoB,KAAKqd,MAAM6K,MAEX,oCACGloB,KAAKuoB,eACN,kBAACC,GAAA,EAAD,CACEnjB,MAAO,CACLqP,SAAU,IACV9P,MAAO,OACP+M,UAAW,SACXyD,aAAc,MAGlB,kBAAC/C,EAAA,EAAD,CAAYC,QAAQ,MAApB,+CAGA,kBAAC,EAAD,CACET,MAAM,QACNE,QAAS,WACP,EAAKmM,SAAS,CACZkK,kBAAmB,OACnBF,MAAO,mBAIb,kBAAC,EAAD,CACErW,MAAM,WACNE,QAAS,WACP,EAAKmM,SAAS,CACZkK,kBAAmB,WACnBF,MAAO,uBAOM,mBAArBloB,KAAKqd,MAAM6K,MAEX,oCACGloB,KAAKuoB,eACN,kBAACE,GAAA,EAAD,CACEpjB,MAAO,CACLqP,SAAU,IACV9P,MAAO,OACP+M,UAAW,SACXyD,aAAc,MAGlB,kBAAC/C,EAAA,EAAD,CAAYC,QAAQ,MAApB,+EAIA,kBAAC,EAAD,CACET,MAAM,OACNE,QAAS,WACP,EAAKmM,SAAS,CAAEgK,MAAO,uBAMR,gBAArBloB,KAAKqd,MAAM6K,MAEX,oCACGloB,KAAKuoB,eACN,kBAAC,GAAD,CACE1S,QAAS,SAACsK,GACR,EAAKuI,YAEP5S,aAAc9V,KAAKwV,MAAMM,aACzBC,gBAAiB/V,KAAKwV,MAAMO,gBAC5B6O,iBAAkB5kB,KAAKwV,MAAMoP,iBAC7BP,eAAgB,aAChBQ,SAAU,WACR,EAAK3G,SAAS,CAAEgK,MAAO,wBAOR,mBAArBloB,KAAKqd,MAAM6K,MAEX,oCACGloB,KAAKuoB,eACN,kBAACI,GAAA,EAAD,CACEtjB,MAAO,CACLqP,SAAU,IACV9P,MAAO,OACP+M,UAAW,SACXyD,aAAc,MAGlB,kBAAC/C,EAAA,EAAD,CAAYC,QAAQ,MAApB,4DAGA,kBAACD,EAAA,EAAD,CAAYC,QAAQ,MAApB,6DAGA,kBAAC,EAAD,CACET,MAAM,MACNE,QAAS,WACP,EAAKmM,SAAS,CAAEmK,eAAe,EAAMH,MAAO,sBAGhD,kBAAC,EAAD,CACErW,MAAM,KACNE,QAAS,WACP,EAAK2W,eAMU,mBAArB1oB,KAAKqd,MAAM6K,MAEX,kBAAC,GAAD,CACErS,QAAS,WACP,EAAK6S,YAEPrE,eAAgB,oBANtB,I,qCAYc,IAAD,OACb,OACE,kBAACjO,EAAA,EAAD,CACEf,WAAS,EACTqD,QAAQ,gBACRvD,WAAW,SACX9P,MAAO,CAAEyP,QAAS,OAAQM,aAAc,KAExC,wBAAI/P,MAAO,CAAEqP,SAAU,KAAvB,WACA,kBAAC8B,EAAA,EAAD,CACE+B,aAAW,OACXC,QAAS,kBAACC,EAAA,EAAD,MACT1G,QAAS,WACP,EAAKmM,SACH,CACEiK,gBAAgB,EAChBD,MAAO,iBACPE,kBAAmB,SAErB,WACE,EAAKM,gBAXb,a,GAxNoBrM,IAAMkH,WCEnBqF,ICFGrX,YAAW,CAC3B8D,UAAW,CACTqB,KAAM,EACN5B,QAAS,OACTI,cAAe,UAEjB2T,QAAS,CACPlX,UAAW,SACX5M,OAAQ,OACR,OAAQ,CACN2P,SAAU,QAEZ,OAAQ,CACNA,SAAU,OACVM,UAAW,W,OD3BD,SAAC,GAAyD,IAAvD8T,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,eAAgBC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YACrD,OACE,kBAACrG,GAAA,EAAD,CAAM/e,MAAOmlB,EAAWlG,SAAUiG,EAAgBG,UAAQ,GACvDJ,EAAQhH,KAAI,SAACqH,GAAD,OACX,kBAAClG,GAAA,EAAD,CACE5d,MAAO,CAAEN,OAAQ,OAAQ2P,SAAU,OAAQyO,SAAU,SACrDD,MAAOiG,EACP3V,IAAG,gBAAW2V,GACd9P,SAAU4P,U,2DECd3X,GAAYC,YAAW,CAC3BsD,gBAAiB,CACfC,QAAS,OACTC,eAAgB,SAChBC,UAAW,QAEboU,WAAY,CACVzX,UAAW,SACXqD,UAAW,QAEbvV,OAAQ,CACNmF,MAAO,OACP8M,OAAQ,kBACRgT,aAAc,KAId2E,GAAW,SAACC,GACd,GAAGA,EAAM,CACP,IAAIC,EAAUC,SAASF,EAAM,IAK7B,MAAO,CAJO5hB,KAAKmL,MAAM0W,EAAU,MACrB7hB,KAAKmL,MAAM0W,EAAU,IAAM,GAC3BA,EAAU,IAGnBzH,KAAI,SAAA2H,GAAC,OAAIA,EAAI,GAAK,IAAMA,EAAIA,KAC5B5D,QAAO,SAAC4D,EAAEpoB,GAAH,MAAe,OAANooB,GAAcpoB,EAAI,KAClCqoB,KAAK,KAEV,MAAO,kBAWX,IAqLMC,GAAuBlG,aAAW,SAACC,GAAD,MAAY,CAClDkG,KAAM,CACJ7kB,OAAQ,GACR2f,aAAc,GAEhBmF,aAAc,CACZlG,gBAAiB,WAEnBmG,IAAK,CACHpF,aAAc,EACdf,gBAAiB,cAVQF,CAYzBsG,MAEWC,GAnMK,SAAC,GAOf,EANJC,YAMK,IALLC,EAKI,EALJA,cAEA7M,GAGI,EAJJ8M,eAII,EAHJ9M,OACA+M,EAEI,EAFJA,WACAC,EACI,EADJA,SAEMrY,EAAUV,KADZ,EAEwB0E,oBAAS,GAFjC,mBAEGsU,EAFH,KAEWC,EAFX,OAGgCvU,oBAAS,GAHzC,mBAGGwU,EAHH,KAGeC,EAHf,OAIsBzU,mBAAS,GAJ/B,mBAIGnS,EAJH,KAIU6mB,EAJV,OAK0B1U,mBAAS,IALnC,mBAKG2U,EALH,KAKYC,EALZ,OAM8B5U,mBAAS,IANvC,mBAMG6U,EANH,KAMcC,EANd,KAOEC,EAAa,iBAAa5W,OAAOC,SAASC,SAA7B,wBAPf,EAS8B2B,mBADR,iBARtB,mBASGgV,EATH,KAScC,EATd,OAU0BjV,oBAAS,GAVnC,mBAUGkV,EAVH,KAUYC,EAVZ,KAgDJ,OA1BAha,GAAe,YApCjB,SAAqBia,EAAKC,GACxB,IAAIC,EAAM,IAAIC,MACdD,EAAIE,OAAS,WAAaH,GAAS,IACnCC,EAAIG,QAAU,WAAaJ,GAAS,IACpCC,EAAIpJ,IAAMkJ,EAiCRM,CAAYV,GAAW,SAASW,GAE5BV,EADCU,EACYZ,EAjBO,oBAsBtBN,GAAc,kBAAMzW,EAAW,oBAGnC3C,qBAAU,WACJ6Y,EAAc0B,aAAe/nB,IAC/B6mB,EAASR,EAAc0B,YACvBhB,EAAWvB,GAASa,EAAc2B,YAClCf,EAAazB,GAASa,EAAc4B,mBAErC,CAAC5B,EAAermB,IAEnBwN,qBAAU,WACJgM,GAASA,EAAM0O,MAAMzB,QAAUA,IACjCC,EAAUlN,EAAM0O,MAAMzB,QACtBa,GAAW,MAEZ,CAAC9N,IAGF,oCACE,kBAACkD,EAAA,EAAD,KACE,kBAAClO,EAAA,EAAD,CACEC,QAAQ,KACRjN,MAAO,CAAE2P,UAAW,GAAIpQ,MAAO,OAAQ+M,UAAW,WAEjDyY,EAJH,KAIiBC,GAEjB,yBAAKnY,UAAU,mBAAmB7M,MAAO,CAAE2P,UAAW,KACpD,kBAAC2U,GAAD,CAAsBrX,QAAQ,cAAczO,MAAOA,IACnD,kBAACuS,EAAA,EAAD,CAAMf,WAAS,EAACgB,QAAS,EAAGlB,WAAW,UACvC,kBAACiB,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,EAAIpb,MAAO,CAACsM,UAAW,SACtC,kBAACU,EAAA,EAAD,CACEC,QAAQ,KACR0Z,UAAU,OACV3mB,MAAO,CAAET,MAAO,SAEf+lB,IAGH,kBAACvU,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,EAAIpb,MAAO,CAACsM,UAAW,WACtC,kBAACU,EAAA,EAAD,CACEC,QAAQ,KACR0Z,UAAU,OACV3mB,MAAO,CAAET,MAAO,SAEff,EAAQA,EAAMoP,QAAQ,GAAK,IAL9B,MAQA,kBAACmD,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,EAAGpb,MAAO,CAACsM,UAAW,UACrC,kBAACU,EAAA,EAAD,CACEC,QAAQ,KACR0Z,UAAU,OACV3mB,MAAO,CAAET,MAAO,SAEfimB,MAKL,6BACA,kBAACzU,EAAA,EAAD,CAAMf,WAAS,EAACF,WAAW,UAC3B,kBAACiB,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAIzM,EAAW,cAAgB,EAAI,GAAImB,WAAW,UAC3D,kBAAC,GAAY8W,SAAb,MACG,gBAAGxP,EAAH,EAAGA,IAAKC,EAAR,EAAQA,OAAQH,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,aAA3B,OACC,kBAACpG,EAAA,EAAD,CAAMf,WAAS,EAACF,WAAW,SAAS9P,MAAO,CAAE0P,eAAgB,iBAC3D,kBAACqB,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACoL,GAAI,EAAGnK,UAAU,UACpC,kBAACF,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE+P,cAAe,MACjC,yBAAK/P,MAAO,CAAE6mB,UAAW,cACvB,kBAAC,GAAD,CAAqBvc,IAAK,EAAG0L,IAAK,IAAKxX,MAAO4Y,MAGlD,kBAACrG,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAEsM,UAAW,WAC7B,kBAACU,EAAA,EAAD,CAAYC,QAAQ,MAApB,WACWiK,GAEX,kBAAClK,EAAA,EAAD,CAAYC,QAAQ,MAApB,OAGA,yBAAKJ,UAAU,uBACb,kBAACsE,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACR+G,SAAU6R,EACVnZ,QAAS,WACPoZ,GAAW,GACXjX,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,oBAAuD,CAC1DC,OAAQ,QACR8D,QAAS,CAAE,eAAgB,uBAG/B+T,UAAY7B,EAAqB,kBAAC8B,GAAA,EAAD,MAAZ,kBAACC,GAAA,EAAD,OAEnB/B,EAAmB,SAAV,YAKnB,kBAAClU,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACoL,GAAI,EAAGnK,UAAU,UACpC,kBAACF,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE+P,cAAe,MACjC,yBAAK/P,MAAO,CAAE6mB,UAAW,cACvB,kBAAC,GAAD,CAAqBvc,IAAK,EAAG0L,IAAK,IAAKxX,MAAO6Y,MAGlD,kBAACtG,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAEsM,UAAW,WAC7B,kBAACU,EAAA,EAAD,CAAYC,QAAQ,MAApB,WACWkK,GAEX,kBAACnK,EAAA,EAAD,CAAYC,QAAQ,MAApB,UAGA,yBAAKJ,UAAU,uBACb,kBAACsE,EAAA,EAAD,CACE7L,MAAM,YACN2H,QAAQ,YACR+G,UAAUiR,EACVvY,QAAS,WACPmC,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,oBAAuD,CAC1DC,OAAQ,SACR8D,QAAS,CAAE,eAAgB,uBAG/B+T,UAAW,kBAACG,GAAA,EAAD,OAVb,kBAqBE,YAAf9B,GACC,kBAACpU,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,EAAGpb,MAAO,CAAEyP,QAAS0V,EAAa,QAAU,SACzD,yBAAKtI,IAAK8I,EAAW9Y,UAAWF,EAAQvS,e,kVChNrC8sB,GAfIlQ,IAAMC,cAAc,CACrCkQ,YAAa,EACbC,QAAS,EACTC,KAAM,EACNC,YAAY,EACZC,YAAY,EACZC,UAAU,EACVC,YAAa,SAACC,KACdC,QAAS,SAACtd,KACVud,KAAM,SAACrlB,KACPslB,cAAe,SAACzZ,KAChB0Z,cAAe,SAAC1Z,KAChB2Z,YAAa,SAAC3Z,O,QCmWD4Z,G,kDAzTZ,WAAaC,GAAW,uCAEfA,G,iDAIHlC,EAAKmC,EAAQC,EAAYC,GAE7B,IAAMltB,EAAQP,KACR0tB,EAAS,IAAIvvB,cAAkB6B,KAAKstB,SAC1CI,EAAOC,QAAS3tB,KAAK4tB,MACrBF,EAAOG,gBAAiB,eACxBH,EAAOI,iBAAkB9tB,KAAK+tB,eAC9BL,EAAOM,mBAAoBhuB,KAAKiuB,iBAChCP,EAAOQ,KAAM9C,GAAK,SAAWhU,GAE3B,IAEEmW,EAAQhtB,EAAM4tB,MAAO/W,IAErB,MAAQ2L,GAEH0K,EAEHA,EAAS1K,GAITnjB,QAAQ4G,MAAOuc,GAIjBxiB,EAAM+sB,QAAQc,UAAWhD,MAI1BoC,EAAYC,K,4BAIVna,GAoCL,SAAS+a,EAAiBC,EAAOC,EAAQvsB,GAGvC,IAAM,IAAIX,EAAI,EAAGmtB,EAAKF,EAAMhtB,OAAQD,EAAImtB,EAAIntB,IAE1C,GAAKitB,EAAOjtB,KAAQktB,EAAOE,SAAUzsB,EAASX,GAAG,GAAU,OAAO,EAIpE,OAAO,EA6NT,IAnCuBqtB,EAmCjBC,EAvBN,SAAuBD,GAErB,GAAuB,kBAAXA,EAAsB,CAIhC,IAFA,IAAME,EAAe,IAAIC,WAAYH,EAAOptB,QAElCD,EAAI,EAAGA,EAAIqtB,EAAOptB,OAAQD,IAElCutB,EAAcvtB,GAA+B,IAAzBqtB,EAAOI,WAAYztB,GAIzC,OAAOutB,EAAaF,QAAUE,EAI9B,OAAOF,EAOKK,CAAczb,GAC9B,OAzQA,SAAmBA,GAEjB,IAAMib,EAAS,IAAIS,SAAU1b,GAK7B,GAFe,GAFG,GACFib,EAAOU,UAAW,IAAI,KAGtBV,EAAOW,WAErB,OAAO,EAaT,IAFA,IAAMC,EAAQ,CAAE,IAAK,IAAK,IAAK,IAAK,KAE1BC,EAAM,EAAGA,EAAM,EAAGA,IAG1B,GAAKf,EAAiBc,EAAOZ,EAAQa,GAAQ,OAAO,EAKtD,OAAO,EA2OFC,CAAUV,GA1NjB,SAAsBrb,GAYpB,IAVA,IAEIoU,EACF4H,EACAlQ,EAEAmQ,EACEC,EAAUC,EAAUC,EAAUC,EAP5BpB,EAAS,IAAIS,SAAU1b,GACvBsc,EAAQrB,EAAOU,UAAW,IAAI,GAIlCY,GAAY,EAKJC,EAAQ,EAAGA,EAAQ,GAASA,IAEK,YAApCvB,EAAOU,UAAWa,GAAO,IAEG,IAAhCvB,EAAOE,SAAUqB,EAAQ,IAEO,IAAhCvB,EAAOE,SAAUqB,EAAQ,KAIxBD,GAAY,EACZN,EAAS,IAAIQ,aAAsB,EAARH,EAAY,GACvCJ,EAAWjB,EAAOE,SAAUqB,EAAQ,GAAM,IAC1CL,EAAWlB,EAAOE,SAAUqB,EAAQ,GAAM,IAC1CJ,EAAWnB,EAAOE,SAAUqB,EAAQ,GAAM,IAC1CH,EAAQpB,EAAOE,SAAUqB,EAAQ,GAAM,KAY3C,IANA,IAEM7pB,EAAW,IAAI9H,kBACf8N,EAAW,IAAI8jB,aAAsB,EAARH,EAAY,GACzCI,EAAU,IAAID,aAAsB,EAARH,EAAY,GAEpCK,EAAO,EAAGA,EAAOL,EAAOK,IAAU,CAE1C,IAAMC,EARW,GACA,GAOUD,EACrBE,EAAU5B,EAAO6B,WAAYF,GAAO,GACpCG,EAAU9B,EAAO6B,WAAYF,EAAQ,GAAG,GACxCI,EAAU/B,EAAO6B,WAAYF,EAAQ,GAAG,GAE9C,GAAKL,EAAY,CAEf,IAAMU,EAAchC,EAAOiC,UAAWN,EAAQ,IAAI,GAEhB,KAAb,MAAdK,IAGL7I,GAAoB,GAAd6I,GAAuB,GAC7BjB,GAAMiB,GAAe,EAAI,IAAS,GAClCnR,GAAMmR,GAAe,GAAK,IAAS,KAInC7I,EAAI8H,EACJF,EAAIG,EACJrQ,EAAIsQ,GAMR,IAAM,IAAIruB,EAAI,EAAGA,GAAK,EAAGA,IAAO,CAE9B,IAAMovB,EAAcP,EAAY,GAAJ7uB,EACtBqvB,EAAsB,EAAPT,EAAW,EAAgB,GAAV5uB,EAAI,GAC1C4K,EAAUykB,GAAiBnC,EAAO6B,WAAYK,GAAa,GAC3DxkB,EAAUykB,EAAe,GAAMnC,EAAO6B,WAAYK,EAAc,GAAG,GACnExkB,EAAUykB,EAAe,GAAMnC,EAAO6B,WAAYK,EAAc,GAAG,GACnET,EAASU,GAAiBP,EAC1BH,EAASU,EAAe,GAAML,EAC9BL,EAASU,EAAe,GAAMJ,EAEzBT,IAEHN,EAAQmB,GAAiBhJ,EACzB6H,EAAQmB,EAAe,GAAMpB,EAC7BC,EAAQmB,EAAe,GAAMtR,IAmBnC,OAXAnZ,EAAS4F,aAAc,WAAY,IAAI1N,mBAAuB8N,EAAU,IACxEhG,EAAS4F,aAAc,SAAU,IAAI1N,mBAAuB6xB,EAAS,IAEhEH,IAEH5pB,EAAS4F,aAAc,QAAS,IAAI1N,mBAAuBoxB,EAAQ,IACnEtpB,EAAS4pB,WAAY,EACrB5pB,EAAS0pB,MAAQA,GAIZ1pB,EAqHoB0qB,CAAahC,GAjH1C,SAAqBrb,GAiBnB,IAfA,IAUIsd,EAVE3qB,EAAW,IAAI9H,kBACf0yB,EAAe,2BACfC,EAAc,2BAChBC,EAAc,EACZC,EAAe,iDAAiDC,OAChEC,EAAgB,IAAIC,OAAQ,SAAWH,EAAeA,EAAeA,EAAc,KACnFI,EAAgB,IAAID,OAAQ,SAAWH,EAAeA,EAAeA,EAAc,KACnF/kB,EAAW,GACX+jB,EAAU,GACVqB,EAAS,IAAIlzB,WAEfmzB,EAAa,EACbC,EAAc,EACdC,EAAY,EAEmC,QAAzCZ,EAASC,EAAaY,KAAMne,KAAoB,CAExDie,EAAcC,EAGd,IAFA,IAAMrC,EAAQyB,EAAQ,GAE6B,QAAzCA,EAASE,EAAYW,KAAMtC,KAAqB,CAMxD,IAJA,IAAIuC,EAAqB,EACrBC,EAAqB,EACnBva,EAAOwZ,EAAQ,GAE+B,QAA1CA,EAASQ,EAAcK,KAAMra,KAErCia,EAAOltB,EAAI4O,WAAY6d,EAAQ,IAC/BS,EAAOjtB,EAAI2O,WAAY6d,EAAQ,IAC/BS,EAAOzpB,EAAImL,WAAY6d,EAAQ,IAC/Be,IAIF,KAAoD,QAA1Cf,EAASM,EAAcO,KAAMra,KAErCnL,EAASC,KAAM6G,WAAY6d,EAAQ,IAAO7d,WAAY6d,EAAQ,IAAO7d,WAAY6d,EAAQ,KACzFZ,EAAQ9jB,KAAMmlB,EAAOltB,EAAGktB,EAAOjtB,EAAGitB,EAAOzpB,GACzC8pB,IACAF,IAK0B,IAAvBG,GAEH/xB,QAAQ4G,MAAO,yEAA4EuqB,GAKjE,IAAvBW,GAEH9xB,QAAQ4G,MAAO,2EAA8EuqB,GAI/FA,IAIF,IAAMb,EAAQqB,EACRK,EAAQJ,EAAYD,EAC1BtrB,EAAS4rB,SAAU3B,EAAO0B,EAAON,GACjCA,IAMF,OAFArrB,EAAS4F,aAAc,WAAY,IAAI1N,0BAA8B8N,EAAU,IAC/EhG,EAAS4F,aAAc,SAAU,IAAI1N,0BAA8B6xB,EAAS,IACrE/pB,EAwC6C6rB,CAlC7B,kBAFFpD,EAoCyDpb,GAhCrEnV,eAAkB4zB,WAAY,IAAIlD,WAAYH,IAIhDA,O,GAzRWvwB,W,qDClBzB,WAAuBksB,GAAvB,iBAAA1Z,EAAA,sEAEuBuD,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,iBAA4CgW,IAFxE,cAEMpW,EAFN,gBAImBA,EAAS+d,OAJ5B,cAIM1e,EAJN,yBAMSA,GANT,4C,sBAwPe2e,OA/Of,WACE,IAAM7T,EAAU8T,qBAAW3F,IAEvBlC,EAAW,KAEZjM,EAAQ+T,MAEP9H,EADuB,iBAAfjM,EAAQ+T,IACL/T,EAAQ+T,IAER/T,EAAQ+T,IAAI/qB,MATP,MAaYiV,IAAMrG,UAAS,GAb3B,mBAaboc,EAba,KAaHC,EAbG,OAcYhW,IAAMrG,SAAS,IAd3B,mBAcbsc,EAda,KAcHC,EAdG,OAesBvc,mBAAS,MAf/B,mBAebwc,EAfa,KAeEC,EAfF,KAmEpB,OArBAthB,GAAe,WACViN,EAAQ+T,MACgB,iBAAf/T,EAAQ+T,I,4CAChBO,CAAQrI,GAAUhX,MAAK,SAASC,GAC9B,IAAIqf,EAAO,IAAIC,KAAK,CAACtf,GAAO+W,GAC5BkI,EAAY,CAAC,CACT,KAAQlI,EACR,KAAQsI,QAKdJ,EAAY,CAAC,CACX,KAAQlI,EACR,KAAQjM,EAAQ+T,WAQtB,oCACE,yBAAKjgB,UAAU,eACX,kBAAC,GAAW+Z,SAAZ,MACG,kBACC,oCACA,kBAACnF,GAAA,EAAD,CAAW/B,SAAUqN,EAAUtP,SAAU,kBAAMuP,GAAaD,KAC1D,kBAACrL,GAAA,EAAD,CACE8L,WAAY,kBAACC,GAAA,EAAD,MACZC,gBAAc,kBACdtY,GAAG,kBAEH,kBAACpI,EAAA,EAAD,qBAIF,kBAAC8U,GAAA,EAAD,CAAkB9hB,MAAO,CAAC0P,eAAe,WACzC,kBAACqB,EAAA,EAAD,CAAMf,WAAS,EAACiB,UAAU,SAAShB,MAAI,EAACmL,IAAE,GACvC6R,EAAShxB,OAAS,GACjB,kBAAC8U,EAAA,EAAD,CAAMd,MAAI,EAACmL,IAAE,GACb,kBAACmG,GAAA,EAAD,CAAMrO,aAAW,YAAYlT,MAAO,CAACT,MAAM,SAC1C0tB,EAAShxB,OAAS,GAAKgxB,EAASxQ,KAAI,SAACkR,EAAalD,GACjD,OACE,kBAAC7I,GAAA,EAAD,CACE5iB,QAAM,EACN4uB,SAAU7U,EAAQ8U,eAAiBF,EAAY5rB,KAC/C2K,QAAS,SAAC/N,GAAD,OA7EL,SAACA,EAAOgvB,GAClC5U,EAAQ+U,gBAAgBH,EAAY5rB,MA4EMgsB,CAAoBpvB,EAAOgvB,IAC/C3tB,MAAO,CAACse,gBAAgB,WACxBnQ,IAAKsc,GAEL,kBAACuD,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QAASnV,EAAQ8U,eAAiBF,EAAY5rB,KAC9C0b,SAAW,SAACC,GAAD,OAjFd,SAACA,EAAG4P,GAC3B,IAAK,IAAIa,KAAOpV,EAAQqV,QAAQpkB,SAAU,CACxC,IAAIqkB,EAAOtV,EAAQqV,QAAQpkB,SAASmkB,GACjCE,EAAKtsB,OAASurB,EAAKvrB,MACpBgX,EAAQuV,QAAQxtB,OAAOutB,IA6EiBE,CAAiB7Q,EAAGiQ,IACtCroB,MAAM,UACNkpB,WAAY,CAAE,aAAc,yBAGhC,kBAACC,GAAA,EAAD,CAAcC,QAASf,EAAY5rB,OACnC,kBAAC4sB,GAAA,EAAD,KACE,kBAACrT,EAAA,EAAD,CAAYsT,KAAK,MAAM1b,aAAW,cAAcxG,QAAS,SAAC/N,GAAD,OA/EhE,SAAC2uB,GAElB,IAAK,IAAIa,KADT5zB,QAAQkT,IAAI,YAAY6f,EAAKvrB,MACbgX,EAAQqV,QAAQpkB,SAAU,CACxC,IAAIqkB,EAAOtV,EAAQqV,QAAQpkB,SAASmkB,GACjCE,EAAKtsB,OAASurB,EAAKvrB,MACpBgX,EAAQqV,QAAQS,OAAOR,GAI3B,IAAIS,EAAsB7B,EAASzM,QAAO,SAAUC,GACpD,OAAOA,EAAI1e,OAASurB,EAAKvrB,QAGtB+sB,GACD5B,EAAY4B,GAiE8EC,CAAWpB,KAC7E,kBAACqB,GAAA,EAAD,CAAehvB,MAAO,CAACsF,MAAM,qBASzC,kBAACyL,EAAA,EAAD,CAAMf,WAAS,EAACC,MAAI,EAACgB,UAAU,SAASnB,WAAW,SAASuD,QAAQ,SAAS+H,IAAE,GAC/E,kBAACrK,EAAA,EAAD,CAAMd,MAAI,GACV,kBAACkB,EAAA,EAAD,CACElE,QAAQ,YACR3H,MAAM,UACNoH,QAAS,WACPygB,EAAc8B,UAGhB,kBAACC,GAAA,EAAD,MAPF,cASG,2BACElvB,MAAO,CAAEyP,QAAS,QAClBpU,KAAK,OACLoiB,SAAQ,uCAAE,WAAOC,GAAP,mBAAApS,EAAA,uDACJgiB,EAAO5P,EAAE0D,OAAO+N,MAAM,MAExBjC,EAAY,GAAD,oBAAKD,GAAL,CAAe,CACxB,KAAQK,EAAKvrB,KACb,KAAQurB,OAEN8B,EAAQ,eAAehD,KAAKkB,EAAKvrB,QAGlB,QADAqtB,EAAM,GAAGjW,iBAEpB+P,EAAS,IAAImG,YACVnvB,iBAAkB,QAAQ,SAAWvB,GAE1C,IAAI2wB,EAAW3wB,EAAMyiB,OAAOmK,OAC5BhxB,QAAQkT,IAAI6hB,GACZ,IAAI1uB,GAAW,IAAIonB,IAAYc,MAAOwG,GACtC/0B,QAAQkT,IAAI6hB,GACZ1uB,EAAS2uB,WAAa,MACtB3uB,EAAS4uB,WAAaF,EACtB,IAAIzuB,EAAW,IAAI/H,qBAAyB,CAAEwM,MAAO,SAAUmqB,SAAU,QAAUC,UAAW,MAE1FrB,EAAO,IAAIv1B,QAAY8H,EAAUC,GACrCwtB,EAAKtsB,KAAOutB,EAASvtB,KACrBssB,EAAK7rB,SAASjE,IACR,EACA,EACA,GAEJ8vB,EAAKjsB,SAAS7D,IAAK,EAAG,EAAG,GACzB8vB,EAAK3rB,MAAMnE,IAAK,EAAG,EAAG,GACtB8vB,EAAKtsB,KAAOurB,EAAKvrB,KACjBssB,EAAKsB,YAAa,EAClBtB,EAAKuB,eAAgB,EACrBvB,EAAKztB,SAASivB,SACdxB,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,EACjEwW,EAAQuV,QAAQpuB,iBAAkB,gBAAgB,SAAUwd,GAC1D2Q,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,KAGnE8rB,EAAK2B,GAAG,SAAS,SAASC,GACxB11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCgX,EAAQuV,QAAQxtB,OAAOutB,GACvBtV,EAAQuV,QAAQ1uB,SAAU,EAC1BmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BgX,EAAQuV,QAAQvjB,OAAQ,EACxBgO,EAAQuV,QAAQtjB,OAAQ,EACxB+N,EAAQuV,QAAQrjB,OAAQ,EACG,aAAxB8N,EAAQuV,QAAQ9yB,KACjBud,EAAQmX,kBAAkB,YACM,UAAxBnX,EAAQuV,QAAQ9yB,KACxBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAIsL,EAAQuV,QAAQ9yB,MAC5Bud,EAAQmX,kBAAkBnX,EAAQuV,QAAQ9yB,UAI9C6yB,EAAK2B,GAAG,YAAY,SAASC,GAC3B11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCgX,EAAQuV,QAAQxtB,OAAOutB,GACvBtV,EAAQuV,QAAQ1uB,SAAU,EAC1BmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BgX,EAAQuV,QAAQvjB,OAAQ,EACxBgO,EAAQuV,QAAQtjB,OAAQ,EACxB+N,EAAQuV,QAAQrjB,OAAQ,EACG,aAAxB8N,EAAQuV,QAAQ9yB,KACjBud,EAAQmX,kBAAkB,YACM,UAAxBnX,EAAQuV,QAAQ9yB,KACxBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAIsL,EAAQuV,QAAQ9yB,MAC5Bud,EAAQmX,kBAAkBnX,EAAQuV,QAAQ9yB,UAI9Cud,EAAQqV,QAAQrzB,IAAIszB,GAEpBtV,EAAQoX,eAAepX,EAAQqV,YAEhC,GACHlF,EAAOkH,mBAAmB9C,KAjFxB,2CAAF,sDAyFR+C,IAAK,SAACA,GACJjD,EAAiBiD,IAEnBC,OAAO,2B,UC1P1BC,I,OAAgB,SAAW30B,EAAQvB,QAElBC,IAAfD,GAA2BE,QAAQC,KAAM,4EACzCH,IAAeI,UAAWF,QAAQ4G,MAAO,4HAE9CxG,KAAKiB,OAASA,EACdjB,KAAKN,WAAaA,EAGlBM,KAAKiF,SAAU,EAGfjF,KAAKymB,OAAS,IAAIlnB,WAGlBS,KAAK61B,YAAc,EACnB71B,KAAK81B,YAAcxnB,IAGnBtO,KAAK+1B,QAAU,EACf/1B,KAAKg2B,QAAU1nB,IAIftO,KAAKi2B,cAAgB,EACrBj2B,KAAKk2B,cAAgBxuB,KAAK0E,GAI1BpM,KAAKm2B,iBAAoB7nB,IACzBtO,KAAKo2B,gBAAkB9nB,IAIvBtO,KAAKq2B,eAAgB,EACrBr2B,KAAKs2B,cAAgB,IAIrBt2B,KAAKu2B,YAAa,EAClBv2B,KAAKw2B,UAAY,EAGjBx2B,KAAKy2B,cAAe,EACpBz2B,KAAK02B,YAAc,EAGnB12B,KAAK22B,WAAY,EACjB32B,KAAK42B,SAAW,EAChB52B,KAAK62B,oBAAqB,EAC1B72B,KAAK82B,YAAc,EAInB92B,KAAK+2B,YAAa,EAClB/2B,KAAKg3B,gBAAkB,EAGvBh3B,KAAKi3B,KAAO,CAAEC,KAAM,YAAaC,GAAI,UAAWC,MAAO,aAAcC,OAAQ,aAG7Er3B,KAAKs3B,aAAe,CAAEJ,KAAMK,SAAMC,OAAQC,OAAQF,SAAMG,MAAON,MAAOG,SAAMI,KAG5E33B,KAAK43B,QAAU,CAAEC,IAAKC,SAAMN,OAAQO,IAAKD,SAAME,WAG/Ch4B,KAAKi4B,QAAUj4B,KAAKymB,OAAOlc,QAC3BvK,KAAKk4B,UAAYl4B,KAAKiB,OAAO4G,SAAS0C,QACtCvK,KAAKm4B,MAAQn4B,KAAKiB,OAAOyO,KAGzB1P,KAAKo4B,qBAAuB,KAM5Bp4B,KAAKq4B,cAAgB,WAEpB,OAAOC,EAAUC,KAIlBv4B,KAAKw4B,kBAAoB,WAExB,OAAOF,EAAUG,OAIlBz4B,KAAK04B,kBAAoB,SAAWh5B,GAEnCA,EAAW6F,iBAAkB,UAAWozB,GACxC34B,KAAKo4B,qBAAuB14B,GAI7BM,KAAK44B,UAAY,WAEhBr4B,EAAM03B,QAAQtxB,KAAMpG,EAAMkmB,QAC1BlmB,EAAM23B,UAAUvxB,KAAMpG,EAAMU,OAAO4G,UACnCtH,EAAM43B,MAAQ53B,EAAMU,OAAOyO,MAI5B1P,KAAK64B,MAAQ,WAEZt4B,EAAMkmB,OAAO9f,KAAMpG,EAAM03B,SACzB13B,EAAMU,OAAO4G,SAASlB,KAAMpG,EAAM23B,WAClC33B,EAAMU,OAAOyO,KAAOnP,EAAM43B,MAE1B53B,EAAMU,OAAO63B,yBACbv4B,EAAMuD,cAAerD,GAErBF,EAAMiJ,SAEN6T,EAAQ0b,EAAMC,MAKfh5B,KAAKwJ,OAAS,WAEb,IAAIxH,EAAS,IAAIzC,WAGb05B,GAAO,IAAI95B,eAAa+5B,mBAAoBj4B,EAAOk4B,GAAI,IAAI55B,WAAS,EAAG,EAAG,IAC1E65B,EAAcH,EAAK1uB,QAAQ3D,SAE3ByyB,EAAe,IAAI95B,WACnB+5B,EAAiB,IAAIn6B,cAErBo6B,EAAQ,EAAI7xB,KAAK0E,GAErB,OAAO,WAEN,IAAIvE,EAAWtH,EAAMU,OAAO4G,SAE5B7F,EAAO2E,KAAMkB,GAAWhB,IAAKtG,EAAMkmB,QAGnCzkB,EAAOiG,gBAAiBgxB,GAGxBX,EAAUkB,eAAgBx3B,GAErBzB,EAAMw2B,YAAc1Z,IAAU0b,EAAMC,MAExCS,EA0LK,EAAI/xB,KAAK0E,GAAK,GAAK,GAAK7L,EAAMy2B,iBAtL/Bz2B,EAAM81B,eAEViC,EAAUG,OAASiB,EAAejB,MAAQl4B,EAAM+1B,cAChDgC,EAAUC,KAAOmB,EAAenB,IAAMh4B,EAAM+1B,gBAI5CgC,EAAUG,OAASiB,EAAejB,MAClCH,EAAUC,KAAOmB,EAAenB,KAMjC,IAAI5oB,EAAMpP,EAAM41B,gBACZ9a,EAAM9a,EAAM61B,gBA2EhB,OAzEKuD,SAAUhqB,IAASgqB,SAAUte,KAE5B1L,GAAQjI,KAAK0E,GAAKuD,GAAO4pB,EAAiB5pB,EAAMjI,KAAK0E,KAAKuD,GAAO4pB,GAEjEle,GAAQ3T,KAAK0E,GAAKiP,GAAOke,EAAiBle,EAAM3T,KAAK0E,KAAKiP,GAAOke,GAIrEjB,EAAUG,MAFN9oB,GAAO0L,EAEO3T,KAAK2T,IAAK1L,EAAKjI,KAAKiI,IAAK0L,EAAKid,EAAUG,QAItCH,EAAUG,OAAU9oB,EAAM0L,GAAQ,EACrD3T,KAAK2T,IAAK1L,EAAK2oB,EAAUG,OACzB/wB,KAAKiI,IAAK0L,EAAKid,EAAUG,QAO5BH,EAAUC,IAAM7wB,KAAK2T,IAAK9a,EAAM01B,cAAevuB,KAAKiI,IAAKpP,EAAM21B,cAAeoC,EAAUC,MAExFD,EAAUsB,WAGVtB,EAAUvsB,QAAUhE,EAGpBuwB,EAAUvsB,OAASrE,KAAK2T,IAAK9a,EAAMs1B,YAAanuB,KAAKiI,IAAKpP,EAAMu1B,YAAawC,EAAUvsB,UAI1D,IAAxBxL,EAAM81B,cAEV91B,EAAMkmB,OAAOoT,gBAAiBC,EAAWv5B,EAAM+1B,eAI/C/1B,EAAMkmB,OAAOrmB,IAAK05B,GAInB93B,EAAO+3B,iBAAkBzB,GAGzBt2B,EAAOiG,gBAAiBmxB,GAExBvxB,EAASlB,KAAMpG,EAAMkmB,QAASrmB,IAAK4B,GAEnCzB,EAAMU,OAAOgP,OAAQ1P,EAAMkmB,SAEE,IAAxBlmB,EAAM81B,eAEVqD,EAAejB,OAAW,EAAIl4B,EAAM+1B,cACpCoD,EAAenB,KAAS,EAAIh4B,EAAM+1B,cAElCwD,EAAUhqB,eAAgB,EAAIvP,EAAM+1B,iBAIpCoD,EAAe91B,IAAK,EAAG,EAAG,GAE1Bk2B,EAAUl2B,IAAK,EAAG,EAAG,IAItBmE,EAAQ,KAMHiyB,GACJX,EAAaY,kBAAmB15B,EAAMU,OAAO4G,UAAaqyB,GAC1D,GAAM,EAAIZ,EAAe9wB,IAAKjI,EAAMU,OAAO6G,aAAiBoyB,KAE5D35B,EAAMuD,cAAerD,GAErB44B,EAAa1yB,KAAMpG,EAAMU,OAAO4G,UAChCyxB,EAAe3yB,KAAMpG,EAAMU,OAAO6G,YAClCkyB,GAAc,GAEP,IAnII,GA6Idh6B,KAAK8F,QAAU,WAEdvF,EAAMb,WAAWkG,oBAAqB,cAAeu0B,GAErD55B,EAAMb,WAAWkG,oBAAqB,cAAeR,GACrD7E,EAAMb,WAAWkG,oBAAqB,QAASw0B,GAE/C75B,EAAMb,WAAWkG,oBAAqB,aAAcy0B,GACpD95B,EAAMb,WAAWkG,oBAAqB,WAAY00B,GAClD/5B,EAAMb,WAAWkG,oBAAqB,YAAa20B,GAEnDh6B,EAAMb,WAAWuE,cAAc2B,oBAAqB,cAAeJ,GACnEjF,EAAMb,WAAWuE,cAAc2B,oBAAqB,YAAaD,GAG7B,OAA/BpF,EAAM63B,sBAEV73B,EAAM63B,qBAAqBxyB,oBAAqB,UAAW+yB,IAY7D,IAAIp4B,EAAQP,KAERS,EAAc,CAAEC,KAAM,UACtB85B,EAAa,CAAE95B,KAAM,SACrB+5B,EAAW,CAAE/5B,KAAM,OAEnBq4B,EAAQ,CACXC,MAAQ,EACRxB,OAAQ,EACRE,MAAO,EACPC,IAAK,EACL+C,aAAc,EACdC,UAAW,EACXC,gBAAiB,EACjBC,mBAAoB,GAGjBxd,EAAQ0b,EAAMC,KAEdkB,EAAM,KAGN5B,EAAY,IAAIwC,aAChBpB,EAAiB,IAAIoB,aAErB/yB,EAAQ,EACR+xB,EAAY,IAAIv6B,WAChBy6B,GAAc,EAEde,EAAc,IAAIC,WAClBC,EAAY,IAAID,WAChBE,EAAc,IAAIF,WAElBG,EAAW,IAAIH,WACfI,EAAS,IAAIJ,WACbK,EAAW,IAAIL,WAEfM,EAAa,IAAIN,WACjBO,EAAW,IAAIP,WACfQ,EAAa,IAAIR,WAQrB,SAASS,IAER,OAAO/zB,KAAKsL,IAAK,IAAMzS,EAAMi2B,WAI9B,SAASiD,EAAYiC,GAEpBhC,EAAejB,OAASiD,EAIzB,SAASC,EAAUD,GAElBhC,EAAenB,KAAOmD,EAIvB,IAAIE,EAAU,WAEb,IAAInS,EAAI,IAAIlqB,WAEZ,OAAO,SAAkB0f,EAAU4c,GAElCpS,EAAEqS,oBAAqBD,EAAc,GACrCpS,EAAE3Z,gBAAkBmP,GAEpB6a,EAAU15B,IAAKqpB,IATH,GAeVsS,EAAQ,WAEX,IAAItS,EAAI,IAAIlqB,WAEZ,OAAO,SAAgB0f,EAAU4c,IAEE,IAA7Bt7B,EAAMs2B,mBAEVpN,EAAEqS,oBAAqBD,EAAc,IAIrCpS,EAAEqS,oBAAqBD,EAAc,GACrCpS,EAAEuS,aAAcz7B,EAAMU,OAAOk4B,GAAI1P,IAIlCA,EAAE3Z,eAAgBmP,GAElB6a,EAAU15B,IAAKqpB,IAnBL,GA0BRwS,EAAM,WAET,IAAIj6B,EAAS,IAAIzC,WAEjB,OAAO,SAAc28B,EAAQC,GAE5B,IAAIC,EAAU77B,EAAMb,WAEpB,GAAKa,EAAMU,OAAOo7B,oBAAsB,CAGvC,IAAIx0B,EAAWtH,EAAMU,OAAO4G,SAC5B7F,EAAO2E,KAAMkB,GAAWhB,IAAKtG,EAAMkmB,QACnC,IAAI6V,EAAiBt6B,EAAOV,SAG5Bg7B,GAAkB50B,KAAKkI,IAAOrP,EAAMU,OAAO4O,IAAM,EAAMnI,KAAK0E,GAAK,KAGjEwvB,EAAS,EAAIM,EAASI,EAAiBF,EAAQG,aAAch8B,EAAMU,OAAOmN,QAC1E2tB,EAAO,EAAII,EAASG,EAAiBF,EAAQG,aAAch8B,EAAMU,OAAOmN,aAE7D7N,EAAMU,OAAOuO,sBAGxBosB,EAASM,GAAW37B,EAAMU,OAAO0U,MAAQpV,EAAMU,OAAO0D,MAASpE,EAAMU,OAAOyO,KAAO0sB,EAAQI,YAAaj8B,EAAMU,OAAOmN,QACrH2tB,EAAOI,GAAW57B,EAAMU,OAAO6D,IAAMvE,EAAMU,OAAOwO,QAAWlP,EAAMU,OAAOyO,KAAO0sB,EAAQG,aAAch8B,EAAMU,OAAOmN,UAKpHxO,QAAQC,KAAM,gFACdU,EAAMo2B,WAAY,IAhCX,GAwCV,SAAS8F,EAAUC,GAEbn8B,EAAMU,OAAOo7B,oBAEjBt0B,GAAS20B,EAEEn8B,EAAMU,OAAOuO,sBAExBjP,EAAMU,OAAOyO,KAAOhI,KAAK2T,IAAK9a,EAAMw1B,QAASruB,KAAKiI,IAAKpP,EAAMy1B,QAASz1B,EAAMU,OAAOyO,KAAOgtB,IAC1Fn8B,EAAMU,OAAO63B,yBACbkB,GAAc,IAIdp6B,QAAQC,KAAM,uFACdU,EAAMg2B,YAAa,GAMrB,SAASoG,EAASD,GAEZn8B,EAAMU,OAAOo7B,oBAEjBt0B,GAAS20B,EAEEn8B,EAAMU,OAAOuO,sBAExBjP,EAAMU,OAAOyO,KAAOhI,KAAK2T,IAAK9a,EAAMw1B,QAASruB,KAAKiI,IAAKpP,EAAMy1B,QAASz1B,EAAMU,OAAOyO,KAAOgtB,IAC1Fn8B,EAAMU,OAAO63B,yBACbkB,GAAc,IAIdp6B,QAAQC,KAAM,uFACdU,EAAMg2B,YAAa,GAUrB,SAASqG,EAAuB54B,GAE/B+2B,EAAYn3B,IAAKI,EAAMU,QAASV,EAAMa,SAUvC,SAASg4B,EAAoB74B,GAE5Bm3B,EAASv3B,IAAKI,EAAMU,QAASV,EAAMa,SAwHpC,SAASi4B,EAAwB94B,GAEhC,GAA6B,GAAxBA,EAAM4zB,QAAQt2B,OAElBy5B,EAAYn3B,IAAKI,EAAM4zB,QAAS,GAAImF,MAAO/4B,EAAM4zB,QAAS,GAAIoF,WAExD,CAEN,IAAI74B,EAAI,IAAQH,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,OAC1D34B,EAAI,IAAQJ,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,OAE9DjC,EAAYn3B,IAAKO,EAAGC,IAMtB,SAAS64B,EAAqBj5B,GAE7B,GAA6B,GAAxBA,EAAM4zB,QAAQt2B,OAElB65B,EAASv3B,IAAKI,EAAM4zB,QAAS,GAAImF,MAAO/4B,EAAM4zB,QAAS,GAAIoF,WAErD,CAEN,IAAI74B,EAAI,IAAQH,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,OAC1D34B,EAAI,IAAQJ,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,OAE9D7B,EAASv3B,IAAKO,EAAGC,IAMnB,SAAS84B,EAAuBl5B,GAE/B,IAAIm5B,EAAKn5B,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,MACnDK,EAAKp5B,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,MAEnD/d,EAAWvX,KAAK21B,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC9B,EAAW13B,IAAK,EAAGqb,GAoBpB,SAASqe,EAAuBt5B,GAE/B,GAA6B,GAAxBA,EAAM4zB,QAAQt2B,OAElB25B,EAAUr3B,IAAKI,EAAM4zB,QAAS,GAAImF,MAAO/4B,EAAM4zB,QAAS,GAAIoF,WAEtD,CAEN,IAAI74B,EAAI,IAAQH,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,OAC1D34B,EAAI,IAAQJ,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,OAE9D/B,EAAUr3B,IAAKO,EAAGC,GAInB82B,EAAYqC,WAAYtC,EAAWF,GAAcjrB,eAAgBvP,EAAMm2B,aAEvE,IAAI0F,EAAU77B,EAAMb,WAEpB+5B,EAAY,EAAI/xB,KAAK0E,GAAK8uB,EAAY/2B,EAAIi4B,EAAQG,cAElDZ,EAAU,EAAIj0B,KAAK0E,GAAK8uB,EAAY92B,EAAIg4B,EAAQG,cAEhDxB,EAAYp0B,KAAMs0B,GAInB,SAASuC,EAAoBx5B,GAE5B,GAA6B,GAAxBA,EAAM4zB,QAAQt2B,OAElB85B,EAAOx3B,IAAKI,EAAM4zB,QAAS,GAAImF,MAAO/4B,EAAM4zB,QAAS,GAAIoF,WAEnD,CAEN,IAAI74B,EAAI,IAAQH,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,OAC1D34B,EAAI,IAAQJ,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,OAE9D5B,EAAOx3B,IAAKO,EAAGC,GAIhBi3B,EAASkC,WAAYnC,EAAQD,GAAWrrB,eAAgBvP,EAAMq2B,UAE9DqF,EAAKZ,EAASl3B,EAAGk3B,EAASj3B,GAE1B+2B,EAASx0B,KAAMy0B,GAIhB,SAASqC,EAAsBz5B,GAE9B,IAAIm5B,EAAKn5B,EAAM4zB,QAAS,GAAImF,MAAQ/4B,EAAM4zB,QAAS,GAAImF,MACnDK,EAAKp5B,EAAM4zB,QAAS,GAAIoF,MAAQh5B,EAAM4zB,QAAS,GAAIoF,MAEnD/d,EAAWvX,KAAK21B,KAAMF,EAAKA,EAAKC,EAAKA,GAEzC7B,EAAS33B,IAAK,EAAGqb,GAEjBuc,EAAW53B,IAAK,EAAG8D,KAAKsL,IAAKuoB,EAASn3B,EAAIk3B,EAAWl3B,EAAG7D,EAAMi2B,YAE9DiG,EAAUjB,EAAWp3B,GAErBk3B,EAAW30B,KAAM40B,GA8BlB,SAASn2B,EAAepB,GAEvB,IAAuB,IAAlBzD,EAAM0E,QAEX,OAASjB,EAAMkB,aAEd,IAAK,QACL,IAAK,OA0CP,SAAsBlB,GAUrB,IAAI05B,EAEJ,OATA15B,EAAM25B,iBAKNp9B,EAAMb,WAAWk+B,MAAQr9B,EAAMb,WAAWk+B,QAAUzpB,OAAOypB,QAIlD55B,EAAMK,QAEd,KAAK,EAEJq5B,EAAcn9B,EAAM+2B,aAAaJ,KACjC,MAED,KAAK,EAEJwG,EAAcn9B,EAAM+2B,aAAaG,OACjC,MAED,KAAK,EAEJiG,EAAcn9B,EAAM+2B,aAAaF,MACjC,MAED,QAECsG,GAAgB,EAIlB,OAASA,GAER,KAAKnG,SAAMG,MAEV,IAA0B,IAArBn3B,EAAMg2B,WAAuB,QAlXrC,SAA+BvyB,GAE9Bs3B,EAAW13B,IAAKI,EAAMU,QAASV,EAAMa,SAkXnCg5B,CAAsB75B,GAEtBqZ,EAAQ0b,EAAMrB,MAEd,MAED,KAAKH,SAAMC,OAEV,GAAKxzB,EAAM85B,SAAW95B,EAAM+5B,SAAW/5B,EAAMg6B,SAAW,CAEvD,IAAyB,IAApBz9B,EAAMo2B,UAAsB,OAEjCkG,EAAoB74B,GAEpBqZ,EAAQ0b,EAAMpB,QAER,CAEN,IAA4B,IAAvBp3B,EAAMk2B,aAAyB,OAEpCmG,EAAuB54B,GAEvBqZ,EAAQ0b,EAAMvB,OAIf,MAED,KAAKD,SAAMI,IAEV,GAAK3zB,EAAM85B,SAAW95B,EAAM+5B,SAAW/5B,EAAMg6B,SAAW,CAEvD,IAA4B,IAAvBz9B,EAAMk2B,aAAyB,OAEpCmG,EAAuB54B,GAEvBqZ,EAAQ0b,EAAMvB,WAER,CAEN,IAAyB,IAApBj3B,EAAMo2B,UAAsB,OAEjCkG,EAAoB74B,GAEpBqZ,EAAQ0b,EAAMpB,IAIf,MAED,QAECta,EAAQ0b,EAAMC,KAIX3b,IAAU0b,EAAMC,OAEpBz4B,EAAMb,WAAWuE,cAAcsB,iBAAkB,cAAeC,GAChEjF,EAAMb,WAAWuE,cAAcsB,iBAAkB,YAAaI,GAE9DpF,EAAMuD,cAAe02B,IA/IpByD,CAAaj6B,IAShB,SAASwB,EAAexB,GAEvB,IAAuB,IAAlBzD,EAAM0E,QAEX,OAASjB,EAAMkB,aAEd,IAAK,QACL,IAAK,OAqIP,SAAsBlB,GAErB,IAAuB,IAAlBzD,EAAM0E,QAAoB,OAI/B,OAFAjB,EAAM25B,iBAEGtgB,GAER,KAAK0b,EAAMvB,OAEV,IAA4B,IAAvBj3B,EAAMk2B,aAAyB,QArbvC,SAAgCzyB,GAE/Bi3B,EAAUr3B,IAAKI,EAAMU,QAASV,EAAMa,SAEpCq2B,EAAYqC,WAAYtC,EAAWF,GAAcjrB,eAAgBvP,EAAMm2B,aAEvE,IAAI0F,EAAU77B,EAAMb,WAEpB+5B,EAAY,EAAI/xB,KAAK0E,GAAK8uB,EAAY/2B,EAAIi4B,EAAQG,cAElDZ,EAAU,EAAIj0B,KAAK0E,GAAK8uB,EAAY92B,EAAIg4B,EAAQG,cAEhDxB,EAAYp0B,KAAMs0B,GAElB16B,EAAMiJ,SAyaJ00B,CAAuBl6B,GAEvB,MAED,KAAK+0B,EAAMrB,MAEV,IAA0B,IAArBn3B,EAAMg2B,WAAuB,QA3arC,SAA+BvyB,GAE9Bu3B,EAAS33B,IAAKI,EAAMU,QAASV,EAAMa,SAEnC22B,EAAW+B,WAAYhC,EAAUD,GAE5BE,EAAWp3B,EAAI,EAEnBq4B,EAAUhB,KAECD,EAAWp3B,EAAI,GAE1Bu4B,EAASlB,KAIVH,EAAW30B,KAAM40B,GAEjBh7B,EAAMiJ,SA2ZJ20B,CAAsBn6B,GAEtB,MAED,KAAK+0B,EAAMpB,IAEV,IAAyB,IAApBp3B,EAAMo2B,UAAsB,QA7ZpC,SAA6B3yB,GAE5Bo3B,EAAOx3B,IAAKI,EAAMU,QAASV,EAAMa,SAEjCw2B,EAASkC,WAAYnC,EAAQD,GAAWrrB,eAAgBvP,EAAMq2B,UAE9DqF,EAAKZ,EAASl3B,EAAGk3B,EAASj3B,GAE1B+2B,EAASx0B,KAAMy0B,GAEf76B,EAAMiJ,SAqZJ40B,CAAoBp6B,IAhKpBq6B,CAAar6B,IAShB,SAAS2B,EAAa3B,GAErB,OAASA,EAAMkB,aAEd,IAAK,QACL,IAAK,OA0JP,SAAoBlB,GAKnB,GAHAzD,EAAMb,WAAWuE,cAAc2B,oBAAqB,cAAeJ,GACnEjF,EAAMb,WAAWuE,cAAc2B,oBAAqB,YAAaD,IAE1C,IAAlBpF,EAAM0E,QAAoB,OAI/B1E,EAAMuD,cAAe22B,GAErBpd,EAAQ0b,EAAMC,KApKZsF,IAwKH,SAASlE,EAAcp2B,IAEC,IAAlBzD,EAAM0E,UAA0C,IAArB1E,EAAMg2B,YAA0BlZ,IAAU0b,EAAMC,MAAQ3b,IAAU0b,EAAMvB,SAExGxzB,EAAM25B,iBAENp9B,EAAMuD,cAAe02B,GAxatB,SAA2Bx2B,GAErBA,EAAMm4B,OAAS,EAEnBQ,EAASlB,KAEEz3B,EAAMm4B,OAAS,GAE1BM,EAAUhB,KAIXl7B,EAAMiJ,SA8ZN+0B,CAAkBv6B,GAElBzD,EAAMuD,cAAe22B,IAItB,SAAS9B,EAAW30B,IAEI,IAAlBzD,EAAM0E,UAAyC,IAApB1E,EAAMo2B,WAlavC,SAAwB3yB,GAEvB,IAAIw6B,GAAc,EAElB,OAASx6B,EAAMy6B,MAEd,KAAKl+B,EAAM02B,KAAKE,GACf8E,EAAK,EAAG17B,EAAMu2B,aACd0H,GAAc,EACd,MAED,KAAKj+B,EAAM02B,KAAKI,OACf4E,EAAK,GAAK17B,EAAMu2B,aAChB0H,GAAc,EACd,MAED,KAAKj+B,EAAM02B,KAAKC,KACf+E,EAAK17B,EAAMu2B,YAAa,GACxB0H,GAAc,EACd,MAED,KAAKj+B,EAAM02B,KAAKG,MACf6E,GAAO17B,EAAMu2B,YAAa,GAC1B0H,GAAc,EAKXA,IAGJx6B,EAAM25B,iBAENp9B,EAAMiJ,UAmYPk1B,CAAe16B,GAIhB,SAASq2B,EAAcr2B,GAEtB,IAAuB,IAAlBzD,EAAM0E,QAAX,CAIA,OAFAjB,EAAM25B,iBAEG35B,EAAM4zB,QAAQt2B,QAEtB,KAAK,EAEJ,OAASf,EAAMq3B,QAAQC,KAEtB,KAAKC,SAAMN,OAEV,IAA4B,IAAvBj3B,EAAMk2B,aAAyB,OAEpCqG,EAAwB94B,GAExBqZ,EAAQ0b,EAAM2B,aAEd,MAED,KAAK5C,SAAMH,IAEV,IAAyB,IAApBp3B,EAAMo2B,UAAsB,OAEjCsG,EAAqBj5B,GAErBqZ,EAAQ0b,EAAM4B,UAEd,MAED,QAECtd,EAAQ0b,EAAMC,KAIhB,MAED,KAAK,EAEJ,OAASz4B,EAAMq3B,QAAQG,KAEtB,KAAKD,SAAME,UAEV,IAA0B,IAArBz3B,EAAMg2B,aAA4C,IAApBh2B,EAAMo2B,UAAsB,QAjYpE,SAAmC3yB,GAE7BzD,EAAMg2B,YAAa2G,EAAuBl5B,GAE1CzD,EAAMo2B,WAAYsG,EAAqBj5B,GA+XxC26B,CAA0B36B,GAE1BqZ,EAAQ0b,EAAM6B,gBAEd,MAED,KAAK9C,SAAM8G,aAEV,IAA0B,IAArBr+B,EAAMg2B,aAA+C,IAAvBh2B,EAAMk2B,aAAyB,QAnYvE,SAAsCzyB,GAEhCzD,EAAMg2B,YAAa2G,EAAuBl5B,GAE1CzD,EAAMk2B,cAAeqG,EAAwB94B,GAiY9C66B,CAA6B76B,GAE7BqZ,EAAQ0b,EAAM8B,mBAEd,MAED,QAECxd,EAAQ0b,EAAMC,KAIhB,MAED,QAEC3b,EAAQ0b,EAAMC,KAIX3b,IAAU0b,EAAMC,MAEpBz4B,EAAMuD,cAAe02B,IAMvB,SAASD,EAAav2B,GAErB,IAAuB,IAAlBzD,EAAM0E,QAIX,OAFAjB,EAAM25B,iBAEGtgB,GAER,KAAK0b,EAAM2B,aAEV,IAA4B,IAAvBn6B,EAAMk2B,aAAyB,OAEpC6G,EAAuBt5B,GAEvBzD,EAAMiJ,SAEN,MAED,KAAKuvB,EAAM4B,UAEV,IAAyB,IAApBp6B,EAAMo2B,UAAsB,OAEjC6G,EAAoBx5B,GAEpBzD,EAAMiJ,SAEN,MAED,KAAKuvB,EAAM6B,gBAEV,IAA0B,IAArBr6B,EAAMg2B,aAA4C,IAApBh2B,EAAMo2B,UAAsB,QApXlE,SAAkC3yB,GAE5BzD,EAAMg2B,YAAakH,EAAsBz5B,GAEzCzD,EAAMo2B,WAAY6G,EAAoBx5B,GAkXzC86B,CAAyB96B,GAEzBzD,EAAMiJ,SAEN,MAED,KAAKuvB,EAAM8B,mBAEV,IAA0B,IAArBt6B,EAAMg2B,aAA+C,IAAvBh2B,EAAMk2B,aAAyB,QAtXrE,SAAqCzyB,GAE/BzD,EAAMg2B,YAAakH,EAAsBz5B,GAEzCzD,EAAMk2B,cAAe6G,EAAuBt5B,GAoX/C+6B,CAA4B/6B,GAE5BzD,EAAMiJ,SAEN,MAED,QAEC6T,EAAQ0b,EAAMC,MAMjB,SAASsB,EAAYt2B,IAEG,IAAlBzD,EAAM0E,UAIX1E,EAAMuD,cAAe22B,GAErBpd,EAAQ0b,EAAMC,MAIf,SAASmB,EAAen2B,IAEA,IAAlBzD,EAAM0E,SAEXjB,EAAM25B,iBAMPp9B,EAAMb,WAAW6F,iBAAkB,cAAe40B,GAElD55B,EAAMb,WAAW6F,iBAAkB,cAAeH,GAClD7E,EAAMb,WAAW6F,iBAAkB,QAAS60B,GAE5C75B,EAAMb,WAAW6F,iBAAkB,aAAc80B,GACjD95B,EAAMb,WAAW6F,iBAAkB,WAAY+0B,GAC/C/5B,EAAMb,WAAW6F,iBAAkB,YAAag1B,GAIhDv6B,KAAKwJ,YAINosB,GAAc7uB,UAAYrD,OAAOgG,OAAQs1B,mBAAgBj4B,YACjC4C,YAAcisB,GAWtC,IAAIqJ,GAAc,SAAWh+B,EAAQvB,GAEpCk2B,GAAc71B,KAAMC,KAAMiB,EAAQvB,GAElCM,KAAK62B,oBAAqB,EAE1B72B,KAAKs3B,aAAaJ,KAAOK,SAAMI,IAC/B33B,KAAKs3B,aAAaF,MAAQG,SAAMC,OAEhCx3B,KAAK43B,QAAQC,IAAMC,SAAMH,IACzB33B,KAAK43B,QAAQG,IAAMD,SAAM8G,eAI1BK,GAAYl4B,UAAYrD,OAAOgG,OAAQs1B,mBAAgBj4B,YACjC4C,YAAcs1B,G,4CC/qC9Bz/B,GAAoB0/B,EAAQ,IAARA,CAA+C/gC,I,IAUnEghC,G,kDACJ,WAAY3pB,GAAQ,IAAD,8BACjB,cAAMA,IAoCR4pB,YAAc,SAACv7B,GAIX,OAFA,EAAKua,QAAQmX,kBAAkB1xB,GAEvBA,GAEN,IAAK,WACH,EAAK8vB,QAAQ1uB,SAAU,EACvB,EAAK0uB,QAAQ1qB,QAAS,aACtB,EAAK0qB,QAAQvjB,OAAQ,EACrB,EAAKujB,QAAQtjB,OAAQ,EACrB,EAAKsjB,QAAQrjB,OAAQ,EACrB,MAEF,IAAK,WACH,EAAKqjB,QAAQ1uB,SAAU,EACvB,EAAK0uB,QAAQ1qB,QAAS,UACtB,EAAK0qB,QAAQvjB,OAAQ,EACrB,EAAKujB,QAAQtjB,OAAQ,EACrB,EAAKsjB,QAAQrjB,OAAQ,EACrB,MAEF,IAAK,QACH,EAAKqjB,QAAQ1uB,SAAU,EACvB,EAAK0uB,QAAQ1qB,QAAS,SACtB,EAAK0qB,QAAQvjB,OAAQ,EACrB,EAAKujB,QAAQtjB,OAAQ,EACrB,EAAKsjB,QAAQrjB,OAAQ,EACrB,MAEF,IAAK,OACH,EAAKqjB,QAAQ1uB,SAAU,EACvB,EAAK0uB,QAAQvjB,OAAQ,EACrB,EAAKujB,QAAQtjB,OAAQ,EACrB,EAAKsjB,QAAQrjB,OAAQ,IApE3B,EAAK+uB,OAAShjB,IAAMijB,YACpB,EAAKC,SAAW,KAChB,EAAKC,eAAiB,EACtB,EAAKC,SAAW,KAEhB,EAAKC,SAAW,KAChB,EAAKC,MAAQ,KACb,EAAKhM,QAAU,KACf,EAAKiM,aAAe,KACpB,EAAKC,YAAc,KACnB,EAAKpgC,OAAS,KACd,EAAKqgC,QAAU,EACf,EAAKC,QAAU,KACf,EAAKC,UAAY,KACjB,EAAKC,SAAW,KAChB,EAAKC,UAAY,KAEjB,EAAKC,eAAgB,EACrB,EAAKvT,YAAa,EAClB,EAAKC,UAAW,EAChB,EAAKuT,aAAe,KAvBH,E,kEA4BGC,EAAWC,GAC/B1gC,QAAQkT,IAAI,U,0CAIZ9S,KAAKugC,iB,qCAgDL,IAAIhB,EAAWv/B,KAAKq/B,OAAO3Y,QAAQ8Z,cACnCxgC,KAAKq/B,OAAO3Y,QAAQ9hB,MAAQ26B,EAAS/C,YACrCx8B,KAAKq/B,OAAO3Y,QAAQ3hB,OAASw6B,EAAShD,aACtCv8B,KAAKygC,WACHzgC,KAAKq/B,OAAO3Y,QACZ1mB,KAAKq/B,OAAO3Y,QAAQ9hB,MACpB5E,KAAKq/B,OAAO3Y,QAAQ3hB,U,iCAIbs6B,EAAQz6B,EAAOG,GAAS,IAAD,OAC1B46B,EAAQ,IAAIxhC,SACZsB,EAAS,IAAItB,qBAAwB,GAAIyG,EAAQG,EAAQ,GAAK,KAE9D26B,EAAW,IAAIvhC,iBAAoB,CAAEkhC,WAC3CK,EAASr2B,QAAQzE,EAAOG,GACxB46B,EAAMe,WAAa,IAAIviC,SAAa,UAChB,IAAIwiC,KAAYjB,EAAUC,EAAOlgC,GAArD,IAGMmhC,EAAS,IAAIziC,QACjB,IAAIA,iBAAoB,IAAK,IAAK,EAAG,GACrC,IAAIA,qBAAwB,CAAEwM,MAAO,YAEvCg1B,EAAMv/B,IAAIwgC,GACV5gC,KAAKigC,SAAWW,EAGhB,IAAMC,GAAa,IAAI1iC,kBAAsB+vB,KAAK,gBAC5C4S,EAAU,IAAI3iC,QAClB,IAAIA,iBAAoB,MAAO,MAAO,EAAG,GACzC,IAAIA,qBAAwB,CAAE2jB,IAAK+e,EAAY72B,aAAY,KAE7D82B,EAAQj5B,SAASzD,GAAK,GACtB08B,EAAQj5B,SAASD,GAAK,EACtB+3B,EAAMv/B,IAAI0gC,GACV9gC,KAAKggC,UAAYc,EACjB9gC,KAAKggC,UAAU//B,SAAU,EAEzB,IAAM2tB,EAAO,IAAIzvB,QACjByvB,EAAKmT,QAAQ,KAAM,KACnBnT,EAAKoT,OAAO,KAAM,KAClBpT,EAAKoT,OAAO,IAAK,KACjBpT,EAAKoT,QAAQ,IAAK,KAClBpT,EAAKoT,QAAQ,KAAM,KACnB,IAAMC,EAAW,IAAI9iC,SACnB,IAAIA,mBAAuB+iC,cAActT,EAAKuT,aAC9C,IAAIhjC,qBAAwB,CAAEwM,MAAO,SAAUN,UAAW,KAE5D42B,EAASp5B,SAASD,EAAI,IACtB+3B,EAAMv/B,IAAI6gC,GACVA,EAAShhC,SAAU,EACnBD,KAAKkgC,UAAYe,EAGjB,IAAIG,EAAO,IAAIjjC,cAAiB,IAAK,GAAI,QAAU,SACnDijC,EAAK35B,SAAS7D,IAAI8D,KAAK0E,GAAK,EAAG,EAAG,GAClCg1B,EAAKv5B,SAASjE,IAAI,EAAG,EAAG,GACxB+7B,EAAMv/B,IAAIghC,GACVA,EAAKnhC,SAAU,EACfD,KAAK+/B,QAAUqB,EACDphC,KAAK8/B,QACE9/B,KAAKw/B,eACLx/B,KAAKoe,QAF1B,IAIIijB,EAAgB,IAAIljC,eAAkB,IAAK,IAAK,IAAK,GAAI,GAAI,IAC7DmjC,EAAa,IAAInjC,iBAAqBkjC,GACtCE,EAAa,IAAIpjC,gBAAoBmjC,EAAY,IAAInjC,qBAAyB,CAAEwM,MAAO,WAC3F42B,EAAW15B,SAASD,EAAI,IACxB+3B,EAAMv/B,IAAImhC,GAEV9hC,EAAO05B,GAAK,IAAIh7B,WAAe,EAAG,EAAG,GAErC,IAAIw1B,EAAU,IAAIn0B,GAAmBC,EAAQigC,EAAShgC,YACtDM,KAAKogC,aAAe,IAAIxK,GAAen2B,EAAQigC,EAAShgC,YACxD,IAAI8hC,EAAgBxhC,KAAKogC,aAEzB3gC,EAAOoI,SAASzD,GAAK,IACrB3E,EAAOoI,SAASD,EAAI,IAEpB45B,EAAch4B,SAQd,IAAIkqB,EAAO,KACPtV,EAAUpe,KAAKoe,QACnBuV,EAAQ1uB,SAAU,EAClB0uB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EAChBqjB,EAAQtqB,QAAQ,GAChBm4B,EAAc1L,YAAc,IAE5B,IAAMrC,EAAU,IAAIt1B,SACduvB,EAAS,IAAIL,GAGnB,GAFAztB,QAAQkT,IAAI,MAAO9S,KAAKoe,QAAQ+T,KAE7BnyB,KAAKoe,QAAQ+T,IACd,GAA8B,iBAApBnyB,KAAKoe,QAAQ+T,IACrBnyB,KAAKoe,QAAQqjB,YAAYzhC,KAAKoe,QAAQ+T,KACtCzE,EAAOQ,KAAP,iBAAsB/Z,OAAOC,SAASC,SAAtC,iBAAuDrU,KAAKoe,QAAQ+T,MAAO,SAACuP,GAC1E,IAAMC,EAAM,IAAIxjC,qBAAwB,CACtCwM,MAAO,SACPmqB,SAAU,QACVC,UAAW,OAGbrB,EAAO,IAAIv1B,QAAWujC,EAAKC,IACtBv6B,KAAO,EAAKgX,QAAQ+T,IACzBuB,EAAK7rB,SAASjE,IAAI,EAAG,EAAG,GAGxB8vB,EAAKztB,SAASivB,SACdvB,EAAQxtB,OAAQutB,GAChBA,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,EACjE+rB,EAAQpuB,iBAAkB,gBAAgB,SAAUwd,GAClD2Q,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,KAEnE+rB,EAAQpuB,iBAAiB,aAAa,WAClCi8B,EAAcv8B,SAAU,KAE5B0uB,EAAQpuB,iBAAiB,WAAW,WAChCi8B,EAAcv8B,SAAU,KAE5B0uB,EAAQ1uB,SAAU,EAClB0uB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EAEhBojB,EAAK2B,GAAG,SAAS,SAASC,GACxB11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCusB,EAAQxtB,OAAOutB,GACfC,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BusB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EACG,aAAhBqjB,EAAQ9yB,KACTud,EAAQmX,kBAAkB,YACF,UAAhB5B,EAAQ9yB,KAChBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAI6gB,EAAQ9yB,MACpBud,EAAQmX,kBAAkB5B,EAAQ9yB,UAItC6yB,EAAK2B,GAAG,YAAY,SAASC,GAC3B11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCusB,EAAQxtB,OAAOutB,GACfC,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BusB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EACG,aAAhBqjB,EAAQ9yB,KACTud,EAAQmX,kBAAkB,YACF,UAAhB5B,EAAQ9yB,KAChBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAI6gB,EAAQ9yB,MACpBud,EAAQmX,kBAAkB5B,EAAQ9yB,UAItC4yB,EAAQrzB,IAAIszB,GACZ,EAAKtV,QAAQoX,eAAe9B,GAC5BiM,EAAMv/B,IAAKuzB,UAGR,CACL,IAAIpF,EAAS,IAAImG,WACbtW,EAAUpe,KAAKoe,QACnBA,EAAQqjB,YAAYzhC,KAAKoe,QAAQ+T,IAAI/qB,MACrCmnB,EAAOhpB,iBAAkB,QAAQ,SAAWvB,GAE1C,IAAI2wB,EAAW3wB,EAAMyiB,OAAOmK,OACxB3qB,GAAW,IAAIonB,IAAYc,MAAOwG,GACtC/0B,QAAQkT,IAAI6hB,GACZ1uB,EAAS2uB,WAAa,MACtB3uB,EAAS4uB,WAAaF,EACtB,IAAIzuB,EAAW,IAAI/H,qBAAyB,CAAEwM,MAAO,SAAUmqB,SAAU,QAAUC,UAAW,OAE9FrB,EAAO,IAAIv1B,QAAY8H,EAAUC,IAC5BkB,KAAOgX,EAAQ+T,IAAI/qB,KACxBssB,EAAK7rB,SAASjE,IACR,EACA,EACA,GAEJ8vB,EAAKjsB,SAAS7D,IAAK,EAAG,EAAG,GACzB8vB,EAAK3rB,MAAMnE,IAAK,EAAG,EAAG,GACtB8vB,EAAKsB,YAAa,EAClBtB,EAAKuB,eAAgB,EACrBvB,EAAKztB,SAASivB,SACdvB,EAAQxtB,OAAQutB,GAChBC,EAAQ1uB,SAAU,EAClByuB,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,EACjE+rB,EAAQpuB,iBAAkB,gBAAgB,SAAUwd,GAClD2Q,EAAK7rB,SAASD,EAAuD,IAAnD,IAAIzJ,SAAag3B,cAAczB,GAAM0B,UAAUxtB,KAEnE+rB,EAAQpuB,iBAAiB,aAAa,WAClCi8B,EAAcv8B,SAAU,KAE5B0uB,EAAQpuB,iBAAiB,WAAW,WAChCi8B,EAAcv8B,SAAU,KAG5ByuB,EAAK2B,GAAG,SAAS,SAASC,GACxB11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCusB,EAAQxtB,OAAOutB,GACfC,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BusB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EACG,aAAhBqjB,EAAQ9yB,KACTud,EAAQmX,kBAAkB,YACF,UAAhB5B,EAAQ9yB,KAChBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAI6gB,EAAQ9yB,MACpBud,EAAQmX,kBAAkB5B,EAAQ9yB,UAItC6yB,EAAK2B,GAAG,YAAY,SAASC,GAC3B11B,QAAQkT,IAAI,WAAW4gB,EAAKtsB,KAAK,KACjCusB,EAAQxtB,OAAOutB,GACfC,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgBO,EAAKtsB,MAC7BusB,EAAQvjB,OAAQ,EAChBujB,EAAQtjB,OAAQ,EAChBsjB,EAAQrjB,OAAQ,EACG,aAAhBqjB,EAAQ9yB,KACTud,EAAQmX,kBAAkB,YACF,UAAhB5B,EAAQ9yB,KAChBud,EAAQmX,kBAAkB,aAE1B31B,QAAQkT,IAAI6gB,EAAQ9yB,MACpBud,EAAQmX,kBAAkB5B,EAAQ9yB,UAItC4yB,EAAQrzB,IAAIszB,GACZtV,EAAQoX,eAAe9B,GACvBiM,EAAMv/B,IAAKuzB,MACZ,GAEHpF,EAAOkH,mBAAmBz1B,KAAKoe,QAAQ+T,UAGzCwB,EAAQpuB,iBAAiB,aAAa,WAClCi8B,EAAcv8B,SAAU,KAE5B0uB,EAAQpuB,iBAAiB,WAAW,WAChCi8B,EAAcv8B,SAAU,KAI9B06B,EAAMv/B,IAAIqzB,GAEVkM,EAAMv/B,IAAKuzB,GAEXgM,EAAMv/B,IAAIX,GACVkgC,EAAMv/B,IAAI,IAAIjC,mBAAsB,SAAU,UAE9CwhC,EAAMtK,GAAG,SAAS,SAASC,GACzB11B,QAAQkT,IAAIwiB,GACZ,IAAIsM,EAAa,EACjB,IAAI,IAAIpO,KAAO8B,EAAGuM,WAAY,CAC5B,IAAIC,EAAmBxM,EAAGuM,WAAWrO,GAAKvyB,QACS,IAAhDwyB,EAAQpkB,SAASnH,QAAQ45B,IAC1BF,IAGa,GAAdA,IACDhiC,QAAQkT,IAAI,2BACZ6gB,EAAQvtB,SACRutB,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgB,UAI5BwM,EAAMtK,GAAG,YAAY,SAASC,GAC5B11B,QAAQkT,IAAIwiB,GACZ,IAAIsM,EAAa,EACjB,IAAI,IAAIpO,KAAO8B,EAAGuM,WAAY,CAC5B,IAAIC,EAAmBxM,EAAGuM,WAAWrO,GAAKvyB,QACS,IAAhDwyB,EAAQpkB,SAASnH,QAAQ45B,IAC1BF,IAGa,GAAdA,IACDhiC,QAAQkT,IAAI,2BACZ6gB,EAAQvtB,SACRutB,EAAQ1uB,SAAU,EAClBmZ,EAAQ+U,gBAAgB,UAI5BnzB,KAAKP,OAASA,EACdO,KAAK0/B,SAAWA,EAChB1/B,KAAK2/B,MAAQA,EACb3/B,KAAK2zB,QAAUA,EAIf3zB,KAAKoe,QAAQ2jB,WAAW/hC,KAAK2zB,SAC7B3zB,KAAKoe,QAAQ4jB,SAAShiC,KAAK2/B,OAC3B3/B,KAAKoe,QAAQ6jB,UAAUjiC,KAAKP,QAC5BO,KAAKoe,QAAQ8jB,WAAWzO,GAExBzzB,KAAKmiC,gB,oCAILC,sBAAsBpiC,KAAKmiC,YAAYE,KAAKriC,OAgB5CA,KAAKogC,aAAa52B,SAClBxJ,KAAK0/B,SAAS4C,OAAOtiC,KAAK2/B,MAAO3/B,KAAKP,U,+BAG9B,IAAD,OACHoE,EAAQ7D,KAAKoe,QAEjB,IAKEpe,KAAKogC,aAAa52B,SAElBxJ,KAAKkgC,UAAUjgC,QAAU4D,EAAM+oB,WAC/B5sB,KAAKigC,SAAShgC,SAAW4D,EAAM8oB,WAC/B3sB,KAAKggC,UAAU//B,QAAU4D,EAAM8oB,WAC/B3sB,KAAK+/B,QAAQ9/B,QAAU4D,EAAMgpB,SAC7B,MAAOzT,IAGT,OADAxZ,QAAQkT,IAAI,SAEV,oCACE,yBAAKZ,UAAU,mBACb,kBAACqwB,GAAA,EAAD,CACEC,YAAY,WACZ73B,MAAM,UACN4N,aAAW,0CAEX,kBAAC/B,EAAA,EAAD,CAAQzE,QAAS,kBAAM,EAAKqtB,YAAY,UAChC/5B,MAAO,CACLse,gBAAgD,SAA/B3jB,KAAKoe,QAAQqkB,eAA4B,UAAY,OACtE93B,MAAsC,SAA/B3K,KAAKoe,QAAQqkB,eAA4B,OAAS,UACzD79B,MAAO,IACPG,OAAQ,KAGhB,kBAAC29B,GAAA,EAAD,CAAWr9B,MAAO,CAACV,MAAO,GAAIkD,SAAU,cAR1C,UAUA,kBAAC2O,EAAA,EAAD,CAAQzE,QAAS,kBAAM,EAAKqtB,YAAY,aAChC/5B,MAAO,CACLse,gBAAgD,YAA/B3jB,KAAKoe,QAAQqkB,eAA+B,UAAY,OACzE93B,MAAsC,YAA/B3K,KAAKoe,QAAQqkB,eAA+B,OAAS,UAC5D79B,MAAO,IACPG,OAAQ,KAGhB,kBAAC49B,GAAA,EAAD,CAAUt9B,MAAO,CAACV,MAAO,GAAIkD,SAAU,cARzC,SAUA,kBAAC2O,EAAA,EAAD,CAAQzE,QAAS,kBAAM,EAAKqtB,YAAY,aAChC/5B,MAAO,CACLse,gBAAgD,YAA/B3jB,KAAKoe,QAAQqkB,eAA+B,UAAY,OACzE93B,MAAsC,YAA/B3K,KAAKoe,QAAQqkB,eAA+B,OAAS,UAC5D79B,MAAO,IACPG,OAAQ,KAGhB,kBAAC69B,GAAA,EAAD,CAAMv9B,MAAO,CAACV,MAAO,EAAGkD,SAAU,cARpC,aAYJ,yBAAKqK,UAAU,oBACb,4BAAQuI,GAAG,cAAcvI,UAAU,gBAAgBwjB,IAAK11B,KAAKq/B,e,GAje3C9b,aAAtB4b,GA2BG3b,YAAc+I,GA6cR4S,U,8DCpaA0D,OAvEf,WAA0B,IAAD,EACiBxmB,IAAMrG,UAAS,GADhC,mBAChB8sB,EADgB,KACFC,EADE,KAEvB,OACE,oCACE,yBAAK7wB,UAAU,iBACX,kBAAC,GAAW+Z,SAAZ,MACG,gBACCW,EADD,EACCA,WACAO,EAFD,EAECA,cACAR,EAHD,EAGCA,WACAO,EAJD,EAICA,cACAL,EALD,EAKCA,SACAO,EAND,EAMCA,YAND,OAQC,kBAACtG,GAAA,EAAD,CAAW/B,SAAU+d,EAAchgB,SAAU,kBAAMigB,GAAiBD,KAClE,kBAAC/b,GAAA,EAAD,CACE8L,WAAY,kBAACC,GAAA,EAAD,MACZC,gBAAc,kBACdtY,GAAG,kBAEH,kBAACpI,EAAA,EAAD,0BAIF,kBAAC8U,GAAA,EAAD,KACE,kBAAC6b,GAAA,EAAD,CAAahX,UAAU,YACrB,kBAACiX,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEvP,QACE,kBAACwP,GAAA,EAAD,CACE5P,QAAS5G,EACT7J,SAAU,SAACC,GACTmK,EAAcnK,EAAE0D,OAAO8M,YAI7BrQ,MAAM,uBAER,kBAACggB,GAAA,EAAD,CACEvP,QACE,kBAACwP,GAAA,EAAD,CACE5P,QAAS3G,EACT9J,SAAU,SAACC,GACToK,EAAcpK,EAAE0D,OAAO8M,YAI7BrQ,MAAM,wBAER,kBAACggB,GAAA,EAAD,CACEvP,QACE,kBAACwP,GAAA,EAAD,CACE5P,QAAS1G,EACT/J,SAAU,SAACC,GACTqK,EAAYrK,EAAE0D,OAAO8M,YAI3BrQ,MAAM,wBCjF7B,GAAmB,oBAAT/kB,GACT,IAAIA,GAAQ+gC,EAAQ,GAEtB,IAAIkE,GAAc,aAElBA,GAAYr8B,UAAY,CAEvB4C,YAAay5B,GAEbjV,MAAO,SAAWwR,EAAO0D,QAEP1jC,IAAZ0jC,IAAwBA,EAAU,IAEvC,IAiCIC,EAjCAC,OAA4B5jC,IAAnB0jC,EAAQE,QAAuBF,EAAQE,OAIhDC,EAAU,GACVC,EAAY,EAEhB9D,EAAM55B,UAAU,SAAW9E,GAE1B,GAAKA,EAAOyiC,OAAS,CAEpB,IAAIz9B,EAAWhF,EAAOgF,SAEtB,IAAmC,IAA9BA,EAAS09B,iBAEb,MAAM,IAAIC,MAAO,oEAIlB,IAAI9T,EAAQ7pB,EAAS6pB,MACjB+T,EAAoB59B,EAAS69B,aAAc,YAE/CL,GAAyB,OAAV3T,EAAqBA,EAAM8B,MAAQ,EAAQiS,EAAkBjS,MAAQ,EAEpF4R,EAAQt3B,KAAM,CACb63B,SAAU9iC,EACVgF,SAAUA,QAQb,IAAIjE,EAAS,GAEb,IAAgB,IAAXuhC,EAAkB,CAEtB,IACIS,EAAc,IAAIC,YADS,EAAZR,EAA4B,EAAZA,EAAgB,EAAI,EAAI,GAAK,IAEhEH,EAAS,IAAItU,SAAUgV,IAChBE,UAAWliC,EAAQyhC,GAAW,GAAQzhC,GAAU,OAIvDshC,EAAS,GACTA,GAAU,mBAWX,IAPA,IAAIa,EAAK,IAAIhmC,GAAMoB,QACf6kC,EAAK,IAAIjmC,GAAMoB,QACf8kC,EAAK,IAAIlmC,GAAMoB,QACf+kC,EAAK,IAAInmC,GAAMoB,QACfglC,EAAK,IAAIpmC,GAAMoB,QACf8xB,EAAS,IAAIlzB,GAAMoB,QAEb8B,EAAI,EAAGmtB,EAAKgV,EAAQliC,OAAQD,EAAImtB,EAAIntB,IAAO,CAEpD,IAAIJ,EAASuiC,EAASniC,GAAI0iC,SACtB99B,EAAWu9B,EAASniC,GAAI4E,SAExB6pB,EAAQ7pB,EAAS6pB,MACjB+T,EAAoB59B,EAAS69B,aAAc,YAE/C,GAAe,OAAVhU,EAIJ,IAAM,IAAI0U,EAAI,EAAGA,EAAI1U,EAAM8B,MAAO4S,GAAK,EAAI,CAM1CC,EAJQ3U,EAAM4U,KAAMF,EAAI,GAChB1U,EAAM4U,KAAMF,EAAI,GAChB1U,EAAM4U,KAAMF,EAAI,GAEJX,EAAmB5iC,QAQxC,IAAUujC,EAAI,EAAGA,EAAIX,EAAkBjS,MAAO4S,GAAK,EAAI,CAMtDC,EAJQD,EAAI,EACJA,EAAI,EACJA,EAAI,EAEQX,EAAmB5iC,IAc1C,OANgB,IAAXsiC,IAEJD,GAAU,uBAIJA,EAEP,SAASmB,EAAW9zB,EAAGyO,EAAGulB,EAAGd,EAAmB5iC,GAE/CkjC,EAAGS,oBAAqBf,EAAmBlzB,GAC3CyzB,EAAGQ,oBAAqBf,EAAmBzkB,GAC3CilB,EAAGO,oBAAqBf,EAAmBc,IAEb,IAAzB1jC,EAAO4jC,gBAEX5jC,EAAO6jC,cAAen0B,EAAGwzB,GACzBljC,EAAO6jC,cAAe1lB,EAAGglB,GACzBnjC,EAAO6jC,cAAeH,EAAGN,IAI1BF,EAAGh2B,aAAclN,EAAOwF,aACxB29B,EAAGj2B,aAAclN,EAAOwF,aACxB49B,EAAGl2B,aAAclN,EAAOwF,aAqBzB,SAAsB09B,EAAIC,EAAIC,GAE7BC,EAAG/G,WAAY8G,EAAID,GACnBG,EAAGhH,WAAY4G,EAAIC,GACnBE,EAAGx7B,MAAOy7B,GAAKz9B,YAEfuqB,EAAO1qB,KAAM29B,GAAKx9B,aAEF,IAAXy8B,GAEJD,EAAOyB,WAAY/iC,EAAQqvB,EAAOltB,GAAG,GAAQnC,GAAU,EACvDshC,EAAOyB,WAAY/iC,EAAQqvB,EAAOjtB,GAAG,GAAQpC,GAAU,EACvDshC,EAAOyB,WAAY/iC,EAAQqvB,EAAOzpB,GAAG,GAAQ5F,GAAU,IAIvDshC,GAAU,kBAAoBjS,EAAOltB,EAAI,IAAMktB,EAAOjtB,EAAI,IAAMitB,EAAOzpB,EAAI,KAC3E07B,GAAU,oBApCX0B,CAAab,EAAIC,EAAIC,GAErBY,EAAad,GACbc,EAAab,GACba,EAAaZ,IAEG,IAAXd,GAEJD,EAAO4B,UAAWljC,EAAQ,GAAG,GAAQA,GAAU,IAI/CshC,GAAU,gBACVA,GAAU,gBA6BZ,SAAS2B,EAAaE,IAEL,IAAX5B,GAEJD,EAAOyB,WAAY/iC,EAAQmjC,EAAOhhC,GAAG,GAAQnC,GAAU,EACvDshC,EAAOyB,WAAY/iC,EAAQmjC,EAAO/gC,GAAG,GAAQpC,GAAU,EACvDshC,EAAOyB,WAAY/iC,EAAQmjC,EAAOv9B,GAAG,GAAQ5F,GAAU,GAIvDshC,GAAU,gBAAkB6B,EAAOhhC,EAAI,IAAMghC,EAAO/gC,EAAI,IAAM+gC,EAAOv9B,EAAI,QAU9Dw7B,UChGf,SAASgC,GAAmBC,EAAQ3kC,GAClC,OAAQA,GAEN,IAAK,YAgBH,OAfA2kC,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,WAgBH,OAfAA,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,WAgBH,OAfAA,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,cAgBH,OAfAA,EAAOC,SAASC,uBAAyB,SACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,aAgBH,OAfAA,EAAOC,SAASC,uBAAyB,SACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,aAgBH,OAfAA,EAAOC,SAASC,uBAAyB,SACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,YAgBH,OAfAA,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,WAgBH,OAfAA,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,IAAK,WAgBH,OAfAA,EAAOC,SAASC,uBAAyB,OACzCC,GAAiBH,EAAOI,SAASC,WAAWr2B,SAASs2B,aAAa,KAClEH,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY,IAC5DL,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa,IAClFN,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW,IAChFP,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAa,IACtGR,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAa,IACtGT,GAAiBH,EAAOI,SAASS,OAAO72B,SAAS82B,mBAAmB,GACpEX,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoC,KACvFZ,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4B,KAC/Eb,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoC,KACvFd,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC,KACvFf,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC,KACrFhB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC,IACrFjB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B,IACtErB,EACT,QACE,OAAOA,GAIb,SAASsB,GAAYtB,EAAQxoB,GAM3B,OALA2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS+2B,mCAAoCvpB,GACvF2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASg3B,2BAA4BxpB,GAC/E2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASi3B,mCAAoCzpB,GACvF2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASk3B,mCAAoC1pB,GACvF2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASm3B,iCAAkC3pB,GAC9EwoB,EAGT,SAASuB,GAAWvB,EAAQxoB,GAK1B,OAHA2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASo3B,iCAAkC5pB,GACrF2oB,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAASq3B,yBAA0B7pB,GAEtEwoB,EAGT,SAASwB,GAAcxB,EAAQ3kC,GAI7B,OAHA8kC,GAAiBH,EAAOI,SAASqB,OAAOz3B,SAAS03B,eAAgBrmC,GACjE2kC,EAAOI,SAASqB,OAAOz3B,SAAS03B,eAAeljC,MAA/C,wDAAuGnD,EAAvG,OACA2kC,EAAOI,SAASqB,OAAOz3B,SAAS03B,eAAeC,cAAgBtmC,EACxD2kC,EAGT,SAAS4B,GAAY5B,EAAQ6B,GAE3B,OADA1B,GAAiBH,EAAOI,SAASv/B,SAASmJ,SAAS83B,cAAeD,GAC3D7B,EAGT,SAAS+B,GAAa/B,EAAQ3kC,GAE5B,OADA8kC,GAAiBH,EAAOI,SAAS4B,kBAAkBh4B,SAASi4B,cAAe5mC,GACpE2kC,EAGT,SAASkC,GAASlC,EAAQmC,GAQxB,OANAhC,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAY2B,GAC5DhC,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAASy2B,aAAa0B,GAClFhC,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAWyB,GAChFhC,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS22B,aAAawB,GACtGhC,GAAiBH,EAAOI,SAASG,MAAMv2B,SAASw2B,YAAYx2B,SAAS02B,WAAW12B,SAAS42B,aAAauB,GAE/FnC,EAGT,SAASoC,GAAapC,EAAQqC,GAE5B,OADAlC,GAAiBH,EAAOI,SAASkC,QAAQt4B,SAASu4B,kBAAmBF,GAC9DrC,EAGT,SAASwC,GAAexC,EAAQ3kC,GAE9B,OADA8kC,GAAiBH,EAAOI,SAASkC,QAAQt4B,SAASy4B,gBAAiBpnC,GAC5D2kC,EAGT,SAASG,GAAiBuC,EAASlkC,GAEjCkkC,EAAQlkC,MAAQA,EAChBkkC,EAAQf,cAAgBnjC,EAI1B,SAA+BkkC,EAASlkC,GACtC,GAAGkkC,EAAQC,eAAe,YACxB,IAAK,IAAIC,KAAYF,EAAQ14B,SAC3Bm2B,GAAiBuC,EAAQ14B,SAAS44B,GAAWpkC,GANjDqkC,CAAsBH,EAASlkC,GAWjC,SAASskC,GAAsB9C,EAAQ+C,GAErC,GAAwB,IAApBA,EACF/C,EAAOI,SAASqB,OAAOz3B,SAASg5B,sBAAsBh5B,SAASi5B,qBAAqBzkC,MAAQ,EAC5FwhC,EAAOI,SAASqB,OAAOz3B,SAASg5B,sBAAsBh5B,SAASi5B,qBAAqBtB,cAAgB,MAC/F,CACL,IAAIuB,EAcR,SAA6BxB,GAC3B,OAAQA,GACN,IAAK,YACL,IAAK,aACL,IAAK,QACL,IAAK,cACH,OAAO,EACT,IAAK,OACL,IAAK,cACL,IAAK,gBACH,OAAO,EACT,QACE,OAAO,GA1BQyB,CACfnD,EAAOI,SAASqB,OAAOz3B,SAAS03B,eAAeC,eAK7CyB,EACkB,IAHpBpD,EAAOI,SAASC,WAAWr2B,SAASq5B,WAAWr5B,SAASs5B,kBACrD3B,cAEwBoB,EAAmBG,EAChDlD,EAAOI,SAASqB,OAAOz3B,SAASg5B,sBAAsBh5B,SAASi5B,qBAAqBzkC,MAAQ4kC,EAC5FpD,EAAOI,SAASqB,OAAOz3B,SAASg5B,sBAAsBh5B,SAASi5B,qBAAqBtB,cAAgByB,EAEtG,OAAOpD,EAmBT,SAASuD,GAAgBC,GACvBjpC,QAAQkT,IAAI+1B,GACZ,IAAIzhC,EAAO,GACX,IAAK,IAAIosB,KAAOqV,EAAQ,CACtB,IAAInV,EAAOmV,EAAOrV,GACdiB,EAAQ,eAAehD,KAAKiC,EAAKtsB,MACjCqtB,IACFrtB,GAAQqtB,EAAM,GAAK,KAMvB,OAHArtB,EAAOA,EAAK0hC,MAAM,GAAI,GACtB1hC,GAAQ,OACRxH,QAAQkT,IAAI1L,GACLA,E,IAGH2hC,G,kDACJ,WAAYvzB,GAAQ,IAAD,8BACjB,cAAMA,IAED6H,MAAQ,CACX2rB,MAAOxzB,EAAMwzB,QAAS,EACtBzjB,SAAS,EACT0jB,SAAU,MACVC,QAAS,OACTpC,OAAQ,GACRqC,YAAa,OACbC,KAAM,IACNC,WAAY,QACZ3sB,OAAQ,IACRD,IAAK,GACLmpB,MAAO,GACP0D,UAAU,EACVC,MAAM,EACNC,UAAW,SACXC,aAAc,OACd9W,KAAMnd,EAAMmd,KACZlG,QAAS,EACTD,YAAa,EACbE,KAAM,EACNjtB,OAAQ,KACRk0B,QAAS,KACTgM,MAAO,KACPlM,QAAS,KACT9G,YAAY,EACZC,YAAY,EACZC,UAAU,EACVsF,IAAK3c,EAAMmd,KACX+W,YAAa,KACbxW,aAAc,KACduP,eAAgB,WAChBpY,SAAU,WACVsf,YAAY,EACZC,YAAY,EACZC,WAAW,EACXC,QAAS,GACTC,SAAU,WACVC,SAAU,SACVC,gBAAiB,CAAC7I,KAAM,QACxB8I,eAAgB,CAACC,MAAO,SACxBC,WAAY,CAAC/Y,OAAQ,UACrBgZ,cAAe,CAACjJ,KAAM,SAGxB,EAAKkJ,gBAAkB,GA/CN,E,gEAmDjBtqC,KAAKoT,cACLpT,KAAKke,SAAS,CAAE6rB,SAAU/1B,EAAW,cAER,YAA1BA,EAAW,aACZhU,KAAKke,SAAS,CAAE+qB,SAAU,U,2CAK5BjpC,KAAKke,SAAS,CAAE2rB,WAAW,M,oKAIC31B,MAAM,UAAD,OACrBC,OAAOC,SAASC,SADK,yBAE/B,CACEC,OAAQ,Q,cAHRi2B,E,gBAOyBA,EAAgBh2B,O,OAA7CvU,KAAKsqC,gB,OAEFtqC,KAAKsqC,gBAAgBtC,eAAe,aACpChoC,KAAKsqC,gBAAgB7E,SAASuC,eAAe,WAC7ChoC,KAAKsqC,gBAAgB7E,SAASqB,OAAOz3B,SAAS03B,eAAeiB,eAAe,YAE7EhoC,KAAKke,SAAS,CACZ+rB,gBAAiBjqC,KAAKsqC,gBAAgB7E,SAASqB,OAAOz3B,SAAS03B,eAAe1D,UAI/ErjC,KAAKsqC,gBAAgBtC,eAAe,aACpChoC,KAAKsqC,gBAAgB7E,SAASuC,eAAe,sBAC7ChoC,KAAKsqC,gBAAgB7E,SAAS4B,kBAAkBh4B,SAASi4B,cAAcU,eAAe,YAEvFhoC,KAAKke,SAAS,CACZgsB,eAAgBlqC,KAAKsqC,gBAAgB7E,SAAS4B,kBAAkBh4B,SAASi4B,cAAcjE,UAIxFrjC,KAAKsqC,gBAAgBtC,eAAe,aACpChoC,KAAKsqC,gBAAgB7E,SAASuC,eAAe,YAC7ChoC,KAAKsqC,gBAAgB7E,SAASkC,QAAQt4B,SAASy4B,gBAAgBE,eAAe,YAE/EhoC,KAAKke,SAAS,CACZmsB,cAAerqC,KAAKsqC,gBAAgB7E,SAASkC,QAAQt4B,SAASy4B,gBAAgBzE,UAI/ErjC,KAAKsqC,gBAAgBtC,eAAe,aACpChoC,KAAKsqC,gBAAgB7E,SAASuC,eAAe,YAC7ChoC,KAAKsqC,gBAAgB7E,SAASkC,QAAQt4B,SAASu4B,kBAAkBI,eAAe,YAEjFhoC,KAAKke,SAAS,CACZksB,WAAYpqC,KAAKsqC,gBAAgB7E,SAASkC,QAAQt4B,SAASu4B,kBAAkBvE,U,4LASvDwF,EAAQ2B,G,8FAClCxqC,KAAKke,SAAS,CAAEqH,SAAS,IACrBkgB,EAAWzlC,KAAKsqC,gBAChBG,EAAezqC,KAAKqd,MAAM4rB,SAAW,IAAMjpC,KAAKqd,MAAM6rB,QAE7B,YAA1Bl1B,EAAW,cACZy2B,EAAe,OAASzqC,KAAKqd,MAAM6rB,QASnCzD,EAAWoB,GADXpB,EAAWoC,GADXpC,EAAWgC,GADXhC,EAAW8B,GADX9B,EAAW2B,GADX3B,EAAWwB,GADXxB,EAAWmB,GADXnB,EAAWkB,GAAYlB,EAAUzlC,KAAKqd,MAAMX,QACZ1c,KAAKqd,MAAMZ,KACVzc,KAAKqd,MAAM+rB,MACVppC,KAAKqd,MAAMgsB,YACfrpC,KAAKqd,MAAMuoB,OACP5lC,KAAKqd,MAAMmsB,WACTxpC,KAAKqd,MAAMosB,cACZzpC,KAAKqd,MAAM8rB,eAKhD1D,EAAW0C,GAFX1C,EAAWL,GAAmBK,EAAUgF,GAEGzqC,KAAKqd,MAAMypB,SAE7CrB,SAASqB,OAAOz3B,SAASg5B,sBAAsBxkC,MAAQ7D,KAAKqd,MAAMypB,OAC3ErB,EAASA,SAASqB,OAAOz3B,SAASg5B,sBAAsBrB,cAAgBhnC,KAAKqd,MAAMypB,OACnFrB,EAASA,SAASkC,QAAQt4B,SAASq7B,eAAe7mC,MAAQ7D,KAAKqd,MAAMisB,SACrE7D,EAASA,SAASkC,QAAQt4B,SAASq7B,eAAe1D,cAAgBhnC,KAAKqd,MAAMisB,SAC7E7D,EAASA,SAASkF,WAAWt7B,SAASu7B,gBAAgB/mC,MAAQ7D,KAAKqd,MAAMksB,KACzE9D,EAASA,SAASkF,WAAWt7B,SAASu7B,gBAAgB5D,cAAgBhnC,KAAKqd,MAAMksB,KAEpD,YAA1Bv1B,EAAW,aACZyxB,EAASA,SAASkF,WAAWt7B,SAASu7B,gBAAgB/mC,MAAQ,EAC9D4hC,EAASA,SAASkF,WAAWt7B,SAASu7B,gBAAgB5D,cAAgB,GAEtEvB,EAAWoB,GAAcpB,EAAUzlC,KAAKqd,MAAM8rB,aAGnB,UAA1Bn1B,EAAW,cAOZyxB,EAAWoC,GADXpC,EAAWgC,GADXhC,EAAW8B,GADX9B,EAAW2B,GADX3B,EAAWwB,GADXxB,EAAWmB,GADXnB,EAAWkB,GAAYlB,EAAUzlC,KAAKqd,MAAMX,QACZ1c,KAAKqd,MAAMZ,KACVzc,KAAKqd,MAAM+rB,MACVppC,KAAKqd,MAAMgsB,YACfrpC,KAAKqd,MAAMuoB,OACP5lC,KAAKqd,MAAMmsB,WACTxpC,KAAKqd,MAAMosB,eAG7Cn2B,EAAO,IAAIK,SAEXk3B,EAAW,IAAIzH,GACf0H,EAAYD,EAAS1c,MAAOnuB,KAAKqd,MAAMqsB,aAC5B,6BACX1X,EAAO,IAAI+Y,KAAK,CAACD,GAAY,CAAEpqC,KADpB,+BAEXsqC,EAAiBpC,GAAgBC,GACjCoC,EAAgBjrC,KAAKqd,MAAMysB,QAAU9pC,KAAKqd,MAAMysB,QAAQ,OAASkB,EACjEE,EAAW,IAAItY,KAAK,CAACZ,GAAOiZ,GAChC33B,EAAKM,OAAO,OAAQs3B,GACpB53B,EAAKM,OAAO,OAAQC,KAAKC,UAAU2xB,I,UAClBvxB,MAAM,UAAD,OACVC,OAAOC,SAASC,SADN,8BACoC42B,GACxD,CAAE32B,OAAQ,OAAQE,KAAMlB,I,WAEN,M,OAAXgT,O,qBAEJkkB,E,kCACKt2B,MAAM,UAAD,OACCC,OAAOC,SAASC,SADjB,4BAC6C42B,GACtD,CACE32B,OAAQ,OACR8D,QAAS,CAAE,eAAgB,sB,QAG/BpY,KAAKwV,MAAMkM,U,wBAEX1hB,KAAKmrC,qB,gCAIHnrC,KAAKwV,MAAM41B,WACbprC,KAAKwV,MAAM41B,Y,QAGfprC,KAAKke,SAAS,CAAEqH,SAAS,I,yIAGjB,IAAD,OACCvT,EAAYhS,KAAKwV,MAAjBxD,QACFq5B,EAAarrC,KAcnB,OACE,oCACE,kBAACsrC,GAAA,EAAD,CACErqB,KAAMjhB,KAAKqd,MAAM2rB,MACjBtnB,QAAS,WACP,EAAKlM,MAAMkM,UACX,EAAKxD,SAAS,CAAE8qB,OAAO,KAEzBuC,sBAAoB,GAEpB,yBAAKr5B,UAAU,SACb,kBAACsE,EAAA,EAAD,CAAQzE,QAAS,WACb,EAAKyD,MAAMkM,UACX,EAAKxD,SAAS,CAAE8qB,OAAO,KAEzBr+B,MAAM,UAAUuH,UAAWF,EAAQw5B,aAAcjqB,WAAS,GAC1D,kBAAC,KAAD,MALF,eASA,kBAACZ,EAAA,EAAD,CAAYzO,UAAWF,EAAQy5B,eAAgBlzB,aAAW,iBAAiBxG,QAAS,kBAAM,EAAKmM,SAAS,CAAEyrB,YAAa,EAAKtsB,MAAMssB,eAChI,kBAAC,KAAD,OAEF,kBAACvzB,EAAA,EAAD,CAAMf,WAAS,EAACnD,UAAWF,EAAQ05B,eACnC,kBAACt1B,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC,GAAWq2B,SAAZ,CACE9nC,MAAO,CACL2oB,YAAaxsB,KAAKqd,MAAMmP,YACxBC,QAASzsB,KAAKqd,MAAMoP,QACpBC,KAAM1sB,KAAKqd,MAAMqP,KACjBjtB,OAAQO,KAAKqd,MAAM5d,OACnBktB,WAAY3sB,KAAKqd,MAAMsP,WACvBC,WAAY5sB,KAAKqd,MAAMuP,WACvBC,SAAU7sB,KAAKqd,MAAMwP,SACrBsF,IAAKnyB,KAAKwV,MAAMmd,KAChB8P,eAAgBziC,KAAKqd,MAAMolB,eAC3BiH,YAAa1pC,KAAKqd,MAAMqsB,YACxBrf,SAAUrqB,KAAKqd,MAAMgN,SACrBsJ,QAAS3zB,KAAKqd,MAAMsW,QACpBgM,MAAO3/B,KAAKqd,MAAMsiB,MAClBlM,QAASzzB,KAAKqd,MAAMoW,QACpBP,aAAclzB,KAAKqd,MAAM6V,aACzBsC,eAAgB,SAACrD,GACf,EAAKjU,SAAS,CAAEwrB,YAAavX,KAE/BsP,YAAa,SAACr6B,GACZ,EAAK8W,SAAS,CAAEmM,SAAUjjB,KAE5B0lB,YAAa,SAACC,IA5D5B,SAAqBA,GACnBse,EAAWntB,SAAS,CAAEsO,YAAa6e,EAAWhuB,MAAMmP,YAAcO,IA4DpDD,CAAYC,IAEdC,QAAS,SAACtd,IA3DxB,SAAiBA,GACf27B,EAAWntB,SAAS,CAAEuO,QAAS/c,IA2DjBsd,CAAQtd,IAEVud,KAAM,SAACrlB,IA1DrB,SAAcA,GAxflB,IAAe/D,EAAO8L,EAAK0L,EAyfrBgwB,EAAWntB,SAAS,CAAEwO,MAzfb7oB,EAyfyBwnC,EAAWhuB,MAAMqP,KAAO9kB,EAzf1C+H,EAyf6C,EAzfxC0L,EAyf2C,IAxfhExX,EAAQ8L,EACHA,EAEL9L,EAAQwX,EACHA,EAEFxX,KA4iBWopB,CAAKrlB,IAEP2tB,kBAAmB,SAAC1xB,GAClB,EAAKqa,SAAS,CAAEukB,eAAgB5+B,KAElCo+B,UAAW,SAACxuB,GACV,EAAKyK,SAAS,CAAEze,OAAQgU,KAE1ByZ,cAAe,SAACzZ,GACd,EAAKyK,SAAS,CAAEyO,WAAYlZ,KAE9B0Z,cAAe,SAAC1Z,GACd,EAAKyK,SAAS,CAAE0O,WAAYnZ,KAE9B2Z,YAAa,SAAC3Z,GACZ,EAAKyK,SAAS,CAAE2O,SAAUpZ,KAE5BsuB,WAAY,SAACpO,GACX,EAAKzV,SAAS,CAAEyV,QAASA,KAE3BqO,SAAU,SAACrC,GACT,EAAKzhB,SAAS,CAAEyhB,MAAOA,KAEzBuC,WAAY,SAACzO,GACX,EAAKvV,SAAS,CAAEuV,QAASA,KAE3BN,gBAAiB,SAACR,GAChB,EAAKzU,SAAS,CAAEgV,aAAcP,OAIpC,kBAAC,GAAD,MACA,kBAACiZ,GAAA,EAAD,CACEC,OAAO,QACP5qB,KAAMjhB,KAAKqd,MAAMssB,WACjBjoB,QAAS,kBAAM,EAAKxD,SAAS,CAAEyrB,YAAY,KAC3C33B,QAAS,CACP85B,MAAO95B,EAAQ+5B,iBAEjBz5B,QAAQ,cAER,kBAAC,GAAD,MACA,kBAACwU,GAAA,EAAD,CAAW/B,SAAU/kB,KAAKqd,MAAMusB,WAAY9mB,SAAU,kBAAM,EAAK5E,SAAS,CAAC0rB,YAAa,EAAKvsB,MAAMusB,eACjG,kBAAC7iB,GAAA,EAAD,CACE8L,WAAY,kBAACC,GAAA,EAAD,MACZC,gBAAc,kBACdtY,GAAG,kBAEH,kBAACpI,EAAA,EAAD,yBAIF,kBAAC8U,GAAA,EAAD,KACE,kBAAC/Q,EAAA,EAAD,CAAMf,WAAS,EAACF,WAAW,SAASuD,QAAQ,UAC5C,kBAACtC,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAEuP,OAAQ,IACE,aAAxB5U,KAAKqd,MAAM0sB,UACX,kBAAC3zB,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,OAAf,iBACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,MACRtoC,MAAO7D,KAAKqd,MAAM4rB,SAClBnmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAE+qB,SAAUlmB,EAAE0D,OAAO5iB,UAGrC,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,OAAhB,OACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,QAAhB,QACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,OAAhB,UAKkB,aAAxB7D,KAAKqd,MAAM0sB,SACX,kBAAC3zB,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,OAAf,kBACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,MACRtoC,MAAO7D,KAAKqd,MAAM2sB,SAClBlnB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAE8rB,SAAUjnB,EAAE0D,OAAO5iB,QACd,UAAlBkf,EAAE0D,OAAO5iB,MACV,EAAKqa,SAAS,CAAE4oB,OAAQ,IACG,UAAlB/jB,EAAE0D,OAAO5iB,MAClB,EAAKqa,SAAS,CAAE4oB,OAAQ,KACE,SAAlB/jB,EAAE0D,OAAO5iB,OACjB,EAAKqa,SAAS,CAAE4oB,OAAQ,QAI5B,kBAACsF,GAAA,EAAD,CAAUvoC,MAAM,UAAhB,UACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,UAAhB,UACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,SAAhB,YAKN,oCACA,kBAACuS,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC/B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAAC5kB,GAAA,EAAD,CACE3M,GAAG,iBACH5W,MAAO7D,KAAKqd,MAAMypB,OAClBhkB,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAE4oB,OAAQjjC,KAE1BnD,KAAK,SACLwiB,MAAM,iBACNmpB,gBAAiB,CACfC,QAAQ,GAEVzY,WAAa,CACXlkB,IAAK,EACL0L,IAAK,IACLkxB,UAAW,GAEb/lC,MAAQxG,KAAKqd,MAAMypB,OAAS,GAAK9mC,KAAKqd,MAAMypB,OAAS,IACrD0F,WACGxsC,KAAKqd,MAAMypB,OAAS,GAAK9mC,KAAKqd,MAAMypB,OAAS,IAC9C,yCAA2C,KAI/C,kBAACz0B,EAAA,EAAD,CACEyC,QAAQ,SACRzP,MAAO,CACLwC,SAAU,WACV/C,IAAM9E,KAAKqd,MAAMypB,OAAS,GAAK9mC,KAAKqd,MAAMypB,OAAS,KAAQ,IAAM,GACjEniC,KAAM,GACNC,MAAO,KANX,OAWF,kBAACwR,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,WAAf,eACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,UACRtoC,MAAO7D,KAAKqd,MAAM8rB,YAClBrmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEirB,YAAapmB,EAAE0D,OAAO5iB,UAGzC7D,KAAKqd,MAAM4sB,iBAAmBvmC,OAAO+oC,QAAQzsC,KAAKqd,MAAM4sB,iBAAiBnoB,KAAI,SAAC4qB,EAASl5B,GACtF,OACE,kBAAC44B,GAAA,EAAD,CAAU54B,IAAKA,EAAK3P,MAAO6oC,EAAQ,IAAKA,EAAQ,WAQ1D,kBAACt2B,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,QAAf,WACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,OACRtoC,MAAO7D,KAAKqd,MAAM6rB,QAClBpmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEgrB,QAASnmB,EAAE0D,OAAO5iB,UAGpC,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,QAAhB,iBACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,UAAhB,kBACA,kBAACuoC,GAAA,EAAD,CAAUvoC,MAAM,QAAhB,mBAIoB,WAAxB7D,KAAKqd,MAAM0sB,UACX,oCACA,kBAAC3zB,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,YAAf,iBACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,WACRtoC,MAAO7D,KAAKqd,MAAMgsB,WAClBvmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEmrB,WAAYtmB,EAAE0D,OAAO5iB,UAGxC7D,KAAKqd,MAAM6sB,gBAAkBxmC,OAAO+oC,QAAQzsC,KAAKqd,MAAM6sB,gBAAgBpoB,KAAI,SAAC4qB,EAASl5B,GACpF,OACE,kBAAC44B,GAAA,EAAD,CAAU54B,IAAKA,EAAK3P,MAAO6oC,EAAQ,IAAKA,EAAQ,UAMxD,kBAACt2B,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC/B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAAC5kB,GAAA,EAAD,CACE3M,GAAG,YACH5W,MAAO7D,KAAKqd,MAAM+rB,KAClBtmB,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAEkrB,KAAMvlC,KAExBnD,KAAK,SACLwiB,MAAM,YACNmpB,gBAAiB,CACfC,QAAQ,GAEVzY,WAAa,CACXlkB,IAAK,EACL0L,IAAK,IACLkxB,UAAW,GAEb/lC,MAAQxG,KAAKqd,MAAM+rB,KAAO,GAAKppC,KAAKqd,MAAM+rB,KAAO,IACjDoD,WACGxsC,KAAKqd,MAAMypB,OAAS,GAAK9mC,KAAKqd,MAAM+rB,KAAO,IAC5C,yCAA2C,KAI/C,kBAAC/2B,EAAA,EAAD,CACEyC,QAAQ,SACRzP,MAAO,CACLwC,SAAU,WACV/C,IAAM9E,KAAKqd,MAAM+rB,KAAO,GAAKppC,KAAKqd,MAAM+rB,KAAO,KAAQ,IAAM,GAC7DzkC,KAAM,GACNC,MAAO,KANX,OAWF,kBAACwR,EAAA,EAAD,CAAMd,MAAI,GACV,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAAC5kB,GAAA,EAAD,CACE3M,GAAG,cACH5W,MAAO7D,KAAKqd,MAAMX,OAClBoG,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAExB,OAAQ7Y,KAE1BnD,KAAK,SACLwiB,MAAM,cACNmpB,gBAAiB,CACfC,QAAQ,GAEVzY,WAAa,CACXlkB,IAAK,EACL0L,IAAK,IACLkxB,UAAW,GAEb/lC,MAAQxG,KAAKqd,MAAMX,OAAS,GAAK1c,KAAKqd,MAAMX,OAAS,IACrD8vB,WACGxsC,KAAKqd,MAAMX,OAAS,GAAK1c,KAAKqd,MAAMX,OAAS,IAC9C,yCAA2C,KAI/C,kBAACrK,EAAA,EAAD,CACEyC,QAAQ,SACRzP,MAAO,CACLwC,SAAU,WACV/C,IAAM9E,KAAKqd,MAAMX,OAAS,GAAK1c,KAAKqd,MAAMX,OAAS,KAAQ,IAAM,GACjE/X,KAAM,GACNC,MAAO,KANX,OAWF,kBAACwR,EAAA,EAAD,CAAMd,MAAI,GACV,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAAC5kB,GAAA,EAAD,CACE3M,GAAG,WACH5W,MAAO7D,KAAKqd,MAAMZ,IAClBqG,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAEzB,IAAK5Y,KAEvBnD,KAAK,SACLwiB,MAAM,WACNmpB,gBAAiB,CACfC,QAAQ,GAEVzY,WAAa,CACXlkB,IAAK,EACL0L,IAAK,GACLkxB,UAAW,GAEb/lC,MAAQxG,KAAKqd,MAAMZ,IAAM,GAAKzc,KAAKqd,MAAMZ,IAAM,GAC/C+vB,WACGxsC,KAAKqd,MAAMZ,IAAM,GAAKzc,KAAKqd,MAAMZ,IAAM,GACxC,wCAA0C,KAI9C,kBAACpK,EAAA,EAAD,CACEyC,QAAQ,SACRzP,MAAO,CACLwC,SAAU,WACV/C,IAAM9E,KAAKqd,MAAMZ,IAAM,GAAKzc,KAAKqd,MAAMZ,IAAM,IAAO,IAAM,GAC1D9X,KAAM,GACNC,MAAO,KANX,OAWF,kBAACwR,EAAA,EAAD,CAAMd,MAAI,GACV,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAAC5kB,GAAA,EAAD,CACE3M,GAAG,aACH5W,MAAO7D,KAAKqd,MAAMuoB,MAClB9iB,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAE0nB,MAAO/hC,KAEzBnD,KAAK,SACLwiB,MAAM,cACNmpB,gBAAiB,CACfC,QAAQ,GAEVzY,WAAa,CACXlkB,IAAK,EACL0L,IAAK,IACLkxB,UAAW,GAEb/lC,MAAQxG,KAAKqd,MAAMuoB,MAAQ,GAAK5lC,KAAKqd,MAAMuoB,MAAQ,IACnD4G,WACGxsC,KAAKqd,MAAMuoB,MAAQ,GAAK5lC,KAAKqd,MAAMuoB,MAAQ,IAC5C,yCAA2C,KAI/C,kBAACvzB,EAAA,EAAD,CACEyC,QAAQ,SACRzP,MAAO,CACLwC,SAAU,WACV/C,IAAM9E,KAAKqd,MAAMuoB,MAAQ,GAAK5lC,KAAKqd,MAAMuoB,MAAQ,KAAQ,IAAM,GAC/DjhC,KAAM,GACNC,MAAO,KANX,QAaJ,kBAACwR,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,kBAACiuB,GAAA,EAAD,CAAW0J,KAAG,GACZ,kBAACzJ,GAAA,EAAD,CACEvP,QACE,kBAACwP,GAAA,EAAD,CACE5P,QAASvzB,KAAKqd,MAAMisB,SACpBxmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEorB,SAAUvmB,EAAE0D,OAAO8M,WAErCnsB,KAAK,kBAGT8b,MAAM,aAEkB,aAAxBljB,KAAKqd,MAAM0sB,UACb,kBAAC7G,GAAA,EAAD,CACEvP,QACE,kBAACwP,GAAA,EAAD,CACE5P,QAASvzB,KAAKqd,MAAMksB,KACpBzmB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEqrB,KAAMxmB,EAAE0D,OAAO8M,WAEjCnsB,KAAK,cAGT8b,MAAM,gBAKc,WAAxBljB,KAAKqd,MAAM0sB,UAAyB/pC,KAAKqd,MAAMisB,UAC/C,oCACA,kBAAClzB,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,SAAf,qBACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,QACRtoC,MAAO7D,KAAKqd,MAAMmsB,UAClB1mB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEsrB,UAAWzmB,EAAE0D,OAAO5iB,UAGvC7D,KAAKqd,MAAM+sB,YAAc1mC,OAAO+oC,QAAQzsC,KAAKqd,MAAM+sB,YAAYtoB,KAAI,SAAC4qB,EAASl5B,GAC5E,OACE,kBAAC44B,GAAA,EAAD,CAAU54B,IAAKA,EAAK3P,MAAO6oC,EAAQ,IAAKA,EAAQ,UAMxD,kBAACt2B,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,kBAACguB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,aAC9B,kBAACC,GAAA,EAAD,CAAYxxB,GAAG,WAAf,gBACA,kBAACyxB,GAAA,EAAD,CACEC,QAAQ,UACRtoC,MAAO7D,KAAKqd,MAAMosB,aAClB3mB,SAAU,SAACC,GACT,EAAK7E,SAAS,CAAEurB,aAAc1mB,EAAE0D,OAAO5iB,UAG1C7D,KAAKqd,MAAMgtB,eAAiB3mC,OAAO+oC,QAAQzsC,KAAKqd,MAAMgtB,eAAevoB,KAAI,SAAC4qB,EAASl5B,GAClF,OACE,kBAAC44B,GAAA,EAAD,CAAU54B,IAAKA,EAAK3P,MAAO6oC,EAAQ,IAAKA,EAAQ,WAQ1D,kBAACt2B,EAAA,EAAD,CAAMd,MAAI,GACV,kBAAC0tB,GAAA,EAAD,CAAa9wB,UAAWF,EAAQg6B,YAAa3mC,MAAO,CAACyP,QAAQ,SAC3D,kBAACsS,GAAA,EAAD,CACE3M,GAAG,iBACH5W,MAAO7D,KAAKqd,MAAMysB,QAClBhnB,SAAU,SAACC,GAAO,IACRlf,EAAUkf,EAAE0D,OAAZ5iB,MACR,EAAKqa,SAAS,CAAE4rB,QAASjmC,IACzBjE,QAAQkT,IAAI,EAAKuK,MAAMysB,UAEzBppC,KAAK,OACLwiB,MAAM,oBAIV,kBAAC9M,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAAChQ,MAAO,CAAE2P,UAAW,GAAID,eAAe,SAAUG,cAAc,WAChF,kBAACsB,EAAA,EAAD,CACElE,QAAQ,YACR3H,MAAM,UACNtF,MAAO,CAAC+P,aAAa,GACrBrD,QAAO,sBAAE,sBAAApB,EAAA,6DAEP,EAAKuN,SAAS,CAAEyrB,YAAY,IAFrB,SAGD,EAAKiD,sBAAsB,EAAKvvB,MAAMoW,QAAQpkB,UAAU,GAHvD,4CAJX,gBAYA,kBAACmH,EAAA,EAAD,CACElE,QAAQ,YACR3H,MAAM,UACNoH,QAAO,sBAAE,sBAAApB,EAAA,6DAEP,EAAKuN,SAAS,CAAEyrB,YAAY,IAFrB,SAGD,EAAKiD,sBAAsB,EAAKvvB,MAAMoW,QAAQpkB,UAAU,GAHvD,4CAHX,sBAgBZ,kBAAC,GAAD,UAMHrP,KAAKqd,MAAMkI,SACV,oCACE,yBACEtD,IAAI,QACJC,IAAKyE,KACLthB,MAAO,CACLT,MAAO,IACPG,OAAQ,IACR6P,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,uBAGT,wBACEO,MAAO,CACLT,MAAO,IACPgQ,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,oBACL6M,UAAW,WAPf,mBAcJ,kBAACqP,GAAA,EAAD,CACEC,KAAMjhB,KAAKqd,MAAMwsB,UACjBnoB,QAAS,WACP,EAAKxD,SAAS,CAAE2rB,WAAW,IAC3B,EAAKr0B,MAAMkM,WAEb6pB,sBAAsB,EACtBsB,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAAC5rB,GAAA,EAAD,CAAazG,GAAG,sBAAsB,oBACtC,kBAAC0G,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3G,GAAG,4BAAtB,gEAIF,kBAAC4G,GAAA,EAAD,KACE,kBAAC7K,EAAA,EAAD,CAAQzE,QAAS,WACb,EAAKmM,SAAS,CAAE2rB,WAAW,IAC3B,EAAKr0B,MAAMkM,WAEb/W,MAAM,UAAUuH,UAAWF,EAAQ+6B,SAAUxrB,WAAS,GAJxD,c,gDA1pBkB/L,EAAO6H,GACrC,MAAO,CAAE2rB,MAAOxzB,EAAMwzB,W,GAhHDzlB,aAyxBVE,iBA5nCA,SAACC,GAAD,MAAY,CACzBsoB,YAAa,CACX7oB,SAAU,IACV,oCAAqC,CACnCxY,MAAO,QAET,wBAAyB,CACvBA,MAAO,QAET,uCAAwC,CACtCA,MAAO,QAET,uFAAwF,CACtFA,MAAO,OACPwY,SAAU,KAEZ,oBAAqB,CACnBxY,MAAO,QAET,gCAAiC,CAC/BA,MAAO,QAGX+gC,cAAe,CACb12B,UAAW,GACXpQ,MAAO,KAETooC,OAAQ,CACNpoC,MAAO,KAETmnC,gBAAiB,CACfnnC,MAAO,QAET6P,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEds2B,eAAgB,CACd5jC,SAAU,QACV/C,IAAK,EACL6Q,MAAO,GAET61B,aAAc,CACZ3jC,SAAU,QACV/C,IAAK,EACLH,KAAM,EACNiQ,OAAQ,IACR+O,gBAAiB,UACjBhZ,MAAO,QACPmZ,aAAc,OACd,UAAW,CACTH,gBAAiB,cAGrBopB,SAAU,CACRppB,gBAAiB,UACjBhZ,MAAO,QACPkZ,YAAa,GACbzO,aAAc,OAkkCHqO,CAAmBslB,IChoC5Bz3B,GAAYC,aAAW,SAACmS,GAAD,MAAY,CACvCjP,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJvQ,OAAQ,QACRwQ,QAAS,UAEX03B,MAAO,CACLplC,SAAU,WACVlD,KAAM,MACNG,IAAK,MACLonB,UAAW,wBACXtnB,MAAO,OAETsoC,eAAgB,CACd33B,QAAS,OACT3Q,MAAO,IACP,OAAQ,CACN8P,SAAU,SACVM,UAAW,SAGfm4B,YAAa,CACXvoC,MAAO,QACPG,OAAQ,OACRuT,UAAW,SACXtD,UAAW,OACXI,aAAc,QAEhBg4B,cAAe,CACb17B,OAAQ,oBACRgT,aAAc,EACd9f,MAAO,QACP2Q,QAAS,UAEXy3B,OAAQ,CACNK,SAAU,OACV9oB,WAAY,OACZ,UAAW,CACThP,QAAS,MACT5D,UAAW,WAGf27B,QAAS,CACPvoC,OAAQ,OACRwoC,OAAQ,UACR,+BAAgC,CAC9B5pB,gBAAiBD,EAAM8pB,QAAQC,UAAUC,OAG7Cza,SAAU,GACV0a,MAAO,GACPv2B,KAAM,CACJ1C,SAAU,QACVk5B,WAAY,QAEdC,cAAe,CACbC,UAAW,QACXrpB,SAAU,OACV7f,MAAO,QAETmpC,aAAc,CACZtpB,SAAU,SACV1f,OAAQ,SAEVipC,KAAM,CACJppC,MAAO,YA0CX,SAASqpC,GAASC,GAChB,IAAIC,EAAY,CACd,KACA,SACA,KACA,SACA,OACA,OACA,OACA,OACA,OACA,QAGF,IAAK,IAAI3a,KAAO2a,EACd,GAAID,EAASE,SAASD,EAAU3a,IAC9B,OAAO,EAIX,OAAO,EAGT,SAAS6a,GAAkBC,EAAG7zB,EAAImT,GAEhC,GAAI0gB,IAAM7zB,EACR,OAAOmT,EAET,IAAIgD,EAAQ2d,EACZ,IAAKA,KAAKD,EACR,GAAIA,EAAEtG,eAAeuG,IAAsB,kBAATD,EAAEC,IAC9BN,GAASM,KACX3gB,EAAK1hB,KAAKqiC,GACV3d,EAASyd,GAAkBC,EAAEC,GAAI9zB,EAAImT,IAEnC,OAAOgD,EAKf,OAAOhD,EA4DT,IAogBe4gB,GApgBK,SAAC,GAMd,IALL7E,EAKI,EALJA,WACA8E,EAII,EAJJA,cACAV,EAGI,EAHJA,aACAW,EAEI,EAFJA,OACAllC,EACI,EADJA,OAEMwI,EAAUV,KADZ,EAE4B0E,mBAAS,IAFrC,mBAEGid,EAFH,KAEa0b,EAFb,OAG0B34B,oBAAS,GAHnC,mBAGGuP,EAHH,KAGYC,EAHZ,OAIsBxP,mBAAS,IAJ/B,mBAIGwe,EAJH,KAIUoa,EAJV,OAK8B54B,mBAAS,IALvC,mBAKG64B,EALH,KAKcC,EALd,OAMkC94B,mBAAS,GAN3C,mBAMG+4B,EANH,KAMgBC,EANhB,OAOkCh5B,mBAAS,GAP3C,mBAOGi5B,EAPH,KAOgBC,EAPhB,OAQoCl5B,mBAAS,GAR7C,mBAQGm5B,EARH,KAQiBC,EARjB,OASkCp5B,mBAAS,IAT3C,mBASGq5B,EATH,KASgBC,EAThB,OAU4Ct5B,mBAAS,IAVrD,oBAUGu5B,GAVH,MAUqBC,GAVrB,SAW8Bx5B,oBAAS,GAXvC,qBAWGy5B,GAXH,MAWcC,GAXd,SAYkC15B,oBAAS,GAZ3C,qBAYgB25B,IAZhB,gBAa8B35B,oBAAS,GAbvC,qBAaG2H,GAbH,MAac7H,GAbd,SAcoCE,mBAAS,IAd7C,qBAcG4H,GAdH,MAciB7H,GAdjB,SAegCC,mBAAS,GAfzC,qBAeGgC,GAfH,MAeeC,GAff,MA4CJ5G,qBAAU,WACR,GAAIs4B,EAAY,KAICiG,EAJD,uCAId,4BAAAj/B,EAAA,yDAEMsD,EAAW,KAEM,UAAjB85B,EAJN,gCAKqB75B,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,sBAAyD,CAC7EC,OAAQ,QANd,OAKIL,EALJ,8CASUC,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,4BAA+D,CACxEC,OAAQ,SAVd,wBAYqBJ,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,0BAA6D,CACjFC,OAAQ,QAbd,QAYIL,EAZJ,wCAgBSA,EAASM,QAhBlB,4CAJc,qDACdiR,GAAW,GAsBXoqB,IAAWv8B,MAAK,SAACC,GACf,GAAqB,UAAjBy6B,EACFa,EAASt7B,EAAKkhB,OACd0a,EAAe57B,EAAKu8B,MACpBT,EAAgB97B,EAAKw8B,OACrBd,EAAe17B,EAAKw8B,MAAQx8B,EAAKu8B,UAC5B,CACL,IAAIE,EA3Nd,SAAiBvb,GACf,IAAIub,EAAW,GAEf,GAAIvb,aAAiBwb,SAAU,EAC7B,MAAM,IAAIpM,MAAM,4CAA8CpP,GA+BhE,OA5BAA,EAAMyb,SAAQ,SAAuBtd,GACnC,IACIob,EADWpb,EAAK7d,QACQrE,MAAM,KAGlC,GAA4B,IAAxBs9B,EAAazsC,OACf,OAAQyuC,EAAShC,EAAa,IAAMpb,EAGtCob,EAAamC,QAAO,SAClBC,EACAC,EACA/uC,EACAgvC,GAUA,OARIhvC,IAAMgvC,EAAS/uC,OAAS,IAC1B6uC,EAAQC,GAAWzd,GAGhBwd,EAAQnI,eAAeoI,KAC1BD,EAAQC,GAAW,IAGdD,EAAQC,KAEjBL,MAGKA,EAwLgBO,CAAQh9B,EAAKkhB,OAC5Boa,EAASmB,GACTjB,EAAaiB,GAEfvqB,GAAW,SAId,CAACmkB,EAAYoE,IAEhB,IAAMwC,GAAiB,WAAM,4CAI3B,4BAAA5/B,EAAA,sEAEyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,iCACiC4e,GAC3D,CACE3e,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAPxB,cAEQnE,EAFR,yBAWSA,EAASM,QAXlB,4CAJ2B,sBAC3B3U,QAAQkT,IAAImgB,GACZzN,GAAW,GACXipB,GAAc,GAHa,0CAiB3Bt2B,GAAe9E,MAAK,SAACC,GACnB1T,QAAQkT,IAAIQ,GACZkS,GAAW,GAEPlS,EAAK0F,SACPjD,GAAgB,kCAChBD,IAAa,GACbmD,YAAW,YA3FK,SAAhBC,IACJhF,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,gBAAmD,CACtDC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAEjBe,OAAM,SAACC,GAELpB,GAVe,EAWhBiB,YAAW,WACThB,GAAcD,GAAW,GACzBkB,MACC,MAEHnD,GAAgB,wDAChBD,IAAa,OA8EXoD,KACC,OAEHnD,GAAgB,yDAChBD,IAAa,QAgEb06B,GAAa,SAACC,GACdlB,KACFF,EAAYE,IAAoBkB,EAChCnB,EAAeD,IAEjBT,EAAS6B,IAaX,OACE,8BACI/B,IAAWllC,GACX,kBAAC6W,EAAA,EAAD,CAAQxY,SAAS,UACf,kBAACwK,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAAEsM,UAAW,WAA7C,iBACiBwC,OAAOC,SAASC,WAIrC,yBAAKnC,UAAWF,EAAQyC,SACpBi6B,IAAWllC,GACX,wBAAInE,MAAO,CAACkf,WAAY,KAEW,QAA/BwpB,EAAa2C,cAA0B,YAAc,oBAIzDhC,IAAWllC,GACb,kBAACmX,EAAA,EAAD,CAAYpI,aAAW,OAAOxG,QAAS,kBAtB3C68B,EAAS,SACTH,GAAc,IAqBgDppC,MAAO,CAAEwC,SAAS,WAAY8N,MAAM,IAC5F,kBAACg7B,GAAA,EAAD,QAIc,QAAjB5C,GACC,kBAACxtB,EAAA,EAAD,CAAWrO,UAAWF,EAAQ67B,eAC5B,kBAACz3B,EAAA,EAAD,CAAMf,WAAS,EAACiB,UAAU,MAAMjR,MAAO,CAACq7B,WAAY,YAClD,kBAACtqB,EAAA,EAAD,CACEd,MAAI,EACJjQ,MAAO,CAAEiT,UAAW,UACpBvG,QAAS,kBAAMy+B,GAAW3B,KAE1B,kBAACx8B,EAAA,EAAD,CAAYC,QAAQ,MAClB,kBAACqO,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAAC,KAAD,SArSlB,SAA0Ba,EAAW4B,GACnC,IAAIG,EAAY,GACZzC,EAAY,CACd,KACA,SACA,KACA,SACA,OACA,OACA,OACA,OACA,OACA,QAEE0C,EAAWntC,OAAOuzB,KAAKwZ,GAE3B,IAAK,IAAIK,KAAWD,EAClB,IAAK,IAAIrd,KAAO2a,EAAW,CACzB,GAAI0C,EAASC,GAAS1C,SAASD,EAAU3a,KACvC,GAAIid,EAASI,EAASC,IAAU9I,eAAe,WAI7C,OAFA4I,EADYH,EAASI,EAASC,IAAUh8B,QAAQrE,MAAM,MAE5CsgC,MACHH,OAGTA,EAAYvC,GAAkBQ,EAAW4B,EAAU,IAIzD,OAAOG,EA2QII,CAAiBnC,EAAWra,GAAO1S,KAAI,SAACmvB,EAAQnhB,EAAT,GAA8B,IAAbxuB,EAAY,EAAZA,OACvD,OAAI2sC,GAASgD,GAET,kBAAC76B,EAAA,EAAD,CACEd,MAAI,EACJjQ,MAAO,CAAEiT,UAAW,UACpBvG,QAAS,kBAAMy+B,GAAWnB,EAAY4B,KACtCz9B,IAAKy9B,GAEL,kBAAC5+B,EAAA,EAAD,CAAYC,QAAQ,MAClB,kBAACqO,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAACv1B,EAAA,EAAD,OAEDqX,EAAQ,IAAMxuB,GACb,kBAACqf,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAACkD,GAAA,EAAD,OAGHD,IAKA,0CAMhB1rB,EACC,kBAACiC,GAAA,EAAD,CAAUtV,UAAWF,EAAQ2C,SAAUsM,MAAM,GAC3C,yBACEgB,IAAI,QACJC,IAAKyE,KACLthB,MAAO,CAAET,MAAO,IAAKG,OAAQ,IAAK6P,OAAQ,aAI9C,kBAAC2L,EAAA,EAAD,CAAWrO,UAAWF,EAAQ67B,eAC5B,kBAACsD,GAAA,EAAD,CAAgBj/B,UAAWF,EAAQsgB,UACjC,kBAAC8e,GAAA,EAAD,CAAOC,cAAY,GACjB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,aACA,kBAACA,GAAA,EAAD,eAGJ,kBAACC,GAAA,EAAD,KACoB,UAAjB1D,EACGvZ,GACAA,EAAM1S,KAAI,SAAC6Q,EAAM7C,GAEf,IAAI4e,IA7S1B,SAAyBR,GACvB,IAAK,IAAI1a,KAAOke,GACd,GAAGA,GAAele,GAAKpsB,MAAQ8mC,EAC7B,OAAO,EAGX,OAAO,EAuS4ByD,CAAgBhf,EAAKvrB,MAClC,OACE,kBAACmqC,GAAA,EAAD,CACE/9B,IAAKmf,EAAK7d,QACV/C,QAAS,kBAAM48B,EAAYhc,EAAK7d,UAChCme,SAAUA,IAAaN,EAAK7d,QAC5B5C,UAAWF,EAAQs7B,QACnBt7B,QAAS,CACPihB,SAAUjhB,EAAQihB,SAClB0a,MAAO37B,EAAQ27B,QAGjB,kBAAC6D,GAAA,EAAD,KACE,kBAAC7wB,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAC/CU,EACC,kBAACra,GAAA,EAAD,MAEA,kBAACud,GAAA,EAAD,OAGHjf,EAAK7d,SAER,kBAAC08B,GAAA,EAAD,KAAYj/B,EAAYogB,EAAKrpB,WAMrCkrB,GACA9wB,OAAOuzB,KAAKzC,GAAO1S,KAAI,SAAC6Q,EAAM7C,GAC5B,GAAIme,GAAStb,GACX,OACE,kBAAC4e,GAAA,EAAD,CACE/9B,IAAKmf,EACL5gB,QAAS,kBArIX0+B,EAqIgCjc,EAAM7B,GApI5D6c,GAoImE7c,QAnInEgc,EAAY8B,GAFS,IAACA,GAsIExd,SAAUA,IAAauB,EAAM7B,GAC7BzgB,UAAWF,EAAQs7B,QACnBt7B,QAAS,CACPihB,SAAUjhB,EAAQihB,SAClB0a,MAAO37B,EAAQ27B,QAGjB,kBAAC6D,GAAA,EAAD,CAAWnsC,MAAO,CAChBT,MAAO4E,EAAS,QAAU,SAE1B,kBAACmX,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAAC6D,GAAA,EAAD,OAEDlf,GAEH,kBAAC6e,GAAA,EAAD,CAAWnsC,MAAO,CAAC8d,SAAU,MAC1B5Q,EA/W/B,SAAS6iB,EAAQZ,GACf,IAAIlrB,EAAO,EAWX,OAVA5F,OAAOuzB,KAAKzC,GAAOyb,SAAQ,SAACz8B,EAAKnS,GAC3BmzB,EAAMhhB,GAAKw0B,eAAe,QAC5B1+B,GAAQkrB,EAAMhhB,GAAKlK,KAEK,iBAAdkrB,EAAMhhB,KACdlK,GAAQ8rB,EAAQZ,EAAMhhB,QAKrBlK,EAmWkC8rB,CAAQZ,EAAM7B,OAKjC,IACG6B,EAAM7B,GAAM7d,QAAQg9B,SAAS,SAC9Btd,EAAM7B,GAAM7d,QAAQg9B,SAAS,UAC7B,+BAA+BC,KAAKpf,IAEpC,GAAGnpB,EACD,OACE,kBAAC+nC,GAAA,EAAD,CACE/9B,IAAKmf,EACL5gB,QAAS,kBAAM48B,EAAYna,EAAM7B,GAAM7d,UACvCme,SAAUA,IAAauB,EAAM7B,GAAM7d,QACnC5C,UAAWF,EAAQs7B,QACnBt7B,QAAS,CACPihB,SAAUjhB,EAAQihB,SAClB0a,MAAO37B,EAAQ27B,QAGjB,kBAAC6D,GAAA,EAAD,CAAWnsC,MAAO,CAACT,MAAO,UACxB,kBAAC+b,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAACgE,GAAA,EAAD,OAEDrf,GAEH,kBAAC6e,GAAA,EAAD,KAAYj/B,EAAYiiB,EAAM7B,GAAMrpB,aAK1C,IAAIE,IACFgrB,EAAM7B,GAAM7d,QAAQg9B,SAAS,UAC7Btd,EAAM7B,GAAM7d,QAAQg9B,SAAS,QAE7B,OACE,kBAACP,GAAA,EAAD,CACE/9B,IAAKmf,EACL5gB,QAAS,kBAAM48B,EAAYna,EAAM7B,GAAM7d,UACvCme,SAAUA,IAAauB,EAAM7B,GAAM7d,QACnC5C,UAAWF,EAAQs7B,QACnBt7B,QAAS,CACPihB,SAAUjhB,EAAQihB,SAClB0a,MAAO37B,EAAQ27B,QAGjB,kBAAC6D,GAAA,EAAD,KACG7e,EAAKyb,SAAS,OACfzb,EAAKyb,SAAS,WACdzb,EAAKyb,SAAS,OACdzb,EAAKyb,SAAS,UACZ,kBAACztB,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAAC4D,GAAA,EAAD,OAGF,kBAACjxB,EAAA,EAAD,CAAYpI,aAAW,OAAQrG,UAAWF,EAAQg8B,MAChD,kBAACiE,GAAA,EAAD,OAGHtf,GAEH,kBAAC6e,GAAA,EAAD,KAAYj/B,EAAYiiB,EAAM7B,GAAMrpB,eAY9D,kBAAC8M,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVoC,QAAQ,eACRvD,WAAW,UAEZu5B,EACC,kBAACt4B,EAAA,EAAD,CACEf,WAAS,EACTqD,QAAQ,SACRvD,WAAW,UAEX,kBAACqB,EAAA,EAAD,CACElE,QAAQ,YACR+G,SAAU4Z,EAAS3xB,QAAU,EAC7ByQ,QAAS,kBA5QjByT,GAAW,QAEXtR,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,oCAA+D4e,GAAY,CAC9E3e,OAAQ,SACR8D,QAAS,CAAE,eAAgB,sBAC1B/E,MAAK,SAAAY,GAAQ,OAAIA,EAASM,UAAQlB,MAAK,SAACC,GACzCY,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,sBAAyD,CAC5DC,OAAQ,MACR8D,QAAS,CAAE,eAAgB,sBAC1B/E,MAAK,SAAAY,GAAQ,OAAIA,EAASM,UAAQlB,MAAK,SAACC,GACzCkS,GAAW,GACXopB,EAASt7B,EAAKkhB,OACd0a,EAAe57B,EAAKu8B,MACpBT,EAAgB97B,EAAKw8B,OACrBd,EAAe17B,EAAKw8B,MAAQx8B,EAAKu8B,aA+P7B39B,UAAWF,EAAQm7B,aAJrB,UASA,kBAAC96B,EAAA,EAAD,CAAYC,QAAQ,MAEhBC,EAAYw8B,GAFhB,YAIIx8B,EAAY48B,GAJhB,mBAMI58B,EAAY08B,GANhB,eAUoB,kBAAbhc,IACVA,EAASmb,SAAS,OACjBnb,EAASmb,SAAS,WAClBnb,EAASmb,SAAS,OAClBnb,EAASmb,SAAS,WAClB,kBAAC53B,EAAA,EAAD,CACElE,QAAQ,YACR+G,SAAU4Z,EAAS3xB,QAAU,EAC7ByQ,QAAS,kBA3UI,WAGnB,GAFAnS,QAAQkT,IAAImgB,GACZzN,GAAW,GACU,UAAjBuoB,EAA0B,CAE5B,IAAImE,EAAgBjf,EAASxiB,MAAM,MAAMsgC,MAAMtgC,MAAM,KAAKsgC,MAC1D78B,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,4BAAuD69B,GAAiB,CAC3E59B,OAAQ,OACR8D,QAAS,CAAE,eAAgB,sBAC1B/E,MAAK,SAACC,GACPkS,GAAW,GACXipB,GAAc,kBAAM,KAEpBE,EAAY,IACZgB,IAAe,GACfD,IAAa,WAGbx7B,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,iCAA4D4e,GAAY,CAC3E3e,OAAQ,OACR8D,QAAS,CAAE,eAAgB,sBAC1B/E,MAAK,SAACC,GACP,IAAI4+B,EAAgBjf,EAASxiB,MAAM,MAAMsgC,MAAMtgC,MAAM,KAAKsgC,MAC1D78B,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,4BAAuD69B,GAAiB,CAC3E59B,OAAQ,OACR8D,QAAS,CAAE,eAAgB,sBAC1B/E,MAAK,SAACC,GACPkS,GAAW,GACXipB,GAAc,kBAAM,KAEpBE,EAAY,IACZgB,IAAe,GACfD,IAAa,SA2SAyC,IACfjgC,UAAWF,EAAQm7B,aAJrB,SAQsB,kBAAbla,EACT,kBAACzc,EAAA,EAAD,CACElE,QAAQ,YACR+G,SAAU4Z,EAAS3xB,QAAU,EAC7ByQ,QAAS,kBAAMy+B,GAAWvd,IAC1B/gB,UAAWF,EAAQm7B,aAJrB,eAQE3jC,IACDypB,EAASmb,SAAS,SAAWnb,EAASmb,SAAS,WAC/C,mCAAmC2D,KAAK9e,IACzC,+BAA+B8e,KAAK9e,IAEnC,kBAACzc,EAAA,EAAD,CACElE,QAAQ,YACR+G,SAAU4Z,EAAS3xB,QAAU,EAC7ByQ,QAAS,kBAAMw+B,MACfr+B,UAAWF,EAAQm7B,aAJrB,mBASD,kBAAC32B,EAAA,EAAD,CACElE,QAAQ,YACR+G,SAAU4Z,EAAS3xB,QAAU,EAC7ByQ,QAAS,WACPyT,GAAW,GACXkqB,IAAa,IAEfx9B,UAAWF,EAAQm7B,aAPrB,UAaF,kBAAC,GAAD,CACExa,KAAMM,EACN+V,MAAOyG,GACP/tB,QAAS,WACPguB,IAAa,GACblqB,GAAW,MAGf,kBAAChE,EAAA,EAAD,CACEP,KAAMtD,GACN8D,iBAAkB,IAClBpJ,QAASuF,GACT8D,QAjdmB,WACvB5L,IAAa,kBAAM,KACnBC,GAAgB,SC7QdzE,I,OAAYC,YAAW,CAC3Bw6B,gBAAiB,CACfnnC,MAAO,QAETiQ,gBAAiB,CACfC,QAAS,OACTC,eAAgB,SAChBC,UAAW,QAEboU,WAAY,CACVzX,UAAW,SACXqD,UAAW,QAEbxD,KAAM,CACJC,OAAQ,OACRC,OAAQ,gCACRC,UAAW,UAEbygC,YAAa,CACXt9B,QAAS,OACTI,cAAe,MACfH,eAAgB,SAChBI,WAAY,UAEd43B,SAAU,CACRppB,gBAAiB,UACjBhZ,MAAO,QACPkZ,YAAa,GACbzO,aAAc,OAclB,SAASi9B,GAAeC,GACpB,GAAGA,EAAEzuC,MAAM,CACP,IACIyuC,EAAEzuC,MAAQ,GACb,MAAMuV,IACP,GAAGk5B,EAAEzuC,MAAM,CACP,IAAI0uC,EAAOzyC,SAAS0yC,cAAc,QAC9BC,EAAaH,EAAEG,WAAY/c,EAAM4c,EAAEI,YACvCH,EAAKI,YAAYL,GACjBC,EAAK1Z,QACL4Z,EAAWG,aAAaN,EAAE5c,KAKtC,IAuRemd,GAvRD,SAAC,GAAqC,IAAnC5oB,EAAkC,EAAlCA,YAAaE,EAAqB,EAArBA,eACtBnY,EAAUV,KADiC,EAEzB0E,mBAAS,CAC/B88B,SAAU,EACVr2B,IAAK,EACLs2B,WAAW,EACXC,KAAM,IACNrgB,MAAO,EACP6B,MAAO,GACPye,UAAU,EACVC,SAAU,EACV5oB,QAAQ,IAXuC,gCAapBtU,oBAAS,IAbW,gCAcrBA,mBAAS,OAdY,gCAebA,mBAAS,OAfI,mBAe1Cm9B,EAf0C,KAe9BC,EAf8B,OAgBjBp9B,mBAAS,MAhBQ,mBAgB1Cq9B,EAhB0C,KAgBhCC,EAhBgC,OAiBPt9B,mBAAS,MAjBF,mBAiB1CkU,EAjB0C,KAiB3BqpB,EAjB2B,OAkBLv9B,oBAAS,GAlBJ,mBAkB1Cw9B,EAlB0C,KAkB1BC,EAlB0B,OAmBTz9B,mBAAS,IAnBA,mBAmB1C+3B,EAnB0C,KAmB5B2F,EAnB4B,OAoBP19B,mBAAS,MApBF,mBAoB1Cwc,EApB0C,KAoB3BC,EApB2B,OAqBLzc,oBAAS,GArBJ,mBAqB1C29B,EArB0C,KAqB1BC,EArB0B,OAsBb59B,mBAAS,MAtBI,mBAsB1C69B,EAtB0C,KAsB9BC,EAtB8B,OAuBT99B,oBAAS,GAvBA,oCAwBrBA,mBAAS,OAxBY,qBAwB1C+9B,GAxB0C,MAwBlCC,GAxBkC,SAyBrBh+B,mBAAS,MAzBY,qBA2B3Ci+B,IA3B2C,YA2B9B,SAAC7/B,GAClBs/B,EAAgBt/B,GAChBq/B,GAAkB,KAoCpB,OA5BAp3B,IAAMhL,WAAU,WACd,GACyB,qBAAhB4Y,GACPA,GAC4B,qBAArBA,EAAY3W,MACnB2W,EAAY3W,KAAKhS,OAAS,EAC1B,CACA,IAAIiT,EAAOV,KAAKsa,MAAMlE,EAAY3W,KAAK4gC,UAAU,IAE7C3/B,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQrJ,OACvD+1B,EAAc7+B,EAAK,GAAGmS,QAAQrJ,OAG5B9I,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQytB,KACvDb,EAAY/+B,EAAK,GAAGmS,QAAQytB,KAG1B5/B,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQwsB,UACvDK,EAAiBh/B,EAAK,GAAGmS,QAAQwsB,UAG/B3+B,EAAK,GAAGyzB,eAAe,WAAoD,UAAvCzzB,EAAK,GAAG6/B,OAAO9gC,KAAK+gC,gBAC1DL,IAAU,MAIb,CAAC/pB,IAGF,oCACE,kBAAC7T,EAAA,EAAD,KACG8T,GACDmpB,GACAA,EAAS1gB,KAAKvrB,MACd8iB,EAAc0B,WAAa,KAC3BunB,GACoB,gBAApBA,EAAW/7B,KACT,kBAAC,GAAD,CACE6S,YAAaA,EACbC,cAAeA,EACfC,eAAgBA,EAChBC,WAAY+oB,EAAW/7B,KACvBiT,SAAUgpB,EAAS1gB,KAAK7d,QACxBuI,MAAO81B,IAGT,kBAAC/8B,EAAA,EAAD,KACE,kBAACnE,EAAA,EAAD,CAAMC,UAAWF,EAAQR,KAAMO,QAAS,kBAAMkiC,GAAW,WACvD,kBAAC9hC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAaF,UAAWF,EAAQogC,aAC9B,kBAAC//B,EAAA,EAAD,CAAYC,QAAQ,MAApB,sBAIN,kBAACL,EAAA,EAAD,CAAMC,UAAWF,EAAQR,KAAMO,QAAS,kBAAMkiC,GAAW,SACvD,kBAAC9hC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAaF,UAAWF,EAAQogC,aAC9B,kBAAC//B,EAAA,EAAD,CAAYC,QAAQ,MAApB,gBAIN,kBAACL,EAAA,EAAD,CACEC,UAAWF,EAAQR,KACnBO,QAAS,WACPygB,EAAc8B,UAGhB,kBAACniB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAaF,UAAWF,EAAQogC,aAC9B,kBAAC//B,EAAA,EAAD,CAAYC,QAAQ,MAApB,iBACA,2BACEjN,MAAO,CAAEyP,QAAS,QAClBpU,KAAK,OACLoiB,SAAQ,uCAAE,WAAOC,GAAP,mBAAApS,EAAA,yDACJgiB,EAAO5P,EAAE0D,OAAO+N,MAAM,KACtBC,EAAQ,qBAAqBhD,KAAKkB,EAAKvrB,OAFnC,oBAKW,QADAqtB,EAAM,GAAGjW,cAJpB,iBAMJs1B,EAAcnhB,GACdihB,GAAkB,GAClBvB,GAAetvB,EAAE0D,QARb,+BAWAnT,EAAO,IAAIK,UACVC,OAAO,OAAQ+e,GAZhB,UAaaze,MAAM,UAAD,OACVC,OAAOC,SAASC,SADN,8BACoCse,EAAKvrB,MAC7D,CAAEkN,OAAQ,OAAQE,KAAMlB,IAftB,WAiBgB,MAjBhB,OAiBKgT,OAjBL,kCAmBIpS,MAAM,UAAD,OACCC,OAAOC,SAASC,SADjB,4BAC6Cse,EAAKvrB,MAC3D,CACEkN,OAAQ,OACR8D,QAAS,CAAE,eAAgB,sBAvB7B,4FAAF,sDAkCRsd,IAAK,SAACA,GACJjD,EAAiBiD,IAEnBC,OAAO,mBAwBX,kBAACiW,GAAA,EAAD,CACEC,OAAO,OACP5qB,KAAMuyB,EACN9xB,QAAS,kBAAM+xB,GAAkB,IACjCzhC,QAAS,CACP85B,MAAO95B,EAAQ+5B,kBAGjB,kBAAC,GAAD,CACE0C,cAAegF,EACf9J,WAAY6J,EACZzF,aAAcA,MAsC1B,6BACE,kBAAC33B,EAAA,EAAD,KACG+8B,GACCE,IACCA,EAAS1gB,KACR,6BACE,yBAAKzgB,UAAWF,EAAQ6C,iBACrBqV,IAC8B,MAA5BA,EAAc0B,YACe,KAA5B1B,EAAc0B,aAChBynB,GACAA,EAAS1gB,KAAK7d,SACZ,oCACE,yBAAK5C,UAAWF,EAAQoX,gBAQlC,kDAKV,kBAAC,GAAD,CACE4f,MAAO2K,EACPhhB,KAAMkhB,EACNnyB,QAAS,WACPkyB,GAAkB,MAGtB,kBAAC5yB,GAAA,EAAD,CACEC,KAAM8yB,GACNlH,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAAC5rB,GAAA,EAAD,CAAazG,GAAG,qBAAqBpV,MAAO,CAACsM,UAAU,WAAvD,mBAGA,kBAACwP,GAAA,EAAD,CAAe9b,MAAO,CAACsM,UAAU,SAC/B,kBAACyP,GAAA,EAAD,CAAmB3G,GAAG,4BACpB,wFAGJ,kBAAC4G,GAAA,EAAD,KACE,kBAAC7K,EAAA,EAAD,CAAQzE,QAAS,WACXiiC,IAAU,IAEZrpC,MAAM,UAAUuH,UAAWF,EAAQ+6B,SAAUxrB,WAAS,GAH1D,8B,UCjUJjQ,I,OAAYC,YAAW,CAC3BmR,aAAc,CACZ1N,UAAW,OACXI,aAAc,OACdzD,UAAW,UAEbwS,WAAY,CACV,WAAY,CACV1S,OAAQ,WAGZoR,KAAM,CACJ,WAAY,CACVqB,cAAe,YAKfowB,GAAQ,CAAC,GAAK,EAAK,GAAI,IA8TdC,GA5TA,SAAC,GAA6B,EAA3B1sC,SAA4B,IAAlB2sC,EAAiB,EAAjBA,WACpBxiC,EAAUV,KAD2B,EAGnB0E,mBAAS,GAHU,mBAGpC6H,EAHoC,KAG9B42B,EAH8B,OAIDz+B,oBAAS,GAJR,mBAIpC0+B,EAJoC,KAIrBC,EAJqB,OAKjB3+B,oBAAS,GALQ,mBAKpC8H,EALoC,KAK7B82B,EAL6B,KAOvCh2B,EAAY,SAAUS,GACxBnL,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,qBAAwD,CAC3DC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,oBAC3B5D,KAAMX,KAAKC,UAAU,CACnBuL,MAAOA,OAIPw1B,EAAW,SAACxuC,GAKhB6N,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,qBAAwD,CAC3DC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,oBAC3B5D,KAAMX,KAAKC,UAAU,CACnBuL,MAAM,OAAD,OAAShZ,EAAT,iBAKLyuC,EAAW,SAACzuC,EAAM0uC,GAMtB,IAAMt5B,EAAO,UAAMpV,GAAN,OAAa0uC,GAAYT,GAAMz2B,GAAQy2B,GAAMz2B,IACtDwB,EAAK,6BAAyB5D,EAAzB,uBAET,GAAW,KAARpV,EAAa,CACd,GAAGmuC,EAAa,IAEd,YADAG,GAAiB,GAInBC,GAAS,GACT37B,YAAW,WACT27B,GAAS,KACR,KAEHv1B,EAAK,6BAAyB5D,EAAzB,4BAGPvH,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,qBAAwD,CAC3DC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,oBAC3B5D,KAAMX,KAAKC,UAAU,CACnBuL,MAAOA,OAKb,OACE,kBAAC21B,GAAA,EAAD,CAAK3vC,MAAO,CAAEsM,UAAW,WACvB,kBAACU,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAAE2P,UAAW,KAA7C,YAGA,kBAACoB,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,SAASrT,MAAO,CAAE2P,UAAW,KACnD,kBAACoB,EAAA,EAAD,CAAMd,MAAI,EAACP,eAAe,SAASI,WAAW,UAC5C,kBAACqB,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRP,QAAS,WACP6M,EAAU,0BAJd,cAWJ,kBAACxI,EAAA,EAAD,CACEf,WAAS,EACTqD,QAAQ,SACRxG,UAAWF,EAAQ0Q,aACnBrM,QAAS,EACTC,UAAU,OAEV,kBAACF,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACkC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE/e,MAAOga,EACP3L,UAAWF,EAAQ6Q,KACnBC,SAAU,SAACC,EAAGtP,GAAJ,OAAYghC,EAAQhhC,KAE7B6gC,GAAMxyB,KAAI,SAACkB,GAAD,OACT,kBAACC,GAAA,EAAD,CAAKC,MAAK,UAAKF,EAAL,MAAYxP,IAAKwP,EAAG3d,MAAO,CAAE8d,SAAU,iBAKzD,kBAAC/M,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACoL,GAAI,GAAIpb,MAAO,CAAE2P,UAAW,KAC/C,kBAACoB,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJmL,GAAI,EACJ/H,QAAQ,SACRvD,WAAW,aACXkB,QAAS,GAET,kBAACD,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GAAItL,WAAW,cAC5B,kBAAC9C,EAAA,EAAD,CAAYC,QAAQ,SAApB,MAEF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACElB,MAAI,EACJ3K,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC,KAAD,QAGJ,kBAAC2E,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM8iC,EAAS,MACxBxvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC,KAAD,QAGJ,kBAAC2E,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAACgH,EAAA,EAAD,QAGJ,kBAACrC,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GAAIpb,MAAO,CAACoM,OAAO,MAGlC,kBAAC2E,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GAAItL,WAAW,cAC5B,kBAAC9C,EAAA,EAAD,CAAYC,QAAQ,SAApB,MAEF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACElB,MAAI,EACJ3K,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACR+G,SAAUyE,EACV/L,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,EAAG7M,MAAO,GAAIG,OAAQ,KAEvC,kBAAC,KAAD,QAGJ,kBAACqR,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAACjK,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACR+G,SAAUyE,EACV/L,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,EAAG7M,MAAO,GAAIG,OAAQ,KAEvC,kBAAC0T,EAAA,EAAD,SAIN,kBAACrC,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJmL,IAAE,EACFnK,UAAU,SACVnB,WAAW,SACXkB,QAAS,GAET,kBAACD,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,IACb,kBAACpO,EAAA,EAAD,CAAYC,QAAQ,SAApB,MAEF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC4R,GAAA,EAAD,QAGJ,kBAACjN,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM8iC,EAAS,MACxBxvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC,KAAD,QAGJ,kBAAC2E,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC6R,GAAA,EAAD,SAIN,kBAAClN,EAAA,EAAD,CACEf,WAAS,EACTC,MAAI,EACJmL,IAAE,EACFnK,UAAU,SACVnB,WAAW,SACXkB,QAAS,GAET,kBAACD,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,IACb,kBAACpO,EAAA,EAAD,CAAYC,QAAQ,SAApB,MAEF,kBAAC8D,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC4R,GAAA,EAAD,QAGJ,kBAACjN,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM8iC,EAAS,MACxBxvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC,KAAD,QAGJ,kBAAC2E,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACkB,EAAA,EAAD,CACE7L,MAAM,YACNrB,KAAK,QACLgJ,QAAQ,YACRP,QAAS,kBAAM+iC,EAAS,KAAK,IAC7BzvC,MAAO,CAAEoM,OAAQ,IAEjB,kBAAC6R,GAAA,EAAD,WAMV,kBAACtC,GAAA,EAAD,CACEC,KAAMyzB,EACNnJ,sBAAsB,EACtBsB,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAAC5rB,GAAA,EAAD,CAAazG,GAAG,sBAAsB,uCACtC,kBAAC0G,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3G,GAAG,4BAAtB,2DAIF,kBAAC4G,GAAA,EAAD,KACA,kBAAC7K,EAAA,EAAD,CAAQzE,QAAS,WACP4iC,GAAiB,IAEnBhqC,MAAM,UAAU4W,WAAS,EACzBlc,MAAO,CACLse,gBAAiB,UACjBhZ,MAAO,QACPkZ,YAAa,GACbzO,aAAc,KARxB,UAaE,kBAACoB,EAAA,EAAD,CAAQzE,QAAS,WACP6M,EAAU,aACV+1B,GAAiB,IAEnBhqC,MAAM,UAAU4W,WAAS,EACzBlc,MAAO,CACLse,gBAAiB,UACjBhZ,MAAO,QACPkZ,YAAa,GACbzO,aAAc,KATxB,UC/UJ9D,I,OAAYC,aAAW,SAACmS,GAAD,MAAY,CACvCqoB,gBAAiB,CACfnnC,MAAO,QAET6P,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJvQ,OAAQ,QACRwQ,QAAS,UAEX03B,MAAO,CACLplC,SAAU,WACVlD,KAAM,MACNG,IAAK,MACLonB,UAAW,wBACXtnB,MAAO,MACPG,OAAQ,OAEVmoC,eAAgB,CACdnoC,OAAQ,OACRwQ,QAAS,OACT,OAAQ,CACNb,SAAU,SACVM,UAAW,SAGfm4B,YAAa,CACXvoC,MAAO,QACPG,OAAQ,OACRuT,UAAW,SACXtD,UAAW,OACXI,aAAc,SAEhBg4B,cAAe,CACb17B,OAAQ,oBACRgT,aAAc,EACd9f,MAAO,QACP2Q,QAAS,UAEXy3B,OAAQ,CACNK,SAAU,OACV9oB,WAAY,OACZ,UAAW,CACThP,QAAS,MACT5D,UAAW,WAGf27B,QAAS,CACPvoC,OAAQ,OACRwoC,OAAQ,UACR,+BAAgC,CAC9B5pB,gBAAiBD,EAAM8pB,QAAQC,UAAUC,OAG7Cza,SAAU,GACV0a,MAAO,GACPv2B,KAAM,CACJ1C,SAAU,QACVk5B,WAAY,QAEdqH,OAAQ,CACNngC,QAAS,QAEXogC,aAAc,CACZpgC,QAAS,OACTI,cAAe,MACftQ,MAAO,KAETuwC,YAAa,CACXrgC,QAAS,OACTI,cAAe,eAgLJkgC,GA5KC,WACd,IAAIx2B,EAAY,SAAUS,GACxBnL,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,qBAAwD,CAC3DC,OAAQ,OACR8D,QAAS,CAAE,eAAgB,oBAC3B5D,KAAMX,KAAKC,UAAU,CACnBuL,MAAOA,OAKPrN,EAAUV,KAEhB,OACE,kBAAC0jC,GAAA,EAAD,CAAK3vC,MAAO,CAAEsM,UAAW,SAAUqD,UAAW,KAC5C,kBAAC3C,EAAA,EAAD,CAAYC,QAAQ,MAApB,WACA,kBAAC8D,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,UACtB,kBAACtC,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,uCACA,yBAAKpb,MAAO,CAAEyP,QAAS,OAAQI,cAAe,WAC5C,kBAAC,GAAY+W,SAAb,MACG,gBAAGrP,EAAH,EAAGA,aAAcE,EAAjB,EAAiBA,gBAAjB,OACC,oCACE,kBAACtG,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRjN,MAAO,CAAEoM,OAAQ,GACjBM,QAAS,WACP6M,EAAU,uBACVhC,EAAa,IACbE,EAAgB,OAPpB,OAYA,kBAACtG,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRjN,MAAO,CAAEoM,OAAQ,GACjBM,QAAS,WACP6M,EAAU,uBACVhC,EAAa,IACbE,EAAgB,OAPpB,QAYA,kBAACtG,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRjN,MAAO,CAAEoM,OAAQ,GACjBM,QAAS,WACP6M,EAAU,uBACVhC,EAAa,IACbE,EAAgB,OAPpB,OAYA,kBAACtG,EAAA,EAAD,CACE7L,MAAM,UACN2H,QAAQ,YACRjN,MAAO,CAAEoM,OAAQ,GACjBM,QAAS,WACP6M,EAAU,oBACVhC,EAAa,GACbE,EAAgB,KAPpB,kBAiBV,kBAAC1G,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,6BACA,kBAACrK,EAAA,EAAD,CAAMf,WAAS,EAACiB,UAAU,UACxB,kBAACF,EAAA,EAAD,CAAMd,MAAI,EAACjQ,MAAO,CAAE2P,UAAW,KAC7B,yCAEF,kBAACoB,EAAA,EAAD,CAAMd,MAAI,EAACD,WAAS,EAACqD,QAAQ,UAC3B,kBAACtC,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAAC,GAAYwL,SAAb,MACG,gBAAGzP,EAAH,EAAGA,aAAcM,EAAjB,EAAiBA,gBAAjB,OACC,kBAACu4B,GAAA,EAAD,CACE7xC,aAAc,EACdmH,MAAM,YACNmY,SAAU,SAACC,EAAGuyB,GACZx4B,EAAgBw4B,IAElBC,kBAAmB,SAACxyB,EAAGuyB,GACrBx4B,EAAgBw4B,GAChB12B,EAAU,SAAD,OAAU02B,EAAV,QAEXE,iBAAkB,2BAASh5B,EAAT,MAClBi5B,kBAAkB,OAClBt1B,KAAM,EACNxQ,IAAK,EACL0L,IAAK,IACLhW,MAAO,CAAEgoC,SAAU,SACnBxpC,MAAO2Y,QAKf,kBAACpG,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC,GAAY2W,SAAb,MACG,gBAAGvP,EAAH,EAAGA,OAAQF,EAAX,EAAWA,aAAX,OACC,yBAAKtK,UAAWF,EAAQmjC,aACtB,0BACE9vC,MAAO,CAAEsF,MAAO,UAAW/F,MAAO,KADpC,UAEK8X,EAFL,MAGA,0BACErX,MAAO,CAAEsF,MAAO,UAAW/F,MAAO,KADpC,UAEK4X,EAFL,YAQV,kBAACpG,EAAA,EAAD,CAAMd,MAAI,GACR,sCAEF,kBAACc,EAAA,EAAD,CAAMf,WAAS,EAACqD,QAAQ,UACtB,kBAACtC,EAAA,EAAD,CAAMd,MAAI,EAACmL,GAAI,GACb,kBAAC,GAAYwL,SAAb,MACG,gBAAG1P,EAAH,EAAGA,UAAWK,EAAd,EAAcA,aAAd,OACC,kBAACy4B,GAAA,EAAD,CACE7xC,aAAc,EACdmH,MAAM,YACNmY,SAAU,SAACC,EAAGuyB,GACZ14B,EAAa04B,IAEfC,kBAAmB,SAACxyB,EAAGuyB,GACrB14B,EAAa04B,GACb12B,EAAU,SAAD,OAAU02B,EAAV,QAEXE,iBAAkB,2BAASj5B,EAAT,MAClBk5B,kBAAkB,OAClBt1B,KAAM,EACNxQ,IAAK,EACL0L,IAAK,IACLhW,MAAO,CAAEgoC,SAAU,SACnBxpC,MAAO0Y,QAKf,kBAACnG,EAAA,EAAD,CAAMd,MAAI,GACR,kBAAC,GAAY2W,SAAb,MACG,gBAAGxP,EAAH,EAAGA,IAAKF,EAAR,EAAQA,UAAR,OACC,yBAAKrK,UAAWF,EAAQmjC,aACtB,0BACE9vC,MAAO,CAAEsF,MAAO,UAAW/F,MAAO,KADpC,UAEK6X,EAFL,MAGA,0BACEpX,MAAO,CAAEsF,MAAO,UAAW/F,MAAO,KADpC,UAEK2X,EAFL,iBC7LPm5B,I,OA7CC,SAACzrB,GAAiB,IAAD,EACC5N,IAAMrG,SAAS,CAAE7R,EAAG,EAAGC,EAAG,EAAGwD,EAAG,IADjC,mBACxBC,EADwB,KACd8tC,EADc,OAEKt5B,IAAMrG,SAAS,GAFpB,mBAExBw+B,EAFwB,KAEZoB,EAFY,KAqC/B,OAjCAv5B,IAAMhL,WAAU,WACd,GACyB,qBAAhB4Y,GAC4B,qBAA5BA,EAAYA,aACnBA,EAAYA,aAC4B,qBAAjCA,EAAYA,YAAY3W,MAC/B2W,EAAYA,YAAY3W,KAAKhS,OAAS,EACtC,CACA,IAAIiT,EAAOV,KAAKsa,MAAMlE,EAAYA,YAAY3W,KAAK4gC,UAAU,IAE7D,GADAt0C,QAAQkT,IAAIyB,GACRA,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQmvB,MAAM,IAC1DthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAAG7N,eAAe,SACzC,CACA,IAAI6N,EAAQthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAClCD,EAAcpsB,SAASqsB,EAAMC,MAAMC,SAKrCxhC,EAAK,GAAGyzB,eAAe,UACvBzzB,EAAK,GAAGvQ,MAAMgkC,eAAe,YAEzBzzB,EAAK,GAAGvQ,MAAMgyC,SAChBL,EAAY,CACVxxC,EAAGoQ,EAAK,GAAGvQ,MAAMgyC,QAAQ7xC,EACzBC,EAAGmQ,EAAK,GAAGvQ,MAAMgyC,QAAQ5xC,EACzBwD,EAAG2M,EAAK,GAAGvQ,MAAMgyC,QAAQpuC,OAKhC,CAACqiB,IAGF,oCACE,kBAAC,GAAD,CAAQpiB,SAAUA,EAAU2sC,WAAYA,IACxC,kBAAC,GAAD,S,8BC3BAljC,GAAYC,YAAW,CACzB0kC,mBAAoB,CAClBnhC,QAAS,OACT4B,KAAM,GAERq1B,gBAAiB,CACfnnC,MAAO,QAET6P,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJvQ,OAAQ,QACRwQ,QAAS,UAEX6B,KAAM,CACJ1C,SAAU,QACVk5B,WAAY,UAyBHsI,GAlBO,WACF5kC,KAAhB,IADwB,EAEoB0E,oBAAS,GAF7B,mBAEDy9B,GAFC,WAK1B,OACE,kBAACr9B,EAAA,EAAD,KACE,kBAAC,GAAD,CACE23B,aAAc,QACdpE,YAAY,EACZ8E,cAAegF,EACf/E,QAAQ,EACRllC,QAAQ,M,8BCwFD2sC,GAtHD,WAAO,IAAD,EACsBngC,oBAAS,GAD/B,mBACXsB,EADW,KACGC,EADH,KA4BlB,OAzBApG,GAAe,WAAM,4CAEnB,4BAAAR,EAAA,sEACyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,oCAE1B,CACEC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBANxB,cACQnE,EADR,yBAUSA,EAASM,QAVlB,4CAFmB,uBAAC,WAAD,gCAenB6hC,GAAkB/iC,MAAK,SAACC,GAEtB1T,QAAQkT,IAAIQ,GACTA,EAAK+iC,SACN9+B,EAAgBjE,EAAKgjC,mBAOzB,kBAAClgC,EAAA,EAAD,CAAMf,WAAS,EAACiB,UAAU,UAoCxB,kBAACsQ,GAAA,EAAD,CACE2vB,UACE,kBAACC,GAAA,EAAD,CAAenxC,MAAO,CAAEqP,SAAU,SAAlC,aAGF,kBAACuS,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAACojB,GAAA,EAAD,OAEF,kBAAC3iB,GAAA,EAAD,CACEC,QAAQ,mBACR0Z,UAAWiJ,GAAYC,YAI5Br/B,GACC,kBAACsP,GAAA,EAAD,CACE2vB,UACE,kBAACC,GAAA,EAAD,CAAenxC,MAAO,CAAEqP,SAAU,SAAlC,kBAGHhR,OAAO+oC,QAAQn1B,GAAcs/B,UAAU90B,KAAI,SAAC60B,EAAS7mB,GAClD,OACE,kBAAC7I,GAAA,EAAD,CAAUzT,IAAG,kBAAasc,IAC1B,kBAACgE,GAAA,EAAD,CACEC,QAAS4iB,EAAQ,GACjBlJ,UACE,yBAAK70B,wBAAyB,CAC5BC,OAAQ89B,EAAQ,GAAG79B,QAAQ,kBAAmB,QAAQA,QAAQ,SAAU,8B,8BC5E5F,IAAMxH,GAAYC,YAAW,IAgWdslC,GA/VE,WAAO,IAAD,EACyB7gC,oBAAS,GADlC,gCAEiBA,mBAAS,SAF1B,mBAEd8gC,EAFc,KAEDC,EAFC,OAGiB/gC,mBAAS,IAH1B,mBAGdghC,EAHc,KAGDC,EAHC,OAIWjhC,mBAAS,IAJpB,mBAId+zB,EAJc,KAIJmN,EAJI,OAKiBlhC,oBAAS,GAL1B,mBAKdmhC,EALc,aAMiBnhC,oBAAS,IAN1B,mBAMdohC,EANc,aAOyBphC,oBAAS,IAPlC,mBAOdqhC,EAPc,KAOGC,EAPH,OAQyBthC,oBAAS,GARlC,mBAQduhC,EARc,KAQGC,EARH,OASexhC,mBAAS,YATxB,mBASdwU,EATc,KASFC,EATE,OAUuBzU,mBAAS,MAVhC,mBAUdyhC,EAVc,KAUEC,EAVF,OAWG1hC,mBAAS,GAXZ,mBAWdmK,EAXc,KAWRtK,EAXQ,QAYiBG,mBAAS,IAZ1B,qBAYD2hC,IAZC,gBAca3hC,oBAAS,GAdtB,qBAcd2H,GAdc,MAcH7H,GAdG,SAemBE,mBAAS,IAf5B,qBAed4H,GAfc,MAeA7H,GAfA,MAgBf6O,GAAmB,WACvB9O,IAAa,kBAAM,KACnBC,GAAgB,KAGZ/D,GAAUV,KAEhBH,GAAe,WACbgC,IAAcE,MAAK,WACjB0jC,GAAe,WACb,IAAMa,EAAiB5jC,EAAW,kBAClC,OAAO4jC,GAAkC,UAE3CX,GAAe,kBAAMjjC,EAAW,qBAChCkjC,GAAY,kBAAMljC,EAAW,eAC7BsjC,EAAmBtjC,EAAW,oBAC9BwjC,EAAmBxjC,EAAW,oBAC9B2jC,GAAe3jC,EAAW,kBAI9B,IAQMsU,GAAa,SAACzkB,GAClB,IAAMgjB,EAAUhjB,EAAM2a,cACtBu4B,EAAelwB,IAGXgxB,GAAqB,SAACtkB,GAC1B,IAAI/T,EAAS,IAEV+T,GACD9I,EAAc,WACdlX,EAAW,aAAc,WACzBiM,EAAS,QAETiL,EAAc,YACdlX,EAAW,aAAc,YACzBiM,EAAS,UAGE,OAAVA,IAvEP,SAAqB4L,EAAKC,GACxB,IAAIC,EAAM,IAAIC,MACdD,EAAIE,OAAS,WAAaH,GAAS,IACnCC,EAAIG,QAAU,WAAaJ,GAAS,IACpCC,EAAIpJ,IAAMkJ,EAqENM,CADY,iBAAavX,OAAOC,SAASC,SAA7B,2BACU,SAASsX,GACzBA,IACCxX,OAAO2jC,QAAQ,uDAChBJ,EAAkB,OAlBY,2CAmB9BK,CAAav4B,GAAQnM,MAAK,SAACC,GACzB2F,YAAW,WACT/E,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,gBAAmD,CACtDC,OAAQ,OACR8D,QAAS,CACP,eAAgB,wBAGnB,SAGLqS,EAAc,gBA9BgB,4CAoCtC,WAA4BjL,GAA5B,eAAA7O,EAAA,sEAEyBuD,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,uBAA0D,CACpFC,OAAQ,OACRE,KAAMX,KAAKC,UAAU,CAAC,OAAS0L,IAC/BpH,QAAS,CAAE,eAAgB,sBAL/B,cAEQnE,EAFR,yBAOSA,EAASM,QAPlB,4CApCsC,wBA+CxC,OACE,oCACE,kBAAC6B,EAAA,EAAD,CAAMf,WAAS,EAACiB,UAAU,SAASpE,UAAWF,GAAQqD,WAEnD+hC,GACC,kBAAChhC,EAAA,EAAD,oBAEE,kBAAC/D,EAAA,EAAD,CAAY1H,MAAM,YAAY2H,QAAQ,SACnC6B,OAAOC,SAASC,UAHrB,mBAME,kBAAChC,EAAA,EAAD,CAAY1H,MAAM,YAAY2H,QAAQ,SAAtC,aAGiB,aAAhBwkC,GACC,kBAACzkC,EAAA,EAAD,CAAYC,QAAQ,SAApB,wCAML6kC,GACC,kBAAC/gC,EAAA,EAAD,CAAMd,MAAI,EAACmL,IAAE,GACX,kBAAC,GAAD,CACE3K,aAAcA,GACdC,gBAAiBA,GACjB6O,iBAAkBA,GAClBnP,gBAAgB,KAKtB,kBAACW,EAAA,EAAD,KACE,kBAACwQ,GAAA,EAAD,CACE2vB,UAAW,kBAACC,GAAA,EAAD,kBACXtkC,UAAWF,GAAQ4X,MAEnB,kBAAC3C,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAAC2kB,GAAA,EAAD,OAEF,kBAAClkB,GAAA,EAAD,CAAcC,QAAQ,qBACtB,kBAACmY,GAAA,EAAD,CACE+L,QAAM,EACNp0C,MAAOkmC,EACPjnB,SAAU,SAACC,GACLA,EAAE0D,QAAU1D,EAAE0D,OAAO5iB,QACvBqzC,EAAYn0B,EAAE0D,OAAO5iB,OACrB0P,EAAW,WAAYwP,EAAE0D,OAAO5iB,SAGpCq0C,UAAW,CACTC,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,mBAAoB,OAGtB,4BAAQz0C,MAAM,YAAd,YACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,UAAd,cAKR,kBAACuS,EAAA,EAAD,KACE,kBAACwQ,GAAA,EAAD,CACE2vB,UAAW,kBAACC,GAAA,EAAD,gBACXtkC,UAAWF,GAAQ4X,MAEnB,kBAAC3C,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAACklB,GAAA,EAAD,OAEF,kBAACzkB,GAAA,EAAD,CAAcC,QAAQ,mBACtB,kBAACC,GAAA,EAAD,KACE,kBAACmP,GAAA,EAAD,CACElP,KAAK,MACLnR,SAAU,SAACC,GACT,IAAMy1B,EAAez1B,EAAE0D,OAAO8M,QAC1B,YACA,OACJ0jB,GAAe,kBAAMuB,KACrBjlC,EAAW,iBAAkBilC,IAE/BjlB,QAAyB,SAAhByjB,MAIf,kBAAC/vB,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAAColB,GAAA,EAAD,OAEF,kBAAC3kB,GAAA,EAAD,CACEC,QAAO,wBAAmB5f,OAAOC,SAASC,YAE5C,kBAAC2f,GAAA,EAAD,OAaF,kBAAC/M,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAACqlB,GAAA,EAAD,OAEF,kBAAC5kB,GAAA,EAAD,CAAcC,QAAQ,kBACtB,kBAACC,GAAA,EAAD,KACE,kBAACmP,GAAA,EAAD,CACElP,KAAK,MACLnR,SAAU,SAACC,GACT80B,GAAmB90B,EAAE0D,OAAO8M,UAE9BA,QAAwB,YAAf/I,OAKE,OAAlBitB,GACC,kBAACrhC,EAAA,EAAD,CACEf,WAAS,EACTiB,UAAU,SACVnB,WAAW,UAEb,kBAACiB,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACqD,EAAA,EAAD,CAAkBzG,UAAWF,GAAQ3N,OAAQsG,MAAM,eAErD,kBAACyL,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACjD,EAAA,EAAD,CACEC,QAAQ,KACRjN,MAAO,CAAE2P,UAAW,GAAIrD,UAAW,WAFrC,gFAQF,kBAACyE,EAAA,EAAD,CAAMd,MAAI,GACR,kBAACjD,EAAA,EAAD,CACEC,QAAQ,KACRjN,MAAO,CAAE2P,UAAW,GAAIrD,UAAW,WAFrC,sDASN,kBAACyE,EAAA,EAAD,KACE,kBAACwQ,GAAA,EAAD,CACE2vB,UAAW,kBAACC,GAAA,EAAD,iBACXtkC,UAAWF,GAAQ4X,MAEnB,kBAAC3C,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAACklB,GAAA,EAAD,OAEF,kBAACzkB,GAAA,EAAD,CAAcC,QAAQ,8BACtB,kBAACC,GAAA,EAAD,KACE,kBAACmP,GAAA,EAAD,CACElP,KAAK,MACLnR,SAAU,SAACC,GACTu0B,EAAmBv0B,EAAE0D,OAAO8M,SAC5BhgB,EAAW,kBAAmBwP,EAAE0D,OAAO8M,UAEzCA,QAAS8jB,MAIf,kBAACpwB,GAAA,EAAD,KACE,kBAACoM,GAAA,EAAD,KACE,kBAACklB,GAAA,EAAD,OAEF,kBAACzkB,GAAA,EAAD,CAAcC,QAAQ,iCACtB,kBAACC,GAAA,EAAD,KACE,kBAACmP,GAAA,EAAD,CACElP,KAAK,MACLnR,SAAU,SAACC,GACTy0B,EAAmBz0B,EAAE0D,OAAO8M,SAC5BhgB,EAAW,kBAAmBwP,EAAE0D,OAAO8M,UAEzCA,QAASgkB,QAMnB,kBAAC/1B,EAAA,EAAD,CACEP,KAAMtD,GACN8D,iBAAkB,IAClBpJ,QAASuF,GACT8D,QAASkD,MAGH,IAATzE,GACC,yBACE9a,MAAO,CACLwC,SAAU,QACV/C,IAAK,EACLH,KAAM,EACNgR,MAAO,EACPlG,OAAQ,EACRkU,gBAAiB,gBACjB/O,OAAQ,IACR0L,YAAa,GACbwD,aAAc,KAGhB,kBAAC,GAAD,CACEjO,QAASA,EACTC,aAAcA,GACdC,gBAAiBA,GACjB6O,iBAAkBA,GAClB0D,WAAY,SAAC5nB,GACX4nB,GAAW5nB,OAKT,IAATyf,GACC,yBACE9a,MAAO,CACLwC,SAAU,QACV/C,IAAK,EACLH,KAAM,EACNgR,MAAO,EACPlG,OAAQ,EACRkU,gBAAiB,gBACjB/O,OAAQ,IACR0L,YAAa,GACbwD,aAAc,KAGhB,kBAAC,EAAD,CACEjO,QAASA,EACTC,aAAcA,GACdC,gBAAiBA,GACjB6O,iBAAkBA,GAClB0D,WAAY,SAAC5nB,GACX4nB,GAAW5nB,SCrWnBi4C,G,kDACJ,WAAYnjC,GAAQ,IAAD,8BACjB,cAAMA,IAED6H,MAAQ,CAAEu7B,gBAAiB,MAHf,E,2DAKJn+B,GACbza,KAAKke,SAAS,CAAE06B,gBAAiBn+B,M,oCAErB6D,GAAS,IAAD,OACpBte,KAAKke,SAAS,CAAE06B,gBAAiB,OAC7Bt6B,GAAqB,wBAAXA,GACZrF,YAAW,WACT,EAAK4/B,eAAe,+BACnB,O,+BAGG,IAAD,OACC7mC,EAAYhS,KAAKwV,MAAjBxD,QACR,OACE,oCACE,kBAACuO,EAAA,EAAD,CAAWrO,UAAWF,EAAQwO,mBAC3B9c,OAAOo1C,oBAAoBl/B,GAAqBkI,KAAI,SAACi3B,GACpD,OAAIn/B,EAAoBm/B,GAASj/B,YAE7B,oCACE,kBAAC7H,EAAA,EAAD,CACEC,UAAWF,EAAQgnC,aACnBjnC,QAAS,WACP,EAAK8mC,eAAeE,KAGtB,kBAAC3mC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,QAAQ,MACjBsH,EAAoBm/B,GAAS3xC,MAEhC,kBAACiL,EAAA,EAAD,CAAYC,QAAQ,SACjBsH,EAAoBm/B,GAASjnC,gBAOjC,yCAIZ9R,KAAKqd,MAAMu7B,iBACV,kBAAC,GAAD,CACEr7B,aAAcvd,KAAKqd,MAAMu7B,gBACzBK,WAAW,EACX77B,gBAAiB,SAACkB,GAChB,EAAK46B,cAAc56B,W,GArDTjC,IAAMkH,WA8DfE,gBA/EA,SAACC,GAAD,MAAY,CACzBlD,kBAAmB,CACjBstB,UAAW,QACXrpB,SAAU,QAEZu0B,aAAc,CACZr1B,gBAAiB,gBACjBvO,aAAc,OAEhBuB,gBAAiB,CACfD,KAAM,EACN,OAAQ,CACNhC,SAAU,OACV/C,UAAW,cAkEF8R,CAAmBk1B,ICnE5BrnC,IClBYC,YAAW,CAC3BoD,SAAU,CACRC,OAAQ,IACRjK,MAAO,QAETkK,gBAAiB,CACfC,QAAS,OACTlQ,MAAO,OACPmQ,eAAgB,eAChBC,UAAW,QAEbC,WAAY,CACVH,QAAS,OACTI,cAAe,SACfC,WAAY,SACZ,OAAQ,CACNC,aAAc,SAGlBC,UAAW,CACTP,QAAS,OACTI,cAAe,UAEjBT,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJC,QAAS,SAACC,GAAD,OAAYA,EAAMC,eAAiB,OAAS,aACrDf,SAAU,SAACc,GAAD,OAAYA,EAAMC,eAAiB,OAAS,QACtDX,QAAS,OACTC,eAAgB,iBAElBW,SAAU,CACR7N,SAAU,QACV4H,OAAQ,EACR9K,KAAM,EACNgR,MAAO,EACPhL,MAAO,UDpBO4G,YAAW,CAC3B0kC,mBAAoB,CAClBnhC,QAAS,OACT4B,KAAM,GAERq1B,gBAAiB,CACfnnC,MAAO,OACPyoC,SAAU,SAEZ54B,OAAQ,CACNK,QAAS,OACTK,WAAY,UAEdG,KAAM,CACJvQ,OAAQ,QACRwQ,QAAS,UAEX6B,KAAM,CACJ1C,SAAU,YAkGCykC,GA9FF,SAAC,GAAuD,EAAtDlvB,YAAuD,IAA1CjT,EAAyC,EAAzCA,gBAAiBC,EAAwB,EAAxBA,mBACrCjF,EAAUV,KADmD,EAE/B0E,oBAAS,GAFsB,mBAE5D2zB,EAF4D,KAEhD8E,EAFgD,OAGrBz4B,mBAAS,IAHY,mBAG5DojC,EAH4D,KAG3CC,EAH2C,KAKnEloC,GAAe,WACZ,GAAG6C,EAAW,oBAAsBgD,EAAiB,CACnD,IAAIsiC,EAAaC,EAAUp6B,MAAK,SAAA2G,GAC9B,MAAoB,WAAbA,EAAI1e,QAEVkyC,GACDE,EAAaF,OAKpB,IAAME,EAAe,SAAClkC,GAEpB+jC,EAAmB/jC,GACnBm5B,GAAc,IAEV8K,EAAY,CAChB,CACEnyC,KAAM,YACN4kB,UAAW,kBAAC,GAAD,OAEb,CACE5kB,KAAM,WACN4kB,UAAW,kBAAC,GAAD,OAEb,CACE5kB,KAAM,UACN4kB,UAAW,kBAAC,GAAD,OAGb,CAAE5kB,KAAM,SAAU4kB,UAAW,kBAAC,EAAD,CAAQlV,WAAW,EAAOE,gBAAiBA,EAAiBC,mBAAoBA,KAE7G,CAAE7P,KAAM,QAAS4kB,UAAW,kBAAC,GAAD,QAG9B,OACE,6BACE,kBAACpF,GAAA,EAAD,KACG2yB,EAAUz3B,KAAI,SAACxM,GACd,OACE,kBAAC,IAAMmkC,SAAP,CAAgBjmC,IAAG,UAAK8B,EAAKlO,KAAV,UACjB,kBAAC6f,GAAA,EAAD,CACE5iB,QAAM,EACN0N,QAAS,kBAAMynC,EAAalkC,IAC5BpD,UAAWF,EAAQsD,MAEnB,kBAACwe,GAAA,EAAD,CACEC,QACE,kBAAC1hB,EAAA,EAAD,CAAYH,UAAWF,EAAQoF,MAC5B9B,EAAKlO,QAIZ,kBAAC,KAAD,OAEF,kBAACsyC,GAAA,EAAD,WAKR,kBAAC9N,GAAA,EAAD,CACEC,OAAO,QACP5qB,KAAM0oB,EACNjoB,QAAS,kBAAM+sB,GAAc,IAC7Bz8B,QAAS,CACP85B,MAAO95B,EAAQ+5B,kBAGjB,kBAAC1rB,EAAA,EAAD,CAAQxY,SAAS,UACf,kBAACwK,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAAEsM,UAAW,WAA7C,iBACiBwC,OAAOC,SAASC,WAGnC,yBAAKnC,UAAWF,EAAQyC,QACtB,kBAACkM,EAAA,EAAD,CAAYpI,aAAW,OAAOxG,QAAS,kBAAM08B,GAAc,KACzD,kBAAC,KAAD,OAEF,kBAACp8B,EAAA,EAAD,CAAYC,QAAQ,MACjB8mC,EAAgBhyC,OAGrB,kBAACmZ,EAAA,EAAD,CAAWrO,UAAWF,EAAQikC,oBAC3BmD,EAAgBptB,cE7GrB2tB,G,kDACJ,WAAYnkC,GAAQ,IAAD,8BACjB,cAAMA,IACD6H,MAAQ,CAAEu8B,eAAe,GAFb,E,qDAKT,IAAD,OACC5nC,EAAYhS,KAAKwV,MAAjBxD,QACR,OACE,oCACE,kBAACC,EAAA,EAAD,CACEC,UAAWF,EAAQgnC,aACnBjnC,QAAS,WACP,EAAKmM,SAAS,CAAE07B,eAAe,MAGjC,kBAACxnC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,QAAQ,MACjBsH,EAAoB5Z,KAAKwV,MAAM+H,cAAcnW,MAEhD,kBAACiL,EAAA,EAAD,CAAYC,QAAQ,SACjBsH,EAAoB5Z,KAAKwV,MAAM+H,cAAczL,eAInD9R,KAAKqd,MAAMu8B,eACV,kBAAC,GAAD,CACEr8B,aAAcvd,KAAKwV,MAAM+H,aACzBs8B,aAAc75C,KAAKwV,MAAMqkC,aACzBC,QAAS95C,KAAKwV,MAAMskC,QACpBb,WAAW,EACX77B,gBAAiB,SAACkB,GAChB,EAAKJ,SAAS,CAAE07B,eAAe,Y,GAhChBr2B,aAyCdE,gBA3DA,SAACC,GAAD,MAAY,CACzBlD,kBAAmB,CACjBstB,UAAW,QACXrpB,SAAU,QAEZu0B,aAAc,CACZr1B,gBAAiB,gBACjBvO,aAAc,OAEhBuB,gBAAiB,CACfD,KAAM,EACN,OAAQ,CACNhC,SAAU,OACV/C,UAAW,cA8CF8R,CAAmBk2B,IC8BnBI,GA3FF,SAAC9vB,GAAiB,IAAD,EACAjU,mBAAS,GADT,gCAGJA,mBAAS,IAHL,gCAIIA,mBAAS,IAJb,mBAIrB88B,EAJqB,KAIXkH,EAJW,OAKNhkC,mBAAS,GALH,mBAKrByG,EALqB,KAKhBM,EALgB,KAO5BV,IAAMhL,WAAU,WACd,GACyB,qBAAhB4Y,GACPA,GAC4B,qBAArBA,EAAY3W,MACnB2W,EAAY3W,KAAKhS,OAAS,EAC1B,CACA,IAAIiT,EAAOV,KAAKsa,MAAMlE,EAAY3W,KAAK4gC,UAAU,IAEjD,GADAt0C,QAAQkT,IAAIyB,GACRA,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQmvB,MAAM,IACzDthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAAI,CAC5B,IAAIA,EAAQthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAClCmE,EAAYxwB,SAASqsB,EAAMC,MAAMC,SACjCh5B,EAAOyM,SAASqsB,EAAMp5B,IAAIs5B,aAI/B,CAAC9rB,IAEc1Y,YAAW,CAC3BmR,aAAc,CACZ1N,UAAW,OACXI,aAAc,OACdzD,UAAW,UAEbwS,WAAY,CACV,WAAY,CACV1S,OAAQ,WAGZoR,KAAM,CACJ,WAAY,CACVqB,cAAe,UAIL5S,GAahB,OACE,6BACE,kBAAC,GAAD,CACEiM,aAAc,qBACds8B,aAAc/G,EACdgH,QAASr9B,IAEX,kBAAC,GAAD,CACEc,aAAc,4BACds8B,aAAc/G,EACdgH,QAASr9B,IAWX,kBAAC,GAAD,CACEc,aAAc,eACds8B,aAAc/G,EACdgH,QAASr9B,IAEX,kBAAC,GAAD,CACEc,aAAc,iBACds8B,aAAc/G,EACdgH,QAASr9B,MCnEXnL,I,OAAYC,aAAW,SAACmS,GAAD,MAAY,CACvCu2B,OAAQ,CACNn1C,IAAK,OACL2K,OAAQ,EACRkC,UAAW,SACX4D,QAAS,GAEXw3B,SAAU,CACRppB,gBAAiB,UACjBhZ,MAAO,QACPkZ,YAAa,GACbzO,aAAc,S,8CAIlB,4BAAAzE,EAAA,sEACyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,0CAE1B,CACEC,OAAQ,MACR8D,QAAS,CACP,eAAgB,sBANxB,cACQnE,EADR,yBAUSA,EAASM,QAVlB,4C,oEAaA,4BAAA5D,EAAA,sEAEyBuD,MAAM,UAAD,OAChBC,OAAOC,SAASC,SADA,sCAE1B,CACEC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAPxB,cAEQnE,EAFR,yBAWSA,EAASM,QAXlB,4C,sBAcA,IAAMuU,GAAU,CAAC,QAAS,UAAW,UAAW,OAAQ,QA8IzCoxB,GA7IF,SAAC,GAA0C,IAAxCjwB,EAAuC,EAAvCA,YACR7L,GAD+C,EAA1Bvd,KAA0B,EAApBs5C,cACjBjoB,qBAAW9V,KACrBpK,EAAUV,KAFqC,EAGnB0E,mBAAS,SAHU,mBAG9CgT,EAH8C,KAGnCoxB,EAHmC,OAIfpkC,oBAAS,GAJM,mBAI9CiT,EAJ8C,KAIjCkB,EAJiC,OAKPnU,oBAAS,GALF,mBAK9CqkC,EAL8C,KAK7BC,EAL6B,OAMbtkC,oBAAS,GANI,mBAM9CsB,EAN8C,KAMhCC,EANgC,OAOPvB,oBAAS,GAPF,mBAO9CgB,EAP8C,KAO7BC,EAP6B,KASrD9F,GAAe,WACbgC,IAAcE,MAAK,WACbW,EAAW,oB,2CACZumC,GAAclnC,MAAK,SAACmnC,GAEdA,EAAWC,Q,2CACbtiC,GAAe9E,MAAK,SAACqnC,GACnB96C,QAAQkT,IAAI4nC,GAERA,EAAWlxC,SACb8wC,EAAmBI,EAAWriC,SAC9Bd,EAAgBmjC,EAAWpjC,2BAS1C+E,IAAMhL,WAAU,WACd,GACyB,qBAAhB4Y,GACPA,GAC4B,qBAArBA,EAAY3W,MACnB2W,EAAY3W,KAAKhS,OAAS,EAC1B,CACA,IAAIiT,EAAOV,KAAKsa,MAAMlE,EAAY3W,KAAK4gC,UAAU,IAoBjD,GAlBI3/B,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQwsB,WAErD3+B,EAAK,GAAGmS,QAAQwsB,UAChB3+B,EAAK,GAAGmS,QAAQytB,KAChB5/B,EAAK,GAAGmS,QAAQytB,IAAIxhB,KAAKvrB,MACzBmN,EAAK,GAAGmS,QAAQwsB,SAAStnB,WAAa,KACtCrX,EAAK,GAAGmS,QAAQrJ,OACe,gBAA/B9I,EAAK,GAAGmS,QAAQrJ,MAAMjG,KAEL,SAAd4R,IACDoxB,EAAa,SACbjwB,GAAe,IAGjBA,GAAe,IAIf5V,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQi0B,SAASr5C,OAAQ,CACxE,IAAIq5C,EAAWpmC,EAAK,GAAGmS,QAAQi0B,SAC/B,IAAK,IAAInnB,KAAOmnB,EACd,IAAIA,EAASnnB,GAAKse,SAAS,UAAY6I,EAASnnB,GAAKse,SAAS,gBAAiB,CAC7E,IAAI8I,EAASD,EAASnnB,GAAK/iB,MAAM,KAE7BoqC,EADSD,EAAOA,EAAOt5C,OAAS,GACT4yC,UAAU,GACrCt0C,QAAQkT,IAAI+nC,GACZz8B,EAAQnB,WAAW49B,QAM1B,CAAC5wB,IAEJ,IAGM6wB,EAAa,CACjBjI,MAAO,kBAAC,GAAD,CAAO5oB,YAAaA,EAAaE,eAAgBA,IACxDurB,QAAS,kBAAC,GAAD,CAASzrB,YAAaA,IAC/BkvB,KAAM,kBAAC,GAAD,CAAMlvB,YAAaA,EAAajT,gBAAiBA,EAAiBC,mBAAoBA,IAC5F8iC,KAAM,kBAAC,GAAD,CAAM9vB,YAAaA,IACzB8wB,QAAS,kBAAC,GAAD,CAAYpoB,KAAM,KAAMqW,OAAO,EAAMtnB,QAAS,kBAAM04B,EAAa,UAAUY,WAAW,KAEjG,OACE,yBAAK9oC,UAAU,kBACb,kBAACmO,EAAA,EAAD,CACExY,SAAS,QACT8C,MAAM,UACNuH,UAAWF,EAAQioC,OACnB5gC,UAAU,GAEV,kBAAC,GAAD,CACEyP,QAASA,GACTC,eApBe,SAAC/kB,EAAOyP,GAC7B2mC,EAAatxB,GAAQrV,KAoBfuV,UAAWF,GAAQ5gB,QAAQ8gB,GAC3BC,YAAaA,KAGjB,yBAAK/W,UAAU,uBAAuB4oC,EAAW9xB,IACjD,kBAAChI,GAAA,EAAD,CACEC,KAAMo5B,EACNxN,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAAC5rB,GAAA,EAAD,CAAazG,GAAG,qBAAqBpV,MAAO,CAACsM,UAAU,WACpD0oC,GAEH,kBAACl5B,GAAA,EAAD,CAAe9b,MAAO,CAACsM,UAAU,SAC/B,kBAACyP,GAAA,EAAD,CAAmB3G,GAAG,4BACpB,mEAECnD,GACC,yBAAKsB,wBAAyB,CAC5BC,OAAQvB,EAAawB,QAAQ,kBAAmB,QAAQA,QAAQ,SAAU,qBAI9E,8DAGJ,kBAACuI,GAAA,EAAD,KACE,kBAAC7K,EAAA,EAAD,CAAQzE,QAAS,WACbkF,GAAmB,GACnBqjC,GAAmB,IAErB3vC,MAAM,UAAUuH,UAAWF,EAAQ+6B,SAAUxrB,WAAS,GAJxD,UAOA,kBAAC/K,EAAA,EAAD,CAAQzE,QAAS,WACbkF,GAAmB,GACnBmjC,EAAa,QACbE,GAAmB,IAErB3vC,MAAM,UAAUuH,UAAWF,EAAQ+6B,SAAUxrB,WAAS,GALxD,c,kDCpKV,SAAS05B,GAAMzlC,GACb,OAAO,kBAAC,KAAD,eAAU0lC,UAAW,EAAG5oC,QAAQ,UAAakD,IAGtD,IAAMkO,GAAQy3B,aAAe,CAC3B3N,QAAS,CACPzZ,QAAS,CACP2Z,KAAM,WAERD,UAAW,CACTC,KAAM,WAERhN,WAAY,CACV9Y,QAAS,WAEXlnB,KAAM,QAER06C,UAAW,CACTC,OAAQ,CACN,KAAQ,CACN,aAAc,CACZ,MAAS,WAEX,cAAe,MAGnBC,UAAW,CACT,KAAQ,CACN,QAAW,SAGfC,SAAU,CACRC,QAAS,CACP,gBAAiB,SAGrBC,UAAW,CACT,KAAQ,CACN,cAAe,MAGnBC,cAAe,CACb,KAAQ,CACN,cAAe,MAGnBC,cAAe,CACb,KAAQ,CACN,cAAe,MAGnBC,gBAAiB,CACf,KAAQ,CACN,cAAe,MAGnBC,aAAc,CACZ,KAAQ,CACN,aAAc,CACZpqC,OAAQ,KAIdqqC,oBAAqB,CACnB,KAAQ,CACNhO,UAAW,GACXiO,UAAW,GACX,aAAc,CACZjO,UAAW,GACXiO,UAAW,MAIjBC,oBAAqB,CACnB,KAAQ,CACN,mBAAoB,UACpB,QAAW,MACX,MAAS,OACT,OAAU,EACV,gBAAiB,IAGrBC,iBAAkB,CAChB,KAAQ,CACN,kBAAmB,iBAGvBC,cAAe,CACb,KAAQ,CACN,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,GAAI,CACF,cAAe,KAEjBC,MAAO,CACL,cAAe,KAEjBC,MAAO,CACL,cAAe,SA8QRC,GAxQH,WAAO,IAAD,IAGc3mC,mBAAS,MAHvB,mBAGTnV,EAHS,KAGHs5C,EAHG,OAIkBnkC,oBAAS,GAJ3B,mBAIT4mC,EAJS,KAIEC,EAJF,OAKc7mC,oBAAS,GALvB,mBAKTuP,EALS,KAKAC,EALA,OAMcxP,mBAAS,GANvB,mBAMT8jC,EANS,KAMAlT,EANA,OAO0B5wB,mBAAS,GAPnC,mBAOT8mC,EAPS,KAOMC,EAPN,OAQoB/mC,mBAAS,GAR7B,mBAQTw+B,EARS,KAQGoB,EARH,OASgC5/B,mBAAS,GATzC,mBASTgnC,EATS,KASSC,EATT,OAUcjnC,mBAAS,GAVvB,mBAUT2G,EAVS,KAUAM,EAVA,OAWsBjH,mBAAS,IAX/B,mBAWIknC,GAXJ,aAYsBlnC,oBAAS,GAZ/B,mBAYTmnC,EAZS,KAYIC,EAZJ,OAawBpnC,mBAAS,IAbjC,mBAaTqnC,GAbS,KAaKC,GAbL,QAcoBtnC,mBAAS,IAd7B,qBAcTunC,GAdS,MAcGC,GAdH,SAekBxnC,oBAAS,GAf3B,qBAeT2H,GAfS,MAeE7H,GAfF,SAgBkBE,mBAAS,IAhB3B,qBAgBTynC,GAhBS,MAgBEC,GAhBF,MAkBVC,GAAc,SAAC35C,EAAOsa,GAC1BxI,IAAa,IAGf3E,GAAe,WACdqU,GAAW,GACXrS,IAAcE,MAAK,WACjBwpC,EAAa7oC,EAAW,cAEpBA,EAAW,aAAgBA,EAAW,eAIxCmmC,EAAcnmC,EAAW,cAHzBT,EAAW,eAAe,GAC1BA,EAAW,WAAY,aAKzB,IAAIujC,EAAc9iC,EAAW,kBACzBkC,EAAclC,EAAW,eAET,YAAhB8iC,GACF5iC,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,yBAA4D,CAC/DC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAKF,SAAhB0+B,GACF5iC,MAAM,UAAD,OAAWC,OAAOC,SAASC,SAA3B,4BAA+D,CAClEC,OAAQ,OACR8D,QAAS,CACP,eAAgB,sBAKF,OAAhBlC,GAIiB,SAAhBA,GAHH3C,EAAW,cAAe,QAC1B2pC,EAAe,SAMbA,EAAehnC,SAMtB,IArEgB,GAyEkBF,mBAAS,QAAD,OAChC7B,OAAOC,SAASC,SADgB,wCAzE1B,qBAyETupC,GAzES,MA4EVC,IA5EU,MA4EO5nC,iBAAO,KA5Ed,GA8EiC6nC,KAAaF,GAAW,CAEvEG,gBAAiB,SAACC,GAAD,OAAgB,GACjCC,kBAAmB,OACnBC,kBAAmB,EACnBC,OAAQ,WACNv+C,QAAQkT,IAAI,kBAEd2a,QAAS,WACP7tB,QAAQkT,IAAI,iBAEd4O,QAAS,WAEP9hB,QAAQkT,IAAI,kBAEdsrC,UAAW,SAACC,GAEV,IACE,IAAI9pC,EAAOV,KAAKsa,MAAMkwB,EAAI/qC,KAAK4gC,UAAU,IACzC,GAAI3/B,EAAKjT,QAAUiT,EAAKjT,OAAS,EAAG,CAClC,GAAIiT,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQmvB,MAAM,IAC1DthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAAG7N,eAAe,UACxCzzB,EAAK,GAAGmS,QAAQmvB,MAAM,GAAG7N,eAAe,OACzC,CACA,IAAI6N,EAAQthC,EAAK,GAAGmS,QAAQmvB,MAAM,GAClCj2C,QAAQkT,IAAI,iBACZ8iC,EAAcpsB,SAASqsB,EAAMC,MAAMC,SACnCnP,EAAWpd,SAASqsB,EAAMp5B,IAAIs5B,SAC9BkH,EAAoBzzB,SAASqsB,EAAMC,MAAMrvB,SACzCs2B,EAAiBvzB,SAASqsB,EAAMp5B,IAAIgK,SAIxC,GAAIlS,EAAK,GAAGyzB,eAAe,UAAkC,SAAtBzzB,EAAK,GAAGvQ,MAAMtD,KAAiB,CAEpE,IAAI8F,EAAQ+N,EAAK,GAAGvQ,MACpBpE,QAAQkT,IAAItM,GACZ,IAAIqL,EAAQ,mBAAqBrL,EAAMwvC,QAAQ13B,OAC3CjG,EAAU7R,EAAMwvC,QAAQxvC,MAC5B82C,GAAgBjlC,GAChBmlC,GAAc3rC,GACdurC,GAAe,GAGbD,GAAe5oC,EAAK,GAAGyzB,eAAe,YAAczzB,EAAK,GAAGmS,QAAQrJ,OACrC,eAA9B9I,EAAK,GAAGmS,QAAQrJ,MAAMjG,OACvBgmC,GAAe,GACfM,GAAa,gCACb5nC,IAAa,KAKnB,MAAOtP,QArDL83C,GA9EQ,GA8ERA,YAAar0B,GA9EL,GA8EKA,YAAas0B,GA9ElB,GA8EkBA,WA0DlCV,GAAen3B,QAAU83B,mBAAQ,WAC/B,IACEX,GAAen3B,QAAQtX,OAAO6a,IAS9B,MAAOzjB,OACR,CAACyjB,KAEJ,IAAMw0B,IAAmB,mBACtBC,cAAWC,WAAa,cADF,cAEtBD,cAAWE,KAAO,QAFI,cAGtBF,cAAWG,QAAU,WAHC,cAItBH,cAAWI,OAAS,UAJE,cAKtBJ,cAAWK,eAAiB,kBALN,GAMvBR,IAYF,OAVAliC,IAAMhL,WAAU,WACdzR,QAAQkT,IAAI2rC,IACY,QAApBA,KACFH,GAAY,kDACZA,GAAY,qBACZA,GAAY,0BACZ94B,GAAW,MAEZ,CAACi5B,KAIF,kBAAC,KAAD,CAAkB/6B,MAAOA,IACvB,kBAAC,GAAYioB,SAAb,CACE9nC,MAAO,CACL0Y,UAAWugC,EACXrgC,IAAKq9B,EACLt9B,aAAcwgC,EACdtgC,OAAQ83B,EACR73B,QAASA,EACTC,aAAcmgC,EACdjgC,gBAAiBmgC,EACjBlgC,OAAQ6pB,EACR5pB,UAAW44B,EACX34B,WAAYA,IAGd,kBAAC+hC,EAAA,EAAD,MACA,kBAAChK,GAAA,EAAD,CAAKjwC,OAAO,QAAQ+P,QAAQ,OAAOI,cAAc,UAC9C0nC,GACC,kBAACv8B,EAAA,EAAD,CAAQxY,SAAS,UACf,kBAACwK,EAAA,EAAD,CAAYC,QAAQ,KAAKjN,MAAO,CAAEsM,UAAW,WAA7C,iBACiBwC,OAAOC,SAASC,WAIpCkR,EACC,oCACE,yBACErD,IAAKyE,KACLthB,MAAO,CACLT,MAAO,IACPG,OAAQ,IACR6P,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,uBAGT,wBACEO,MAAO,CACLT,MAAO,IACPgQ,OAAQ,SACR/M,SAAU,WACVlD,KAAM,oBACNG,IAAK,oBACL6M,UAAW,WAPf,gBAcF,kBAAC,GAAD,CACE9Q,KAAMA,EACNopB,YAAaA,GACbkwB,cAAeA,IAGnB,kBAACn5B,GAAA,EAAD,CACEC,KAAMk8B,EACN5R,sBAAsB,EACtBsB,kBAAgB,qBAChBC,mBAAiB,2BACjBznC,MAAO,CAACsM,UAAU,WAElB,kBAACuP,GAAA,EAAD,CAAazG,GAAG,sBAAsB8iC,IACtC,kBAACp8B,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmB3G,GAAG,4BACnB4iC,GACD,6BAFF,sKAQJ,kBAAC77B,EAAA,EAAD,CACEP,KAAMtD,GACN8D,iBAAkB,IAClB02B,aAAc,CACZC,SAAU,MACVC,WAAY,UAEd32B,QAASi8B,GACTt4C,MAAO,CAACP,IAAI,QAEZ,kBAAC,GAAD,CAAO4c,QAASi8B,GAAal8B,iBAAkB,IAAMw9B,SAAS,WAC3DxB,SCtYKyB,QACW,eAA7B/qC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASogB,MACvB,2DCZN0qB,IAAS7c,OAAO,kBAAC,GAAD,MAASxiC,SAASs/C,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlsC,MAAK,SAAAmsC,GACJA,EAAaC,gBAEdtmC,OAAM,SAAA3S,GACL5G,QAAQ4G,MAAMA,EAAM6R,a,mBEzI5Bpa,EAAOC,QAAU,IAA0B,sC","file":"static/js/main.004de8a0.chunk.js","sourcesContent":["/**\n * @author arodic / https://github.com/arodic\n */\nmodule.exports = function (THREE) {\n\n\tconst BoxGeometry = THREE.BoxGeometry;\n\tconst BufferGeometry = THREE.BufferGeometry;\n\tconst Color = THREE.Color;\n\tconst CylinderGeometry = THREE.CylinderGeometry;\n\tconst DoubleSide = THREE.DoubleSide;\n\tconst Euler = THREE.Euler;\n\tconst Float32BufferAttribute = THREE.Float32BufferAttribute;\n\tconst Line = THREE.Line;\n\tconst LineBasicMaterial = THREE.LineBasicMaterial;\n\tconst Matrix4 = THREE.Matrix4;\n\tconst Mesh = THREE.Mesh;\n\tconst MeshBasicMaterial = THREE.MeshBasicMaterial;\n\tconst Object3D = THREE.Object3D;\n\tconst OctahedronGeometry = THREE.OctahedronGeometry;\n\tconst PlaneGeometry = THREE.PlaneGeometry;\n\tconst Quaternion = THREE.Quaternion;\n\tconst Raycaster = THREE.Raycaster;\n\tconst SphereGeometry = THREE.SphereGeometry;\n\tconst TorusGeometry = THREE.TorusGeometry;\n\tconst Vector3 = THREE.Vector3;\n\n\tvar TransformControls = function ( camera, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tObject3D.call( this );\n\n\t\tthis.visible = false;\n\t\tthis.domElement = domElement;\n\n\t\tvar _gizmo = new TransformControlsGizmo();\n\t\tthis.add( _gizmo );\n\n\t\tvar _plane = new TransformControlsPlane();\n\t\tthis.add( _plane );\n\n\t\tvar scope = this;\n\n\t\t// Define properties with getters/setter\n\t\t// Setting the defined property will automatically trigger change event\n\t\t// Defined properties are passed down to gizmo and plane\n\n\t\tdefineProperty( 'camera', camera );\n\t\tdefineProperty( 'object', undefined );\n\t\tdefineProperty( 'enabled', true );\n\t\tdefineProperty( 'axis', null );\n\t\tdefineProperty( 'mode', 'translate' );\n\t\tdefineProperty( 'translationSnap', null );\n\t\tdefineProperty( 'rotationSnap', null );\n\t\tdefineProperty( 'scaleSnap', null );\n\t\tdefineProperty( 'space', 'world' );\n\t\tdefineProperty( 'size', 1 );\n\t\tdefineProperty( 'dragging', false );\n\t\tdefineProperty( 'showX', true );\n\t\tdefineProperty( 'showY', true );\n\t\tdefineProperty( 'showZ', true );\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar mouseDownEvent = { type: 'mouseDown' };\n\t\tvar mouseUpEvent = { type: 'mouseUp', mode: scope.mode };\n\t\tvar objectChangeEvent = { type: 'objectChange' };\n\n\t\t// Reusable utility variables\n\n\t\tvar raycaster = new Raycaster();\n\n\t\tfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\n\n\t\t\tvar allIntersections = raycaster.intersectObject( object, true );\n\n\t\t\tfor ( var i = 0; i < allIntersections.length; i ++ ) {\n\n\t\t\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\n\n\t\t\t\t\treturn allIntersections[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tvar _tempVector = new Vector3();\n\t\tvar _tempVector2 = new Vector3();\n\t\tvar _tempQuaternion = new Quaternion();\n\t\tvar _unit = {\n\t\t\tX: new Vector3( 1, 0, 0 ),\n\t\t\tY: new Vector3( 0, 1, 0 ),\n\t\t\tZ: new Vector3( 0, 0, 1 )\n\t\t};\n\n\t\tvar pointStart = new Vector3();\n\t\tvar pointEnd = new Vector3();\n\t\tvar offset = new Vector3();\n\t\tvar rotationAxis = new Vector3();\n\t\tvar startNorm = new Vector3();\n\t\tvar endNorm = new Vector3();\n\t\tvar rotationAngle = 0;\n\n\t\tvar cameraPosition = new Vector3();\n\t\tvar cameraQuaternion = new Quaternion();\n\t\tvar cameraScale = new Vector3();\n\n\t\tvar parentPosition = new Vector3();\n\t\tvar parentQuaternion = new Quaternion();\n\t\tvar parentQuaternionInv = new Quaternion();\n\t\tvar parentScale = new Vector3();\n\n\t\tvar worldPositionStart = new Vector3();\n\t\tvar worldQuaternionStart = new Quaternion();\n\t\tvar worldScaleStart = new Vector3();\n\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldQuaternion = new Quaternion();\n\t\tvar worldQuaternionInv = new Quaternion();\n\t\tvar worldScale = new Vector3();\n\n\t\tvar eye = new Vector3();\n\n\t\tvar positionStart = new Vector3();\n\t\tvar quaternionStart = new Quaternion();\n\t\tvar scaleStart = new Vector3();\n\n\t\t// TODO: remove properties unused in plane and gizmo\n\n\t\tdefineProperty( 'worldPosition', worldPosition );\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\n\t\tdefineProperty( 'pointStart', pointStart );\n\t\tdefineProperty( 'pointEnd', pointEnd );\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\n\t\tdefineProperty( 'eye', eye );\n\n\t\t{\n\n\t\t\tdomElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.addEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tdomElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.removeEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tthis.traverse( function ( child ) {\n\n\t\t\t\tif ( child.geometry ) child.geometry.dispose();\n\t\t\t\tif ( child.material ) child.material.dispose();\n\n\t\t\t} );\n\n\t\t};\n\n\t\t// Set current object\n\t\tthis.attach = function ( object ) {\n\n\t\t\tthis.object = object;\n\t\t\tthis.visible = true;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Detatch from object\n\t\tthis.detach = function () {\n\n\t\t\tthis.object = undefined;\n\t\t\tthis.visible = false;\n\t\t\tthis.axis = null;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Defined getter, setter and store for a property\n\t\tfunction defineProperty( propName, defaultValue ) {\n\n\t\t\tvar propValue = defaultValue;\n\n\t\t\tObject.defineProperty( scope, propName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( propValue !== value ) {\n\n\t\t\t\t\t\tpropValue = value;\n\t\t\t\t\t\t_plane[ propName ] = value;\n\t\t\t\t\t\t_gizmo[ propName ] = value;\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\n\t\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tscope[ propName ] = defaultValue;\n\t\t\t_plane[ propName ] = defaultValue;\n\t\t\t_gizmo[ propName ] = defaultValue;\n\n\t\t}\n\n\t\t// updateMatrixWorld  updates key transformation variables\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tif ( this.object !== undefined ) {\n\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tif ( this.object.parent === null ) {\n\n\t\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.object.parent.matrixWorld.decompose( parentPosition, parentQuaternion, parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object.matrixWorld.decompose( worldPosition, worldQuaternion, worldScale );\n\n\t\t\t\tparentQuaternionInv.copy( parentQuaternion ).invert();\n\t\t\t\tworldQuaternionInv.copy( worldQuaternion ).invert();\n\n\t\t\t}\n\n\t\t\tthis.camera.updateMatrixWorld();\n\t\t\tthis.camera.matrixWorld.decompose( cameraPosition, cameraQuaternion, cameraScale );\n\n\t\t\teye.copy( cameraPosition ).sub( worldPosition ).normalize();\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t\tthis.pointerHover = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar intersect = intersectObjectWithRay( _gizmo.picker[ this.mode ], raycaster );\n\n\t\t\tif ( intersect ) {\n\n\t\t\t\tthis.axis = intersect.object.name;\n\n\t\t\t} else {\n\n\t\t\t\tthis.axis = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerDown = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\n\n\t\t\tif ( this.axis !== null ) {\n\n\t\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\t\tif ( planeIntersect ) {\n\n\t\t\t\t\tvar space = this.space;\n\n\t\t\t\t\tif ( this.mode === 'scale' ) {\n\n\t\t\t\t\t\tspace = 'local';\n\n\t\t\t\t\t} else if ( this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ' ) {\n\n\t\t\t\t\t\tspace = 'world';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'local' && this.mode === 'rotate' ) {\n\n\t\t\t\t\t\tvar snap = this.rotationSnap;\n\n\t\t\t\t\t\tif ( this.axis === 'X' && snap ) this.object.rotation.x = Math.round( this.object.rotation.x / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Y' && snap ) this.object.rotation.y = Math.round( this.object.rotation.y / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Z' && snap ) this.object.rotation.z = Math.round( this.object.rotation.z / snap ) * snap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.object.updateMatrixWorld();\n\t\t\t\t\tthis.object.parent.updateMatrixWorld();\n\n\t\t\t\t\tpositionStart.copy( this.object.position );\n\t\t\t\t\tquaternionStart.copy( this.object.quaternion );\n\t\t\t\t\tscaleStart.copy( this.object.scale );\n\n\t\t\t\t\tthis.object.matrixWorld.decompose( worldPositionStart, worldQuaternionStart, worldScaleStart );\n\n\t\t\t\t\tpointStart.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\t\t}\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tmouseDownEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseDownEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerMove = function ( pointer ) {\n\n\t\t\tvar axis = this.axis;\n\t\t\tvar mode = this.mode;\n\t\t\tvar object = this.object;\n\t\t\tvar space = this.space;\n\n\t\t\tif ( mode === 'scale' ) {\n\n\t\t\t\tspace = 'local';\n\n\t\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\n\n\t\t\t\tspace = 'world';\n\n\t\t\t}\n\n\t\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\tif ( ! planeIntersect ) return;\n\n\t\t\tpointEnd.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\tif ( mode === 'translate' ) {\n\n\t\t\t\t// Apply translate\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) offset.x = 0;\n\t\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) offset.y = 0;\n\t\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) offset.z = 0;\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( quaternionStart ).divide( parentScale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset.applyQuaternion( parentQuaternionInv ).divide( parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tobject.position.copy( offset ).add( positionStart );\n\n\t\t\t\t// Apply translation snap\n\n\t\t\t\tif ( this.translationSnap ) {\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( quaternionStart ).invert() );\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject.position.applyQuaternion( quaternionStart );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'world' ) {\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'scale' ) {\n\n\t\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\n\n\t\t\t\t\tvar d = pointEnd.length() / pointStart.length();\n\n\t\t\t\t\tif ( pointEnd.dot( pointStart ) < 0 ) d *= - 1;\n\n\t\t\t\t\t_tempVector2.set( d, d, d );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_tempVector.copy( pointStart );\n\t\t\t\t\t_tempVector2.copy( pointEnd );\n\n\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternionInv );\n\t\t\t\t\t_tempVector2.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t\t_tempVector2.divide( _tempVector );\n\n\t\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.x = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.y = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.z = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Apply scale\n\n\t\t\t\tobject.scale.copy( scaleStart ).multiply( _tempVector2 );\n\n\t\t\t\tif ( this.scaleSnap ) {\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'rotate' ) {\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tvar ROTATION_SPEED = 20 / worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\n\n\t\t\t\tif ( axis === 'E' ) {\n\n\t\t\t\t\trotationAxis.copy( eye );\n\t\t\t\t\trotationAngle = pointEnd.angleTo( pointStart );\n\n\t\t\t\t\tstartNorm.copy( pointStart ).normalize();\n\t\t\t\t\tendNorm.copy( pointEnd ).normalize();\n\n\t\t\t\t\trotationAngle *= ( endNorm.cross( startNorm ).dot( eye ) < 0 ? 1 : - 1 );\n\n\t\t\t\t} else if ( axis === 'XYZE' ) {\n\n\t\t\t\t\trotationAxis.copy( offset ).cross( eye ).normalize();\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.copy( rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\n\n\t\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\n\n\t\t\t\t\trotationAxis.copy( _unit[ axis ] );\n\n\t\t\t\t\t_tempVector.copy( _unit[ axis ] );\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.cross( eye ).normalize() ) * ROTATION_SPEED;\n\n\t\t\t\t}\n\n\t\t\t\t// Apply rotation snap\n\n\t\t\t\tif ( this.rotationSnap ) rotationAngle = Math.round( rotationAngle / this.rotationSnap ) * this.rotationSnap;\n\n\t\t\t\tthis.rotationAngle = rotationAngle;\n\n\t\t\t\t// Apply rotate\n\t\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\n\n\t\t\t\t\tobject.quaternion.copy( quaternionStart );\n\t\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) ).normalize();\n\n\t\t\t\t} else {\n\n\t\t\t\t\trotationAxis.applyQuaternion( parentQuaternionInv );\n\t\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) );\n\t\t\t\t\tobject.quaternion.multiply( quaternionStart ).normalize();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\t\t\tthis.dispatchEvent( objectChangeEvent );\n\n\t\t};\n\n\t\tthis.pointerUp = function ( pointer ) {\n\n\t\t\tif ( pointer.button !== 0 ) return;\n\n\t\t\tif ( this.dragging && ( this.axis !== null ) ) {\n\n\t\t\t\tmouseUpEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseUpEvent );\n\n\t\t\t}\n\n\t\t\tthis.dragging = false;\n\t\t\tthis.axis = null;\n\n\t\t};\n\n\t\t// normalize mouse / touch pointer and remap {x,y} to view space.\n\n\t\tfunction getPointer( event ) {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tvar pointer = event.changedTouches ? event.changedTouches[ 0 ] : event;\n\n\t\t\t\tvar rect = domElement.getBoundingClientRect();\n\n\t\t\t\treturn {\n\t\t\t\t\tx: ( pointer.clientX - rect.left ) / rect.width * 2 - 1,\n\t\t\t\t\ty: - ( pointer.clientY - rect.top ) / rect.height * 2 + 1,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t// mouse / touch event handlers\n\n\t\tfunction onPointerHover( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = 'none'; // disable touch scroll\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\tscope.pointerDown( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.pointerMove( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = '';\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerUp( getPointer( event ) );\n\n\t\t}\n\n\t\t// TODO: deprecate\n\n\t\tthis.getMode = function () {\n\n\t\t\treturn scope.mode;\n\n\t\t};\n\n\t\tthis.setMode = function ( mode ) {\n\n\t\t\tscope.mode = mode;\n\n\t\t};\n\n\t\tthis.setTranslationSnap = function ( translationSnap ) {\n\n\t\t\tscope.translationSnap = translationSnap;\n\n\t\t};\n\n\t\tthis.setRotationSnap = function ( rotationSnap ) {\n\n\t\t\tscope.rotationSnap = rotationSnap;\n\n\t\t};\n\n\t\tthis.setScaleSnap = function ( scaleSnap ) {\n\n\t\t\tscope.scaleSnap = scaleSnap;\n\n\t\t};\n\n\t\tthis.setSize = function ( size ) {\n\n\t\t\tscope.size = size;\n\n\t\t};\n\n\t\tthis.setSpace = function ( space ) {\n\n\t\t\tscope.space = space;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\n\n\t\t};\n\n\t};\n\n\tTransformControls.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControls,\n\n\t\tisTransformControls: true\n\n\t} );\n\n\n\tvar TransformControlsGizmo = function () {\n\n\t\t'use strict';\n\n\t\tObject3D.call( this );\n\n\t\tthis.type = 'TransformControlsGizmo';\n\n\t\t// shared materials\n\n\t\tvar gizmoMaterial = new MeshBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tside: DoubleSide,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\tvar gizmoLineMaterial = new LineBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tlinewidth: 1,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\t// Make unique material for each axis/color\n\n\t\tvar matInvisible = gizmoMaterial.clone();\n\t\tmatInvisible.opacity = 0.15;\n\n\t\tvar matHelper = gizmoMaterial.clone();\n\t\tmatHelper.opacity = 0.33;\n\n\t\tvar matRed = gizmoMaterial.clone();\n\t\tmatRed.color.set( 0xff0000 );\n\n\t\tvar matGreen = gizmoMaterial.clone();\n\t\tmatGreen.color.set( 0x00ff00 );\n\n\t\tvar matBlue = gizmoMaterial.clone();\n\t\tmatBlue.color.set( 0x0000ff );\n\n\t\tvar matWhiteTransparent = gizmoMaterial.clone();\n\t\tmatWhiteTransparent.opacity = 0.25;\n\n\t\tvar matYellowTransparent = matWhiteTransparent.clone();\n\t\tmatYellowTransparent.color.set( 0xffff00 );\n\n\t\tvar matCyanTransparent = matWhiteTransparent.clone();\n\t\tmatCyanTransparent.color.set( 0x00ffff );\n\n\t\tvar matMagentaTransparent = matWhiteTransparent.clone();\n\t\tmatMagentaTransparent.color.set( 0xff00ff );\n\n\t\tvar matYellow = gizmoMaterial.clone();\n\t\tmatYellow.color.set( 0xffff00 );\n\n\t\tvar matLineRed = gizmoLineMaterial.clone();\n\t\tmatLineRed.color.set( 0xff0000 );\n\n\t\tvar matLineGreen = gizmoLineMaterial.clone();\n\t\tmatLineGreen.color.set( 0x00ff00 );\n\n\t\tvar matLineBlue = gizmoLineMaterial.clone();\n\t\tmatLineBlue.color.set( 0x0000ff );\n\n\t\tvar matLineCyan = gizmoLineMaterial.clone();\n\t\tmatLineCyan.color.set( 0x00ffff );\n\n\t\tvar matLineMagenta = gizmoLineMaterial.clone();\n\t\tmatLineMagenta.color.set( 0xff00ff );\n\n\t\tvar matLineYellow = gizmoLineMaterial.clone();\n\t\tmatLineYellow.color.set( 0xffff00 );\n\n\t\tvar matLineGray = gizmoLineMaterial.clone();\n\t\tmatLineGray.color.set( 0x787878 );\n\n\t\tvar matLineYellowTransparent = matLineYellow.clone();\n\t\tmatLineYellowTransparent.opacity = 0.25;\n\n\t\t// reusable geometry\n\n\t\tvar arrowGeometry = new CylinderGeometry( 0, 0.05, 0.2, 12, 1, false );\n\n\t\tvar scaleHandleGeometry = new BoxGeometry( 0.125, 0.125, 0.125 );\n\n\t\tvar lineGeometry = new BufferGeometry();\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\n\n\t\tvar CircleGeometry = function ( radius, arc ) {\n\n\t\t\tvar geometry = new BufferGeometry( );\n\t\t\tvar vertices = [];\n\n\t\t\tfor ( var i = 0; i <= 64 * arc; ++ i ) {\n\n\t\t\t\tvertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\t\tvar TranslateHelperGeometry = function () {\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\t\tvar gizmoTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, - Math.PI / 2 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, Math.PI / 2 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ) ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], null, null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], [ Math.PI, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ Math.PI / 2, 0, 0 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ - Math.PI / 2, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ], [ 0, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matYellowTransparent.clone() ), [ 0.15, 0.15, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.18, 0.3, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.3, 0.18, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matCyanTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.18, 0.3 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.3, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matMagentaTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.18, 0, 0.3 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.3, 0, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0.6, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0.6, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0, 0.6 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0.2, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0, 0.2, 0.2 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0, 0.2 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperTranslate = {\n\t\t\tSTART: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tEND: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tDELTA: [\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineRed ) ],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matRed ), [ 0, 0, 0.99 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineGreen ), null, [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matGreen ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineBlue ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matBlue ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Line( CircleGeometry( 1.25, 1 ), matLineYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 1.17, 0, 0 ], [ 0, 0, - Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ - 1.17, 0, 0 ], [ 0, 0, Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, - 1.17, 0 ], [ Math.PI, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, 1.17, 0 ], [ 0, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 1 ), matLineGray ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperRotate = {\n\t\t\tAXIS: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1.25, 0.1, 2, 24 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.7, 10, 8 ), matInvisible ) ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.8, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ), null, null, [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.8, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.8 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matYellowTransparent ), [ 0.85, 0.85, 0 ], null, [ 2, 2, 0.2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.855, 0.98, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.98, 0.855, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matCyanTransparent ), [ 0, 0.85, 0.85 ], null, [ 0.2, 2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.855, 0.98 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.98, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matMagentaTransparent ), [ 0.85, 0, 0.85 ], null, [ 2, 0.2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.855, 0, 0.98 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.98, 0, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar pickerScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0.5, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0.85, 0 ], null, [ 3, 3, 0.2 ]],\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0, 0.85, 0.85 ], null, [ 0.2, 3, 3 ]],\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0, 0.85 ], null, [ 3, 0.2, 3 ]],\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar helperScale = {\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\n\n\t\tvar setupGizmo = function ( gizmoMap ) {\n\n\t\t\tvar gizmo = new Object3D();\n\n\t\t\tfor ( var name in gizmoMap ) {\n\n\t\t\t\tfor ( var i = gizmoMap[ name ].length; i --; ) {\n\n\t\t\t\t\tvar object = gizmoMap[ name ][ i ][ 0 ].clone();\n\t\t\t\t\tvar position = gizmoMap[ name ][ i ][ 1 ];\n\t\t\t\t\tvar rotation = gizmoMap[ name ][ i ][ 2 ];\n\t\t\t\t\tvar scale = gizmoMap[ name ][ i ][ 3 ];\n\t\t\t\t\tvar tag = gizmoMap[ name ][ i ][ 4 ];\n\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\n\t\t\t\t\tobject.name = name;\n\t\t\t\t\tobject.tag = tag;\n\n\t\t\t\t\tif ( position ) {\n\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rotation ) {\n\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( scale ) {\n\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tvar tempGeometry = object.geometry.clone();\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\n\t\t\t\t\tobject.geometry = tempGeometry;\n\t\t\t\t\tobject.renderOrder = Infinity;\n\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\n\n\t\t\t\t\tgizmo.add( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn gizmo;\n\n\t\t};\n\n\t\t// Reusable utility variables\n\n\t\tvar tempVector = new Vector3( 0, 0, 0 );\n\t\tvar tempEuler = new Euler();\n\t\tvar alignVector = new Vector3( 0, 1, 0 );\n\t\tvar zeroVector = new Vector3( 0, 0, 0 );\n\t\tvar lookAtMatrix = new Matrix4();\n\t\tvar tempQuaternion = new Quaternion();\n\t\tvar tempQuaternion2 = new Quaternion();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\t// Gizmo creation\n\n\t\tthis.gizmo = {};\n\t\tthis.picker = {};\n\t\tthis.helper = {};\n\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\n\n\t\t// Pickers should be hidden always\n\n\t\tthis.picker[ 'translate' ].visible = false;\n\t\tthis.picker[ 'rotate' ].visible = false;\n\t\tthis.picker[ 'scale' ].visible = false;\n\n\t\t// updateMatrixWorld will update transformations and appearance of individual handles\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tvar quaternion = space === 'local' ? this.worldQuaternion : identityQuaternion;\n\n\t\t\t// Show only gizmos for current transform mode\n\n\t\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\n\n\t\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\n\n\n\t\t\tvar handles = [];\n\t\t\thandles = handles.concat( this.picker[ this.mode ].children );\n\t\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\n\t\t\thandles = handles.concat( this.helper[ this.mode ].children );\n\n\t\t\tfor ( var i = 0; i < handles.length; i ++ ) {\n\n\t\t\t\tvar handle = handles[ i ];\n\n\t\t\t\t// hide aligned to camera\n\n\t\t\t\thandle.visible = true;\n\t\t\t\thandle.rotation.set( 0, 0, 0 );\n\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\tvar factor;\n\n\t\t\t\tif ( this.camera.isOrthographicCamera ) {\n\n\t\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\n\n\t\t\t\t}\n\n\t\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 7 );\n\n\t\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\n\n\t\t\t\tif ( handle.tag === 'helper' ) {\n\n\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\tif ( handle.name === 'AXIS' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = !! this.axis;\n\n\t\t\t\t\t\tif ( this.axis === 'X' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Y' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, Math.PI / 2 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Z' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'XYZE' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\talignVector.copy( this.rotationAxis );\n\t\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( zeroVector, alignVector, unitY ) );\n\t\t\t\t\t\t\thandle.quaternion.multiply( tempQuaternion );\n\t\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'E' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} else if ( handle.name === 'START' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'END' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'DELTA' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\n\t\t\t\t\t\ttempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\n\t\t\t\t\t\ttempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\n\t\t\t\t\t\thandle.scale.copy( tempVector );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\t\t\tif ( this.dragging ) {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis ) {\n\n\t\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If updating helper, skip rest of the loop\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\n\n\t\t\t\t\t// Hide translate and scale axis facing the camera\n\n\t\t\t\t\tvar AXIS_HIDE_TRESHOLD = 0.99;\n\t\t\t\t\tvar PLANE_HIDE_TRESHOLD = 0.2;\n\t\t\t\t\tvar AXIS_FLIP_TRESHOLD = 0.0;\n\n\n\t\t\t\t\tif ( handle.name === 'X' || handle.name === 'XYZX' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' || handle.name === 'XYZY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' || handle.name === 'XYZZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'YZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Flip translate and scale axis ocluded behind another axis\n\n\t\t\t\t\tif ( handle.name.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.x *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.y *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.z *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( this.mode === 'rotate' ) {\n\n\t\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\t\ttempQuaternion2.copy( quaternion );\n\t\t\t\t\talignVector.copy( this.eye ).applyQuaternion( tempQuaternion.copy( quaternion ).invert() );\n\n\t\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\n\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( this.eye, zeroVector, unitY ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitX, Math.atan2( - alignVector.y, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitY, Math.atan2( alignVector.x, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitZ, Math.atan2( alignVector.y, alignVector.x ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Hide disabled axes\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\n\n\t\t\t\t// highlight selected axis\n\n\t\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\n\t\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\n\n\t\t\t\thandle.material.color.copy( handle.material._color );\n\t\t\t\thandle.material.opacity = handle.material._opacity;\n\n\t\t\t\tif ( ! this.enabled ) {\n\n\t\t\t\t\thandle.material.opacity *= 0.5;\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t} else if ( this.axis ) {\n\n\t\t\t\t\tif ( handle.name === this.axis ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\n\n\t\t\t\t\t\treturn handle.name === a;\n\n\t\t\t\t\t} ) ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.material.opacity *= 0.25;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsGizmo.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControlsGizmo,\n\n\t\tisTransformControlsGizmo: true\n\n\t} );\n\n\n\tvar TransformControlsPlane = function () {\n\n\t\t'use strict';\n\n\t\tMesh.call( this,\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\n\t\t);\n\n\t\tthis.type = 'TransformControlsPlane';\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\tvar tempVector = new Vector3();\n\t\tvar dirVector = new Vector3();\n\t\tvar alignVector = new Vector3();\n\t\tvar tempMatrix = new Matrix4();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tthis.position.copy( this.worldPosition );\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tunitX.set( 1, 0, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitY.set( 0, 1, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitZ.set( 0, 0, 1 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\n\t\t\t// Align the plane for current transform mode, axis and space.\n\n\t\t\talignVector.copy( unitY );\n\n\t\t\tswitch ( this.mode ) {\n\n\t\t\t\tcase 'translate':\n\t\t\t\tcase 'scale':\n\t\t\t\t\tswitch ( this.axis ) {\n\n\t\t\t\t\t\tcase 'X':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitX );\n\t\t\t\t\t\t\tdirVector.copy( unitX ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitY );\n\t\t\t\t\t\t\tdirVector.copy( unitY ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitZ ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XY':\n\t\t\t\t\t\t\tdirVector.copy( unitZ );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'YZ':\n\t\t\t\t\t\t\tdirVector.copy( unitX );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XZ':\n\t\t\t\t\t\t\talignVector.copy( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XYZ':\n\t\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\tdefault:\n\t\t\t\t\t// special case for rotate\n\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( dirVector.length() === 0 ) {\n\n\t\t\t\t// If in rotate mode, make the plane parallel to camera\n\t\t\t\tthis.quaternion.copy( this.cameraQuaternion );\n\n\t\t\t} else {\n\n\t\t\t\ttempMatrix.lookAt( tempVector.set( 0, 0, 0 ), dirVector, alignVector );\n\n\t\t\t\tthis.quaternion.setFromRotationMatrix( tempMatrix );\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsPlane.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\t\tconstructor: TransformControlsPlane,\n\n\t\tisTransformControlsPlane: true\n\n\t} );\n\n\treturn TransformControls;\n}\n","import { useEffect } from 'react';\n\nexport const useMountEffect = (fun) => useEffect(fun, []);\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  CardActionArea,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  card: {\n    margin: '32px',\n    border: '2px solid rgba(0, 0, 0, 0.12)',\n    textAlign: 'center',\n  },\n});\nconst OptionCard = ({ title, description, onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <Card onClick={onClick} className={classes.card}>\n      <CardActionArea>\n        <CardContent>\n          <Typography variant=\"h2\">{title}</Typography>\n          <p>{description}</p>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default OptionCard;\n","export const formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport let storage = {};\n\nexport const fillStorage = () => {\n  return getSettings().then((data) => {\n    storage = data;\n  });\n};\n\nexport const setStorage = (key, val) => {\n  storage[key] = val;\n  let formData = new FormData();\n  formData.append(\"json\", JSON.stringify(storage));\n  postSettings(formData);\n};\nexport const getStorage = (key) => {\n  return (typeof storage[key] !== 'undefined' ? storage[key] : false);\n};\nexport const removeStorage = (key) => {\n  storage[key] = null;\n};\nexport const resetStorage = () => {\n  return storageReset();\n};\nasync function getSettings() {\n    let response = null;\n    response = await fetch(`http://${window.location.hostname}:2127/api/v1/get/ui/settings`, {\n      method: \"GET\"\n    });\n    return await response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function storageReset() {\n  let settings = {};\n  await getSettings().then((data) => {\n    console.log('before', data);\n    let setAll = (obj, val) => Object.keys(obj).forEach(\n      k => obj[k] = (k == 'network' || k == 'printerName' ? obj[k] : val)\n     );\n    setAll(data, \"\");\n    console.log('after', data);\n    let formData = new FormData();\n    formData.append(\"json\", JSON.stringify(data));\n    postSettings(formData);\n    settings = data;\n  });\n  return settings;\n}\n\nasync function postSettings(formData) {\n  await fetch(`http://${window.location.hostname}:2127/api/v1/set/ui/settings`, {\n    method: \"POST\",\n    body: formData // send updated settings\n  });\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport OptionCard from '../../Common/OptionCard/OptionCard';\nimport { getStorage, setStorage } from '../../../Utility/helpers';\nconst useStyles = makeStyles({\n  header: {\n    textAlign: 'center',\n    fontSize: '32px',\n  },\n});\n\nconst PrinterType = ({ setStep }) => {\n  const classes = useStyles();\n  const handleClick = (val) => {\n    setStorage('printerProfile', val);\n    setStep(3);\n  };\n\n  useMountEffect(() => {\n    if(getStorage(\"printerProfile\") && getStorage(\"printerProfile\") !== \"none\") {\n      setStep(3);\n    }\n  });\n\n  return ((!getStorage(\"printerProfile\") || getStorage(\"printerProfile\") == \"none\") && (\n    <div>\n      <h2 className={classes.header}>Where will this printer be used?</h2>\n      <OptionCard title=\"Classroom\" onClick={() => handleClick('classroom')} />\n      <OptionCard title=\"Business\" onClick={() => handleClick('business')} />\n      <OptionCard title=\"Home\" onClick={() => handleClick('home')} />\n    </div>\n  ));\n};\n\nexport default PrinterType;\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography, TextField } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Keyboard from \"react-simple-keyboard\";\nimport { setStorage, getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst NetworkSettings = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n  const [printerName, setPrinterName] = useState(\"300x\");\n\n  useMountEffect(() => {\n    setPrinterName(setStorage(\"printerName\"));\n  });\n\n\n  const nextSubmit = () => {\n    !settingsScreen && setStep(4);\n  }\n\n  const handleSubmit = async () => {\n    // TODO remove previous name via action \"remove\"\n    console.log(input, \"input\");\n    const host_name = { hostname: input, action: \"add\" };\n    const lastHostname = { hostname: printerName !== null ? printerName : \"300x\", action: \"remove\"};\n    const ssid_name = { ssid: input };\n\n    //after, display success or failure\n    setConnecting(false);\n    const hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(host_name)\n    });\n\n    hostname_response.json().then((data) => {\n      console.log(data);\n      if (data.status.includes(\"add\")) {\n\n\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n\n    if(input !== printerName) {\n      const remove_hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(lastHostname)\n      });\n\n      remove_hostname_response.json().then((data) => {\n        console.log(data);\n        if (data.status.includes(\"remove\")) {\n          setStorage(\"hostname\", input);\n        }\n      });\n    }\n\n    const ssid_name_response = await fetch(`http://${window.location.hostname}:8990/hotspot/change/ssid/name`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(ssid_name)\n    });\n\n    ssid_name_response.json().then((data) => {\n      console.log(data);\n      setConnecting(false);\n      if (data.status.includes(\"changed\")) {\n        setStorage(\"ssid\", input);\n        setSnackMessage(\"Successfully Named!\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(4);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        // show snack message \"Failure\"\n      }\n    });\n\n  };\n\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\">Your Printer's Name Is:</Typography>\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>{printerName}</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'flex-end'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      nextSubmit()\n                  }}\n                    >\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default NetworkSettings;\n","import React, { useState } from \"react\";\nimport { Button, Grid, CircularProgress, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport UpdateIcon from \"@material-ui/icons/Update\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\n\nconst useStyles = makeStyles({\n  checker: {\n    flex: 2,\n    \"& button\": {\n      width: \"200px\",\n      height: \"50px\",\n      fontSize: \"14px\"\n    }\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nconst Update = ({ autoCheck, handleOnboarding, firstBoot, setStep, fastTrackUpdate, setFastTrackUpdate }) => {\n  const classes = useStyles();\n\n  const [checking, setChecking] = useState(false);\n  const [text, setText] = useState(\"Update device\");\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [updateChecked, setUpdateChecked] = useState(false);\n  const [updates, setUpdates] = useState(false);\n  const [checkDisabled, setCheckDisabled] = useState(false);\n  const [rebootMessage, setRebootMessage] = useState(false);\n  const [retryCount, setRetryCount] = useState(0);\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://localhost:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(retryCount < maxRetryCount) {\n        setTimeout(() => {\n          setRetryCount(retryCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setText(\"This update requires a second run. Please try to install the update again.\");\n        setUpdates(true);\n        setChecking(false);\n        setCheckDisabled(false);\n      }\n\n    });\n  };\n\n  useMountEffect(() => {\n    if (autoCheck) {\n      handleCheck();\n    }\n\n    if(fastTrackUpdate) {\n      setChecking(false);\n      setUpdates(true);\n      setUpdateChecked(true);\n      setFastTrackUpdate(false);\n    }\n\n  });\n  const handleCheck = () => {\n    if (firstBoot && updateChecked) {\n      setStep(2);\n    } else {\n      setText(\"Checking for updates...\");\n      setChecking(true);\n      //make api call\n      //await POST body to http://${window.location.hostname}:8990/connect\n      async function checkUpdates() {\n        // Default options are marked with *\n        const response = await fetch(\n          `http://${window.location.hostname}:2127/api/v1/update/software/check`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }\n        );\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n      checkUpdates().then((data) => {\n        console.log(data);\n        //after api call\n        if (data.update) {\n          setChecking(false);\n          //if updates present\n          setText(data.message);\n          setReleaseNotes(data.releaseNotes);\n          setUpdates(true);\n          setUpdateChecked(true);\n        } else {\n          setChecking(false);\n          setText(data.message);\n          setUpdateChecked(true);\n        }\n      });\n    }\n  };\n  const handleDownload = () => {\n    //console.log(\"handleDownload state 1 of 6; Entry point\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function downloadUpdates() {\n      //console.log(\"handleDownload state 2 of 6; downloadUpdates called\");\n      // Default options are marked with *\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/update/software`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setChecking(true);\n    setText(\"Downloading, please wait...\");\n    setUpdates(false);\n    //call download api\n    downloadUpdates().then((data) => {\n      //console.log(\"handleDownload state 3 of 6; Await'd downloadUpdates\");\n      console.log(data);\n      //after api call\n      if (data.updated) {\n        //console.log(\"handleDownload state 4 of 6; data.updated === true\");\n        //after api call\n        setChecking(false);\n        //on success\n        setText(data.message);\n        setRebootMessage(true);\n        setCheckDisabled(true);\n\n        //console.log(\n        //  \"handleDownload state 5 of6 ; Waiting 3 seconds and then calling reboot\"\n        //);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          attemptReboot();\n        }, 3000);\n      } else {\n        console.log(\"handleDownload state error of 6; Entry point\");\n        //on failure\n        setText(data.message);\n        setUpdates(true);\n        setCheckDisabled(false);\n        setChecking(false);\n      }\n    });\n  };\n  const handleSkip = () => {\n    setStep(2);\n  };\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{ height: \"100%\" }}\n    >\n      {!checkDisabled && firstBoot && (\n        <Button\n          style={{ alignSelf: \"flex-end\", marginTop: \"15px\" }}\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={handleSkip}\n        >\n          Skip\n        </Button>\n      )}\n\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.updateContainer}\n      >\n        {checking && <CircularProgress color=\"secondary\" />}\n        <UpdateIcon\n          style={{\n            fontSize: 100,\n            width: \"100%\",\n            textAlign: \"center\",\n            marginBottom: 20\n          }}\n        />\n        {text.length > 0 && (\n          <>\n          <Typography variant=\"h3\" style={{\n            textAlign: \"center\",\n          }}>\n            {text}\n          </Typography>\n          {releaseNotes && (\n            <Typography variant=\"h5\" style={{\n                textAlign: \"left\",\n                marginTop: 5,\n              }}\n              dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n          )}\n          </>\n        )}\n        {rebootMessage && (\n          <div>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              Rebooting printer to apply update, this will take approximately 2\n              minutes.\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n            </Typography>\n          </div>\n        )}\n        {updates && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleDownload}\n            style={{ marginTop: \"24px\" }}\n          >\n            Download Update\n          </Button>\n        )}\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.checker}\n      >\n        {!updates && !checking && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={checking || checkDisabled}\n            onClick={handleCheck}\n          >\n            {firstBoot && updateChecked ? \"Next\" : \"Check for Updates\"}\n          </Button>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Update;\n","const TutorialLayouts = {\n  ButtonSingle: \"single-button\",\n  AxisManipulation: \"axis-manipulation\",\n  ButtonMulti: \"multi-button\",\n  ThermalGate: \"thermal-gate\",\n  DualThermalGate: \"dual-thermal-gate\"\n};\n\nexport default TutorialLayouts;\n","import TutorialLayouts from \"./TutorialLayouts\";\n\nconst TutorialDefinitions = {\n  firstRun: {\n    userVisable: false,\n    name: \"Initial Setup\",\n    description: \"\",\n    exitActions: [\n      {\n        type: \"nozzletemp\",\n        params: [0]\n      },\n      {\n        type: \"bedtemp\",\n        params: [0]\n      }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"continue\", params: [] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [3] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [22] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [18] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [23] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      }\n    ]\n  },\n\n  blTouchCalibration: {\n    userVisable: true,\n    name: \"Calibrate BLTouch Sensor\",\n    description: \"Calibrate the z-offset with the BLTouch sensor.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text: `Make sure the print bed is clear and then tap \"Start\" to begin.`,\n        image: '1-sensor-hot-end.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Wait until the sensor clicks twice for a reading and the nozzle moves to the center.%BREAK%Then, grab a piece of printer paper and place it between the printer's nozzle and the build surface.`,\n        image: '2-paper-under-nozzle.jpeg'\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: `Calibration complete. Press \"Exit\" to finish this tutorial.`\n      }\n    ]\n  },\n\n  bedLevelCornerCalibration: {\n    userVisable: true,\n    name: \"Level the printing bed corners\",\n    description: \"Level the printing bed corners sequentially.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"home\", params: [] },\n          { type: \"movexy\", params: [150, 150] }\n        ],\n        text: `Place a sheet of printer paper on the center of the print bed. Ensure the bed is clear of anything else and then press \"Start\". The nozzle will move to the center of the print bed.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it does in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [1] }]\n          },\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [\n              { type: \"bl_level\", params: [] },\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [\n          { type: \"exit\", params: [] }\n        ],\n        text: \"The leveling process is complete.\"\n      }\n    ]\n  },\n  loadFilament: {\n    userVisable: true,\n    name: \"Load Filament\",\n    description: \"The steps required to load a new filament into the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\",\n        image: '3-filament.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\",\n          image: '4-nozzle.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 210,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached an appropriate temperature.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bLoad\",\n            buttonText: \"Load Filament\",\n            buttonActions: [\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Filament Loaded\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"You are now ready to load the filament!%BREAK%Hang the filament on the spool holder and pull out the end from the storage slot on its side.%BREAK%Cut any bent parts off at a 45 degree angle, so it is easier to load into the printer.%BREAK%Squeeze the silver lever next to the gears and push the cut end of the filament into the small hole in the lever until it stops.%BREAK%To manually load the filament, push it all the way into the tube until you see your filament color melting out of the end of the nozzle. Then press Filament Loaded.%BREAK%To automatically load the filament, tap Load Filament. The gear will pull the filament all the way through the tube until you see your color melting out the end. Then press Filament Loaded.\",\n        image: '5-extruder-lever.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown and Exit\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"exit\", params: [] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Test Print\",\n            buttonActions: [{ type: \"exit\", params: ['test_print'] }]\n          }\n        ],\n        text:\n          'Your filament is now loaded!%BREAK%Press Test Print to test your printer and ensure that the proper height is set for your BLTouch Calibration Sensor.%BREAK%If you are not ready to print now, press Cooldown and Exit.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  unloadFilament: {\n    userVisable: true,\n    name: \"Unload Filament\",\n    description:\n      \"The steps required to remove a previously loaded filament from the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          'To unload filament from the printer, the nozzle must be preheated because the filament is solid at room temperature and is consequently stuck inside the extruder.%BREAK%Press \"Preheat\" to start preheating the extruder to 220 °C.%BREAK%Remember that it will be hot, so don\\'t touch it!'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bUnload\",\n            buttonText: \"UnLoad Filament\",\n            buttonActions: [\n              { type: \"load\", params: [10] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Next\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"To unload the filament, squeeze the silver lever next to the gears and push the filament until you see it coming out of the end of the nozzle. Then, pull the filament out of the tube in one fluid motion. This enures that the end is fully melted and will make it easier to remove from the Bowden tube.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now unloaded! Rewrap the filament around the roll and put the end into the storage slot on the side.%BREAK%If you are not going to load a new filament into the machine, press the \"Cooldown\" button so the extruder does not stay hot.%BREAK%If you are going to load another filament into the machine, pressing \"Exit\" will exit this tutorial while leaving the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  printTestCube: {\n    userVisable: true,\n    name: \"Test Print\",\n    description:\n      \"Print a small object to test the functionality of your printer\",\n    exitActions: [\n      { type: \"nozzletemp\", params: [0] },\n      { type: \"bedtemp\", params: [0] }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'Let’s run a square test print to ensure your printer is set up correctly!%BREAK%Ensure filament is loaded into the machine and press Preheat to begin.%BREAK%This is what your print should look like when finished!%BREAK%Notice the 90° angle of the square and the consistent layer lines.',\n        image: '6-test-print.jpeg'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 210,\n        minimumBedTemp: 45,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 50 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Troubleshoot\",\n            buttonActions: [{ type: \"jumpto\", params: [4] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"Finish and Exit\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%When finished, does your print look like this? Notice the 90° angle of the square and the consistent layer lines.%BREAK%If your print looks like this, press Finish and Exit.%BREAK%If your print looks smashed, came loose from the build plate, or something else happened, press Troubleshoot.\",\n        image: '6-test-print.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate BLTouch Sensor\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Looks Different / Something Else\",\n            buttonActions: [\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If the nozzle is not close enough, the layers will not stack correctly.%BREAK%Here is an example print from a nozzle that is too far away.%BREAK%If the model comes loose while printing, the BLTouch calibration should be lowered by a tiny bit.\",\n        image: '7-test-print-high.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate BLTouch Sensor\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Looks Different / Something Else\",\n            buttonActions: [\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If the nozzle is too close, your print will look smashed like this example.%BREAK%The nozzle can also be so close that it drags into the build plate and filament doesn’t have enough room to extrude into lines.%BREAK%In this case, the BLTouch calibration should be raised by a tiny bit.\",\n        image: '8-test-print-low.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Load Filament\",\n            buttonActions: [\n              { type: \"exit\", params: [\"load-filament\"] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If no filament came out, the filament may not be loaded all the way to the nozzle.%BREAK%If the machine made any loud sounds or it didn’t print in a square, refer to the Quick Start Guide to check that all of the motor and limit switch connections are fully connected into their proper places.%BREAK%If none of these solutions worked for you, exit and contact support@makermade.com and we will get you printing!\",\n        image: '9-connections.jpeg'\n      }\n    ]\n  }\n};\n\nexport default TutorialDefinitions;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction TutorialThermometer(props) {\n  return (\n    <div className=\"big-thermometer\">\n      <div className=\"big-thermometer-container\">\n        <div className=\"big-thermometer-bulb-container\"></div>\n        <div className=\"big-thermometer-indicator-container\">\n          <div\n            className=\"big-thermometer-indicator\"\n            style={{\n              height: `${\n                15 + 85 * ((props.value - props.min) / (props.max - props.min))\n              }%`\n            }}\n          ></div>\n          <div className=\"big-thermometer-bulb\">\n            <span>{props.value}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TutorialThermometer;\n","class GCodeBuilder {\n  constructor() {\n    this._actions = [];\n  }\n\n  build() {\n    let retString = \"\";\n    for (let i = 0; i < this._actions.length; i++) {\n      retString += this._actions[i] + \"\\n\";\n    }\n    return retString;\n  }\n\n  addCommand(command) {\n    this._actions.push(command);\n  }\n}\n\nfunction GGetZProbeOffset() {\n  return `M851`;\n}\n\nfunction GSetZProbeOffset(offset) {\n  return `M851 Z${offset}`;\n}\n\nfunction GStoreParams() {\n  return `M500`;\n}\n\nfunction GLoadParams() {\n  return `M501`;\n}\n\nfunction Home() {\n  return `G28`;\n}\n\nfunction NineZero() {\n  return `G90`;\n}\n\nfunction BlLevel() {\n  return `G29 T`;\n}\n\n/**\n *\n * @param {Boolean} x Home the X axis?\n * @param {Boolean} y Home the Y axis?\n * @param {Boolean} z Home the Z axis?\n */\nfunction GMoveToOrigin(x, y, z) {\n  if (x && y && z) {\n    return `G28`;\n  } else {\n    return `G28${x ? \"X \" : \"\"}${y ? \"Y \" : \"\"}${x ? \"Z \" : \"\"}`;\n  }\n}\n\nfunction GSetToRelativePositioning() {\n  return \"G91\";\n}\n\nfunction GSetToAbsolutePositioning() {\n  return \"G90\";\n}\n\nfunction GSetSoftwareEndstops(enabled) {\n  if (enabled) {\n    return \"M211 S1\";\n  } else {\n    return \"M211 S0\";\n  }\n}\n\nfunction GLinearMove(doX, doY, doZ, xPos, yPos, zPos) {\n  if (doX || doY || doZ) {\n    return `G1${doX ? ` X${xPos}` : \"\"}${doY ? ` Y${yPos}` : \"\"}${\n      doZ ? ` Z${zPos}` : \"\"\n    }`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GExtrude(distance, temp) {\n  if (temp > 219) {\n    return `G91\\nG1 E${distance} F300\\nM114`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GSetExtruderTemp(temp) {\n  return `M104 S${temp}`;\n}\n\nfunction GSetBedTemp(temp) {\n  return `M140 S${temp}`;\n}\n\nfunction GDisableAllMotors() {\n  return `M18`;\n}\n\nfunction GEnableAllMotors() {\n  return `M17`;\n}\n\nexport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  Home,\n  NineZero,\n  BlLevel,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  GEnableAllMotors,\n  GDisableAllMotors\n};\n","import React from \"react\";\nconst TempContext = React.createContext({\n  bedTarget: 0,\n  nozzleTarget: 0,\n  bed: 0,\n  nozzle: 0,\n  zOffset: 0,\n  setBedTarget: (temp) => {},\n  setNozzleTarget: (temp) => {},\n  setBed: (temp) => {},\n  setNozzle: (temp) => {},\n  setZOffset: (val) => {}\n});\n\nexport default TempContext;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport TutorialLayouts from \"../TutorialLayouts\";\nimport {\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Paper,\n  Snackbar,\n  Tabs,\n  Tab,\n  AppBar\n} from \"@material-ui/core\";\nimport { ArrowDownward, ArrowUpward, CloseSharp } from \"@material-ui/icons\";\nimport TutorialThermometer from \"../TutorialThermometer/TutorialThermometer\";\nimport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  Home,\n  NineZero,\n  BlLevel\n} from \"../GCodeBuilder\";\nimport { getStorage, setStorage } from \"../../../Utility/helpers\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst styles = (theme) => ({\n  tutorialWindow: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1250,\n    backgroundColor: \"#303030\"\n  },\n  tutorialButton: {\n    // backgroundColor: \"rgb(42, 57, 131)\",\n    fontSize: \"20px\"\n  },\n  tutorialCloseButton: {\n    float: \"right\",\n    marginRight: -8\n  },\n  tutorialText: {\n    fontSize: \"20px\",\n    marginBottom: 5\n  },\n  tutorialContainer: {\n    padding: \"8px\",\n    height: \"calc(100% - 48px)\"\n  },\n  tutorialHeading: {\n    paddingTop: \"8px\"\n  },\n  layoutSingleGrid: {\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\"\n  },\n  layoutSingleGridText: {\n    // height: \"50%\"\n    flexGrow: 1\n  },\n  layoutSingleGridButton: {\n    height: \"80px\",\n    textAlign: \"center\"\n  },\n  layoutSingleGridTop: {\n    height: \"50px\"\n  },\n  layoutSingleGridAxisControl: {\n    height: \"550px\"\n  },\n  layoutSingleGridThermalControl: {\n    height: \"550px\"\n  },\n  axisButton: {\n    marginTop: \"2px\",\n    marginBottom: \"2px\",\n    fontSize: \"20px\",\n    textTransform: \"none\",\n    width: \"120px\"\n  },\n  thermoLabel: {\n    textAlign: \"center\",\n    fontSize: \"26px\"\n  },\n  btnContainer: {\n    marginTop: \"40px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nclass Tutorial extends React.Component {\n  constructor(props) {\n    super(props);\n    this.evTutorialClose =\n      props.onTutorialClose ||\n      (() => {\n        console.log(\"Unhandled tutorial close event\");\n      });\n    this.state = {\n      tutorialId: this.props.tutorialName || null,\n      tutorialReady: false,\n      currentStep: 0,\n      exitWarning: false,\n      showSnack: false,\n      snackMessage: \"Your printer is reheating. Wait a moment and try the load/unload button again.\",\n      unit: 0.1,\n      offset: -1.55,\n      delay: false\n    };\n    this.tutorial = null;\n    this.offsetRequested = false;\n  }\n\n  static contextType = TempContext;\n\n  componentDidMount() {\n\n    if(this.props.tutorialName == \"blTouchCalibration\") {\n      // this returns:\n      // [0].current.logs[\n      // 0: \"Send: M851\"\n      // 1: \"Recv: Probe Offset X-44.00 Y-3.74 Z0.00\"\n      // 2: \"Recv: ok\"\n      // ]\n      // and\n      // [0].current.messages: [\"Probe Offset X-44.00 Y-3.74 Z0.00\"]\n      // getting this from ws and storing to TempContext\n      this.attemptGetZOffset();\n      this.offsetRequested = true;\n    }\n\n    if(this.props.firstBoot) {\n      if(this.props.tutorialName == \"bedLevelCornerCalibration\" && getStorage('leveled')) {\n        this.props.setStep(6);\n      }\n\n      if(this.props.tutorialName == \"loadFilament\" && getStorage('loaded')) {\n        this.props.onTutorialClose(getStorage(\"userMode\"));\n      }\n    }\n\n    if (this.state.tutorialId && TutorialDefinitions[this.state.tutorialId]) {\n      this.tutorial = TutorialDefinitions[this.state.tutorialId];\n      this.setState({ tutorialReady: true, currentStep: 0 });\n    } else {\n      console.log(\n        `Unknown tutorial id \"${this.state.tutorialId}\", closing tutorial`\n      );\n      this.evTutorialClose();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.tutorial) {\n      const currentStep = this.tutorial.steps[this.state.currentStep];\n      if (currentStep.layout === TutorialLayouts.ThermalGate) {\n        //We only need to trigger ThermalGates when they are displayed\n      }\n    }\n    if(this.context.zOffset && this.offsetRequested) {\n      console.log(\"offset: \", this.context.zOffset);\n      this.setState({offset: this.context.zOffset});\n      this.offsetRequested = false;\n    }\n  }\n\n  attemptExitActions() {\n    this.processButtonActions(this.tutorial.exitActions);\n  }\n\n  attemptCloseTutorial(reason) {\n    if (\n      this.state.currentStep === 0 ||\n      this.currentStep === this.tutorial.steps.length - 1\n    ) {\n      //This is the first or last step of the tutorial, so we can just close without any warnings\n      this.evTutorialClose(reason);\n      if(this.props.tutorialName == \"bedLevelCornerCalibration\") {\n        setStorage('leveled', true);\n      }\n\n      if(this.props.tutorialName == \"loadFilament\") {\n        setStorage('loaded', true);\n      }\n    } else {\n      //The tutorial is in-progress, confirm that the user really wishes to exit\n      this.setState({ exitWarning: true });\n    }\n  }\n\n  attemptAxisMove(axis, amount) {\n    console.log(`Attempting to move on the ${axis} axis by ${amount}mm`);\n    if (axis.toLowerCase() === \"z\") {\n      let newOffset = parseFloat(this.state.offset) + parseFloat(amount);\n      newOffset = newOffset.toFixed(4);\n      console.log(newOffset);\n      this.setState({offset: newOffset});\n      let codeBuilder = new GCodeBuilder();\n      codeBuilder.addCommand(GSetToRelativePositioning());\n      codeBuilder.addCommand(\n        GLinearMove(false, false, true, null, null, amount)\n      );\n      this.sendGcode(codeBuilder.build());\n    }\n  }\n\n  attemptHome() {\n    console.log(`Attempting to home`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(Home());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptAbsolute() {\n    console.log(`Attempting to G90`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(NineZero());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptBlLevel() {\n    console.log(`Attempting to BL Level`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(BlLevel());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptXYMoveTo(x, y) {\n    console.log(`Attempting to move print head to x:${x}, y: ${y}`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 30));\n    codeBuilder.addCommand(GLinearMove(true, true, true, x, y, 0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptZOffsetStart() {\n    console.log(`Attempting to start z offset process`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetSoftwareEndstops(false));\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 0.0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptGetZOffset() {\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GGetZProbeOffset());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSaveZOffset() {\n    console.log(`Attempting to save z offset`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GSetSoftwareEndstops(true));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetBedTemp(temp) {\n    console.log(`Attempting to set bed temperature to ${temp} °C`);\n    this.context.setBedTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetBedTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetExtruderTemp(temp) {\n    console.log(`Attempting to set extruder temperature to ${temp} °C`);\n    this.context.setNozzleTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetExtruderTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptTestPrint() {\n    this.attemptAbsolute();\n    fetch(`http://${window.location.hostname}:2127/api/v1/job/BLTouchCalibrationTest.gcode`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  }\n\n  loadFilament(distance) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    let codeBuilder = new GCodeBuilder();\n    if(this.context.nozzle >= currentStep.minimumExtruderTemp) {\n      codeBuilder.addCommand(GExtrude(distance,this.context.nozzle));\n      this.sendGcode(codeBuilder.build());\n      this.setState({ showSnack: false });\n    } else {\n      this.setState({ showSnack: true });\n      console.log('current:'+this.context.nozzle+' min:'+currentStep.minimumExtruderTemp);\n    }\n  }\n\n  unloadFilament(distance) {\n    this.loadFilament(distance);\n  }\n\n  tutorialButtonPressed(id) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    if (\n      currentStep.layout === TutorialLayouts.ButtonSingle ||\n      currentStep.layout === TutorialLayouts.AxisManipulation ||\n      currentStep.layout === TutorialLayouts.ThermalGate ||\n      currentStep.layout === TutorialLayouts.DualThermalGate\n    ) {\n      this.processButtonActions(currentStep.buttonActions);\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      this.processButtonActions(\n        currentStep.buttons.find((b) => {\n          return b.id === id;\n        }).buttonActions\n      );\n    } else {\n      //Do correct button selection logic\n    }\n  }\n\n  sendGcode(gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  }\n\n  processButtonActions(actions) {\n    let currentState = this;\n    for (const action of actions) {\n      switch (action.type) {\n        case \"continue\":\n          this.actionContinue();\n          break;\n        case \"home\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptHome();\n          break;\n        case \"bl_level\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptBlLevel();\n          break;\n        case \"movexy\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptXYMoveTo(action.params[0], action.params[1]);\n          break;\n        case \"jumpto\":\n          this.actionJumpTo(action.params[0]);\n          break;\n        case \"load\":\n          this.loadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"unload\":\n          this.unloadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"exit\":\n          this.evTutorialClose(\n            action.params.length > 0 ? action.params[0] : \"\"\n          );\n          break;\n        case \"savezoffset\":\n          //Attempt to set the z offset from the current z position\n          this.attemptSaveZOffset();\n          break;\n        case \"nozzletemp\":\n          //Attempt to set extruder temp\n          this.attemptSetExtruderTemp(action.params[0]);\n          break;\n        case \"bedtemp\":\n          //Attempt to set bed temperature\n          this.attemptSetBedTemp(action.params[0]);\n          break;\n        case \"printtest\":\n          //Attempt to print test article\n          this.attemptTestPrint();\n          break;\n        case \"zoffsetstart\":\n          //Zero out the printer to start zoffset\n          this.attemptZOffsetStart();\n          break;\n        default:\n          console.log(\n            `Warning! Unhandled tutorial action type: \"${action.type}\"`\n          );\n      }\n    }\n  }\n\n  /**\n   * Attempts to continue to the next tutorial step\n   */\n  actionContinue() {\n    if (this.state.currentStep < this.tutorial.steps.length - 1) {\n      this.setState({ currentStep: this.state.currentStep + 1 });\n    }\n  }\n\n  /**\n   * Jumps the tutorial back (or forward) to a specific step\n   * @param {Number} step The index of the step\n   */\n  actionJumpTo(step) {\n    this.setState({ currentStep: step });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.tutorialWindow}>\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ paddingLeft: 8 }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        {this.state.tutorialReady && (\n          <Container className={classes.tutorialContainer}>\n            <Grid container>\n              <Grid item xs={10}>\n                <Typography variant=\"h5\" className={classes.tutorialHeading}>\n                  {this.tutorial.name}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <IconButton\n                  className={classes.tutorialCloseButton}\n                  onClick={() => {\n                    this.attemptCloseTutorial(\n                      this.props.firstBoot ? \"skip\" : null\n                    );\n                  }}\n                >\n                  <CloseSharp />\n                </IconButton>\n              </Grid>\n            </Grid>\n            {this.renderTutorialPage(classes)}\n          </Container>\n        )}\n        <Dialog open={this.state.exitWarning}>\n          <DialogTitle>Exit Tutorial</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Are you sure you want to exit this tutorial?\n            </DialogContentText>\n            <DialogActions>\n              <Button\n                onClick={() => {\n                  if(this.props.tutorialName == \"bedLevelCornerCalibration\") {\n                    setStorage('leveled', true);\n                  }\n\n                  if(this.props.tutorialName == \"loadFilament\") {\n                    setStorage('loaded', true);\n                  }\n                  this.attemptExitActions();\n                  this.evTutorialClose();\n                }}\n              >\n                Yes\n              </Button>\n              <Button\n                autoFocus\n                onClick={() => {\n                  this.setState({ exitWarning: false });\n                }}\n              >\n                No\n              </Button>\n            </DialogActions>\n          </DialogContent>\n        </Dialog>\n        <Snackbar\n          open={this.state.showSnack}\n          autoHideDuration={6000}\n          message={this.state.snackMessage}\n          onClose={false}\n        ></Snackbar>\n      </div>\n    );\n  }\n\n  renderTutorialPage(classes) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n\n    if (currentStep.layout === TutorialLayouts.ButtonSingle) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.image && (\n              <img\n                alt={currentStep.image}\n                src={currentStep.image}\n                style={{\n                  width: '80vw',\n                  height: 'auto',\n                  marginTop: 20,\n                  marginBottom: 20\n                }}\n              ></img>\n            )}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.AxisManipulation) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridAxisControl}>\n            <Grid container justify=\"center\">\n              {currentStep.axisX && this.renderAxisControl(\"X\", classes)}\n              {currentStep.axisY && this.renderAxisControl(\"Y\", classes)}\n              {currentStep.axisZ && this.renderAxisControl(\"Z\", classes)}\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.image && (\n              <img\n                alt={currentStep.image}\n                src={currentStep.image}\n                style={{\n                  width: '80vw',\n                  height: 'auto',\n                  marginTop: 20,\n                  marginBottom: 20\n                }}\n              ></img>\n            )}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Grid container justify=\"space-around\">\n              {currentStep.buttons.map((button) => {\n                return (\n                  <Grid item xs={6}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"contained\"\n                      className={classes.tutorialButton}\n                      style={{\n                        margin: (\n                          button.buttonText == \"Recalibrate BLTouch Sensor\" || button.buttonText == \"Looks Different / Something Else\"\n                        ) ? 10 : 'inherit'\n                      }}\n                      disabled={this.state.delay}\n                      onClick={() => {\n                        this.tutorialButtonPressed(button.id);\n                      }}\n                      id={button.id}\n                    >\n                      {button.buttonText}\n                    </Button>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <TutorialThermometer\n                min={0}\n                max={400}\n                value={this.context.nozzle}\n              ></TutorialThermometer>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={!(this.context.nozzle >= currentStep.minimumTemp)}\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.DualThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumExtruderTemp &&\n            this.context.bed >= currentStep.minimumBedTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.bed}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Bed\n                </Typography>\n              </Grid>\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.nozzle}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Extruder\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={\n                !(\n                  this.context.nozzle >= currentStep.minimumExtruderTemp &&\n                  this.context.bed >= currentStep.minimumBedTemp\n                )\n              }\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  renderAxisControl(axis, classes) {\n    const units = [0.01, 0.05, 0.1, 1.0];\n\n    return (\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={12}>\n          <Paper>\n            <Tabs\n              value={this.state.unit}\n              className={classes.tabs}\n              onChange={(e, val) => this.setState({unit:val})}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} value={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 40}}>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n            style={{ height: 220 }}\n          >\n            <Grid item>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,-this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorial);\n","import React from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  container: {\n    padding: \"32px\",\n    textAlign: \"center\",\n    \"& p\": {\n      fontSize: \"2.125rem\"\n    }\n  }\n});\nconst HotspotConnect = ({ setStep, setConnectWifi }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      <h2>\n        Your SSID is\n        <Typography color=\"secondary\" variant=\"body1\">\n          {window.location.hostname}\n        </Typography>\n      </h2>\n      <h2>\n        Your password is\n        <Typography color=\"secondary\" variant=\"body1\">\n          makermade\n        </Typography>\n      </h2>\n      <Grid item className={classes.buttonContainer}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={() => setConnectWifi(null)}\n        >\n          Back\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={() => setStep(1)}>\n          Next\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default HotspotConnect;\n","import React, { useRef, useState } from \"react\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Backdrop,\n  Button,\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n  List,\n  ListItem,\n  TextField\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport RemoveRedEyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport Keyboard from \"react-simple-keyboard\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  accordion: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  button: {\n    alignSelf: \"flex-end\",\n    height: \"36px\",\n    marginLeft: \"25px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  },\n  wifiList: {\n    height: \"600px\",\n    overflow: \"scroll\",\n    border: \"1px solid #fff\",\n    borderRadius: \"5px\"\n  }\n});\nconst WifiConnect = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  handleSnackClose,\n  setConnectWifi,\n  settingsScreen,\n  setStage,\n  onGoBack\n}) => {\n  const classes = useStyles({ settingsScreen });\n  const [expanded, setExpanded] = useState(false);\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [wifiArr, setWifiArr] = useState([]);\n  const [connecting, setConnecting] = useState(false);\n  const keyboard = useRef();\n  const [loading, setLoading] = useState(false);\n  const [maskPassword, setMaskPassword] = useState(true);\n\n  useMountEffect(() => {\n    async function getNetworks() {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/networks/scan`);\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    //Fetch http://${window.location.hostname}:8990/networks/scan\n    //setWifiArr response.networks\n    setLoading(true);\n    getNetworks().then((data) => {\n      let networks = data.networks.filter((obj, pos, arr) => {\n        return (\n          arr.map((mapObj) => mapObj[\"ssid\"]).indexOf(obj[\"ssid\"]) === pos &&\n          obj.ssid != null\n        );\n      });\n      setWifiArr(networks);\n      setLoading(false);\n    });\n  });\n\n  const handleSubmit = async () => {\n    const body = { ssid: expanded, password: input };\n    //set loading screen\n    setExpanded(false);\n    setConnecting(true);\n    setInput(\"\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function setNetwork(body) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/connect`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setNetwork(body).then((data) => {\n      //after, display success or failure\n      setConnecting(false);\n      if (data.status === \"connected!\") {\n        setSnackMessage(\"Successfully Connected\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(1);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n  };\n\n  //toggle password masking\n  const passwordToggle = () => {\n    setMaskPassword(!maskPassword);\n  };\n\n  //update text entered into input field\n  const onChange = (input) => {\n    setInput(input);\n    console.log(\"Input changed\", input);\n  };\n\n  //toggle keyboard layouts when user presses shift\n  const handleShift = () => {\n    const newLayoutName = layout === \"default\" ? \"shift\" : \"default\";\n    setLayout(newLayoutName);\n  };\n\n  //handle keyboard layout key presses\n  const onKeyPress = (button) => {\n    if (button === \"{ABC}\") {\n      setLayout(\"shift\");\n    } else if (button === \"{abc}\") {\n      setLayout(\"default\");\n    } else if (button === \"{+=#}\") {\n      setLayout(\"symbol\");\n    } else if (button === \"{123}\") {\n      setLayout(\"number\");\n    }\n    (button === \"{shift}\" || button === \"{lock}\") && handleShift();\n  };\n  const handleExpand = (panel) => {\n    setExpanded(panel);\n  };\n\n  //handle keyboard key presses for input keys\n  const onChangeInput = (event) => {\n    const input = event.target.value;\n    setInput(input);\n    keyboard.current.setInput(input);\n  };\n  console.log(setSnackMessage);\n  return (\n    <div className={classes.container}>\n      {!settingsScreen && (\n        <div className={classes.header}>\n          <IconButton\n            aria-label=\"back\"\n            onClick={() => {\n              setConnectWifi(() => null);\n              if (onGoBack) {\n                onGoBack();\n              }\n            }}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          <h2>Wi-Fi</h2>\n        </div>\n      )}\n      {loading && (\n        <>\n          <img\n            src={imgPrint}\n            style={{\n              width: 200,\n              height: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% - 100px)\"\n            }}\n          ></img>\n          <h4\n            style={{\n              width: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% + 120px)\",\n              textAlign: \"center\"\n            }}\n          >\n            Gathering Networks\n          </h4>\n        </>\n      )}\n      <List className={classes.wifiList}>\n        {wifiArr.map((network) => {\n          return (\n            <Accordion\n              expanded={expanded === network.ssid}\n              key={`${network.ssid}-list-item`}\n            >\n              <AccordionSummary classes={{ content: \"accordion-style\" }}>\n                <ListItem className={classes.item}>\n                  {network.ssid}\n                  <Button\n                    color={expanded === network.ssid ? \"secondary\" : \"primary\"}\n                    variant=\"contained\"\n                    onClick={() => {\n                      if (expanded === network.ssid) {\n                        setExpanded(() => false);\n                        setInput(\"\");\n                      } else {\n                        handleExpand(network.ssid);\n                      }\n                    }}\n                  >\n                    {expanded === network.ssid ? \"Close\" : \"Join\"}\n                  </Button>\n                </ListItem>\n              </AccordionSummary>\n              <AccordionDetails className={classes.accordion}>\n                <TextField\n                  id=\"standard-password-input\"\n                  label=\"Password\"\n                  type={maskPassword ? \"password\" : \"text\"}\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <RemoveRedEyeIcon onClick={passwordToggle} />\n                      </InputAdornment>\n                    )\n                  }}\n                />\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  onClick={() => {\n                    if (input.length > 0) {\n                      handleSubmit();\n                    } else {\n                      setSnackMessage(\"Password required\");\n                      setShowSnack(true);\n                    }\n                  }}\n                >\n                  Connect\n                </Button>\n              </AccordionDetails>\n            </Accordion>\n          );\n        })}\n      </List>\n      {connecting && (\n        <Backdrop className={classes.backdrop} open={connecting}>\n          <div className={classes.connecting}>\n            <h4>Connecting</h4>\n            <CircularProgress color=\"inherit\" />\n          </div>\n        </Backdrop>\n      )}\n      {expanded && (\n        <div className={classes.keyboard}>\n          <Keyboard\n            keyboardRef={(r) => (keyboard.current = r)}\n            layoutName={layout}\n            layout={{\n              default: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"a b c d e\",\n                \"f g h i j\",\n                \"k l m n o\",\n                \"p q r s t\",\n                \"u v w x y\",\n                \"z {space} {bksp}\"\n              ],\n              shift: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"A B C D E\",\n                \"F G H I J\",\n                \"K L M N O\",\n                \"P Q R S T\",\n                \"U V W X Y\",\n                \"Z {space} {bksp}\"\n              ],\n              symbol: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"! @ # $ %\",\n                \"^ & * ( )\",\n                \"~ ' _ - =\",\n                \"[ ] { } \\\\\",\n                \"| ; ' : ,\",\n                '\" < > ? .'\n              ],\n              number: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"1 2 3\",\n                \"4 5 6\",\n                \"7 8 9\",\n                \"$ 0 .\",\n                \"{space}\",\n                \"# {bksp}\"\n              ]\n            }}\n            display={{\n              \"{bksp}\": \"Backspace\",\n              \"{enter}\": \"Enter\",\n              \"{shift}\": \"Shift\",\n              \"{space}\": \"Space\",\n              \"{123}\": \"123\",\n              \"{ABC}\": \"ABC\",\n              \"{abc}\": \"abc\",\n              \"{+=#}\": \"+ = #\"\n            }}\n            onChange={onChange}\n            onKeyPress={onKeyPress}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WifiConnect;\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport HotspotConnect from \"../NetworkType/HotspotConnect\";\nimport {\n  setStorage,\n  getStorage,\n  removeStorage\n} from \"../../../Utility/helpers\";\nimport WifiConnect from \"../NetworkType/WifiConnect\";\nimport {\n  ArrowForward,\n  Language,\n  SettingsInputHdmi,\n  SettingsRemote\n} from \"@material-ui/icons\";\n\nclass NetworkSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stage: \"internet-enable\",\n      enableInternet: false,\n      selectedInterface: null,\n      enableHotspot: false\n    };\n  }\n\n  complete() {\n    setStorage(\"hotspot\", this.state.enableHotspot);\n    setStorage(\"internet\", this.state.enableInternet);\n    setStorage(\"networkProfile\", this.state.selectedInterface);\n    // if (this.state.enableHotspot) {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // } else {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // }\n    if (this.props.setNewType) {\n      this.props.setNewType(this.state.selectedInterface);\n      this.props.setStep(0);\n    } else {\n      if (this.state.enableInternet) {\n        this.props.setStep(1);\n      } else {\n        this.props.setStep(2);\n      }\n    }\n  }\n\n  render() {\n    if (this.state.stage === \"internet-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to connect this printer to the internet?\n          </Typography>\n\n          <Typography variant=\"h6\">\n            Connecting to the internet enables updates.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableInternet: true, stage: \"internet-select\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.setState({\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"internet-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            How would you like to connect this printer?\n          </Typography>\n          <OptionCard\n            title=\"Wi-Fi\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"wifi\",\n                stage: \"wifi-select\"\n              });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"ethernet\",\n                stage: \"ethernet-check\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"ethernet-check\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsInputHdmi\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Please verify that the ethernet cable is properly connected to your\n            device.\n          </Typography>\n          <OptionCard\n            title=\"Done\"\n            onClick={() => {\n              this.setState({ stage: \"hotspot-enable\" });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"wifi-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <WifiConnect\n            setStep={(step) => {\n              this.complete();\n            }}\n            setShowSnack={this.props.setShowSnack}\n            setSnackMessage={this.props.setSnackMessage}\n            handleSnackClose={this.props.handleSnackClose}\n            setConnectWifi={() => {}}\n            onGoBack={() => {\n              this.setState({ stage: \"internet-select\" });\n            }}\n          ></WifiConnect>\n        </>\n      );\n    }\n\n    if (this.state.stage === \"hotspot-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsRemote\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to enable the printer's wireless hotspot?\n          </Typography>\n          <Typography variant=\"h6\">\n            This allows you to remotely connect/control your printer.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableHotspot: true, stage: \"config-hotspot\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.complete();\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"config-hotspot\") {\n      return (\n        <HotspotConnect\n          setStep={() => {\n            this.complete();\n          }}\n          setConnectWifi={() => {}}\n        />\n      );\n    }\n  }\n\n  renderHeader() {\n    return (\n      <Grid\n        container\n        justify=\"space-between\"\n        alignItems=\"center\"\n        style={{ display: \"flex\", marginBottom: 20 }}\n      >\n        <h2 style={{ fontSize: 28 }}>Network</h2>\n        <Button\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={() => {\n            this.setState(\n              {\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              },\n              () => {\n                this.complete();\n              }\n            );\n          }}\n        >\n          Skip\n        </Button>\n      </Grid>\n    );\n  }\n}\n\n// setStep={setStep}\n// setShowSnack={setShowSnack}\n// setSnackMessage={setSnackMessage}\n// handleSnackClose={handleSnackClose}\n// setConnectWifi={setConnectWifi}\n// />\n\nexport default NetworkSelect;\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nimport './TabList.css';\nconst TabList = ({ tabList, handleTabClick, activeTab, disabledNav }) => {\n  return (\n    <Tabs value={activeTab} onChange={handleTabClick} centered>\n      {tabList.map((tab) => (\n        <Tab\n          style={{ height: '70px', fontSize: '20px', minWidth: '140px' }}\n          label={tab}\n          key={`tab - ${tab}`}\n          disabled={disabledNav}\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nexport default TabList;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport PrinterType from \"./PrinterType/PrinterType\";\nimport NetworkSettings from \"./NetworkType/NetworkSettings\";\nimport UserLevel from \"./UserLevel/UserLevel\";\nimport Update from \"../Menu/MenuTabs/Update\";\nimport Tutorial from \"../Tutorials/Tutorial/Tutorial\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport NetworkSelect from \"./NetworkSelect/NetworkSelect\";\nconst useStyles = makeStyles({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  welcome: {\n    textAlign: \"center\",\n    height: \"100%\",\n    \"& h2\": {\n      fontSize: \"92px\"\n    },\n    \"& h3\": {\n      fontSize: \"32px\",\n      marginTop: \"16px\"\n    }\n  }\n});\nconst Setup = ({ handleOnboarding, machineName }) => {\n  const classes = useStyles();\n\n  const [step, setStep] = useState(null);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  return (\n    <Container className={classes.container}>\n      {step === null && (\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-around\"\n          alignItems=\"center\"\n          spacing={3}\n          className={classes.welcome}\n        >\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Typography variant=\"h2\">Welcome</Typography>\n            <Typography variant=\"h3\">Let's get you set up</Typography>\n          </Grid>\n          <Grid\n            item\n            container\n            alignItems=\"flex-start\"\n            justify=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              color=\"secondary\"\n              style={{ width: \"190px\", height: \"65px\", fontSize: \"18px\" }}\n              onClick={() => setStep(0)}\n            >\n              Get Started\n            </Button>\n          </Grid>\n        </Grid>\n      )}\n      {step === 0 && (\n        <NetworkSelect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          machineName={machineName}\n        />\n        // <NetworkType\n        //   setStep={setStep}\n        //   setShowSnack={setShowSnack}\n        //   setSnackMessage={setSnackMessage}\n        //   handleSnackClose={handleSnackClose}\n        //   setNewType={() => {}}\n        // />\n      )}\n      {step === 1 && (\n        <Update\n          autoCheck={false}\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n        />\n      )}\n      {step === 2 && <PrinterType setStep={setStep} />}\n      {step === 3 && (\n        <NetworkSettings\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setNewType={() => {}}\n        />\n      )}\n      {step === 4 && (\n        <UserLevel handleOnboarding={handleOnboarding} setStep={setStep} />\n      )}\n      {step === 5 && (\n        <Tutorial\n          tutorialName=\"blTouchCalibration\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            setStep(6);\n          }}\n          machineName={machineName}\n        />\n      )}\n      {step === 6 && (\n        <Tutorial\n          tutorialName=\"loadFilament\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            if(reason == \"test_print\") {\n              setStep(7);\n            } else {\n              handleOnboarding(getStorage(\"userMode\"));\n            }\n          }}\n          machineName={machineName}\n        />\n      )}\n      {step === 7 && (\n        <Tutorial\n          tutorialName=\"printTestCube\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            if(reason == \"request-calibration\") {\n              setStep(5);\n            } else if(reason == \"load-filament\") {\n              setStep(6);\n            } else {\n              handleOnboarding(getStorage(\"userMode\"));\n            }\n          }}\n          machineName={machineName}\n        />\n      )}\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </Container>\n  );\n};\n\nexport default Setup;\n","import React, { useState, useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Container, Grid, Typography } from \"@material-ui/core\";\nimport { Button, LinearProgress } from \"@material-ui/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPause, faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport { PlayArrow, Pause, Stop } from \"@material-ui/icons\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport TutorialThermometer from \"../../Tutorials/TutorialThermometer/TutorialThermometer\";\nimport TempContext from \"../../../TempContext\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  camera: {\n    width: \"100%\",\n    border: \"2px solid white\",\n    borderRadius: 5\n  }\n});\n\nvar toHHMMSS = (secs) => {\n  if(secs) {\n    var sec_num = parseInt(secs, 10)\n    var hours   = Math.floor(sec_num / 3600)\n    var minutes = Math.floor(sec_num / 60) % 60\n    var seconds = sec_num % 60\n\n    return [hours,minutes,seconds]\n        .map(v => v < 10 ? \"0\" + v : v)\n        .filter((v,i) => v !== \"00\" || i > 0)\n        .join(\":\");\n  } else {\n    return \"calculating...\";\n  }\n}\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst PrintStatus = ({\n  lastMessage,\n  progressState,\n  setDisabledNav,\n  state,\n  statusText,\n  fileName\n}) => {\n  const classes = useStyles();\n  const [paused, setPaused] = useState(false);\n  const [camEnabled, setCamEnabled] = useState(false);\n  const [value, setValue] = useState(0);\n  const [elapsed, setElapsed] = useState(\"\");\n  const [remaining, setRemaining] = useState(\"\");\n  const cameraFeedUrl = `http://${window.location.hostname}:8090/?action=stream`;\n  const cameraFallbackUrl = 'no-signal.gif';\n  const [cameraUrl, setCameraUrl] = useState(cameraFallbackUrl);\n  const [waiting, setWaiting] = useState(false);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  useMountEffect(() => {\n    imageExists(cameraUrl, function(exists) {\n      if(exists) {\n        setCameraUrl(cameraFeedUrl);\n      } else {\n        setCameraUrl(cameraFallbackUrl);\n      }\n    });\n      setCamEnabled(() => getStorage(\"camEnabled\"));\n  });\n\n  useEffect(() => {\n    if (progressState.completion !== value) {\n      setValue(progressState.completion);\n      setElapsed(toHHMMSS(progressState.printTime));\n      setRemaining(toHHMMSS(progressState.printTimeLeft));\n    }\n  }, [progressState, value]);\n\n  useEffect(() => {\n    if (state && state.flags.paused != paused) {\n      setPaused(state.flags.paused);\n      setWaiting(false);\n    }\n  }, [state]);\n\n  return (\n    <>\n      <Container>\n        <Typography\n          variant=\"h5\"\n          style={{ marginTop: 35, width: \"100%\", textAlign: \"center\" }}\n        >\n          {statusText}: {fileName}\n        </Typography>\n        <div className=\"print-status-bar\" style={{ marginTop: 25 }}>\n          <BorderLinearProgress variant=\"determinate\" value={value} />\n          <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={4}  style={{textAlign: \"left\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {elapsed}\n          </Typography>\n          </Grid>\n          <Grid item xs={4}  style={{textAlign: \"center\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {value ? value.toFixed(1) : \"0\"}%\n          </Typography>\n          </Grid>\n          <Grid item xs={4} style={{textAlign: \"right\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {remaining}\n          </Typography>\n          </Grid>\n          </Grid>\n        </div>\n        <div>\n        <Grid container alignItems=\"center\">\n        <Grid item xs={getStorage(\"camEnabled\") ? 6 : 12} alignItems=\"center\">\n          <TempContext.Consumer>\n            {({ bed, nozzle, bedTarget, nozzleTarget }) => (\n              <Grid container alignItems=\"center\" style={{ justifyContent: \"space-around\" }}>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={120} value={bed} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {bedTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Bed\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        disabled={waiting}\n                        onClick={() => {\n                          setWaiting(true);\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"PATCH\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={!paused ? <Pause /> : <PlayArrow />}\n                      >\n                        {!paused ? \"Pause\" : \"Resume\"}\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={300} value={nozzle} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {nozzleTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Nozzle\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        disabled={paused ? false : true}\n                        onClick={() => {\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"DELETE\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={<Stop />}\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n              </Grid>\n            )}\n          </TempContext.Consumer>\n        </Grid>\n        {camEnabled === 'enabled' && (\n          <Grid item xs={6} style={{ display: camEnabled ? 'block' : 'none' }}>\n            <img src={cameraUrl} className={classes.camera} />\n          </Grid>\n        )}\n        </Grid>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nconst BorderLinearProgress = withStyles((theme) => ({\n  root: {\n    height: 14,\n    borderRadius: 7\n  },\n  colorPrimary: {\n    backgroundColor: \"#606060\"\n  },\n  bar: {\n    borderRadius: 7,\n    backgroundColor: \"#ACC12F\"\n  }\n}))(LinearProgress);\n\nexport default PrintStatus;\n","import React from \"react\";\nconst AppContext = React.createContext({\n  camRotation: 0,\n  camZoom: 0,\n  camZ: 0,\n  showMagnet: false,\n  showBounds: false,\n  showGrid: false,\n  addRotation: (deg) => {},\n  setZoom: (zoom) => {},\n  addZ: (z) => {},\n  setShowMagnet: (val) => {},\n  setShowBounds: (val) => {},\n  setShowGrid: (val) => {}\n});\n\nexport default AppContext;\n","import * as THREE from \"three\";\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * var mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  var materials = [];\n *  var nGeometryGroups = geometry.groups.length;\n *\n *  var colorMap = ...; // Some logic to index colors.\n *\n *  for (var i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tvar material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  var mesh = new THREE.Mesh(geometry, materials);\n */\n\n class STLLoader extends THREE.Loader {\n\n   constructor( manager ) {\n\n     super( manager );\n\n   }\n\n   load( url, onLoad, onProgress, onError ) {\n\n     const scope = this;\n     const loader = new THREE.FileLoader( this.manager );\n     loader.setPath( this.path );\n     loader.setResponseType( 'arraybuffer' );\n     loader.setRequestHeader( this.requestHeader );\n     loader.setWithCredentials( this.withCredentials );\n     loader.load( url, function ( text ) {\n\n       try {\n\n         onLoad( scope.parse( text ) );\n\n       } catch ( e ) {\n\n         if ( onError ) {\n\n           onError( e );\n\n         } else {\n\n           console.error( e );\n\n         }\n\n         scope.manager.itemError( url );\n\n       }\n\n     }, onProgress, onError );\n\n   }\n\n   parse( data ) {\n\n     function isBinary( data ) {\n\n       const reader = new DataView( data );\n       const face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n       const n_faces = reader.getUint32( 80, true );\n       const expect = 80 + 32 / 8 + n_faces * face_size;\n\n       if ( expect === reader.byteLength ) {\n\n         return true;\n\n       } // An ASCII STL data must begin with 'solid ' as the first six bytes.\n       // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n       // plentiful.  So, check the first 5 bytes for 'solid'.\n       // Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n       // https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n       // Search for \"solid\" to start anywhere after those prefixes.\n       // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\n       const solid = [ 115, 111, 108, 105, 100 ];\n\n       for ( let off = 0; off < 5; off ++ ) {\n\n         // If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n         if ( matchDataViewAt( solid, reader, off ) ) return false;\n\n       } // Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\n       return true;\n\n     }\n\n     function matchDataViewAt( query, reader, offset ) {\n\n       // Check if each byte in query matches the corresponding byte from the current offset\n       for ( let i = 0, il = query.length; i < il; i ++ ) {\n\n         if ( query[ i ] !== reader.getUint8( offset + i, false ) ) return false;\n\n       }\n\n       return true;\n\n     }\n\n     function parseBinary( data ) {\n\n       const reader = new DataView( data );\n       const faces = reader.getUint32( 80, true );\n       let r,\n         g,\n         b,\n         hasColors = false,\n         colors;\n       let defaultR, defaultG, defaultB, alpha; // process STL header\n       // check for default color in header (\"COLOR=rgba\" sequence).\n\n       for ( let index = 0; index < 80 - 10; index ++ ) {\n\n         if ( reader.getUint32( index, false ) == 0x434F4C4F\n       /*COLO*/\n       && reader.getUint8( index + 4 ) == 0x52\n       /*'R'*/\n       && reader.getUint8( index + 5 ) == 0x3D\n       /*'='*/\n         ) {\n\n           hasColors = true;\n           colors = new Float32Array( faces * 3 * 3 );\n           defaultR = reader.getUint8( index + 6 ) / 255;\n           defaultG = reader.getUint8( index + 7 ) / 255;\n           defaultB = reader.getUint8( index + 8 ) / 255;\n           alpha = reader.getUint8( index + 9 ) / 255;\n\n         }\n\n       }\n\n       const dataOffset = 84;\n       const faceLength = 12 * 4 + 2;\n       const geometry = new THREE.BufferGeometry();\n       const vertices = new Float32Array( faces * 3 * 3 );\n       const normals = new Float32Array( faces * 3 * 3 );\n\n       for ( let face = 0; face < faces; face ++ ) {\n\n         const start = dataOffset + face * faceLength;\n         const normalX = reader.getFloat32( start, true );\n         const normalY = reader.getFloat32( start + 4, true );\n         const normalZ = reader.getFloat32( start + 8, true );\n\n         if ( hasColors ) {\n\n           const packedColor = reader.getUint16( start + 48, true );\n\n           if ( ( packedColor & 0x8000 ) === 0 ) {\n\n             // facet has its own unique color\n             r = ( packedColor & 0x1F ) / 31;\n             g = ( packedColor >> 5 & 0x1F ) / 31;\n             b = ( packedColor >> 10 & 0x1F ) / 31;\n\n           } else {\n\n             r = defaultR;\n             g = defaultG;\n             b = defaultB;\n\n           }\n\n         }\n\n         for ( let i = 1; i <= 3; i ++ ) {\n\n           const vertexstart = start + i * 12;\n           const componentIdx = face * 3 * 3 + ( i - 1 ) * 3;\n           vertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n           vertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n           vertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n           normals[ componentIdx ] = normalX;\n           normals[ componentIdx + 1 ] = normalY;\n           normals[ componentIdx + 2 ] = normalZ;\n\n           if ( hasColors ) {\n\n             colors[ componentIdx ] = r;\n             colors[ componentIdx + 1 ] = g;\n             colors[ componentIdx + 2 ] = b;\n\n           }\n\n         }\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\n       if ( hasColors ) {\n\n         geometry.setAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n         geometry.hasColors = true;\n         geometry.alpha = alpha;\n\n       }\n\n       return geometry;\n\n     }\n\n     function parseASCII( data ) {\n\n       const geometry = new THREE.BufferGeometry();\n       const patternSolid = /solid([\\s\\S]*?)endsolid/g;\n       const patternFace = /facet([\\s\\S]*?)endfacet/g;\n       let faceCounter = 0;\n       const patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n       const patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n       const patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n       const vertices = [];\n       const normals = [];\n       const normal = new THREE.Vector3();\n       let result;\n       let groupCount = 0;\n       let startVertex = 0;\n       let endVertex = 0;\n\n       while ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n         startVertex = endVertex;\n         const solid = result[ 0 ];\n\n         while ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n           let vertexCountPerFace = 0;\n           let normalCountPerFace = 0;\n           const text = result[ 0 ];\n\n           while ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n             normal.x = parseFloat( result[ 1 ] );\n             normal.y = parseFloat( result[ 2 ] );\n             normal.z = parseFloat( result[ 3 ] );\n             normalCountPerFace ++;\n\n           }\n\n           while ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n             vertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n             normals.push( normal.x, normal.y, normal.z );\n             vertexCountPerFace ++;\n             endVertex ++;\n\n           } // every face have to own ONE valid normal\n\n\n           if ( normalCountPerFace !== 1 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n           } // each face have to own THREE valid vertices\n\n\n           if ( vertexCountPerFace !== 3 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n           }\n\n           faceCounter ++;\n\n         }\n\n         const start = startVertex;\n         const count = endVertex - startVertex;\n         geometry.addGroup( start, count, groupCount );\n         groupCount ++;\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( normals, 3 ) );\n       return geometry;\n\n     }\n\n     function ensureString( buffer ) {\n\n       if ( typeof buffer !== 'string' ) {\n\n         return THREE.LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n       }\n\n       return buffer;\n\n     }\n\n     function ensureBinary( buffer ) {\n\n       if ( typeof buffer === 'string' ) {\n\n         const array_buffer = new Uint8Array( buffer.length );\n\n         for ( let i = 0; i < buffer.length; i ++ ) {\n\n           array_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n         }\n\n         return array_buffer.buffer || array_buffer;\n\n       } else {\n\n         return buffer;\n\n       }\n\n     } // start\n\n\n     const binData = ensureBinary( data );\n     return isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n   }\n\n }\n\nexport default STLLoader;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Checkbox,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl\n} from \"@material-ui/core\";\nimport {\n  Add,\n  DeleteForever,\n  Description,\n  ExpandMore\n} from \"@material-ui/icons\";\nimport React, { useContext, useState } from 'react';\nimport AppContext from \"../../../../AppContext\";\nimport * as THREE from \"three\";\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport { useMountEffect } from \"../../../../Utility/useMountEffect\";\n\nimport \"./style.css\";\n\nasync function getFile(fileName) {\n  // await response of fetch call\n  let response = await fetch(`http://${window.location.hostname}:9990/${fileName}`);\n  // only proceed once promise is resolved\n  let data = await response.blob();\n  // only proceed once second promise is resolved\n  return data;\n}\n\nfunction FilesPanel() {\n  const context = useContext(AppContext)\n\n  let fileName = null;\n\n  if(context.stl) {\n    if(typeof context.stl == \"string\") {\n      fileName = context.stl;\n    } else {\n      fileName = context.stl.name;\n    }\n  }\n\n  const [listOpen, setListOpen] = React.useState(true);\n  const [fileList, setFileList] = React.useState([]);\n  const [uploadElement, setUploadElement] = useState(null);\n  const handleListItemClick = (event, currentFile) => {\n    context.setSelectedFile(currentFile.name);\n  };\n  const swapTrasformTool = (e, file) => {\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.control.attach(mesh);\n      }\n    }\n  };\n\n  const deleteFile = (file) => {\n    console.log('deleting '+file.name)\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.objRoot.remove(mesh);\n      }\n    }\n\n    let filesWithoutDeleted = fileList.filter(function( obj ) {\n    return obj.name !== file.name;\n    });\n\n    if(filesWithoutDeleted) {\n      setFileList(filesWithoutDeleted);\n    }\n  };\n\n  useMountEffect(() => {\n    if(context.stl) {\n      if(typeof context.stl == \"string\") {\n        getFile(fileName).then(function(data) {\n          let file = new File([data], fileName);\n          setFileList([{\n              'name': fileName,\n              'file': file\n            }]\n          );\n        });\n      } else {\n        setFileList([{\n          'name': fileName,\n          'file': context.stl\n        }]);\n      }\n    }\n\n  });\n\n  return (\n    <>\n      <div className=\"files-panel\">\n          <AppContext.Consumer>\n            {() => (\n              <>\n              <Accordion expanded={listOpen} onChange={() => setListOpen(!listOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Object List\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails style={{justifyContent:\"center\"}}>\n                <Grid container direction=\"column\" item xs>\n                  {fileList.length > 0 && (\n                    <Grid item xs>\n                    <List aria-label=\"file-list\" style={{width:'100%'}}>\n                    {fileList.length > 0 && fileList.map((currentFile, index) => {\n                      return (\n                        <ListItem\n                          button\n                          selected={context.selectedFile === currentFile.name}\n                          onClick={(event) => handleListItemClick(event, currentFile)}\n                          style={{backgroundColor:'#b7b7b7'}}\n                          key={index}\n                        >\n                          <ListItemIcon>\n                            <Checkbox\n                              checked={context.selectedFile === currentFile.name}\n                              onChange={ (e) => swapTrasformTool(e, currentFile)}\n                              color=\"primary\"\n                              inputProps={{ 'aria-label': 'secondary checkbox' }}\n                            />\n                          </ListItemIcon>\n                          <ListItemText primary={currentFile.name} />\n                          <ListItemSecondaryAction>\n                            <IconButton edge=\"end\" aria-label=\"delete-file\" onClick={(event) => deleteFile(currentFile)}>\n                              <DeleteForever style={{color:'#ca0000'}}/>\n                            </IconButton>\n                          </ListItemSecondaryAction>\n                        </ListItem>\n                      )\n                    })}\n                    </List>\n                    </Grid>\n                  )}\n                  <Grid container item direction=\"column\" alignItems=\"center\" justify=\"center\" xs>\n                  <Grid item>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => {\n                      uploadElement.click();\n                    }}\n                  >\n                    <Add />\n                     Add New STL\n                     <input\n                       style={{ display: \"none\" }}\n                       type=\"file\"\n                       onChange={async (e) => {\n                         let file = e.target.files[0];\n                         if(file) {\n                           setFileList([...fileList, {\n                             'name': file.name,\n                             'file': file\n                           }]);\n                           let match = /.+\\.(stl)$/gi.exec(file.name);\n                           if (match) {\n                             const fileType = match[1].toLowerCase();\n                             if (fileType === \"stl\") {\n                               let reader = new FileReader();\n                               reader.addEventListener( 'load', function ( event ) {\n\n                                 let contents = event.target.result;\n                                 console.log(contents);\n                                 let geometry = new STLLoader().parse( contents );\n                                 console.log(contents);\n                                 geometry.sourceType = \"stl\";\n                                 geometry.sourceFile = contents;\n                                 let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n                                 let mesh = new THREE.Mesh( geometry, material );\n                                 mesh.name = contents.name;\n                                 mesh.position.set(\n                                       0, //x\n                                       1, //y\n                                       0  //z\n                                   );\n                                   mesh.rotation.set( 0, 0, 0 );\n                                   mesh.scale.set( 1, 1, 1 );\n                                   mesh.name = file.name;\n                                   mesh.castShadow = false;\n                                   mesh.receiveShadow = false;\n                                   mesh.geometry.center();\n                                   mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n                                   context.control.addEventListener( 'objectChange', function( e ) {\n                                     mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n                                   });\n\n                                   mesh.on('click', function(ev) {\n                                     console.log(\"clicked \"+mesh.name+\"!\");\n                                     context.control.attach(mesh);\n                                     context.control.enabled = true;\n                                     context.setSelectedFile(mesh.name);\n                                     context.control.showX = true;\n                                     context.control.showY = true;\n                                     context.control.showZ = true;\n                                     if(context.control.mode == 'translate') {\n                                       context.setTransformValue('position');\n                                     } else if(context.control.mode == 'rotate') {\n                                       context.setTransformValue('rotation');\n                                     } else {\n                                       console.log(context.control.mode);\n                                       context.setTransformValue(context.control.mode);\n                                     }\n                                   });\n\n                                   mesh.on('touchend', function(ev) {\n                                     console.log(\"touched \"+mesh.name+\"!\");\n                                     context.control.attach(mesh);\n                                     context.control.enabled = true;\n                                     context.setSelectedFile(mesh.name);\n                                     context.control.showX = true;\n                                     context.control.showY = true;\n                                     context.control.showZ = true;\n                                     if(context.control.mode == 'translate') {\n                                       context.setTransformValue('position');\n                                     } else if(context.control.mode == 'rotate') {\n                                       context.setTransformValue('rotation');\n                                     } else {\n                                       console.log(context.control.mode);\n                                       context.setTransformValue(context.control.mode);\n                                     }\n                                   });\n\n                                   context.objRoot.add(mesh);\n                                   //combine all meshes into one object group\n                                   context.setModifiedStl(context.objRoot);\n                                   //scene.add( control );\n                               }, false );\n                               reader.readAsBinaryString(file);\n                             }\n                           } else {\n                             //Something wrong with file\n                           }\n\n                         }\n                       }}\n                       ref={(ref) => {\n                         setUploadElement(ref);\n                       }}\n                       accept=\".stl,.STL\"\n                     />\n                  </Button>\n                  </Grid>\n                  </Grid>\n                  </Grid>\n                </AccordionDetails>\n              </Accordion>\n              </>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default FilesPanel;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// the target DOM element for key events\n\tthis._domElementKeyEvents = null;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t}\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import * as THREE from \"three\";\nimport { Interaction } from 'three.interaction';\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport { OrbitControls } from '../RenderingUtils/OrbitControls';\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport AppContext from \"../../../../AppContext\";\nimport { ScreenShare, StarTwoTone } from \"@material-ui/icons\";\nimport {\n  Button,\n  ButtonGroup,\n  Grid,\n  Paper,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio\n} from \"@material-ui/core\";\nimport {\n  Loop,\n  OpenWith,\n  OpenInNew\n} from \"@material-ui/icons\";\nconst TransformControls = require('../RenderingUtils/TransformControls')(THREE);\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction rad2deg(rad) {\n  return (Math.PI * rad) / 180;\n}\n\nclass PrintRenderer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.canvas = React.createRef();\n    this.canvasBg = null;\n    this.rotationTarget = 0.0;\n    this.lastTime = null;\n\n    this.renderer = null;\n    this.scene = null;\n    this.control = null;\n    this.cameraHelper = null;\n    this.cameraPivot = null;\n    this.camera = null;\n    this.zTarget = 0;\n    this.gridObj = null;\n    this.magnetObj = null;\n    this.planeObj = null;\n    this.boundsObj = null;\n\n    this.showMagnetBed = false;\n    this.showBounds = false;\n    this.showGrid = false;\n    this.viewControls = null;\n  }\n\n  static contextType = AppContext;\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"test\");\n  }\n\n  componentDidMount() {\n    this.assignCanvas();\n  }\n\n  // GETING DATA FORM SELECT ELEMENT TO SET POSITION SCALE OR ROTATION IN TRANSFORMCONTROL\n  posRotScale = (value) => {\n\n      this.context.setTransformValue(value);\n\n      switch (value) {\n\n        case \"position\":\n          this.control.enabled = true;\n          this.control.setMode( \"translate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"rotation\":\n          this.control.enabled = true;\n          this.control.setMode( \"rotate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"scale\":\n          this.control.enabled = true;\n          this.control.setMode( \"scale\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"none\":\n          this.control.enabled = false;\n          this.control.showX = false;\n          this.control.showY = false;\n          this.control.showZ = false;\n          break;\n\n        default:;\n\n    }\n  };\n\n  assignCanvas() {\n    // this.canvas = canvas;\n    let canvasBg = this.canvas.current.parentElement;\n    this.canvas.current.width = canvasBg.clientWidth;\n    this.canvas.current.height = canvasBg.clientHeight;\n    this.initCanvas(\n      this.canvas.current,\n      this.canvas.current.width,\n      this.canvas.current.height\n    );\n  }\n\n  initCanvas(canvas, width, height) {\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n\n    const renderer = new THREE.WebGLRenderer({ canvas });\n    renderer.setSize(width, height);\n    scene.background = new THREE.Color( 0xd1d1d1 );\n    const interaction = new Interaction(renderer, scene, camera);\n    //Create a ground plane to display our mesh on\n    //const gpTexture = new THREE.TextureLoader().load(\"./buildplane.png\");\n    const gpMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(800, 800, 1, 1),\n      new THREE.MeshBasicMaterial({ color: 0xd1d1d1 })\n    );\n    scene.add(gpMesh);\n    this.planeObj = gpMesh;\n\n    //Create alternate ground plane that renders the magnetic build surface\n    const magTexture = new THREE.TextureLoader().load(\"./magnet.png\");\n    const magMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(341.3, 341.3, 1, 1),\n      new THREE.MeshBasicMaterial({ map: magTexture, transparent:true })\n    );\n    magMesh.position.y = -10;\n    magMesh.position.z = -1;\n    scene.add(magMesh);\n    this.magnetObj = magMesh;\n    this.magnetObj.visible = false;\n\n    const path = new THREE.Path();\n    path.moveTo(-150, -150);\n    path.lineTo(150, -150);\n    path.lineTo(150, 150);\n    path.lineTo(-150, 150);\n    path.lineTo(-150, -150);\n    const pathMesh = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(path.getPoints()),\n      new THREE.LineBasicMaterial({ color: 0xff0000, linewidth: 1 })\n    );\n    pathMesh.position.z = 0.25;\n    scene.add(pathMesh);\n    pathMesh.visible = false;\n    this.boundsObj = pathMesh;\n\n    // Add grid visual\n    let grid = new THREE.GridHelper(300, 30, 0x555555, 0x555555);\n    grid.rotation.set(Math.PI / 2, 0, 0);\n    grid.position.set(0, 0, 0);\n    scene.add(grid);\n    grid.visible = false;\n    this.gridObj = grid;\n    let zTarget = this.zTarget;\n    let rotationTarget = this.rotationTarget;\n    let currentContext = this.context;\n\n    let buildGeometry = new THREE.BoxGeometry(300, 300, 400, 10, 10, 10);\n    let buildEdges = new THREE.EdgesGeometry( buildGeometry );\n    let buildLines = new THREE.LineSegments( buildEdges, new THREE.LineBasicMaterial( { color: 0x555555 } ) );\n    buildLines.position.z = 200;\n    scene.add(buildLines);\n\n    camera.up = new THREE.Vector3( 0, 0, 1 );\n\n    let control = new TransformControls( camera, renderer.domElement );\n    this.viewControls = new OrbitControls( camera, renderer.domElement );\n    let cameraControl = this.viewControls;\n\n    camera.position.y = -400;\n    camera.position.z = 200;\n\n    cameraControl.update();\n    // TODO: bring this back if we re-enable the NavigationPanel\n    //this.viewControls.addEventListener( 'change', function (e) {\n    //     currentContext.setZoom((camera.position.y + 350)  / 3);\n    //     currentContext.addRotation(rad2deg(rotationTarget) - currentContext.camRotation);\n    //     currentContext.addZ(zTarget);\n    //});\n\n    let mesh = null;\n    let context = this.context;\n    control.enabled = false;\n    control.showX = false;\n    control.showY = false;\n    control.showZ = false;\n    control.setSize(2);\n    cameraControl.maxDistance = 900.00;\n\n    const objRoot = new THREE.Group();\n    const loader = new STLLoader();\n    console.log(\"stl\", this.context.stl);\n\n    if(this.context.stl) {\n      if(typeof this.context.stl == \"string\") {\n        this.context.setFileName(this.context.stl);\n        loader.load(`http://${window.location.hostname}:9990/${this.context.stl}`, (geo) => {\n          const mat = new THREE.MeshPhongMaterial({\n            color: 0xffffff,\n            specular: 0x111111,\n            shininess: 200\n          });\n          //   const mat = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n          mesh = new THREE.Mesh(geo, mat);\n          mesh.name = this.context.stl;\n          mesh.position.set(0, 0, 0);\n          //   m.scale.set(0.05, 0.05, 0.05);\n          //   m.setRotationFromEuler(new THREE.Euler(deg2rad(-90), 0, 0));\n          mesh.geometry.center();\n          control.attach( mesh );\n          mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          control.addEventListener( 'objectChange', function( e ) {\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          });\n          control.addEventListener('mouseDown', function () {\n              cameraControl.enabled = false;\n          });\n          control.addEventListener('mouseUp', function () {\n              cameraControl.enabled = true;\n          });\n          control.enabled = false;\n          control.showX = false;\n          control.showY = false;\n          control.showZ = false;\n\n          mesh.on('click', function(ev) {\n            console.log(\"clicked \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          mesh.on('touchend', function(ev) {\n            console.log(\"touched \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          objRoot.add(mesh);\n          this.context.setModifiedStl(mesh);\n          scene.add( control );\n        });\n\n      } else {\n        let reader = new FileReader();\n        let context = this.context;\n        context.setFileName(this.context.stl.name);\n        reader.addEventListener( 'load', function ( event ) {\n\n          let contents = event.target.result;\n          let geometry = new STLLoader().parse( contents );\n          console.log(contents);\n          geometry.sourceType = \"stl\";\n          geometry.sourceFile = contents;\n          let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n          mesh = new THREE.Mesh( geometry, material );\n          mesh.name = context.stl.name;\n          mesh.position.set(\n                0, //x\n                1, //y\n                0  //z\n            );\n            mesh.rotation.set( 0, 0, 0 );\n            mesh.scale.set( 1, 1, 1 );\n            mesh.castShadow = false;\n            mesh.receiveShadow = false;\n            mesh.geometry.center();\n            control.attach( mesh );\n            control.enabled = true;\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            control.addEventListener( 'objectChange', function( e ) {\n              mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            });\n            control.addEventListener('mouseDown', function () {\n                cameraControl.enabled = false;\n            });\n            control.addEventListener('mouseUp', function () {\n                cameraControl.enabled = true;\n            });\n\n            mesh.on('click', function(ev) {\n              console.log(\"clicked \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            mesh.on('touchend', function(ev) {\n              console.log(\"touched \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            objRoot.add(mesh);\n            context.setModifiedStl(mesh);\n            scene.add( control );\n        }, false );\n\n        reader.readAsBinaryString(this.context.stl);\n      }\n    } else {\n      control.addEventListener('mouseDown', function () {\n          cameraControl.enabled = false;\n      });\n      control.addEventListener('mouseUp', function () {\n          cameraControl.enabled = true;\n      });\n    }\n\n    scene.add(objRoot);\n    //control.attach( objRoot );\n    scene.add( control );\n\n    scene.add(camera);\n    scene.add(new THREE.HemisphereLight(0xffffff, 0x111533));\n\n    scene.on('click', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    scene.on('touchend', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.control = control;\n    //this.cameraHelper = cameraHelper;\n    //this.cameraPivot = cameraPivot;\n\n    this.context.setControl(this.control);\n    this.context.setScene(this.scene);\n    this.context.setCamera(this.camera);\n    this.context.setObjRoot(objRoot);\n\n    this.renderFrame();\n  }\n\n  renderFrame() {\n    requestAnimationFrame(this.renderFrame.bind(this));\n    // TODO bring this back if re-enabling NavigationPanel\n    // let camCurrent = this.cameraPivot.rotation.z;\n    // this.cameraPivot.rotation.z = camCurrent;\n    // this.cameraPivot.rotation.z= THREE.MathUtils.lerp(\n    //   camCurrent,\n    //   this.rotationTarget,\n    //   0.01\n    // );\n    //\n    // let currentHeight = this.cameraPivot.position.z;\n    // this.cameraPivot.position.z = THREE.MathUtils.lerp(\n    //   currentHeight,\n    //   this.zTarget,\n    //   0.01\n    // );\n    this.viewControls.update();\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  render() {\n    let value = this.context;\n\n    try {\n      // TODO bring this back if re-enabling NavigationPanel\n      // this.camera.position.y = -350 + value.camZoom * 3;\n      // this.rotationTarget = deg2rad(value.camRotation);\n      // this.zTarget = value.camZ;\n      this.viewControls.update();\n\n      this.boundsObj.visible = value.showBounds;\n      this.planeObj.visible = !value.showMagnet;\n      this.magnetObj.visible = value.showMagnet;\n      this.gridObj.visible = value.showGrid;\n    } catch (err) {}\n\n    console.log(\"test2\");\n    return (\n      <>\n        <div className=\"transform-panel\">\n          <ButtonGroup\n            orientation=\"vertical\"\n            color=\"primary\"\n            aria-label=\"vertical outlined primary button group\"\n          >\n            <Button onClick={() => this.posRotScale(\"scale\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'scale' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'scale' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <OpenInNew style={{left: -10, position: 'relative'}} /> Scale\n            </Button>\n            <Button onClick={() => this.posRotScale(\"position\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'position' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'position' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <OpenWith style={{left: -12, position: 'relative'}} /> Move\n            </Button>\n            <Button onClick={() => this.posRotScale(\"rotation\")}\n                    style={{\n                      backgroundColor: this.context.transformValue == 'rotation' ? '#0071ce' : '#fff',\n                      color: this.context.transformValue == 'rotation' ? '#fff' : '#5f6368',\n                      width: 120,\n                      height: 45\n                    }}\n            >\n              <Loop style={{left: -6, position: 'relative'}} /> Rotate\n            </Button>\n          </ButtonGroup>\n        </div>\n        <div className=\"render-canvas-bg\">\n          <canvas id=\"three-scene\" className=\"render-canvas\" ref={this.canvas}></canvas>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default PrintRenderer;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Grid,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  Switch\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  ExpandMore,\n  RotateLeft,\n  RotateRight,\n  Settings,\n  Videocam,\n  ZoomIn,\n  ZoomOut\n} from \"@material-ui/icons\";\nimport React from \"react\";\n\nimport AppContext from \"../../../../AppContext\";\n\nimport \"./style.css\";\n\nfunction SettingsPanel() {\n  const [settingsOpen, setSettingsOpen] = React.useState(true);\n  return (\n    <>\n      <div className=\"settingspanel\">\n          <AppContext.Consumer>\n            {({\n              showBounds,\n              setShowBounds,\n              showMagnet,\n              setShowMagnet,\n              showGrid,\n              setShowGrid\n            }) => (\n              <Accordion expanded={settingsOpen} onChange={() => setSettingsOpen(!settingsOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Display Settings\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                  <FormControl component=\"fieldset\">\n                    <FormGroup>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showMagnet}\n                            onChange={(e) => {\n                              setShowMagnet(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Magnetic Print Bed\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showBounds}\n                            onChange={(e) => {\n                              setShowBounds(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Printer Bounds\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showGrid}\n                            onChange={(e) => {\n                              setShowGrid(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Grid\"\n                      />\n                    </FormGroup>\n                  </FormControl>\n                </AccordionDetails>\n              </Accordion>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default SettingsPanel;\n","/**\n * Usage:\n *  var exporter = new THREE.STLExporter();\n *\n *  // second argument is a list of options\n *  var data = exporter.parse( mesh, { binary: true } );\n *\n */\n\n if(typeof THREE == 'undefined' && typeof require != 'undefined')\n \tvar THREE = require('three')\n\nvar STLExporter = function () {};\n\nSTLExporter.prototype = {\n\n\tconstructor: STLExporter,\n\n\tparse: function ( scene, options ) {\n\n\t\tif ( options === undefined ) options = {};\n\n\t\tvar binary = options.binary !== undefined ? options.binary : false;\n\n\t\t//\n\n\t\tvar objects = [];\n\t\tvar triangles = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isMesh ) {\n\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\tif ( geometry.isBufferGeometry !== true ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\t\ttriangles += ( index !== null ) ? ( index.count / 3 ) : ( positionAttribute.count / 3 );\n\n\t\t\t\tobjects.push( {\n\t\t\t\t\tobject3d: object,\n\t\t\t\t\tgeometry: geometry\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tvar output;\n\t\tvar offset = 80; // skip header\n\n\t\tif ( binary === true ) {\n\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer( bufferLength );\n\t\t\toutput = new DataView( arrayBuffer );\n\t\t\toutput.setUint32( offset, triangles, true ); offset += 4;\n\n\t\t} else {\n\n\t\t\toutput = '';\n\t\t\toutput += 'solid exported\\n';\n\n\t\t}\n\n\t\tvar vA = new THREE.Vector3();\n\t\tvar vB = new THREE.Vector3();\n\t\tvar vC = new THREE.Vector3();\n\t\tvar cb = new THREE.Vector3();\n\t\tvar ab = new THREE.Vector3();\n\t\tvar normal = new THREE.Vector3();\n\n\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\tvar object = objects[ i ].object3d;\n\t\t\tvar geometry = objects[ i ].geometry;\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < index.count; j += 3 ) {\n\n\t\t\t\t\tvar a = index.getX( j + 0 );\n\t\t\t\t\tvar b = index.getX( j + 1 );\n\t\t\t\t\tvar c = index.getX( j + 2 );\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < positionAttribute.count; j += 3 ) {\n\n\t\t\t\t\tvar a = j + 0;\n\t\t\t\t\tvar b = j + 1;\n\t\t\t\t\tvar c = j + 2;\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( binary === false ) {\n\n\t\t\toutput += 'endsolid exported\\n';\n\n\t\t}\n\n\t\treturn output;\n\n\t\tfunction writeFace( a, b, c, positionAttribute, object ) {\n\n\t\t\tvA.fromBufferAttribute( positionAttribute, a );\n\t\t\tvB.fromBufferAttribute( positionAttribute, b );\n\t\t\tvC.fromBufferAttribute( positionAttribute, c );\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tobject.boneTransform( a, vA );\n\t\t\t\tobject.boneTransform( b, vB );\n\t\t\t\tobject.boneTransform( c, vC );\n\n\t\t\t}\n\n\t\t\tvA.applyMatrix4( object.matrixWorld );\n\t\t\tvB.applyMatrix4( object.matrixWorld );\n\t\t\tvC.applyMatrix4( object.matrixWorld );\n\n\t\t\twriteNormal( vA, vB, vC );\n\n\t\t\twriteVertex( vA );\n\t\t\twriteVertex( vB );\n\t\t\twriteVertex( vC );\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setUint16( offset, 0, true ); offset += 2;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\tendloop\\n';\n\t\t\t\toutput += '\\tendfacet\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeNormal( vA, vB, vC ) {\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab ).normalize();\n\n\t\t\tnormal.copy( cb ).normalize();\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, normal.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\tfacet normal ' + normal.x + ' ' + normal.y + ' ' + normal.z + '\\n';\n\t\t\t\toutput += '\\t\\touter loop\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeVertex( vertex ) {\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, vertex.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\t\\tvertex ' + vertex.x + ' ' + vertex.y + ' ' + vertex.z + '\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\nexport default STLExporter;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Modal,\n  Paper,\n  TextField,\n  Typography,\n  Grid,\n  Select,\n  Slider,\n  Switch,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  Drawer,\n  Button\n} from \"@material-ui/core\";\nimport { ArrowBack, ExpandMore, Menu } from \"@material-ui/icons\";\nimport React, { Component, useState } from \"react\";\nimport \"./style.css\";\nimport { withStyles } from \"@material-ui/styles\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport FilesPanel from \"../3dViewer/FilesPanel\";\nimport PrintRenderer from \"../3dViewer/PrintRenderer\";\nimport NavigationPanel from \"../3dViewer/NavigationPanel\";\nimport SettingsPanel from \"../3dViewer/SettingsPanel\";\nimport AppContext from \"../../../AppContext\";\nimport STLExporter from \"../3dViewer/RenderingUtils/ExportSTL\";\n\nconst styles = (theme) => ({\n  formControl: {\n    minWidth: 250,\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: \"#000\"\n    },\n    \"& .MuiInputLabel-root\": {\n      color: \"#000\"\n    },\n    \"& .MuiSelect-select.MuiSelect-select\": {\n      color: \"#000\"\n    },\n    \"& .MuiFormLabel-root.MuiInputLabel-animated.MuiInputLabel-shrink.MuiFormLabel-filled\": {\n      color: \"#000\",\n      minWidth: 236\n    },\n    \"& .MuiInput-input\": {\n      color: \"#000\"\n    },\n    \"& #standard-basic-helper-text\": {\n      color: \"red\"\n    }\n  },\n  mainContainer: {\n    marginTop: 20,\n    width: 300\n  },\n  slider: {\n    width: 215\n  },\n  drawerContainer: {\n    width: '25vw',\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  settingsDrawer: { /* hidden behind viewer rn */\n    position: \"fixed\",\n    top: 5,\n    right: 5\n  },\n  settingsBack: {\n    position: \"fixed\",\n    top: 5,\n    left: 5,\n    zIndex: 100,\n    backgroundColor: \"#424242\",\n    color: \"white\",\n    paddingRight: \"10px\",\n    \"&:hover\": {\n      backgroundColor: \"#42424280\",\n    }\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n});\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction setProfileSettings(slicer, type) {\n  switch (type) {\n\n    case \"petg_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,60);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    default:\n      return slicer;\n  }\n}\n\nfunction setHeadTemp(slicer, temp) {\n  setChildSettings(slicer.settings.material.children.default_material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, temp);\n  setChildSettings(slicer.settings.material.children.material_initial_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_final_print_temperature, temp);\n  return slicer;\n}\n\nfunction setBedTemp(slicer, temp) {\n\n  setChildSettings(slicer.settings.material.children.default_material_bed_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_bed_temperature, temp);\n\n  return slicer;\n}\n\nfunction setInfillType(slicer, type) {\n  setChildSettings(slicer.settings.infill.children.infill_pattern, type);\n  slicer.settings.infill.children.infill_pattern.value = `\"'lines' if infill_sparse_density > 25 else '${type}'\"`;\n  slicer.settings.infill.children.infill_pattern.default_value = type;\n  return slicer;\n}\n\nfunction setFlowRate(slicer, rate) {\n  setChildSettings(slicer.settings.material.children.material_flow, rate);\n  return slicer;\n}\n\nfunction setStickType(slicer, type) {\n  setChildSettings(slicer.settings.platform_adhesion.children.adhesion_type, type);\n  return slicer;\n}\n\nfunction setSpeed(slicer, pace) {\n\n  setChildSettings(slicer.settings.speed.children.speed_print,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,pace);\n\n  return slicer;\n}\n\nfunction setStructure(slicer, struct) {\n  setChildSettings(slicer.settings.support.children.support_structure, struct);\n  return slicer;\n}\n\nfunction setSupportType(slicer, type) {\n  setChildSettings(slicer.settings.support.children.support_pattern, type);\n  return slicer;\n}\n\nfunction setChildSettings(setting, value) {\n  // ref: https://github.com/Ultimaker/CuraEngine/issues/450\n  setting.value = value;\n  setting.default_value = value;\n  traverseChildSettings(setting, value);\n}\n\nfunction traverseChildSettings(setting, value) {\n  if(setting.hasOwnProperty('children')) {\n    for (var property in setting.children) {\n      setChildSettings(setting.children[property], value);\n    }\n  }\n}\n\nfunction setInfillLineDistance(slicer, percent_density) {\n  // infill line distance is what we really need to set\n  if (percent_density === 0) {\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = 0;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = 0;\n  } else {\n    let multiplier = setInfillMultiplier(\n      slicer.settings.infill.children.infill_pattern.default_value\n    );\n    let infillLineWidth =\n      slicer.settings.resolution.children.line_width.children.infill_line_width\n        .default_value;\n    let infillLineDistance =\n      ((infillLineWidth * 100) / percent_density) * multiplier;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = infillLineDistance;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = infillLineDistance;\n  }\n  return slicer;\n}\n\nfunction setInfillMultiplier(infill_pattern) {\n  switch (infill_pattern) {\n    case \"triangles\":\n    case \"trihexagon\":\n    case \"cubic\":\n    case \"cubicsubdiv\":\n      return 3;\n    case \"grid\":\n    case \"tetrahedral\":\n    case \"quarter_cubic\":\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction getStlGroupName(meshes) {\n  console.log(meshes);\n  let name = '';\n  for (let idx in meshes) {\n    let mesh = meshes[idx];\n    let match = /.+\\.(stl)$/gi.exec(mesh.name);\n    if (match) {\n      name += match[0] + '-';\n    }\n  }\n  name = name.slice(0, -1);\n  name += '.stl';\n  console.log(name);\n  return name;\n}\n\nclass SliceModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shown: props.shown || false,\n      loading: false,\n      filament: \"pla\",\n      quality: \"good\",\n      infill: 20,\n      infill_type: \"grid\",\n      flow: 100,\n      stick_type: \"skirt\",\n      nozzle: 220,\n      bed: 50,\n      speed: 50,\n      supports: false,\n      vase: false,\n      structure: \"normal\",\n      support_type: \"grid\",\n      file: props.file,\n      camZoom: 0,\n      camRotation: 0,\n      camZ: 0,\n      camera: null,\n      control: null,\n      scene: null,\n      objRoot: null,\n      showMagnet: true,\n      showBounds: true,\n      showGrid: true,\n      stl: props.file,\n      modifiedStl: null,\n      selectedFile: null,\n      transformValue: \"position\",\n      fileName: \"file.stl\",\n      drawerOpen: true,\n      slicerOpen: true,\n      savedFile: false,\n      stlName: \"\",\n      userMode: \"beginner\",\n      fillMode: \"normal\",\n      infill_patterns: {grid: \"Grid\"},\n      stick_patterns: {skirt: \"Skirt\"},\n      structures: {normal: \"Normal\"},\n      support_types: {grid: \"Grid\"}\n    };\n\n    this.defaultSettings = {};\n  }\n\n  componentDidMount() {\n    this.getSettings();\n    this.setState({ userMode: getStorage(\"userMode\")});\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      this.setState({ filament: 'pla'});\n    }\n  }\n\n  handleFileSaveOpen() {\n    this.setState({ savedFile: true })\n  };\n\n  async getSettings() {\n    let onboardSettings = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/settings`,\n      {\n        method: \"GET\"\n      }\n    );\n\n    this.defaultSettings = await onboardSettings.json();\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('infill') &&\n       this.defaultSettings.settings.infill.children.infill_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        infill_patterns: this.defaultSettings.settings.infill.children.infill_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('platform_adhesion') &&\n       this.defaultSettings.settings.platform_adhesion.children.adhesion_type.hasOwnProperty('options')\n    ) {\n      this.setState({\n        stick_patterns: this.defaultSettings.settings.platform_adhesion.children.adhesion_type.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        support_types: this.defaultSettings.settings.support.children.support_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_structure.hasOwnProperty('options')\n    ) {\n      this.setState({\n        structures: this.defaultSettings.settings.support.children.support_structure.options\n      });\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return { shown: props.shown };\n  }\n\n  async setSliceAndStartPrint(meshes, startPrint) {\n    this.setState({ loading: true });\n    let settings = this.defaultSettings;\n    let profile_type = this.state.filament + '_' + this.state.quality;\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      profile_type = 'pla_' + this.state.quality;\n\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    settings = setProfileSettings(settings, profile_type);\n\n    settings = setInfillLineDistance(settings, this.state.infill);\n\n    settings.settings.infill.children.infill_sparse_density.value = this.state.infill;\n    settings.settings.infill.children.infill_sparse_density.default_value = this.state.infill;\n    settings.settings.support.children.support_enable.value = this.state.supports;\n    settings.settings.support.children.support_enable.default_value = this.state.supports;\n    settings.settings.blackmagic.children.magic_spiralize.value = this.state.vase;\n    settings.settings.blackmagic.children.magic_spiralize.default_value = this.state.vase;\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      settings.settings.blackmagic.children.magic_spiralize.value = 0;\n      settings.settings.blackmagic.children.magic_spiralize.default_value = 0;\n    } else {\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    if(getStorage(\"userMode\") == 'expert') {\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n    }\n\n    let data = new FormData();\n    //let stlFile = fromMesh(this.state.modifiedStl, false);\n    let exporter = new STLExporter();\n    let stlString = exporter.parse( this.state.modifiedStl );\n    let mimeType = 'application/vnd.ms-pki.stl';\n    let blob = new Blob([stlString], { type: mimeType });\n    let groupedStlName = getStlGroupName(meshes);\n    let buildFileName = this.state.stlName ? this.state.stlName+'.stl' : groupedStlName;\n    let realFile = new File([blob], buildFileName);\n    data.append(\"file\", realFile);\n    data.append(\"json\", JSON.stringify(settings));\n    let resp = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/files/${buildFileName}`,\n      { method: \"POST\", body: data }\n    );\n    if (resp.status === 200) {\n      //Success\n      if(startPrint) {\n        await fetch(\n          `http://${window.location.hostname}:2127/api/v1/job/${buildFileName}`,\n          {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }\n        );\n        this.props.onClose();\n      } else {\n        this.handleFileSaveOpen();\n      }\n    } else {\n      //Error message\n      if (this.props.onFailure) {\n        this.props.onFailure();\n      }\n    }\n    this.setState({ loading: false });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const sliceModal = this;\n\n    function addRotation(deg) {\n      sliceModal.setState({ camRotation: sliceModal.state.camRotation + deg })\n    }\n\n    function setZoom(zoom) {\n      sliceModal.setState({ camZoom: zoom })\n    }\n\n    function addZ(z) {\n      sliceModal.setState({ camZ: clamp(sliceModal.state.camZ + z, 0, 200) })\n    }\n\n    return (\n      <>\n        <Modal\n          open={this.state.shown}\n          onClose={() => {\n            this.props.onClose();\n            this.setState({ shown: false });\n          }}\n          disableBackdropClick\n        >\n          <div className=\"modal\">\n            <Button onClick={() => {\n                this.props.onClose();\n                this.setState({ shown: false });\n              }}\n              color=\"primary\" className={classes.settingsBack} autoFocus>\n              <ArrowBack />\n              Exit Viewer\n            </Button>\n\n            <IconButton className={classes.settingsDrawer} aria-label=\"print-settings\" onClick={() => this.setState({ drawerOpen: !this.state.drawerOpen })}>\n              <Menu />\n            </IconButton>\n            <Grid container className={classes.mainContainer}>\n            <Grid item>\n              <AppContext.Provider\n                value={{\n                  camRotation: this.state.camRotation,\n                  camZoom: this.state.camZoom,\n                  camZ: this.state.camZ,\n                  camera: this.state.camera,\n                  showMagnet: this.state.showMagnet,\n                  showBounds: this.state.showBounds,\n                  showGrid: this.state.showGrid,\n                  stl: this.props.file,\n                  transformValue: this.state.transformValue,\n                  modifiedStl: this.state.modifiedStl,\n                  fileName: this.state.fileName,\n                  control: this.state.control,\n                  scene: this.state.scene,\n                  objRoot: this.state.objRoot,\n                  selectedFile: this.state.selectedFile,\n                  setModifiedStl: (stl) => {\n                    this.setState({ modifiedStl: stl });\n                  },\n                  setFileName: (name) => {\n                    this.setState({ fileName: name });\n                  },\n                  addRotation: (deg) => {\n                    addRotation(deg);\n                  },\n                  setZoom: (zoom) => {\n                    setZoom(zoom);\n                  },\n                  addZ: (z) => {\n                    addZ(z);\n                  },\n                  setTransformValue: (value) => {\n                    this.setState({ transformValue: value });\n                  },\n                  setCamera: (val) => {\n                    this.setState({ camera: val });\n                  },\n                  setShowMagnet: (val) => {\n                    this.setState({ showMagnet: val });\n                  },\n                  setShowBounds: (val) => {\n                    this.setState({ showBounds: val });\n                  },\n                  setShowGrid: (val) => {\n                    this.setState({ showGrid: val });\n                  },\n                  setControl: (control) => {\n                    this.setState({ control: control });\n                  },\n                  setScene: (scene) => {\n                    this.setState({ scene: scene });\n                  },\n                  setObjRoot: (objRoot) => {\n                    this.setState({ objRoot: objRoot });\n                  },\n                  setSelectedFile: (file) => {\n                    this.setState({ selectedFile: file });\n                  },\n                }}\n              >\n              <PrintRenderer />\n              <Drawer\n                anchor=\"right\"\n                open={this.state.drawerOpen}\n                onClose={() => this.setState({ drawerOpen: false })}\n                classes={{\n                  paper: classes.drawerContainer\n                }}\n                variant=\"persistent\"\n              >\n                <FilesPanel />\n                <Accordion expanded={this.state.slicerOpen} onChange={() => this.setState({slicerOpen: !this.state.slicerOpen})}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMore />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                  >\n                    <Typography>\n                    Slicer Settings\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                    <Grid item style={{ zIndex: 2 }}>\n                        { this.state.userMode !== 'beginner' && (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"fil\">Filament Type</InputLabel>\n                              <Select\n                                labelId=\"fil\"\n                                value={this.state.filament}\n                                onChange={(e) => {\n                                  this.setState({ filament: e.target.value });\n                                }}\n                              >\n                                <MenuItem value=\"pla\">PLA</MenuItem>\n                                <MenuItem value=\"petg\">PETG</MenuItem>\n                                <MenuItem value=\"tpu\">TPU</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        )}\n                        { this.state.userMode === 'beginner' ? (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"str\">Model Strength</InputLabel>\n                              <Select\n                                labelId=\"str\"\n                                value={this.state.fillMode}\n                                onChange={(e) => {\n                                  this.setState({ fillMode: e.target.value });\n                                  if(e.target.value == 'hollow') {\n                                    this.setState({ infill: 0 });\n                                  } else if (e.target.value == 'normal') {\n                                    this.setState({ infill: 20 });\n                                  } else if(e.target.value == 'solid') {\n                                    this.setState({ infill: 100 });\n                                  }\n                                }}\n                              >\n                                <MenuItem value=\"hollow\">Hollow</MenuItem>\n                                <MenuItem value=\"normal\">Normal</MenuItem>\n                                <MenuItem value=\"solid\">Solid</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        ) : (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"standard-basic\"\n                              value={this.state.infill}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ infill: value });\n                              }}\n                              type=\"number\"\n                              label=\"Infill Density\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 100,\n                                maxLength: 3\n                              }}\n                              error={(this.state.infill < 0 || this.state.infill > 100) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.infill > 100) ?\n                                \"Value must be at or between 0 and 100.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.infill < 0 || this.state.infill > 100) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"filtype\">Infill Type</InputLabel>\n                              <Select\n                                labelId=\"filtype\"\n                                value={this.state.infill_type}\n                                onChange={(e) => {\n                                  this.setState({ infill_type: e.target.value });\n                                }}\n                              >\n                              {this.state.infill_patterns && Object.entries(this.state.infill_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <InputLabel id=\"qual\">Quality</InputLabel>\n                            <Select\n                              labelId=\"qual\"\n                              value={this.state.quality}\n                              onChange={(e) => {\n                                this.setState({ quality: e.target.value });\n                              }}\n                            >\n                              <MenuItem value=\"good\">Fastest Print</MenuItem>\n                              <MenuItem value=\"better\">Normal Quality</MenuItem>\n                              <MenuItem value=\"best\">Best Quality</MenuItem>\n                            </Select>\n                          </FormControl>\n                        </Grid>\n                        { this.state.userMode === 'expert' && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"stiktype\">Adhesion Type</InputLabel>\n                              <Select\n                                labelId=\"stiktype\"\n                                value={this.state.stick_type}\n                                onChange={(e) => {\n                                  this.setState({ stick_type: e.target.value });\n                                }}\n                              >\n                              {this.state.stick_patterns && Object.entries(this.state.stick_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"flow-rate\"\n                              value={this.state.flow}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ flow: value });\n                              }}\n                              type=\"number\"\n                              label=\"Flow Rate\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 200,\n                                maxLength: 3\n                              }}\n                              error={(this.state.flow < 0 || this.state.flow > 200) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.flow > 200) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.flow < 0 || this.state.flow > 200) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"nozzle-temp\"\n                              value={this.state.nozzle}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ nozzle: value });\n                              }}\n                              type=\"number\"\n                              label=\"Nozzle Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 260,\n                                maxLength: 3\n                              }}\n                              error={(this.state.nozzle < 0 || this.state.nozzle > 260) ? true : false}\n                              helperText={\n                                (this.state.nozzle < 0 || this.state.nozzle > 260) ?\n                                \"Value must be at or between 0 and 260.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.nozzle < 0 || this.state.nozzle > 260) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"bed-temp\"\n                              value={this.state.bed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ bed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Bed Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 70,\n                                maxLength: 3\n                              }}\n                              error={(this.state.bed < 0 || this.state.bed > 70) ? true : false}\n                              helperText={\n                                (this.state.bed < 0 || this.state.bed > 70) ?\n                                \"Value must be at or between 0 and 70.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.bed < 0 || this.state.bed > 70) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"speed-rate\"\n                              value={this.state.speed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ speed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Print Speed\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 150,\n                                maxLength: 3\n                              }}\n                              error={(this.state.speed < 0 || this.state.speed > 150) ? true : false}\n                              helperText={\n                                (this.state.speed < 0 || this.state.speed > 150) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.speed < 0 || this.state.speed > 150) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormGroup row>\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.supports}\n                                  onChange={(e) => {\n                                    this.setState({ supports: e.target.checked });\n                                  }}\n                                  name=\"checkSupports\"\n                                />\n                              }\n                              label=\"Supports\"\n                            />\n                            { this.state.userMode !== 'beginner' && (\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.vase}\n                                  onChange={(e) => {\n                                    this.setState({ vase: e.target.checked });\n                                  }}\n                                  name=\"checkVase\"\n                                />\n                              }\n                              label=\"Vase Mode\"\n                            />\n                          )}\n                          </FormGroup>\n                        </Grid>\n                        { this.state.userMode === 'expert' && this.state.supports && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"struc\">Support Structure</InputLabel>\n                              <Select\n                                labelId=\"struc\"\n                                value={this.state.structure}\n                                onChange={(e) => {\n                                  this.setState({ structure: e.target.value });\n                                }}\n                              >\n                              {this.state.structures && Object.entries(this.state.structures).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"suptype\">Support Type</InputLabel>\n                              <Select\n                                labelId=\"suptype\"\n                                value={this.state.support_type}\n                                onChange={(e) => {\n                                  this.setState({ support_type: e.target.value });\n                                }}\n                              >\n                              {this.state.support_types && Object.entries(this.state.support_types).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item>\n                        <FormControl className={classes.formControl} style={{display:'none'}}>\n                          <TextField\n                            id=\"standard-basic\"\n                            value={this.state.stlName}\n                            onChange={(e) => {\n                              const { value } = e.target;\n                              this.setState({ stlName: value });\n                              console.log(this.state.stlName);\n                            }}\n                            type=\"text\"\n                            label=\"Set File Name\"\n                          />\n                          </FormControl>\n                        </Grid>\n                        <Grid item container style={{ marginTop: 20, justifyContent:\"center\", flexDirection:\"column\" }}>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              style={{marginBottom:5}}\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, false);\n                              }}\n                            >\n                              Slice & Save\n                            </Button>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, true);\n                              }}\n                            >\n                              Slice & Print\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    </Grid>\n                  </AccordionDetails>\n                </Accordion>\n                <SettingsPanel />\n              </Drawer>\n              {/* <NavigationPanel /> */}\n              </AppContext.Provider>\n            </Grid>\n            </Grid>\n            {this.state.loading && (\n              <>\n                <img\n                  alt=\"print\"\n                  src={imgPrint}\n                  style={{\n                    width: 200,\n                    height: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 100px)\"\n                  }}\n                ></img>\n                <h4\n                  style={{\n                    width: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 270px)\",\n                    textAlign: \"center\"\n                  }}\n                >\n                  Preparing File\n                </h4>\n              </>\n            )}\n            <Dialog\n              open={this.state.savedFile}\n              onClose={() => {\n                this.setState({ savedFile: false });\n                this.props.onClose();\n              }}\n              disableBackdropClick={true}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{\"Gcode File Saved\"}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  The generated gcode has been added to your printer storage.\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={() => {\n                    this.setState({ savedFile: false });\n                    this.props.onClose();\n                  }}\n                  color=\"primary\" className={classes.okButton} autoFocus>\n                  OK\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(SliceModal);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Snackbar,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableCell,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  ArrowBack,\n  ArrowForward,\n  Close,\n  DeleteForever,\n  Folder,\n  FolderOpen,\n  Home,\n  Layers,\n  Slideshow,\n  SystemUpdateAlt\n} from \"@material-ui/icons\";\nimport { formatBytes, getStorage } from \"../../../Utility/helpers\";\nimport protectedFiles from \"./protected_files.json\"\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport SliceModal from \"../SliceModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\"\n  },\n  modalContainer: {\n    padding: \"25px\",\n    width: 300,\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"200px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"20px\",\n    marginBottom: \"50px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"175px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  fileContainer: {\n    maxHeight: \"700px\",\n    overflow: \"auto\",\n    width: \"auto\"\n  },\n  fileLocation: {\n    overflow: \"scroll\",\n    height: \"400px\"\n  },\n  icon: {\n    width: \"40px\"\n  }\n}));\n\nfunction Treeify(files) {\n  var fileTree = {};\n\n  if (files instanceof Array === false) {\n    throw new Error(\"Expected an Array of file paths, but saw \" + files);\n  }\n\n  files.forEach(function parseFilePath(file) {\n    var filePath = file.display;\n    var fileLocation = filePath.split(\"/\");\n\n    // If file is in root directory, eg 'index.js'\n    if (fileLocation.length === 1) {\n      return (fileTree[fileLocation[0]] = file);\n    }\n\n    fileLocation.reduce(function mergePathsIntoFileTree(\n      prevDir,\n      currDir,\n      i,\n      filePath\n    ) {\n      if (i === filePath.length - 1) {\n        prevDir[currDir] = file;\n      }\n\n      if (!prevDir.hasOwnProperty(currDir)) {\n        prevDir[currDir] = {};\n      }\n\n      return prevDir[currDir];\n    },\n    fileTree);\n  });\n\n  return fileTree;\n}\n\nfunction isFolder(filename) {\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n\n  for (let idx in fileTypes) {\n    if (filename.endsWith(fileTypes[idx])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getFolderOnlyPath(o, id, path) {\n  //Early return\n  if (o === id) {\n    return path;\n  }\n  var result, p;\n  for (p in o) {\n    if (o.hasOwnProperty(p) && typeof o[p] === \"object\") {\n      if (isFolder(p)) {\n        path.push(p);\n        result = getFolderOnlyPath(o[p], id, path);\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n  return path;\n}\n\nfunction getFileDirectory(rootFiles, newFiles) {\n  let directory = [];\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n  let fileKeys = Object.keys(newFiles);\n\n  for (let fileIdx in fileKeys) {\n    for (let idx in fileTypes) {\n      if (fileKeys[fileIdx].endsWith(fileTypes[idx])) {\n        if (newFiles[fileKeys[fileIdx]].hasOwnProperty(\"display\")) {\n          let parts = newFiles[fileKeys[fileIdx]].display.split(\"/\");\n          directory = parts;\n          directory.pop();\n          return directory;\n        }\n      } else {\n        directory = getFolderOnlyPath(rootFiles, newFiles, []);\n      }\n    }\n  }\n  return directory;\n}\n\nfunction getSize(files) {\n  let size = 0;\n  Object.keys(files).forEach((key, i) => {\n    if (files[key].hasOwnProperty(\"size\")) {\n      size += files[key].size;\n    } else {\n      if(typeof files[key] == \"object\") {\n        size += getSize(files[key]);\n      }\n    }\n  });\n\n  return size;\n}\n\nfunction isFileProtected(filename) {\n  for (let idx in protectedFiles) {\n    if(protectedFiles[idx].name == filename) {\n      return true;\n    }\n  }\n  return false;\n}\n\nconst FileManager = ({\n  drawerOpen,\n  setDrawerOpen,\n  fileLocation,\n  manage,\n  update\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [files, setFiles] = useState([]);\n  const [rootFiles, setRootFiles] = useState([]);\n  const [storageUsed, setStorageUsed] = useState(0);\n  const [storageFree, setStorageFree] = useState(0);\n  const [storageTotal, setStorageTotal] = useState(0);\n  const [directories, setDirectories] = useState({});\n  const [currentDirectory, setCurrentDirectory] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const [retryCount, setRetryCount] = useState(0);\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://${window.location.hostname}:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(retryCount < maxRetryCount) {\n        setTimeout(() => {\n          setRetryCount(retryCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setSnackMessage(\"Software Update Failed. Please run the update again.\");\n        setShowSnack(true);\n      }\n\n    });\n  };\n\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  useEffect(() => {\n    if (drawerOpen) {\n      setLoading(true);\n      //make api call to fetch files\n      //use fileLocation (usb or local) to determine which call to make\n      async function getFiles() {\n        // Default options are marked with *\n        let response = null;\n\n        if (fileLocation === \"local\") {\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n            method: \"GET\"\n          });\n        } else {\n          await fetch(`http://${window.location.hostname}:2127/api/v1/usb/refresh`, {\n            method: \"POST\"\n          });\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/usb/files`, {\n            method: \"GET\"\n          });\n        }\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n\n      getFiles().then((data) => {\n        if (fileLocation === \"local\") {\n          setFiles(data.files);\n          setStorageFree(data.free);\n          setStorageTotal(data.total);\n          setStorageUsed(data.total - data.free);\n        } else {\n          let fileTree = Treeify(data.files);\n          setFiles(fileTree);\n          setRootFiles(fileTree);\n        }\n        setLoading(false);\n      });\n\n    }\n  }, [drawerOpen, fileLocation]);\n\n  const handleZipCheck = () => {\n    console.log(selected);\n    setLoading(true);\n    setDrawerOpen(false);\n    async function checkUpdates() {\n      // Default options are marked with *\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/usb/copy/${selected}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    checkUpdates().then((data) => {\n      console.log(data);\n      setLoading(false);\n      //after api call\n      if (data.updated) {\n        setSnackMessage(\"Software Updated. Rebooting...\");\n        setShowSnack(true);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          attemptReboot();\n        }, 3000);\n      } else {\n        setSnackMessage(\"Software Update Failed. Reverted to previous version.\");\n        setShowSnack(true);\n      }\n    });\n  }\n\n  const handleSelect = () => {\n    console.log(selected);\n    setLoading(true);\n    if (fileLocation === \"local\") {\n      //call api to print file\n      let selected_file = selected.split('\\\\').pop().split('/').pop();\n      fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then((data) => {\n        setLoading(false);\n        setDrawerOpen(() => false);\n        //call function or swap to status screen\n        setSelected(\"\");\n        setShowTooltip(false);\n        setShowModal(false);\n      });\n    } else {\n        fetch(`http://${window.location.hostname}:2127/api/v1/usb/copy/${selected}`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then((data) => {\n          let selected_file = selected.split('\\\\').pop().split('/').pop();\n          fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }).then((data) => {\n            setLoading(false);\n            setDrawerOpen(() => false);\n            //call function or swap to status screen\n            setSelected(\"\");\n            setShowTooltip(false);\n            setShowModal(false);\n          });\n        });\n    }\n  };\n\n  const deleteFile = () => {\n    setLoading(true);\n\n    fetch(`http://${window.location.hostname}:2127/api/v1/files/local/${selected}`, {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" }\n    }).then(response => response.json()).then((data) => {\n      fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then(response => response.json()).then((data) => {\n        setLoading(false);\n        setFiles(data.files);\n        setStorageFree(data.free);\n        setStorageTotal(data.total);\n        setStorageUsed(data.total - data.free);\n      });\n    });\n\n  };\n\n  const resetFiles = (newFiles) => {\n    if (currentDirectory) {\n      directories[currentDirectory] = newFiles;\n      setDirectories(directories);\n    }\n    setFiles(newFiles);\n  };\n\n  const folderSelected = (newFiles, directory) => {\n    setCurrentDirectory(directory);\n    setSelected(newFiles);\n  };\n\n  const exitFiles = () => {\n    setFiles([]);\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div>\n      {!manage && !update && (\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n      )}\n      <div className={classes.header}>\n        {!manage && !update && (\n          <h2 style={{marginLeft: 10}}>\n            {(\n              fileLocation.toUpperCase() === 'USB' ? 'USB Media' : 'Printer Storage'\n            )}\n          </h2>\n        )}\n        {!manage && !update && (\n        <IconButton aria-label=\"back\" onClick={() => exitFiles()} style={{ position:'absolute', right:0}}>\n          <Close />\n        </IconButton>\n        )}\n      </div>\n      {fileLocation === \"usb\" && (\n        <Container className={classes.fileContainer}>\n          <Grid container direction=\"row\" style={{background: '#525252'}}>\n            <Grid\n              item\n              style={{ alignSelf: \"center\" }}\n              onClick={() => resetFiles(rootFiles)}\n            >\n              <Typography variant=\"h6\">\n                <IconButton aria-label=\"back\"  className={classes.icon}>\n                  <Home />\n                </IconButton>\n              </Typography>\n            </Grid>\n            {getFileDirectory(rootFiles, files).map((folder, index, {length}) => {\n              if (isFolder(folder)) {\n                return (\n                  <Grid\n                    item\n                    style={{ alignSelf: \"center\" }}\n                    onClick={() => resetFiles(directories[folder])}\n                    key={folder}\n                  >\n                    <Typography variant=\"h6\">\n                      <IconButton aria-label=\"back\"  className={classes.icon}>\n                        <ArrowForward />\n                      </IconButton>\n                      {index + 1 === length && (\n                        <IconButton aria-label=\"back\"  className={classes.icon}>\n                          <Folder />\n                        </IconButton>\n                      )}\n                      {folder}\n                    </Typography>\n                  </Grid>\n                );\n              } else {\n                return <></>;\n              }\n            })}\n          </Grid>\n        </Container>\n      )}\n      {loading ? (\n        <Backdrop className={classes.backdrop} open={true}>\n          <img\n            alt=\"print\"\n            src={imgPrint}\n            style={{ width: 200, height: 200, zIndex: 99999999 }}\n          ></img>\n        </Backdrop>\n      ) : (\n        <Container className={classes.fileContainer}>\n          <TableContainer className={classes.fileList}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Size</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {fileLocation === \"local\"\n                  ? files &&\n                    files.map((file, index) => {\n\n                      if(!manage || !isFileProtected(file.name)) {\n                        return (\n                          <TableRow\n                            key={file.display}\n                            onClick={() => setSelected(file.display)}\n                            selected={selected === file.display}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                {manage ? (\n                                  <DeleteForever />\n                                ) : (\n                                  <Slideshow />\n                                )}\n                              </IconButton>\n                              {file.display}\n                            </TableCell>\n                            <TableCell>{formatBytes(file.size)}</TableCell>\n                          </TableRow>\n                        );\n                      }\n\n                    })\n                  : files &&\n                    Object.keys(files).map((file, index) => {\n                      if (isFolder(file)) {\n                        return (\n                          <TableRow\n                            key={file}\n                            onClick={() => folderSelected(files[file], file)}\n                            selected={selected === files[file]}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell style={{\n                              width: update ? '400px' : '100%'\n                            }}>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                <FolderOpen />\n                              </IconButton>\n                              {file}\n                            </TableCell>\n                            <TableCell style={{minWidth: 110}}>\n                              {formatBytes(getSize(files[file]))}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      } else {\n                        if(\n                          (files[file].display.includes(\".zip\") ||\n                          files[file].display.includes(\".ZIP\")) &&\n                          /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(file)\n                        ) {\n                          if(update) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell style={{width: \"400px\"}}>\n                                  <IconButton aria-label=\"back\"  className={classes.icon}>\n                                    <SystemUpdateAlt />\n                                  </IconButton>\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        } else {\n                          if(!update && !(\n                            files[file].display.includes(\".zip\") ||\n                            files[file].display.includes(\".ZIP\"))\n                          ) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell>\n                                  {file.endsWith(\".g\") ||\n                                  file.endsWith(\".gcode\") ||\n                                  file.endsWith(\".G\") ||\n                                  file.endsWith(\".GCODE\") ? (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Slideshow />\n                                    </IconButton>\n                                  ) : (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Layers />\n                                    </IconButton>\n                                  )}\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        }\n                      }\n                    })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Container>\n      )}\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-around\"\n        alignItems=\"center\"\n      >\n      {manage ? (\n        <Grid\n          container\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            disabled={selected.length <= 0}\n            onClick={() => deleteFile()}\n            className={classes.printButton}\n          >\n            Delete\n          </Button>\n\n          <Typography variant=\"h6\">\n            {\n              formatBytes(storageUsed)\n            } used of {\n              formatBytes(storageTotal)\n            } total, leaving {\n              formatBytes(storageFree)\n            } available\n          </Typography>\n          </Grid>\n      ) : typeof selected !== \"object\" &&\n      (selected.endsWith(\".g\") ||\n        selected.endsWith(\".gcode\") ||\n        selected.endsWith(\".G\") ||\n        selected.endsWith(\".GCODE\")) ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => handleSelect(false)}\n          className={classes.printButton}\n        >\n          Print\n        </Button>\n      ) : typeof selected === \"object\" ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => resetFiles(selected)}\n          className={classes.printButton}\n        >\n          Open Folder\n        </Button>\n      ) : update &&\n        (selected.endsWith(\".zip\") || selected.endsWith(\".ZIP\")) &&\n        (/^(.+)300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected) ||\n        /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected)\n        ) ? (\n         <Button\n           variant=\"contained\"\n           disabled={selected.length <= 0}\n           onClick={() => handleZipCheck()}\n           className={classes.printButton}\n         >\n           Update from ZIP\n         </Button>\n      ) : (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => {\n            setLoading(true);\n            setShowModal(true);\n          }}\n          className={classes.printButton}\n        >\n          Slice\n        </Button>\n      )}\n      </Grid>\n      <SliceModal\n        file={selected}\n        shown={showModal}\n        onClose={() => {\n          setShowModal(false);\n          setLoading(false);\n        }}\n      />\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </div>\n  );\n};\n\nexport default FileManager;\n","import React, { useState } from \"react\";\nimport {\n  Grid,\n  Button,\n  Typography,\n  Card,\n  CardContent,\n  CardActionArea,\n  Drawer,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle\n } from \"@material-ui/core\";\nimport PrintStatus from \"./PrintStatus/PrintStatus\";\n\nimport FileManager from \"../Common/FileManager/FileManager\";\nimport SliceModal from \"../Common/SliceModal\";\nimport \"./Print.css\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  card: {\n    margin: \"32px\",\n    border: \"2px solid rgba(0, 0, 0, 0.12)\",\n    textAlign: \"center\"\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n});\n\nlet sendGcode = function (gcode) {\n  fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      gcode: gcode\n    })\n  });\n};\n\nfunction clearInputFile(f){\n    if(f.value){\n        try{\n            f.value = ''; //for IE11, latest Chrome/Firefox/Opera...\n        }catch(err){ }\n        if(f.value){ //for IE5 ~ IE10\n            var form = document.createElement('form'),\n                parentNode = f.parentNode, ref = f.nextSibling;\n            form.appendChild(f);\n            form.reset();\n            parentNode.insertBefore(f,ref);\n        }\n    }\n}\n\nconst Print = ({ lastMessage, setDisabledNav }) => {\n  const classes = useStyles();\n  let [state, setState] = useState({\n    extruder: 0,\n    bed: 0,\n    connected: false,\n    feed: \"1\",\n    file: -1,\n    files: [],\n    printing: false,\n    progress: 0,\n    paused: false\n  });\n  const [file, uploadedFile] = useState(false);\n  const [status, setStatus] = useState(null);\n  const [printState, setPrintState] = useState(null);\n  const [jobState, setJobState] = useState(null);\n  const [progressState, setProgressState] = useState(null);\n  const [fileDrawerOpen, setFileDrawerOpen] = useState(false);\n  const [fileLocation, setFileLocation] = useState(\"\");\n  const [uploadElement, setUploadElement] = useState(null);\n  const [showSliceModal, setShowSliceModal] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n  const [userRequired, setUserRequired] = useState(false);\n  const [runout, setRunout] = useState(null);\n  const [heater, setHeater] = useState(null);\n\n  const fetchFiles = (location) => {\n    setFileLocation(location);\n    setFileDrawerOpen(true);\n  };\n\n  const fetchUploadFiles = () => {\n    setFileLocation(\"local\");\n    setFileDrawerOpen(true);\n  };\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n        setPrintState(json[0].current.state);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.job) {\n        setJobState(json[0].current.job);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        setProgressState(json[0].current.progress);\n      }\n\n      if (json[0].hasOwnProperty(\"plugin\") && json[0].plugin.data.filamentStatus === \"empty\") {\n        setRunout(true);\n      }\n\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Grid>\n        {progressState &&\n        jobState &&\n        jobState.file.name &&\n        progressState.completion < 100 &&\n        printState &&\n        printState.text !== \"Operational\" ? (\n          <PrintStatus\n            lastMessage={lastMessage}\n            progressState={progressState}\n            setDisabledNav={setDisabledNav}\n            statusText={printState.text}\n            fileName={jobState.file.display}\n            state={printState}\n          />\n        ) : (\n          <Grid>\n            <Card className={classes.card} onClick={() => fetchFiles(\"local\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Printer Storage</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card className={classes.card} onClick={() => fetchFiles(\"usb\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">USB Media</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card\n              className={classes.card}\n              onClick={() => {\n                uploadElement.click();\n              }}\n            >\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Local Storage</Typography>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    onChange={async (e) => {\n                      let file = e.target.files[0];\n                      let match = /.+\\.(stl|gcode)$/gi.exec(file.name);\n                      if (match) {\n                        const fileType = match[1].toLowerCase();\n                        if (fileType === \"stl\") {\n                          setUploadFile(file);\n                          setShowSliceModal(true);\n                          clearInputFile(e.target);\n                        } else {\n                          //Gcode - just needs to upload and start\n                          let data = new FormData();\n                          data.append(\"file\", file);\n                          let resp = await fetch(\n                            `http://${window.location.hostname}:2127/api/v1/files/${file.name}`,\n                            { method: \"POST\", body: data }\n                          );\n                          if (resp.status === 200) {\n                            //Good - start job\n                            await fetch(\n                              `http://${window.location.hostname}:2127/api/v1/job/${file.name}`,\n                              {\n                                method: \"POST\",\n                                headers: { \"Content-Type\": \"application/json\" }\n                              }\n                            );\n                          } else {\n                            //Something went wrong with upload\n                          }\n                        }\n                      } else {\n                        //Something wrong with file\n                      }\n                    }}\n                    ref={(ref) => {\n                      setUploadElement(ref);\n                    }}\n                    accept=\".stl,.gcode\"\n                  />\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            {/*<label className=\"Files-Upload\">\n                  <span>Upload</span>\n                  <input\n                    type=\"file\"\n                    onChange={async e => {\n                      let data = new FormData();\n                      console.log(e.target.files);\n                      e.persist();\n                      data.append(\"file\", e.target.files[0]);\n                      await fetch(\n                        `http://makerhub.local:8080/api/v1/files/${e.target.files[0].name}`,\n                        { method: \"POST\", body: data }\n                      );\n                      this.setState({\n                        files: [...this.state.files, e.target.files[0].name]\n                      });\n                    }}\n                  ></input>\n                </label>*/}\n                <Drawer\n                  anchor=\"left\"\n                  open={fileDrawerOpen}\n                  onClose={() => setFileDrawerOpen(false)}\n                  classes={{\n                    paper: classes.drawerContainer\n                  }}\n                >\n                  <FileManager\n                    setDrawerOpen={setFileDrawerOpen}\n                    drawerOpen={fileDrawerOpen}\n                    fileLocation={fileLocation}\n                  />\n                </Drawer>\n            {/*<div className=\"Files\">\n            <label className=\"Files-Upload\">\n              <span>Upload</span>\n              <input\n                type=\"file\"\n                onChange={async (e) => {\n                  let data = new FormData();\n                  console.log(e.target.files);\n                  e.persist();\n                  data.append('file', e.target.files[0]);\n                  // Upload the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/files/${e.target.files[0].name}`,\n                    { method: 'POST', body: data }\n                  );\n                  // Print the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/job/${e.target.files[0].name}`,\n                    {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                    }\n                  );\n                  state.printing = true;\n                  uploadedFile(true);\n                  setState({\n                    files: [...state.files, e.target.files[0].name],\n                    file: 0,\n                  });\n                }}\n              ></input>\n            </label>\n              </div>*/}\n          </Grid>\n        )}\n        <div>\n          <Grid>\n            {printState &&\n              jobState &&\n              (jobState.file ? (\n                <div>\n                  <div className={classes.buttonContainer}>\n                    {progressState &&\n                      (progressState.completion == null ||\n                        progressState.completion == 100) &&\n                      jobState &&\n                      jobState.file.display && (\n                        <>\n                          <div className={classes.textCenter}>\n                            {/*`${printState.text} : ${jobState.file.display}`*/}\n                          </div>\n                        </>\n                      )}\n                  </div>\n                </div>\n              ) : (\n                <span>Not Printing</span>\n              ))}\n          </Grid>\n        </div>\n      </Grid>\n      <SliceModal\n        shown={showSliceModal}\n        file={uploadFile}\n        onClose={() => {\n          setShowSliceModal(false);\n        }}\n      />\n      <Dialog\n        open={runout}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{textAlign:\"center\"}} >\n          Action Required\n        </DialogTitle>\n        <DialogContent style={{textAlign:\"left\"}}>\n          <DialogContentText id=\"alert-dialog-description\">\n            <b>You ran out of filament. Replace the reel and continue.</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => {\n                setRunout(false);\n              }}\n              color=\"primary\" className={classes.okButton} autoFocus>\n              I Replaced My Filament\n            </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default Print;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid,\n  Paper,\n  Tab,\n  Tabs,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowForward,\n  ArrowUpward,\n  ArrowBack,\n  Home\n} from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport \"./Moving.css\";\n\nconst useStyles = makeStyles({\n  btnContainer: {\n    marginTop: \"14px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nconst units = [0.1, 1.0, 10, 20];\n\nconst Moving = ({ position, nozzleTemp }) => {\n  const classes = useStyles();\n\n  const [unit, setUnit] = useState(1);\n  const [heatingDialog, setHeatingDialog] = useState(false);\n  const [delay, setDelay] = useState(false);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  const homeAxis = (axis) => {\n    //homing commands\n    // const x = 'G28 X\\nM114\\n';\n    // const y = 'G28 Y\\nM114\\n';\n    // const z = 'G28 Z\\nM114\\n';\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: `G28 ${axis}\\nM114\\n`\n      })\n    });\n  };\n\n  const moveAxis = (axis, negative) => {\n    //example move commands\n    // const x = 'G91\\nG0 X-10\\nM114\\n';\n    // const y = 'G91\\nG0 Y-1\\nM114\\n';\n    // const z = 'G91\\nG0 Z10\\nM114\\n';\n    // const e = 'G91\\nG1 E10 F300\\nM114\\n';\n    const command = `${axis}${negative ? -units[unit] : units[unit]}`;\n    let gcode = `M220 S200\\nG91\\nG0 ${command}\\nM220 S100\\nM114\\n`\n\n    if(axis == 'E') {\n      if(nozzleTemp < 200) {\n        setHeatingDialog(true);\n        return;\n      }\n\n      setDelay(true);\n      setTimeout(function(){\n        setDelay(false);\n      }, 3000);\n\n      gcode = `M220 S200\\nG91\\nG1 ${command} F300\\nM220 S100\\nM114\\n`\n    }\n\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  return (\n    <Box style={{ textAlign: \"center\" }}>\n      <Typography variant=\"h4\" style={{ marginTop: 15 }}>\n        Movement\n      </Typography>\n      <Grid container justify=\"center\" style={{ marginTop: 30 }}>\n        <Grid item justifyContent=\"center\" alignItems=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              sendGcode(\"G28\\nM240 S1\\nM114\\n\");\n            }}\n          >\n            Home All\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={4}>\n          <Paper>\n            <Tabs\n              value={unit}\n              className={classes.tabs}\n              onChange={(e, val) => setUnit(val)}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 20 }}>\n          <Grid\n            container\n            item\n            xs={6}\n            justify=\"center\"\n            alignItems=\"flex-start\"\n            spacing={0}\n          >\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">X</Typography>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"X\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n            <Grid item xs={12} style={{margin:20}}>\n\n            </Grid>\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">E</Typography>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Y</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Y\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Z\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Dialog\n        open={heatingDialog}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Hotend Must Be Hot to Move Filament\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            You must preheat the hotend before extruding filament.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n        <Button onClick={() => {\n                  setHeatingDialog(false);\n                }}\n                color=\"primary\" autoFocus\n                style={{\n                  backgroundColor: \"#0072CE\",\n                  color: \"white\",\n                  marginRight: 10,\n                  marginBottom: 10\n                }}\n        >\n          Cancel\n        </Button>\n          <Button onClick={() => {\n                    sendGcode(\"M104 S220\");\n                    setHeatingDialog(false);\n                  }}\n                  color=\"primary\" autoFocus\n                  style={{\n                    backgroundColor: \"#0072CE\",\n                    color: \"white\",\n                    marginRight: 10,\n                    marginBottom: 10\n                  }}\n          >\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default Moving;\n","import React, { useState } from \"react\";\nimport { Button, Box, Grid, Slider, Typography } from \"@material-ui/core\";\nimport \"./Heating.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\",\n    height: \"60%\"\n  },\n  modalContainer: {\n    height: \"100%\",\n    padding: \"25px\",\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"120px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"auto\",\n    marginBottom: \"100px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"150px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  gauges: {\n    display: \"flex\"\n  },\n  nozzleSlider: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: 250\n  },\n  tempOutputs: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst Heating = () => {\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Box style={{ textAlign: \"center\", marginTop: 40 }}>\n      <Typography variant=\"h4\">Heating</Typography>\n      <Grid container justify=\"center\">\n        <Grid item xs={1}>\n          <h4>Preheat</h4>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <TempContext.Consumer>\n              {({ setBedTarget, setNozzleTarget }) => (\n                <>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S220\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(220);\n                    }}\n                  >\n                    PLA\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S245\\nM140 S70\");\n                      setBedTarget(70);\n                      setNozzleTarget(245);\n                    }}\n                  >\n                    PETG\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S230\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(230);\n                    }}\n                  >\n                    TPU\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S0\\nM140 S0\");\n                      setBedTarget(0);\n                      setNozzleTarget(0);\n                    }}\n                  >\n                    Cooldown\n                  </Button>\n                </>\n              )}\n            </TempContext.Consumer>\n          </div>\n        </Grid>\n        <Grid item xs={7}>\n          <h4></h4>\n          <Grid container direction=\"column\">\n            <Grid item style={{ marginTop: 40 }}>\n              <span>Nozzle</span>\n            </Grid>\n            <Grid item container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ nozzleTarget, setNozzleTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                        sendGcode(`M104 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${nozzleTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={260}\n                      style={{ maxWidth: \"200px\" }}\n                      value={nozzleTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ nozzle, nozzleTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${nozzle}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${nozzleTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <span>Bed</span>\n            </Grid>\n            <Grid container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ bedTarget, setBedTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setBedTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setBedTarget(newVal);\n                        sendGcode(`M140 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${bedTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={100}\n                      style={{ maxWidth: \"200px\" }}\n                      value={bedTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ bed, bedTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${bed}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${bedTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Heating;\n","import React from \"react\";\nimport Moving from \"./Moving/Moving\";\nimport Heating from \"./Heating/Heating\";\n\nimport \"./Control.css\";\n\nconst Control = (lastMessage) => {\n  const [position, setPosition] = React.useState({ x: 0, y: 0, z: 0 });\n  const [nozzleTemp, setNozzleTemp] = React.useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      typeof lastMessage.lastMessage !== \"undefined\" &&\n      lastMessage.lastMessage &&\n      typeof lastMessage.lastMessage.data !== \"undefined\" &&\n      lastMessage.lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if(json[0].current.temps[0].hasOwnProperty(\"tool0\")\n        ) {\n          let temps = json[0].current.temps[0];\n          setNozzleTemp(parseInt(temps.tool0.actual));\n        }\n      }\n      \n      if (\n        json[0].hasOwnProperty(\"event\") &&\n        json[0].event.hasOwnProperty(\"payload\")\n      ) {\n        if (json[0].event.payload) {\n          setPosition({\n            x: json[0].event.payload.x,\n            y: json[0].event.payload.y,\n            z: json[0].event.payload.z\n          });\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Moving position={position} nozzleTemp={nozzleTemp} />\n      <Heating />\n    </>\n  );\n};\n\nexport default Control;\n","import React, { useState, useEffect } from 'react';\nimport {\n    Button,\n    Grid,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    ListItemSecondaryAction,\n    ListSubheader,\n    Select,\n    Switch,\n    Typography,\n  } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FileManager from '../../Common/FileManager/FileManager';\n\n\nconst useStyles = makeStyles({\n    componentContainer: {\n      display: 'flex',\n      flex: 1,\n    },\n    drawerContainer: {\n      width: '100%',\n    },\n    header: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    item: {\n      height: '100px',\n      padding: '0 22px',\n    },\n    text: {\n      fontSize: '1.5em',\n      fontWeight: 'bold',\n    },\n  });\n\n\n\n\nconst ManageStorage = () => {\n    const classes = useStyles();\n    const [fileDrawerOpen, setFileDrawerOpen] = useState(true);\n\n\n  return (\n    <Grid>\n      <FileManager\n        fileLocation={'local'}\n        drawerOpen={true}\n        setDrawerOpen={setFileDrawerOpen}\n        manage={true}\n        update={false}\n      />\n    </Grid>\n  );\n};\n\nexport default ManageStorage;\n","import React, { useState } from \"react\";\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Container,\n  Grid,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport {\n  AcUnit,\n  Dns,\n  LocalGasStation,\n  Pool,\n  Save,\n  WbIncandescent\n} from \"@material-ui/icons\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport packageJson from '../../../../package.json';\n\nconst About = () => {\n  const [releaseNotes, setReleaseNotes] = useState(false);\n\n  useMountEffect(() => {\n\n    async function checkUpdateInfo() {\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/update/version/info`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n\n    checkUpdateInfo().then((data) => {\n      //after api call\n      console.log(data);\n      if(data.success) {\n        setReleaseNotes(data.update_info);\n      }\n    });\n\n  });\n\n  return (\n    <Grid container direction=\"column\">\n    {/*\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Hardware</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <WbIncandescent />\n          </ListItemIcon>\n          <ListItemText primary=\"Lamp\" secondary=\"700 Watt\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <Pool />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Liquids\"\n            secondary=\"1.5 Gallons Emergency Water Supply\"\n          />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <LocalGasStation />\n          </ListItemIcon>\n          <ListItemText primary=\"Gases\" secondary=\"Secondary Helium Reserve\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <AcUnit />\n          </ListItemIcon>\n          <ListItemText primary=\"Operating Range\" secondary=\"-40 °C - -37 °C\" />\n        </ListItem>\n      </List>\n      */}\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Software</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <Save />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Firmware Version\"\n            secondary={packageJson.version}\n          />\n        </ListItem>\n      </List>\n      {releaseNotes && (\n        <List\n          subheader={\n            <ListSubheader style={{ fontSize: \"20px\" }}>Release Notes</ListSubheader>\n          }\n        >\n        {Object.entries(releaseNotes).reverse().map((version, index) => {\n            return (\n              <ListItem key={`version-${index}`}>\n              <ListItemText\n                primary={version[0]}\n                secondary={\n                  <div dangerouslySetInnerHTML={{\n                    __html: version[1].replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n                  }} />\n                }\n              />\n              </ListItem>\n            );\n        })}\n        </List>\n      )}\n    </Grid>\n    // <Accordion>\n    //   <AccordionSummary classes={{ content: 'accordion-style' }}>\n    //     <h3 style={{ margin: '0' }}>About</h3>\n    //     <ArrowForwardIosIcon />\n    //   </AccordionSummary>\n    //   <AccordionDetails>\n    //     <div>\n    //       <h3>List Hardware Stats</h3>\n    //       <h3>Firmware Version</h3>\n    //     </div>\n    //   </AccordionDetails>\n    // </Accordion>\n  );\n};\n\nexport default About;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  ListSubheader,\n  Select,\n  Snackbar,\n  Switch,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Class,\n  Dns,\n  LocalLibrary,\n  Wifi,\n  WifiTethering,\n  SettingsEthernet,\n  SignalCellularNull,\n  Videocam\n} from \"@material-ui/icons/\";\n\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { fillStorage, getStorage, setStorage } from \"../../../Utility/helpers\";\nimport NetworkSettings from \"../../Setup/NetworkType/NetworkSettings\";\n\nimport NetworkSelect from \"../../Setup/NetworkSelect/NetworkSelect\";\n\nimport WifiConnect from \"../../Setup/NetworkType/WifiConnect\";\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst useStyles = makeStyles({});\nconst Settings = () => {\n  const [networkExpanded, setNetworkExpanded] = useState(false);\n  const [networkType, setNetworkType] = useState(\"none\");\n  const [printerMode, setPrinterMode] = useState(\"\");\n  const [userMode, setUserMode] = useState(\"\");\n  const [displayWifi, setDisplayWifi] = useState(false);\n  const [displaySSID, setDisplaySSID] = useState(false);\n  const [allowPrerelease, setAllowPrerelease] = useState(false);\n  const [allowAutoUpdate, setAllowAutoUpdate] = useState(false);\n  const [camEnabled, setCamEnabled] = useState('disabled');\n  const [rebootRequired, setRebootRequired] = useState('no');\n  const [step, setStep] = useState(0);\n  const [networkData, setNetworkData] = useState({});\n\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  const classes = useStyles();\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n      setNetworkType(() => {\n        const networkProfile = getStorage(\"networkProfile\");\n        return networkProfile ? networkProfile : \"none\";\n      });\n      setPrinterMode(() => getStorage(\"printerProfile\"));\n      setUserMode(() => getStorage(\"userMode\"));\n      setAllowPrerelease(getStorage(\"allowPrerelease\"));\n      setAllowAutoUpdate(getStorage(\"allowAutoUpdate\"));\n      setNetworkData(getStorage(\"network\"));\n    });\n  });\n\n  const handleNetworkToggle = (value) => {\n    const network = value.toLowerCase();\n    setNetworkExpanded(false);\n    setNetworkType(network);\n    setStorage(\"networkProfile\", network);\n    setStep(0);\n  };\n\n  const setNewType = (value) => {\n    const network = value.toLowerCase();\n    setNetworkType(network);\n  };\n\n  const handleCameraToggle = (checked) => {\n    let action = '';\n\n    if(checked) {\n      setCamEnabled('enabled');\n      setStorage(\"camEnabled\", 'enabled');\n      action = 'add';\n    } else {\n      setCamEnabled('disabled');\n      setStorage(\"camEnabled\", 'disabled');\n      action = 'remove';\n    }\n\n    if(action == 'add') {\n      var imageUrl = `http://${window.location.hostname}:8090/?action=snapshot`;\n      imageExists(imageUrl, function(exists) {\n        if(!exists) {\n          if(window.confirm('Reboot Required on initial camera setup. Continue?')) {\n            setRebootRequired('yes');\n            toggleCamera(action).then((data) => {\n              setTimeout(() => {\n                fetch(`http://${window.location.hostname}:8990/reboot`, {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n              }, 3000);\n            });\n          } else {\n            setCamEnabled('disabled');\n          }\n        }\n      });\n    }\n\n    async function toggleCamera(action) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/toggle/camera`, {\n        method: \"POST\",\n        body: JSON.stringify({'action':action}),\n        headers: { \"Content-Type\": \"application/json\" }\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n  };\n\n  return (\n    <>\n      <Grid container direction=\"column\" className={classes.container}>\n\n        {displaySSID && (\n          <Grid>\n            Your SSID is\n            <Typography color=\"secondary\" variant=\"body1\">\n              {window.location.hostname}\n            </Typography>\n            Your password is\n            <Typography color=\"secondary\" variant=\"body1\">\n              makermade\n            </Typography>\n            {networkType === \"ethernet\" && (\n              <Typography variant=\"body2\">\n                Don't forget to connect your cable!\n              </Typography>\n            )}\n          </Grid>\n        )}\n        {displayWifi && (\n          <Grid item xs>\n            <WifiConnect\n              setShowSnack={setShowSnack}\n              setSnackMessage={setSnackMessage}\n              handleSnackClose={handleSnackClose}\n              settingsScreen={true}\n            />\n          </Grid>\n        )}\n\n        <Grid>\n          <List\n            subheader={<ListSubheader>User Type</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <LocalLibrary />\n              </ListItemIcon>\n              <ListItemText primary=\"Experience Level\" />\n              <Select\n                native\n                value={userMode}\n                onChange={(e) => {\n                  if (e.target && e.target.value) {\n                    setUserMode(e.target.value);\n                    setStorage(\"userMode\", e.target.value);\n                  }\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                  },\n                  getContentAnchorEl: null\n                }}\n              >\n                <option value=\"beginner\">Beginner</option>\n                <option value=\"advanced\">Advanced</option>\n                <option value=\"expert\">Expert</option>\n              </Select>\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Printer</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Classroom Mode\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    const checkedValue = e.target.checked\n                      ? \"classroom\"\n                      : \"home\";\n                    setPrinterMode(() => checkedValue);\n                    setStorage(\"printerProfile\", checkedValue);\n                  }}\n                  checked={printerMode !== \"home\"}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Dns />\n              </ListItemIcon>\n              <ListItemText\n                primary={`Printer Name: ${window.location.hostname}`}\n              />\n              <ListItemSecondaryAction>\n                {/*<Button\n                  variant=\"contained\"\n                  color={networkExpanded ? \"secondary\" : \"primary\"}\n                  onClick={() => {\n                    setStep(1);\n                  }}\n                  size={networkExpanded ? \"small\" : \"medium\"}\n                >\n                  {networkExpanded ? \"Select\" : \"Change\"}\n                </Button>*/}\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Videocam />\n              </ListItemIcon>\n              <ListItemText primary=\"Enable Camera\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    handleCameraToggle(e.target.checked);\n                  }}\n                  checked={camEnabled === 'enabled'}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n          {rebootRequired == 'yes' && (\n            <Grid\n              container\n              direction=\"column\"\n              alignItems=\"center\"\n            >\n            <Grid item>\n              <CircularProgress className={classes.button} color=\"secondary\" />\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                Rebooting printer to apply changes, this will take approximately 2\n                minutes.\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n              </Typography>\n            </Grid>\n            </Grid>)}\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Software</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Update Pre-Releases\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowPrerelease(e.target.checked);\n                    setStorage(\"allowPrerelease\", e.target.checked);\n                  }}\n                  checked={allowPrerelease}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Software Auto-Updating\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowAutoUpdate(e.target.checked);\n                    setStorage(\"allowAutoUpdate\", e.target.checked);\n                  }}\n                  checked={allowAutoUpdate}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n        </Grid>\n        <Snackbar\n          open={showSnack}\n          autoHideDuration={6000}\n          message={snackMessage}\n          onClose={handleSnackClose}\n        ></Snackbar>\n      </Grid>\n      {step === 2 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSelect\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n      {step === 1 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSettings\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\nconst test = {\n  message: \"scanning networks...\",\n  status: \"Scanned networks!\",\n  refresh: true,\n  networks: [\n    {\n      bssid: \"cc:be:59:c1:d8:eb\",\n      frequency: 2462,\n      signalLevel: -52,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"cc:be:59:c1:d8:ec\",\n      frequency: 5680,\n      signalLevel: -67,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b7\",\n      frequency: 2437,\n      signalLevel: -60,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 2.4G\"\n    },\n    {\n      bssid: \"88:6a:e3:a5:e2:1d\",\n      frequency: 2437,\n      signalLevel: -61,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"tla5e21d\"\n    },\n    {\n      bssid: \"42:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 5G\"\n    },\n    {\n      bssid: \"46:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:be\",\n      frequency: 5805,\n      signalLevel: -77,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 5G\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:bd\",\n      frequency: 2462,\n      signalLevel: -68,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 2.4G\"\n    },\n    {\n      bssid: \"88:b4:a6:f5:0e:66\",\n      frequency: 2412,\n      signalLevel: -70,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Bucks_in_6\"\n    },\n    {\n      bssid: \"fa:8f:ca:5d:92:cf\",\n      frequency: 5680,\n      signalLevel: -71,\n      flags: \"[ESS]\"\n    },\n    {\n      bssid: \"fa:8f:ca:86:46:6d\",\n      frequency: 5680,\n      signalLevel: -82,\n      ssid: \"[ESS]\"\n    }\n  ]\n};\n","import React from \"react\";\nimport {\n  AppBar,\n  Card,\n  CardContent,\n  Container,\n  Typography\n} from \"@material-ui/core\";\nimport TutorialDefinitions from \"../../Tutorials/TutorialDefinitions\";\nimport Tutorial from \"../../Tutorials/Tutorial/Tutorial\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\nclass Tutorials extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { currentTutorial: null };\n  }\n  selectTutorial(id) {\n    this.setState({ currentTutorial: id });\n  }\n  closeTutorial(reason) {\n    this.setState({ currentTutorial: null });\n    if (reason && reason === \"request-calibration\") {\n      setTimeout(() => {\n        this.selectTutorial(\"bedLevelSensorCalibration\");\n      }, 1000);\n    }\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Container className={classes.tutorialContainer}>\n          {Object.getOwnPropertyNames(TutorialDefinitions).map((tutName) => {\n            if (TutorialDefinitions[tutName].userVisable) {\n              return (\n                <>\n                  <Card\n                    className={classes.tutorialCard}\n                    onClick={() => {\n                      this.selectTutorial(tutName);\n                    }}\n                  >\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {TutorialDefinitions[tutName].name}\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {TutorialDefinitions[tutName].description}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </>\n              );\n            } else {\n              return <></>;\n            }\n          })}\n        </Container>\n        {this.state.currentTutorial && (\n          <Tutorial\n            tutorialName={this.state.currentTutorial}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.closeTutorial(reason);\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorials);\n","import React, { useState } from \"react\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport {\n  AppBar,\n  Container,\n  Divider,\n  Drawer,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Update from \"./MenuTabs/Update\";\nimport ManageStorage from \"./MenuTabs/ManageStorage\";\nimport About from \"./MenuTabs/About\";\nimport Settings from \"./MenuTabs/Settings\";\nimport Tutorials from \"./MenuTabs/Tutorials\";\nimport ResetPrinter from \"./MenuTabs/ResetPrinter\";\n\nconst useStyles = makeStyles({\n  componentContainer: {\n    display: \"flex\",\n    flex: 1\n  },\n  drawerContainer: {\n    width: \"100%\",\n    maxWidth: \"700px\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  text: {\n    fontSize: \"1.5em\"\n  }\n});\n\nconst Menu = ({lastMessage, fastTrackUpdate, setFastTrackUpdate}) => {\n  const classes = useStyles();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [activeComponent, setActiveComponent] = useState({});\n\n  useMountEffect(() => {\n     if(getStorage(\"allowAutoUpdate\") && fastTrackUpdate) {\n       let updateItem = MenuArray.find(obj => {\n         return obj.name === \"Update\"\n       });\n       if(updateItem) {\n         handleDrawer(updateItem);\n       }\n     }\n  });\n\n  const handleDrawer = (item) => {\n    //call setActiveComponent\n    setActiveComponent(item);\n    setDrawerOpen(true);\n  };\n  const MenuArray = [\n    {\n      name: \"Tutorials\",\n      component: <Tutorials />\n    },\n    {\n      name: \"Settings\",\n      component: <Settings />\n    },\n    {\n      name: \"Storage\",\n      component: <ManageStorage />\n    },\n    //{ name: \"Troubleshooting\", component: null },\n    { name: \"Update\", component: <Update firstBoot={false} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} /> },\n    //{ name: \"Reset\", component: <ResetPrinter /> },\n    { name: \"About\", component: <About /> }\n\n  ];\n  return (\n    <div>\n      <List>\n        {MenuArray.map((item) => {\n          return (\n            <React.Fragment key={`${item.name}-item`}>\n              <ListItem\n                button\n                onClick={() => handleDrawer(item)}\n                className={classes.item}\n              >\n                <ListItemText\n                  primary={\n                    <Typography className={classes.text}>\n                      {item.name}\n                    </Typography>\n                  }\n                />\n                <ArrowForwardIosIcon />\n              </ListItem>\n              <Divider />\n            </React.Fragment>\n          );\n        })}\n      </List>\n      <Drawer\n        anchor=\"right\"\n        open={drawerOpen}\n        onClose={() => setDrawerOpen(false)}\n        classes={{\n          paper: classes.drawerContainer\n        }}\n      >\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        <div className={classes.header}>\n          <IconButton aria-label=\"back\" onClick={() => setDrawerOpen(false)}>\n            <ArrowBackIcon />\n          </IconButton>\n          <Typography variant=\"h5\">\n            {activeComponent.name}\n          </Typography>\n        </div>\n        <Container className={classes.componentContainer}>\n          {activeComponent.component}\n        </Container>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setStorage, getStorage, resetStorage } from \"../../../Utility/helpers\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst ResetPrinter = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n\n  const handleReset = () => {\n    console.log(\"reset\");\n    resetStorage().then((newSettings) => {\n      window.location.reload(false);\n    });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>Warning!</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>This will reset your printer to factory settings.</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>All gcode and stl files will be preserved.</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'center'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      handleReset()\n                  }}\n                    >\n                  Reset\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default ResetPrinter;\n","import { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport React, { Component } from \"react\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport Tutorial from \"./Tutorial\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nclass TutorialButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { tutorialShown: false };\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Card\n          className={classes.tutorialCard}\n          onClick={() => {\n            this.setState({ tutorialShown: true });\n          }}\n        >\n          <CardContent>\n            <Typography variant=\"h6\">\n              {TutorialDefinitions[this.props.tutorialName].name}\n            </Typography>\n            <Typography variant=\"body2\">\n              {TutorialDefinitions[this.props.tutorialName].description}\n            </Typography>\n          </CardContent>\n        </Card>\n        {this.state.tutorialShown && (\n          <Tutorial\n            tutorialName={this.props.tutorialName}\n            extruderTemp={this.props.extruderTemp}\n            bedTemp={this.props.bedTemp}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.setState({ tutorialShown: false });\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(TutorialButton);\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TutorialButton from \"../Tutorials/Tutorial/TutorialButton\";\n\nconst Tune = (lastMessage) => {\n  const [offset, setOffset] = useState(0);\n  const units = [0.01, 0.05, 0.1, 1.0, 10];\n  const [unit, setUnit] = useState(1);\n  const [extruder, setExtruder] = useState(0);\n  const [bed, setBed] = useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if (json[0].current.temps[0]) {\n          let temps = json[0].current.temps[0];\n          setExtruder(parseInt(temps.tool0.actual));\n          setBed(parseInt(temps.bed.actual));\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  const useStyles = makeStyles({\n    btnContainer: {\n      marginTop: \"14px\",\n      marginBottom: \"28px\",\n      textAlign: \"center\"\n    },\n    centerBtns: {\n      \"& button\": {\n        margin: \"0 12px\"\n      }\n    },\n    tabs: {\n      \"& button\": {\n        textTransform: \"none\"\n      }\n    }\n  });\n  const classes = useStyles();\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  let position = { x: 0, y: 0, z: 0 };\n\n  return (\n    <div>\n      <TutorialButton\n        tutorialName={\"blTouchCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"bedLevelCornerCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      {/*<Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={() => {\n          sendGcode(\"G29 T\\nM114\\n\");\n        }}\n      >\n        Generate Mesh\n      </Button>*/}\n      <TutorialButton\n        tutorialName={\"loadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"unloadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n    </div>\n  );\n};\n\nexport default Tune;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport {\n  AppBar,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TabList from \"../Common/Tabs/TabList\";\nimport Print from \"../Print/Print\";\nimport Control from \"../Control/Control\";\nimport Menu from \"../Menu/Menu\";\nimport Tune from \"../Tune/Tune\";\nimport SliceModal from \"../Common/SliceModal\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport { getStorage, fillStorage } from \"../../Utility/helpers\";\nimport TempContext from \"../../TempContext\";\n\nimport \"./Home.css\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n    textAlign: \"center\",\n    padding: 0\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n}));\n\nasync function checkOnline() {\n  const response = await fetch(\n    `http://${window.location.hostname}:2127/api/v1/check/internet/connection`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function checkUpdates() {\n  // Default options are marked with *\n  const response = await fetch(\n    `http://${window.location.hostname}:2127/api/v1/update/software/check`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nconst tabList = [\"Print\", \"Prepare\", \"Control\", \"Tune\", \"Menu\"];\nconst Home = ({ lastMessage, mode, setActiveMode }) => {\n  const context = useContext(TempContext);\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = useState(\"Print\");\n  const [disabledNav, setDisabledNav] = useState(false);\n  const [newVersionTitle, setNewVersionTitle] = useState(false);\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [fastTrackUpdate, setFastTrackUpdate] = useState(false);\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n       if(getStorage(\"allowAutoUpdate\")) {\n         checkOnline().then((onlineData) => {\n           //after api call\n           if (onlineData.online) {\n             checkUpdates().then((updateData) => {\n               console.log(updateData);\n               //after api call\n               if (updateData.update) {\n                 setNewVersionTitle(updateData.message);\n                 setReleaseNotes(updateData.releaseNotes);\n               }\n             });\n           }\n         });\n       }\n     });\n  });\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        if(\n          json[0].current.progress &&\n          json[0].current.job &&\n          json[0].current.job.file.name &&\n          json[0].current.progress.completion < 100 &&\n          json[0].current.state &&\n          json[0].current.state.text !== \"Operational\"\n        ) {\n          if(activeTab !== \"Menu\") {\n            setActiveTab('Print');\n            setDisabledNav(true);\n          }\n        } else {\n          setDisabledNav(false);\n        }\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.messages.length) {\n        let messages = json[0].current.messages;\n        for (let idx in messages) {\n          if(!messages[idx].includes(\"echo:\") && messages[idx].includes(\"Probe Offset\")) {\n            let values = messages[idx].split(\" \");\n            let offset = values[values.length - 1];\n            let offsetIgnoreZ = offset.substring(1);\n            console.log(offsetIgnoreZ);\n            context.setZOffset(offsetIgnoreZ);\n          }\n        }\n      }\n\n    }\n  }, [lastMessage]);\n\n  const handleTabClick = (event, val) => {\n    setActiveTab(tabList[val]);\n  };\n  const Components = {\n    Print: <Print lastMessage={lastMessage} setDisabledNav={setDisabledNav} />,\n    Control: <Control lastMessage={lastMessage} />,\n    Menu: <Menu lastMessage={lastMessage} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} />,\n    Tune: <Tune lastMessage={lastMessage} />,\n    Prepare: <SliceModal file={null} shown={true} onClose={() => setActiveTab('Print')} sliceOnly={true} />\n  };\n  return (\n    <div className=\"home-container\">\n      <AppBar\n        position=\"fixed\"\n        color=\"primary\"\n        className={classes.appBar}\n        disabled={true}\n      >\n        <TabList\n          tabList={tabList}\n          handleTabClick={handleTabClick}\n          activeTab={tabList.indexOf(activeTab)}\n          disabledNav={disabledNav}\n        />\n      </AppBar>\n      <div className=\"component-container\">{Components[activeTab]}</div>\n      <Dialog\n        open={newVersionTitle}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{textAlign:\"center\"}} >\n          {newVersionTitle}\n        </DialogTitle>\n        <DialogContent style={{textAlign:\"left\"}}>\n          <DialogContentText id=\"alert-dialog-description\">\n            <b>A new software version is available.</b>\n\n            {releaseNotes && (\n              <div dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n            )}\n\n            <b>Would you like to update now?</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => {\n              setFastTrackUpdate(false);\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={() => {\n              setFastTrackUpdate(true);\n              setActiveTab('Menu');\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useMemo, useRef } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Setup from \"./components/Setup/Setup\";\nimport Home from \"./components/Home/Home\";\nimport {\n  createMuiTheme,\n  MuiThemeProvider\n  // makeStyles,\n} from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { getStorage, setStorage, fillStorage } from \"./Utility/helpers\";\nimport { useMountEffect } from \"./Utility/useMountEffect\";\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\nimport TempContext from \"./TempContext\";\nimport imgPrint from \"./img/mm-print.svg\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0071CE\"\n    },\n    secondary: {\n      main: \"#CD6930\"\n    },\n    background: {\n      default: \"#3A3A3A\"\n    },\n    type: \"dark\"\n  },\n  overrides: {\n    MuiTab: {\n      \"root\": {\n        \"&$selected\": {\n          \"color\": \"#FFFFFF\",\n        },\n        \"font-weight\": 300,\n      }\n    },\n    MuiAppBar: {\n      \"root\": {\n        \"padding\": \"10px\"\n      }\n    },\n    MuiPaper: {\n      rounded: {\n        \"border-radius\": \"15px\",\n      }\n    },\n    MuiButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiButtonBase: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiIconButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiListItemText: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiAccordion: {\n      \"root\": {\n        \"&$expanded\": {\n          margin: 0\n        }\n      }\n    },\n    MuiAccordionSummary: {\n      \"root\": {\n        maxHeight: 40,\n        minHeight: 10,\n        \"&$expanded\": {\n          maxHeight: 40,\n          minHeight: 10\n        }\n      }\n    },\n    MuiAccordionDetails: {\n      \"root\": {\n        \"background-color\": \"#d1d1d1\",\n        \"padding\": \"8px\",\n        \"color\": \"#000\",\n        \"margin\": 5,\n        \"border-radius\": 1\n      }\n    },\n    MuiDialogActions: {\n      \"root\": {\n        \"justify-content\": \"space-around\"\n      }\n    },\n    MuiTypography: {\n      \"root\": {\n        \"font-weight\": 300\n      },\n      h1: {\n        \"font-weight\": 300\n      },\n      h2: {\n        \"font-weight\": 300\n      },\n      h3: {\n        \"font-weight\": 300\n      },\n      h4: {\n        \"font-weight\": 300\n      },\n      h5: {\n        \"font-weight\": 300\n      },\n      h6: {\n        \"font-weight\": 300\n      },\n      body1: {\n        \"font-weight\": 300\n      },\n      body2: {\n        \"font-weight\": 300\n      }\n    }\n  }\n});\n// const useStyles = makeStyles({});\nconst App = () => {\n  // const classes = useStyles();\n\n  const [mode, setActiveMode] = useState(null);\n  const [onboarded, setOnboarded] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [bedTemp, setBedTemp] = useState(0);\n  const [bedTargetTemp, setBedTargetTemp] = useState(0);\n  const [nozzleTemp, setNozzleTemp] = useState(0);\n  const [nozzleTargetTemp, setNozzleTargetTemp] = useState(0);\n  const [zOffset, setZOffset] = useState(0);\n  const [machineName, setMachineName] = useState(\"\");\n  const [errorDialog, setErrorDialog] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorTitle, setErrorTitle] = useState(\"\");\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackText, setSnackText] = useState(\"\");\n\n  const handleClose = (event, reason) => {\n    setShowSnack(false);\n  };\n\n  useMountEffect(() => {\n   setLoading(true);\n   fillStorage().then(function() {\n     setOnboarded(getStorage(\"onboarded\"));\n\n     if(!getStorage(\"userMode\") || !getStorage(\"didUserMode\")) {\n       setStorage(\"didUserMode\", true);\n       setStorage(\"userMode\", \"advanced\");\n     } else {\n       setActiveMode(getStorage(\"userMode\"));\n     }\n\n     let networkType = getStorage(\"networkProfile\");\n     let printerName = getStorage(\"printerName\");\n\n     if (networkType === \"hotspot\") {\n       fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n         method: \"POST\",\n         headers: {\n           \"Content-Type\": \"application/json\"\n         }\n       });\n     }\n\n     if (networkType === \"wifi\") {\n       fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n         method: \"POST\",\n         headers: {\n           \"Content-Type\": \"application/json\"\n         }\n       });\n     }\n\n     if (printerName === null) {\n       setStorage(\"printerName\", \"300x\");\n       setMachineName(\"300x\");\n     } else {\n       if(printerName === \"300X\") {\n         setStorage(\"printerName\", \"300x\");\n         setMachineName(\"300x\");\n       } else {\n         setMachineName(printerName);\n       }\n     }\n   });\n  });\n\n  const handleOnboarding = (val) => {\n    setActiveMode(val);\n    setOnboarded(true);\n  };\n  const [socketUrl, setSocketUrl] = useState(\n    `ws://${window.location.hostname}:9000/sockjs/718/qerksnvm/websocket`\n  );\n  const messageHistory = useRef([]);\n\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: (closeEvent) => true,\n    reconnectAttempts: 999999, // default: 20\n    reconnectInterval: 0, // default: 5000\n    onOpen: () => {\n      console.log(\"socket opened\");\n    },\n    onError: () => {\n      console.log(\"socket error\");\n    },\n    onClose: () => {\n      // force reconnect somehow like sending message?\n      console.log(\"socket closed\");\n    },\n    onMessage: (msg) => {\n      // console.log(\"MESSAGE EVENT\");\n      try {\n        let json = JSON.parse(msg.data.substring(1));\n        if (json.length && json.length > 0) {\n          if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n            if(json[0].current.temps[0].hasOwnProperty(\"tool0\") &&\n               json[0].current.temps[0].hasOwnProperty(\"bed\")\n            ) {\n              let temps = json[0].current.temps[0];\n              console.log(\"setting temps\");\n              setNozzleTemp(parseInt(temps.tool0.actual));\n              setBedTemp(parseInt(temps.bed.actual));\n              setNozzleTargetTemp(parseInt(temps.tool0.target));\n              setBedTargetTemp(parseInt(temps.bed.target));\n            }\n          }\n\n          if (json[0].hasOwnProperty(\"event\") && json[0].event.type == \"Error\") {\n            // set error\n            let error = json[0].event;\n            console.log(error);\n            let title = \"Error thrown by \" + error.payload.reason;\n            let message = error.payload.error;\n            setErrorMessage(message);\n            setErrorTitle(title);\n            setErrorDialog(true);\n          }\n\n          if (errorDialog && json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n            if(json[0].current.state.text == \"Operational\") {\n              setErrorDialog(false);\n              setSnackText(\"Your Printer Is Back Online!\");\n              setShowSnack(true);\n            }\n          }\n\n        }\n      } catch (error) {}\n    // console.log(msg);\n    }\n  });\n\n  messageHistory.current = useMemo(() => {\n    try {\n      messageHistory.current.concat(lastMessage);\n      // let json = JSON.parse(lastMessage.data.substring(1));\n      // if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n      //   if (json[0].current.temps[0]) {\n      //     let temps = json[0].current.temps[0];\n      //     setNozzleTemp(parseInt(temps.tool0.actual));\n      //     setBedTemp(parseInt(temps.bed.actual));\n      //   }\n      // }\n    } catch (error) {}\n  }, [lastMessage]);\n\n  const connectionStatus = {\n    [ReadyState.CONNECTING]: \"Connecting\",\n    [ReadyState.OPEN]: \"Open\",\n    [ReadyState.CLOSING]: \"Closing\",\n    [ReadyState.CLOSED]: \"Closed\",\n    [ReadyState.UNINSTANTIATED]: \"Uninstantiated\"\n  }[readyState];\n\n  React.useEffect(() => {\n    console.log(connectionStatus);\n    if (connectionStatus == \"Open\") {\n      sendMessage('{ \"auth\": \"E7BFE47F2DBF489B9E78A3D9D042874A\" }');\n      sendMessage('{ \"throttle\": 2 }');\n      sendMessage('{ \"current\": \"state\" }');\n      setLoading(false);\n    }\n  }, [connectionStatus]);\n\n  return (\n\n    <MuiThemeProvider theme={theme}>\n      <TempContext.Provider\n        value={{\n          bedTarget: bedTargetTemp,\n          bed: bedTemp,\n          nozzleTarget: nozzleTargetTemp,\n          nozzle: nozzleTemp,\n          zOffset: zOffset,\n          setBedTarget: setBedTargetTemp,\n          setNozzleTarget: setNozzleTargetTemp,\n          setBed: setBedTemp,\n          setNozzle: setNozzleTemp,\n          setZOffset: setZOffset\n        }}\n      >\n        <CssBaseline />\n        <Box height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n          {onboarded && (\n            <AppBar position=\"sticky\">\n              <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n                Printer Name: {window.location.hostname}\n              </Typography>\n            </AppBar>\n          )}\n          {loading ? (\n            <>\n              <img\n                src={imgPrint}\n                style={{\n                  width: 200,\n                  height: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% - 100px)\"\n                }}\n              ></img>\n              <h4\n                style={{\n                  width: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% + 120px)\",\n                  textAlign: \"center\"\n                }}\n              >\n                Loading ...\n              </h4>\n            </>\n          ) : (\n            <Home\n              mode={mode}\n              lastMessage={lastMessage}\n              setActiveMode={setActiveMode}\n            />\n          )}\n          <Dialog\n            open={errorDialog}\n            disableBackdropClick={true}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            style={{textAlign:\"center\"}}\n          >\n            <DialogTitle id=\"alert-dialog-title\">{errorTitle}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                {errorMessage}\n                <br />\n                Turn off your printer and check to make sure you have no loose wire connections.\n                Once you have checked all connections, turn your printer back on and try again.\n              </DialogContentText>\n            </DialogContent>\n          </Dialog>\n          <Snackbar\n            open={showSnack}\n            autoHideDuration={6000}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'center',\n            }}\n            onClose={handleClose}\n            style={{top:'45%'}}\n          >\n            <Alert onClose={handleClose} autoHideDuration={6000} severity=\"success\">\n              {snackText}\n            </Alert>\n          </Snackbar>\n        </Box>\n      </TempContext.Provider>\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === '300x.local' ||\n    // [::1] is the IPv6 300x.local address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered 300x.local for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on 300x.local. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to 300x.local, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not 300x.local. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mm-print.01cf77d4.svg\";"],"sourceRoot":""}