{"version":3,"sources":["components/Common/3dViewer/RenderingUtils/TransformControls.js","components/Common/OptionCard/OptionCard.js","Utility/helpers.js","components/Setup/PrinterType/PrinterType.js","Utility/useMountEffect.js","components/Setup/NetworkType/NetworkSettings.js","components/Setup/NetworkType/WifiConnect.js","components/Setup/NetworkType/HotspotConnect.js","components/Setup/NetworkType/NetworkType.js","components/Menu/MenuTabs/Update.js","components/Tutorials/TutorialLayouts.js","components/Tutorials/TutorialDefinitions.js","components/Tutorials/TutorialThermometer/TutorialThermometer.js","components/Tutorials/GCodeBuilder.js","TempContext.js","components/Tutorials/Tutorial/Tutorial.js","components/Setup/NetworkSelect/NetworkSelect.js","components/Setup/Setup.js","components/Common/Tabs/TabList.js","components/Print/PrintStatus/PrintStatus.js","components/Common/3dViewer/RenderingUtils/STLLoader.js","AppContext.js","components/Common/3dViewer/PrintRenderer/index.js","components/Common/3dViewer/NavigationPanel/index.js","components/Common/3dViewer/SettingsPanel/index.js","components/Common/3dViewer/RenderingUtils/ExportSTL.js","components/Common/SliceModal/index.js","components/Common/FileManager/FileManager.js","components/Print/Print.js","components/Control/Moving/Moving.js","components/Control/Heating/Heating.js","components/Control/Control.js","components/Menu/MenuTabs/ManageStorage.js","components/Menu/MenuTabs/About.js","components/Menu/MenuTabs/Settings.js","components/Menu/MenuTabs/Tutorials.js","components/Menu/MenuTabs/ResetPrinter.js","components/Menu/Menu.js","components/Tutorials/Tutorial/TutorialButton.js","components/Tune/Tune.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","img/mm-print.svg"],"names":["module","exports","THREE","BoxGeometry","BufferGeometry","Color","CylinderGeometry","DoubleSide","Euler","Float32BufferAttribute","Line","LineBasicMaterial","Matrix4","Mesh","MeshBasicMaterial","Object3D","OctahedronGeometry","PlaneGeometry","Quaternion","Raycaster","SphereGeometry","TorusGeometry","Vector3","TransformControls","camera","domElement","undefined","console","warn","document","call","this","visible","_gizmo","TransformControlsGizmo","add","_plane","TransformControlsPlane","scope","defineProperty","changeEvent","type","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","raycaster","intersectObjectWithRay","object","includeInvisible","allIntersections","intersectObject","i","length","_tempVector","_tempVector2","_tempQuaternion","_unit","X","Y","Z","pointStart","pointEnd","offset","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","Object","get","set","value","dispatchEvent","getPointer","event","ownerDocument","pointerLockElement","x","y","button","pointer","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","onPointerHover","enabled","pointerType","pointerHover","onPointerDown","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","onPointerUp","removeEventListener","pointerUp","dispose","traverse","child","geometry","material","attach","detach","axis","updateMatrixWorld","parent","error","matrixWorld","decompose","copy","invert","sub","normalize","prototype","dragging","setFromCamera","intersect","picker","name","planeIntersect","space","snap","rotationSnap","rotation","Math","round","z","position","quaternion","scale","point","applyQuaternion","indexOf","divide","translationSnap","search","setFromMatrixPosition","d","dot","multiply","scaleSnap","ROTATION_SPEED","distanceTo","angleTo","cross","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSize","size","setSpace","update","assign","create","constructor","isTransformControls","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","clone","opacity","matHelper","matRed","color","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","PI","sin","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","tempVector","tempEuler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","concat","children","factor","handle","isOrthographicCamera","bottom","zoom","min","tan","fov","multiplyScalar","abs","setFromRotationMatrix","lookAt","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","split","some","a","lerp","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","useStyles","makeStyles","card","margin","border","textAlign","OptionCard","title","description","onClick","classes","Card","className","CardActionArea","CardContent","Typography","variant","formatBytes","bytes","decimals","k","dm","sizes","floor","log","parseFloat","pow","toFixed","setStorage","key","val","setSettings","returnSettings","getStorage","resetStorage","storageReset","getSettings","response","fetch","window","location","hostname","method","json","settings","then","data","obj","keys","forEach","formData","FormData","append","JSON","stringify","postSettings","newSettings","body","header","fontSize","useMountEffect","fun","useEffect","backdrop","zIndex","buttonContainer","display","justifyContent","marginTop","connecting","flexDirection","alignItems","marginBottom","container","item","padding","props","settingsScreen","keyboard","right","NetworkSettings","setStep","setShowSnack","setSnackMessage","useState","useRef","printerName","setPrinterName","Grid","spacing","direction","paddingTop","Button","accordion","alignSelf","marginLeft","wifiList","overflow","borderRadius","WifiConnect","setConnectWifi","handleSnackClose","onGoBack","setStage","expanded","setExpanded","layout","setLayout","input","setInput","wifiArr","setWifiArr","setConnecting","loading","setLoading","maskPassword","setMaskPassword","getNetworks","networks","filter","pos","arr","map","mapObj","ssid","handleSubmit","setNetwork","headers","password","status","passwordToggle","onChangeInput","target","current","IconButton","aria-label","src","imgPrint","List","network","Accordion","AccordionSummary","content","ListItem","panel","AccordionDetails","TextField","id","label","onChange","InputProps","endAdornment","InputAdornment","Backdrop","open","CircularProgress","keyboardRef","r","layoutName","default","shift","symbol","number","onKeyPress","HotspotConnect","checker","flex","updateContainer","Update","autoCheck","firstBoot","handleOnboarding","checking","setChecking","text","setText","updateChecked","setUpdateChecked","updates","setUpdates","checkDisabled","setCheckDisabled","rebootMessage","setRebootMessage","handleCheck","checkUpdates","message","endIcon","ArrowForward","justify","downloadUpdates","updated","setTimeout","disabled","TutorialLayouts","ButtonSingle","AxisManipulation","ButtonMulti","ThermalGate","DualThermalGate","TutorialDefinitions","firstRun","userVisable","exitActions","params","steps","buttonText","buttonActions","axisX","axisY","axisZ","buttons","minimumTemp","gateText","minimumExtruderTemp","minimumBedTemp","blTouchCalibration","bedLevelCornerCalibration","loadFilament","unloadFilament","printTestCube","TutorialThermometer","max","GCodeBuilder","_actions","retString","command","GSetZProbeOffset","GMoveToOrigin","GSetSoftwareEndstops","GLinearMove","doX","doY","doZ","xPos","yPos","zPos","TempContext","React","createContext","bedTarget","nozzleTarget","bed","nozzle","setBedTarget","temp","setNozzleTarget","setBed","setNozzle","Tutorial","evTutorialClose","onTutorialClose","state","tutorialId","tutorialName","tutorialReady","currentStep","exitWarning","tutorial","setState","prevProps","processButtonActions","reason","amount","toLowerCase","codeBuilder","addCommand","sendGcode","build","context","GSetBedTemp","GSetExtruderTemp","find","b","gcode","actions","action","actionContinue","attemptHome","attemptBlLevel","attemptXYMoveTo","actionJumpTo","attemptSaveZOffset","attemptSetExtruderTemp","attemptSetBedTemp","attemptTestPrint","attemptZOffsetStart","step","tutorialWindow","AppBar","paddingLeft","Container","tutorialContainer","xs","tutorialHeading","tutorialCloseButton","attemptCloseTutorial","CloseSharp","renderTutorialPage","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","attemptExitActions","autoFocus","alignContent","layoutSingleGrid","layoutSingleGridText","textSegment","tutorialText","layoutSingleGridButton","tutorialButton","tutorialButtonPressed","layoutSingleGridAxisControl","renderAxisControl","layoutSingleGridThermalControl","thermoLabel","ArrowUpward","axisButton","attemptAxisMove","ArrowDownward","Component","contextType","withStyles","theme","backgroundColor","float","marginRight","paddingRight","flexGrow","layoutSingleGridTop","textTransform","NetworkSelect","stage","enableInternet","selectedInterface","enableHotspot","setNewType","renderHeader","Language","SettingsInputHdmi","complete","SettingsRemote","welcome","TabList","tabList","handleTabClick","activeTab","disabledNav","Tabs","centered","tab","Tab","minWidth","textCenter","toHHMMSS","secs","sec_num","parseInt","v","join","BorderLinearProgress","root","colorPrimary","bar","LinearProgress","PrintStatus","lastMessage","progressState","setDisabledNav","statusText","fileName","paused","setPaused","camEnabled","setCamEnabled","setValue","elapsed","setElapsed","remaining","setRemaining","cameraFeedUrl","cameraUrl","setCameraUrl","url","callback","img","Image","onload","onerror","imageExists","exists","completion","printTime","printTimeLeft","component","Consumer","transform","prevState","file","files","startIcon","PlayArrow","Pause","Stop","STLLoader","manager","Loader","load","onLoad","onProgress","onError","loader","FileLoader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","parse","e","itemError","matchDataViewAt","query","reader","il","getUint8","buffer","binData","array_buffer","Uint8Array","charCodeAt","ensureBinary","DataView","getUint32","byteLength","solid","off","isBinary","g","colors","defaultR","defaultG","defaultB","alpha","faces","hasColors","index","Float32Array","normals","face","start","normalX","getFloat32","normalY","normalZ","packedColor","getUint16","vertexstart","componentIdx","BufferAttribute","parseBinary","result","patternSolid","patternFace","faceCounter","patternFloat","source","patternVertex","RegExp","patternNormal","normal","groupCount","startVertex","endVertex","exec","vertexCountPerFace","normalCountPerFace","count","addGroup","parseASCII","LoaderUtils","decodeText","AppContext","camRotation","camZoom","camZ","showMagnet","showBounds","showGrid","addRotation","deg","setZoom","addZ","setShowMagnet","setShowBounds","setShowGrid","require","deg2rad","PrintRenderer","posRotScale","control","canvas","createRef","canvasBg","rotationTarget","lastTime","renderer","scene","cameraHelper","cameraPivot","zTarget","gridObj","magnetObj","planeObj","boundsObj","showMagnetBed","nextProps","nextState","assignCanvas","parentElement","clientWidth","clientHeight","initCanvas","gpTexture","gpMesh","magTexture","magMesh","moveTo","lineTo","pathMesh","setFromPoints","getPoints","grid","mesh","objRoot","stl","setFileName","geo","mat","specular","shininess","center","setFromObject","getSize","setModifiedStl","FileReader","contents","sourceType","sourceFile","castShadow","receiveShadow","readAsBinaryString","renderFrame","requestAnimationFrame","bind","camCurrent","currentHeight","render","err","Paper","FormControl","FormLabel","RadioGroup","ref","FormControlLabel","Radio","NavigationPanel","Videocam","ZoomOut","Slider","newValue","ZoomIn","RotateRight","RotateLeft","SettingsPanel","FormGroup","Switch","checked","STLExporter","options","output","binary","objects","triangles","isMesh","isBufferGeometry","Error","positionAttribute","getAttribute","object3d","arrayBuffer","ArrayBuffer","setUint32","vA","vB","vC","cb","ab","j","writeFace","getX","c","fromBufferAttribute","isSkinnedMesh","boneTransform","subVectors","setFloat32","writeNormal","writeVertex","setUint16","vertex","setProfileSettings","slicer","metadata","preferred_quality_type","resolution","layer_height","speed","speed_print","speed_infill","speed_wall","speed_wall_0","speed_wall_x","travel","retraction_enable","default_material_print_temperature","material_print_temperature","material_print_temperature_layer_0","material_initial_print_temperature","material_final_print_temperature","default_material_bed_temperature","material_bed_temperature","setInfillLineDistance","percent_density","infill","infill_sparse_density","infill_line_distance","default_value","multiplier","infill_pattern","setInfillMultiplier","infillLineDistance","line_width","infill_line_width","SliceModal","shown","filament","quality","supports","vase","modifiedStl","defaultSettings","onboardSettings","support","support_enable","blackmagic","magic_spiralize","exporter","stlString","blob","Blob","realFile","File","onFailure","sliceModal","Modal","onClose","disableBackdropClick","mainContainer","Provider","formControl","InputLabel","Select","labelId","MenuItem","newVal","slider","valueLabelDisplay","row","setSliceAndStartPrint","alt","modal","modalContainer","printButton","sliceDropdown","maxWidth","summary","cursor","palette","secondary","main","selected","hover","fontWeight","fileContainer","maxHeight","fileLocation","icon","isFolder","filename","fileTypes","idx","endsWith","getFolderOnlyPath","o","p","hasOwnProperty","FileManager","drawerOpen","setDrawerOpen","manage","setSelected","setFiles","rootFiles","setRootFiles","storageUsed","setStorageUsed","storageFree","setStorageFree","storageTotal","setStorageTotal","directories","setDirectories","currentDirectory","setCurrentDirectory","showModal","setShowModal","setShowTooltip","showSnack","snackMessage","getFiles","free","total","fileTree","Array","reduce","prevDir","currDir","filePath","Treeify","resetFiles","newFiles","toUpperCase","Close","background","directory","fileKeys","fileIdx","pop","getFileDirectory","folder","Folder","TableContainer","fileList","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","protectedFiles","isFileProtected","DeleteForever","Slideshow","FolderOpen","includes","test","SystemUpdateAlt","Layers","selected_file","handleSelect","handleZipCheck","Snackbar","autoHideDuration","drawerContainer","cardContent","clearInputFile","f","form","createElement","parentNode","nextSibling","appendChild","reset","insertBefore","Print","extruder","connected","feed","printing","progress","printState","setPrintState","jobState","setJobState","setProgressState","fileDrawerOpen","setFileDrawerOpen","setFileLocation","uploadElement","setUploadElement","showSliceModal","setShowSliceModal","uploadFile","setUploadFile","fetchFiles","substring","job","click","match","accept","Drawer","anchor","paper","btnContainer","centerBtns","tabs","units","Moving","unit","setUnit","homeAxis","moveAxis","negative","Box","u","gauges","nozzleSlider","tempOutputs","Heating","onChangeCommitted","getAriaValueText","Control","setPosition","payload","componentContainer","ManageStorage","About","subheader","ListSubheader","ListItemIcon","Save","ListItemText","primary","packageJson","version","Settings","networkType","setNetworkType","printerMode","setPrinterMode","userMode","setUserMode","displayWifi","displaySSID","rebootRequired","setRebootRequired","printerProfile","handleCameraToggle","confirm","toggleCamera","LocalLibrary","native","MenuProps","anchorOrigin","vertical","horizontal","getContentAnchorEl","Class","ListItemSecondaryAction","edge","checkedValue","Dns","Tutorials","currentTutorial","selectTutorial","getOwnPropertyNames","tutName","tutorialCard","showClose","closeTutorial","ResetPrinter","reload","Menu","activeComponent","setActiveComponent","MenuArray","Fragment","handleDrawer","Divider","TutorialButton","tutorialShown","extruderTemp","bedTemp","Tune","setExtruder","temps","tool0","actual","appBar","Home","setActiveMode","setActiveTab","Components","createMuiTheme","overrides","MuiTab","MuiAppBar","MuiPaper","rounded","MuiButton","MuiButtonBase","MuiIconButton","MuiListItemText","MuiTypography","h1","h2","h3","h4","h5","h6","body1","body2","App","onboarded","setOnboarded","setBedTemp","bedTargetTemp","setBedTargetTemp","nozzleTemp","setNozzleTemp","nozzleTargetTemp","setNozzleTargetTemp","setMachineName","isOnboarded","socketUrl","messageHistory","useWebSocket","shouldReconnect","closeEvent","reconnectAttempts","reconnectInterval","onOpen","onMessage","msg","sendMessage","readyState","useMemo","connectionStatus","ReadyState","CONNECTING","OPEN","CLOSING","CLOSED","UNINSTANTIATED","CssBaseline","Boolean","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a9d6c32d.chunk.js","sourcesContent":["/**\n * @author arodic / https://github.com/arodic\n */\nmodule.exports = function (THREE) {\n\n\tconst BoxGeometry = THREE.BoxGeometry;\n\tconst BufferGeometry = THREE.BufferGeometry;\n\tconst Color = THREE.Color;\n\tconst CylinderGeometry = THREE.CylinderGeometry;\n\tconst DoubleSide = THREE.DoubleSide;\n\tconst Euler = THREE.Euler;\n\tconst Float32BufferAttribute = THREE.Float32BufferAttribute;\n\tconst Line = THREE.Line;\n\tconst LineBasicMaterial = THREE.LineBasicMaterial;\n\tconst Matrix4 = THREE.Matrix4;\n\tconst Mesh = THREE.Mesh;\n\tconst MeshBasicMaterial = THREE.MeshBasicMaterial;\n\tconst Object3D = THREE.Object3D;\n\tconst OctahedronGeometry = THREE.OctahedronGeometry;\n\tconst PlaneGeometry = THREE.PlaneGeometry;\n\tconst Quaternion = THREE.Quaternion;\n\tconst Raycaster = THREE.Raycaster;\n\tconst SphereGeometry = THREE.SphereGeometry;\n\tconst TorusGeometry = THREE.TorusGeometry;\n\tconst Vector3 = THREE.Vector3;\n\n\tvar TransformControls = function ( camera, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tObject3D.call( this );\n\n\t\tthis.visible = false;\n\t\tthis.domElement = domElement;\n\n\t\tvar _gizmo = new TransformControlsGizmo();\n\t\tthis.add( _gizmo );\n\n\t\tvar _plane = new TransformControlsPlane();\n\t\tthis.add( _plane );\n\n\t\tvar scope = this;\n\n\t\t// Define properties with getters/setter\n\t\t// Setting the defined property will automatically trigger change event\n\t\t// Defined properties are passed down to gizmo and plane\n\n\t\tdefineProperty( 'camera', camera );\n\t\tdefineProperty( 'object', undefined );\n\t\tdefineProperty( 'enabled', true );\n\t\tdefineProperty( 'axis', null );\n\t\tdefineProperty( 'mode', 'translate' );\n\t\tdefineProperty( 'translationSnap', null );\n\t\tdefineProperty( 'rotationSnap', null );\n\t\tdefineProperty( 'scaleSnap', null );\n\t\tdefineProperty( 'space', 'world' );\n\t\tdefineProperty( 'size', 1 );\n\t\tdefineProperty( 'dragging', false );\n\t\tdefineProperty( 'showX', true );\n\t\tdefineProperty( 'showY', true );\n\t\tdefineProperty( 'showZ', true );\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar mouseDownEvent = { type: 'mouseDown' };\n\t\tvar mouseUpEvent = { type: 'mouseUp', mode: scope.mode };\n\t\tvar objectChangeEvent = { type: 'objectChange' };\n\n\t\t// Reusable utility variables\n\n\t\tvar raycaster = new Raycaster();\n\n\t\tfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\n\n\t\t\tvar allIntersections = raycaster.intersectObject( object, true );\n\n\t\t\tfor ( var i = 0; i < allIntersections.length; i ++ ) {\n\n\t\t\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\n\n\t\t\t\t\treturn allIntersections[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tvar _tempVector = new Vector3();\n\t\tvar _tempVector2 = new Vector3();\n\t\tvar _tempQuaternion = new Quaternion();\n\t\tvar _unit = {\n\t\t\tX: new Vector3( 1, 0, 0 ),\n\t\t\tY: new Vector3( 0, 1, 0 ),\n\t\t\tZ: new Vector3( 0, 0, 1 )\n\t\t};\n\n\t\tvar pointStart = new Vector3();\n\t\tvar pointEnd = new Vector3();\n\t\tvar offset = new Vector3();\n\t\tvar rotationAxis = new Vector3();\n\t\tvar startNorm = new Vector3();\n\t\tvar endNorm = new Vector3();\n\t\tvar rotationAngle = 0;\n\n\t\tvar cameraPosition = new Vector3();\n\t\tvar cameraQuaternion = new Quaternion();\n\t\tvar cameraScale = new Vector3();\n\n\t\tvar parentPosition = new Vector3();\n\t\tvar parentQuaternion = new Quaternion();\n\t\tvar parentQuaternionInv = new Quaternion();\n\t\tvar parentScale = new Vector3();\n\n\t\tvar worldPositionStart = new Vector3();\n\t\tvar worldQuaternionStart = new Quaternion();\n\t\tvar worldScaleStart = new Vector3();\n\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldQuaternion = new Quaternion();\n\t\tvar worldQuaternionInv = new Quaternion();\n\t\tvar worldScale = new Vector3();\n\n\t\tvar eye = new Vector3();\n\n\t\tvar positionStart = new Vector3();\n\t\tvar quaternionStart = new Quaternion();\n\t\tvar scaleStart = new Vector3();\n\n\t\t// TODO: remove properties unused in plane and gizmo\n\n\t\tdefineProperty( 'worldPosition', worldPosition );\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\n\t\tdefineProperty( 'pointStart', pointStart );\n\t\tdefineProperty( 'pointEnd', pointEnd );\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\n\t\tdefineProperty( 'eye', eye );\n\n\t\t{\n\n\t\t\tdomElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.addEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tdomElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.removeEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tthis.traverse( function ( child ) {\n\n\t\t\t\tif ( child.geometry ) child.geometry.dispose();\n\t\t\t\tif ( child.material ) child.material.dispose();\n\n\t\t\t} );\n\n\t\t};\n\n\t\t// Set current object\n\t\tthis.attach = function ( object ) {\n\n\t\t\tthis.object = object;\n\t\t\tthis.visible = true;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Detatch from object\n\t\tthis.detach = function () {\n\n\t\t\tthis.object = undefined;\n\t\t\tthis.visible = false;\n\t\t\tthis.axis = null;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Defined getter, setter and store for a property\n\t\tfunction defineProperty( propName, defaultValue ) {\n\n\t\t\tvar propValue = defaultValue;\n\n\t\t\tObject.defineProperty( scope, propName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( propValue !== value ) {\n\n\t\t\t\t\t\tpropValue = value;\n\t\t\t\t\t\t_plane[ propName ] = value;\n\t\t\t\t\t\t_gizmo[ propName ] = value;\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\n\t\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tscope[ propName ] = defaultValue;\n\t\t\t_plane[ propName ] = defaultValue;\n\t\t\t_gizmo[ propName ] = defaultValue;\n\n\t\t}\n\n\t\t// updateMatrixWorld  updates key transformation variables\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tif ( this.object !== undefined ) {\n\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tif ( this.object.parent === null ) {\n\n\t\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.object.parent.matrixWorld.decompose( parentPosition, parentQuaternion, parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object.matrixWorld.decompose( worldPosition, worldQuaternion, worldScale );\n\n\t\t\t\tparentQuaternionInv.copy( parentQuaternion ).invert();\n\t\t\t\tworldQuaternionInv.copy( worldQuaternion ).invert();\n\n\t\t\t}\n\n\t\t\tthis.camera.updateMatrixWorld();\n\t\t\tthis.camera.matrixWorld.decompose( cameraPosition, cameraQuaternion, cameraScale );\n\n\t\t\teye.copy( cameraPosition ).sub( worldPosition ).normalize();\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t\tthis.pointerHover = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar intersect = intersectObjectWithRay( _gizmo.picker[ this.mode ], raycaster );\n\n\t\t\tif ( intersect ) {\n\n\t\t\t\tthis.axis = intersect.object.name;\n\n\t\t\t} else {\n\n\t\t\t\tthis.axis = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerDown = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\n\n\t\t\tif ( this.axis !== null ) {\n\n\t\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\t\tif ( planeIntersect ) {\n\n\t\t\t\t\tvar space = this.space;\n\n\t\t\t\t\tif ( this.mode === 'scale' ) {\n\n\t\t\t\t\t\tspace = 'local';\n\n\t\t\t\t\t} else if ( this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ' ) {\n\n\t\t\t\t\t\tspace = 'world';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'local' && this.mode === 'rotate' ) {\n\n\t\t\t\t\t\tvar snap = this.rotationSnap;\n\n\t\t\t\t\t\tif ( this.axis === 'X' && snap ) this.object.rotation.x = Math.round( this.object.rotation.x / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Y' && snap ) this.object.rotation.y = Math.round( this.object.rotation.y / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Z' && snap ) this.object.rotation.z = Math.round( this.object.rotation.z / snap ) * snap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.object.updateMatrixWorld();\n\t\t\t\t\tthis.object.parent.updateMatrixWorld();\n\n\t\t\t\t\tpositionStart.copy( this.object.position );\n\t\t\t\t\tquaternionStart.copy( this.object.quaternion );\n\t\t\t\t\tscaleStart.copy( this.object.scale );\n\n\t\t\t\t\tthis.object.matrixWorld.decompose( worldPositionStart, worldQuaternionStart, worldScaleStart );\n\n\t\t\t\t\tpointStart.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\t\t}\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tmouseDownEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseDownEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerMove = function ( pointer ) {\n\n\t\t\tvar axis = this.axis;\n\t\t\tvar mode = this.mode;\n\t\t\tvar object = this.object;\n\t\t\tvar space = this.space;\n\n\t\t\tif ( mode === 'scale' ) {\n\n\t\t\t\tspace = 'local';\n\n\t\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\n\n\t\t\t\tspace = 'world';\n\n\t\t\t}\n\n\t\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\tif ( ! planeIntersect ) return;\n\n\t\t\tpointEnd.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\tif ( mode === 'translate' ) {\n\n\t\t\t\t// Apply translate\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) offset.x = 0;\n\t\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) offset.y = 0;\n\t\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) offset.z = 0;\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( quaternionStart ).divide( parentScale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset.applyQuaternion( parentQuaternionInv ).divide( parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tobject.position.copy( offset ).add( positionStart );\n\n\t\t\t\t// Apply translation snap\n\n\t\t\t\tif ( this.translationSnap ) {\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( quaternionStart ).invert() );\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject.position.applyQuaternion( quaternionStart );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'world' ) {\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'scale' ) {\n\n\t\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\n\n\t\t\t\t\tvar d = pointEnd.length() / pointStart.length();\n\n\t\t\t\t\tif ( pointEnd.dot( pointStart ) < 0 ) d *= - 1;\n\n\t\t\t\t\t_tempVector2.set( d, d, d );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_tempVector.copy( pointStart );\n\t\t\t\t\t_tempVector2.copy( pointEnd );\n\n\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternionInv );\n\t\t\t\t\t_tempVector2.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t\t_tempVector2.divide( _tempVector );\n\n\t\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.x = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.y = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.z = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Apply scale\n\n\t\t\t\tobject.scale.copy( scaleStart ).multiply( _tempVector2 );\n\n\t\t\t\tif ( this.scaleSnap ) {\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'rotate' ) {\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tvar ROTATION_SPEED = 20 / worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\n\n\t\t\t\tif ( axis === 'E' ) {\n\n\t\t\t\t\trotationAxis.copy( eye );\n\t\t\t\t\trotationAngle = pointEnd.angleTo( pointStart );\n\n\t\t\t\t\tstartNorm.copy( pointStart ).normalize();\n\t\t\t\t\tendNorm.copy( pointEnd ).normalize();\n\n\t\t\t\t\trotationAngle *= ( endNorm.cross( startNorm ).dot( eye ) < 0 ? 1 : - 1 );\n\n\t\t\t\t} else if ( axis === 'XYZE' ) {\n\n\t\t\t\t\trotationAxis.copy( offset ).cross( eye ).normalize();\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.copy( rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\n\n\t\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\n\n\t\t\t\t\trotationAxis.copy( _unit[ axis ] );\n\n\t\t\t\t\t_tempVector.copy( _unit[ axis ] );\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.cross( eye ).normalize() ) * ROTATION_SPEED;\n\n\t\t\t\t}\n\n\t\t\t\t// Apply rotation snap\n\n\t\t\t\tif ( this.rotationSnap ) rotationAngle = Math.round( rotationAngle / this.rotationSnap ) * this.rotationSnap;\n\n\t\t\t\tthis.rotationAngle = rotationAngle;\n\n\t\t\t\t// Apply rotate\n\t\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\n\n\t\t\t\t\tobject.quaternion.copy( quaternionStart );\n\t\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) ).normalize();\n\n\t\t\t\t} else {\n\n\t\t\t\t\trotationAxis.applyQuaternion( parentQuaternionInv );\n\t\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) );\n\t\t\t\t\tobject.quaternion.multiply( quaternionStart ).normalize();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\t\t\tthis.dispatchEvent( objectChangeEvent );\n\n\t\t};\n\n\t\tthis.pointerUp = function ( pointer ) {\n\n\t\t\tif ( pointer.button !== 0 ) return;\n\n\t\t\tif ( this.dragging && ( this.axis !== null ) ) {\n\n\t\t\t\tmouseUpEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseUpEvent );\n\n\t\t\t}\n\n\t\t\tthis.dragging = false;\n\t\t\tthis.axis = null;\n\n\t\t};\n\n\t\t// normalize mouse / touch pointer and remap {x,y} to view space.\n\n\t\tfunction getPointer( event ) {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tvar pointer = event.changedTouches ? event.changedTouches[ 0 ] : event;\n\n\t\t\t\tvar rect = domElement.getBoundingClientRect();\n\n\t\t\t\treturn {\n\t\t\t\t\tx: ( pointer.clientX - rect.left ) / rect.width * 2 - 1,\n\t\t\t\t\ty: - ( pointer.clientY - rect.top ) / rect.height * 2 + 1,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t// mouse / touch event handlers\n\n\t\tfunction onPointerHover( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = 'none'; // disable touch scroll\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\tscope.pointerDown( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.pointerMove( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = '';\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerUp( getPointer( event ) );\n\n\t\t}\n\n\t\t// TODO: deprecate\n\n\t\tthis.getMode = function () {\n\n\t\t\treturn scope.mode;\n\n\t\t};\n\n\t\tthis.setMode = function ( mode ) {\n\n\t\t\tscope.mode = mode;\n\n\t\t};\n\n\t\tthis.setTranslationSnap = function ( translationSnap ) {\n\n\t\t\tscope.translationSnap = translationSnap;\n\n\t\t};\n\n\t\tthis.setRotationSnap = function ( rotationSnap ) {\n\n\t\t\tscope.rotationSnap = rotationSnap;\n\n\t\t};\n\n\t\tthis.setScaleSnap = function ( scaleSnap ) {\n\n\t\t\tscope.scaleSnap = scaleSnap;\n\n\t\t};\n\n\t\tthis.setSize = function ( size ) {\n\n\t\t\tscope.size = size;\n\n\t\t};\n\n\t\tthis.setSpace = function ( space ) {\n\n\t\t\tscope.space = space;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\n\n\t\t};\n\n\t};\n\n\tTransformControls.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControls,\n\n\t\tisTransformControls: true\n\n\t} );\n\n\n\tvar TransformControlsGizmo = function () {\n\n\t\t'use strict';\n\n\t\tObject3D.call( this );\n\n\t\tthis.type = 'TransformControlsGizmo';\n\n\t\t// shared materials\n\n\t\tvar gizmoMaterial = new MeshBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tside: DoubleSide,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\tvar gizmoLineMaterial = new LineBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tlinewidth: 1,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\t// Make unique material for each axis/color\n\n\t\tvar matInvisible = gizmoMaterial.clone();\n\t\tmatInvisible.opacity = 0.15;\n\n\t\tvar matHelper = gizmoMaterial.clone();\n\t\tmatHelper.opacity = 0.33;\n\n\t\tvar matRed = gizmoMaterial.clone();\n\t\tmatRed.color.set( 0xff0000 );\n\n\t\tvar matGreen = gizmoMaterial.clone();\n\t\tmatGreen.color.set( 0x00ff00 );\n\n\t\tvar matBlue = gizmoMaterial.clone();\n\t\tmatBlue.color.set( 0x0000ff );\n\n\t\tvar matWhiteTransparent = gizmoMaterial.clone();\n\t\tmatWhiteTransparent.opacity = 0.25;\n\n\t\tvar matYellowTransparent = matWhiteTransparent.clone();\n\t\tmatYellowTransparent.color.set( 0xffff00 );\n\n\t\tvar matCyanTransparent = matWhiteTransparent.clone();\n\t\tmatCyanTransparent.color.set( 0x00ffff );\n\n\t\tvar matMagentaTransparent = matWhiteTransparent.clone();\n\t\tmatMagentaTransparent.color.set( 0xff00ff );\n\n\t\tvar matYellow = gizmoMaterial.clone();\n\t\tmatYellow.color.set( 0xffff00 );\n\n\t\tvar matLineRed = gizmoLineMaterial.clone();\n\t\tmatLineRed.color.set( 0xff0000 );\n\n\t\tvar matLineGreen = gizmoLineMaterial.clone();\n\t\tmatLineGreen.color.set( 0x00ff00 );\n\n\t\tvar matLineBlue = gizmoLineMaterial.clone();\n\t\tmatLineBlue.color.set( 0x0000ff );\n\n\t\tvar matLineCyan = gizmoLineMaterial.clone();\n\t\tmatLineCyan.color.set( 0x00ffff );\n\n\t\tvar matLineMagenta = gizmoLineMaterial.clone();\n\t\tmatLineMagenta.color.set( 0xff00ff );\n\n\t\tvar matLineYellow = gizmoLineMaterial.clone();\n\t\tmatLineYellow.color.set( 0xffff00 );\n\n\t\tvar matLineGray = gizmoLineMaterial.clone();\n\t\tmatLineGray.color.set( 0x787878 );\n\n\t\tvar matLineYellowTransparent = matLineYellow.clone();\n\t\tmatLineYellowTransparent.opacity = 0.25;\n\n\t\t// reusable geometry\n\n\t\tvar arrowGeometry = new CylinderGeometry( 0, 0.05, 0.2, 12, 1, false );\n\n\t\tvar scaleHandleGeometry = new BoxGeometry( 0.125, 0.125, 0.125 );\n\n\t\tvar lineGeometry = new BufferGeometry();\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\n\n\t\tvar CircleGeometry = function ( radius, arc ) {\n\n\t\t\tvar geometry = new BufferGeometry( );\n\t\t\tvar vertices = [];\n\n\t\t\tfor ( var i = 0; i <= 64 * arc; ++ i ) {\n\n\t\t\t\tvertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\t\tvar TranslateHelperGeometry = function () {\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\t\tvar gizmoTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, - Math.PI / 2 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, Math.PI / 2 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ) ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], null, null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], [ Math.PI, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ Math.PI / 2, 0, 0 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ - Math.PI / 2, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ], [ 0, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matYellowTransparent.clone() ), [ 0.15, 0.15, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.18, 0.3, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.3, 0.18, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matCyanTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.18, 0.3 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.3, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matMagentaTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.18, 0, 0.3 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.3, 0, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0.6, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0.6, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0, 0.6 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0.2, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0, 0.2, 0.2 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0, 0.2 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperTranslate = {\n\t\t\tSTART: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tEND: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tDELTA: [\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineRed ) ],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matRed ), [ 0, 0, 0.99 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineGreen ), null, [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matGreen ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineBlue ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matBlue ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Line( CircleGeometry( 1.25, 1 ), matLineYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 1.17, 0, 0 ], [ 0, 0, - Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ - 1.17, 0, 0 ], [ 0, 0, Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, - 1.17, 0 ], [ Math.PI, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, 1.17, 0 ], [ 0, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 1 ), matLineGray ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperRotate = {\n\t\t\tAXIS: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1.25, 0.1, 2, 24 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.7, 10, 8 ), matInvisible ) ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.8, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ), null, null, [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.8, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.8 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matYellowTransparent ), [ 0.85, 0.85, 0 ], null, [ 2, 2, 0.2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.855, 0.98, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.98, 0.855, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matCyanTransparent ), [ 0, 0.85, 0.85 ], null, [ 0.2, 2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.855, 0.98 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.98, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matMagentaTransparent ), [ 0.85, 0, 0.85 ], null, [ 2, 0.2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.855, 0, 0.98 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.98, 0, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar pickerScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0.5, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0.85, 0 ], null, [ 3, 3, 0.2 ]],\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0, 0.85, 0.85 ], null, [ 0.2, 3, 3 ]],\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0, 0.85 ], null, [ 3, 0.2, 3 ]],\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar helperScale = {\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\n\n\t\tvar setupGizmo = function ( gizmoMap ) {\n\n\t\t\tvar gizmo = new Object3D();\n\n\t\t\tfor ( var name in gizmoMap ) {\n\n\t\t\t\tfor ( var i = gizmoMap[ name ].length; i --; ) {\n\n\t\t\t\t\tvar object = gizmoMap[ name ][ i ][ 0 ].clone();\n\t\t\t\t\tvar position = gizmoMap[ name ][ i ][ 1 ];\n\t\t\t\t\tvar rotation = gizmoMap[ name ][ i ][ 2 ];\n\t\t\t\t\tvar scale = gizmoMap[ name ][ i ][ 3 ];\n\t\t\t\t\tvar tag = gizmoMap[ name ][ i ][ 4 ];\n\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\n\t\t\t\t\tobject.name = name;\n\t\t\t\t\tobject.tag = tag;\n\n\t\t\t\t\tif ( position ) {\n\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rotation ) {\n\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( scale ) {\n\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tvar tempGeometry = object.geometry.clone();\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\n\t\t\t\t\tobject.geometry = tempGeometry;\n\t\t\t\t\tobject.renderOrder = Infinity;\n\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\n\n\t\t\t\t\tgizmo.add( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn gizmo;\n\n\t\t};\n\n\t\t// Reusable utility variables\n\n\t\tvar tempVector = new Vector3( 0, 0, 0 );\n\t\tvar tempEuler = new Euler();\n\t\tvar alignVector = new Vector3( 0, 1, 0 );\n\t\tvar zeroVector = new Vector3( 0, 0, 0 );\n\t\tvar lookAtMatrix = new Matrix4();\n\t\tvar tempQuaternion = new Quaternion();\n\t\tvar tempQuaternion2 = new Quaternion();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\t// Gizmo creation\n\n\t\tthis.gizmo = {};\n\t\tthis.picker = {};\n\t\tthis.helper = {};\n\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\n\n\t\t// Pickers should be hidden always\n\n\t\tthis.picker[ 'translate' ].visible = false;\n\t\tthis.picker[ 'rotate' ].visible = false;\n\t\tthis.picker[ 'scale' ].visible = false;\n\n\t\t// updateMatrixWorld will update transformations and appearance of individual handles\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tvar quaternion = space === 'local' ? this.worldQuaternion : identityQuaternion;\n\n\t\t\t// Show only gizmos for current transform mode\n\n\t\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\n\n\t\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\n\n\n\t\t\tvar handles = [];\n\t\t\thandles = handles.concat( this.picker[ this.mode ].children );\n\t\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\n\t\t\thandles = handles.concat( this.helper[ this.mode ].children );\n\n\t\t\tfor ( var i = 0; i < handles.length; i ++ ) {\n\n\t\t\t\tvar handle = handles[ i ];\n\n\t\t\t\t// hide aligned to camera\n\n\t\t\t\thandle.visible = true;\n\t\t\t\thandle.rotation.set( 0, 0, 0 );\n\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\tvar factor;\n\n\t\t\t\tif ( this.camera.isOrthographicCamera ) {\n\n\t\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\n\n\t\t\t\t}\n\n\t\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 7 );\n\n\t\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\n\n\t\t\t\tif ( handle.tag === 'helper' ) {\n\n\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\tif ( handle.name === 'AXIS' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = !! this.axis;\n\n\t\t\t\t\t\tif ( this.axis === 'X' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Y' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, Math.PI / 2 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Z' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'XYZE' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\talignVector.copy( this.rotationAxis );\n\t\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( zeroVector, alignVector, unitY ) );\n\t\t\t\t\t\t\thandle.quaternion.multiply( tempQuaternion );\n\t\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'E' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} else if ( handle.name === 'START' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'END' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'DELTA' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\n\t\t\t\t\t\ttempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\n\t\t\t\t\t\ttempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\n\t\t\t\t\t\thandle.scale.copy( tempVector );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\t\t\tif ( this.dragging ) {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis ) {\n\n\t\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If updating helper, skip rest of the loop\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\n\n\t\t\t\t\t// Hide translate and scale axis facing the camera\n\n\t\t\t\t\tvar AXIS_HIDE_TRESHOLD = 0.99;\n\t\t\t\t\tvar PLANE_HIDE_TRESHOLD = 0.2;\n\t\t\t\t\tvar AXIS_FLIP_TRESHOLD = 0.0;\n\n\n\t\t\t\t\tif ( handle.name === 'X' || handle.name === 'XYZX' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' || handle.name === 'XYZY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' || handle.name === 'XYZZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'YZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Flip translate and scale axis ocluded behind another axis\n\n\t\t\t\t\tif ( handle.name.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.x *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.y *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.z *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( this.mode === 'rotate' ) {\n\n\t\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\t\ttempQuaternion2.copy( quaternion );\n\t\t\t\t\talignVector.copy( this.eye ).applyQuaternion( tempQuaternion.copy( quaternion ).invert() );\n\n\t\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\n\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( this.eye, zeroVector, unitY ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitX, Math.atan2( - alignVector.y, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitY, Math.atan2( alignVector.x, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitZ, Math.atan2( alignVector.y, alignVector.x ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Hide disabled axes\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\n\n\t\t\t\t// highlight selected axis\n\n\t\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\n\t\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\n\n\t\t\t\thandle.material.color.copy( handle.material._color );\n\t\t\t\thandle.material.opacity = handle.material._opacity;\n\n\t\t\t\tif ( ! this.enabled ) {\n\n\t\t\t\t\thandle.material.opacity *= 0.5;\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t} else if ( this.axis ) {\n\n\t\t\t\t\tif ( handle.name === this.axis ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\n\n\t\t\t\t\t\treturn handle.name === a;\n\n\t\t\t\t\t} ) ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.material.opacity *= 0.25;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsGizmo.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControlsGizmo,\n\n\t\tisTransformControlsGizmo: true\n\n\t} );\n\n\n\tvar TransformControlsPlane = function () {\n\n\t\t'use strict';\n\n\t\tMesh.call( this,\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\n\t\t);\n\n\t\tthis.type = 'TransformControlsPlane';\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\tvar tempVector = new Vector3();\n\t\tvar dirVector = new Vector3();\n\t\tvar alignVector = new Vector3();\n\t\tvar tempMatrix = new Matrix4();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tthis.position.copy( this.worldPosition );\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tunitX.set( 1, 0, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitY.set( 0, 1, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitZ.set( 0, 0, 1 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\n\t\t\t// Align the plane for current transform mode, axis and space.\n\n\t\t\talignVector.copy( unitY );\n\n\t\t\tswitch ( this.mode ) {\n\n\t\t\t\tcase 'translate':\n\t\t\t\tcase 'scale':\n\t\t\t\t\tswitch ( this.axis ) {\n\n\t\t\t\t\t\tcase 'X':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitX );\n\t\t\t\t\t\t\tdirVector.copy( unitX ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitY );\n\t\t\t\t\t\t\tdirVector.copy( unitY ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitZ ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XY':\n\t\t\t\t\t\t\tdirVector.copy( unitZ );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'YZ':\n\t\t\t\t\t\t\tdirVector.copy( unitX );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XZ':\n\t\t\t\t\t\t\talignVector.copy( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XYZ':\n\t\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\tdefault:\n\t\t\t\t\t// special case for rotate\n\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( dirVector.length() === 0 ) {\n\n\t\t\t\t// If in rotate mode, make the plane parallel to camera\n\t\t\t\tthis.quaternion.copy( this.cameraQuaternion );\n\n\t\t\t} else {\n\n\t\t\t\ttempMatrix.lookAt( tempVector.set( 0, 0, 0 ), dirVector, alignVector );\n\n\t\t\t\tthis.quaternion.setFromRotationMatrix( tempMatrix );\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsPlane.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\t\tconstructor: TransformControlsPlane,\n\n\t\tisTransformControlsPlane: true\n\n\t} );\n\n\treturn TransformControls;\n}\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  CardActionArea,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  card: {\n    margin: '32px',\n    border: '2px solid rgba(0, 0, 0, 0.12)',\n    textAlign: 'center',\n  },\n});\nconst OptionCard = ({ title, description, onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <Card onClick={onClick} className={classes.card}>\n      <CardActionArea>\n        <CardContent>\n          <Typography variant=\"h2\">{title}</Typography>\n          <p>{description}</p>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default OptionCard;\n","export const formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport const setStorage = (key, val) => {\n  setSettings(key, val);\n  return returnSettings(key);\n};\nexport const getStorage = (key) => {\n  return returnSettings(key);\n};\nexport const removeStorage = (key) => {\n  setSettings(key, null);\n  return returnSettings(key);\n};\nexport const resetStorage = () => {\n  return storageReset();\n};\nasync function getSettings() {\n  // Default options are marked with *\n  let response = null;\n  response = await fetch(`http://${window.location.hostname}:2127/api/v1/get/ui/settings`, {\n    method: \"GET\"\n  });\n  return response.json(); // parses JSON response into native JavaScript objects\n}\nasync function storageReset() {\n  let settings = {};\n  await getSettings().then((data) => {\n    console.log('before', data);\n    let setAll = (obj, val) => Object.keys(obj).forEach(k => obj[k] = val);\n    setAll(data, \"\");\n    console.log('after', data);\n    let formData = new FormData();\n    formData.append(\"json\", JSON.stringify(data));\n    postSettings(formData);\n    settings = data;\n  });\n  return settings;\n}\nasync function setSettings(key, value) {\n  getSettings().then((data) => {\n    let newSettings = data;\n    newSettings[key] = value;\n    let formData = new FormData();\n    formData.append(\"json\", JSON.stringify(newSettings));\n    postSettings(formData);\n  });\n}\n\nasync function postSettings(formData) {\n  await fetch(`http://${window.location.hostname}:2127/api/v1/set/ui/settings`, {\n    method: \"POST\",\n    body: formData // send updated settings\n  });\n}\n\nasync function returnSettings(key) {\n  let value = null;\n  await getSettings().then((data) => {\n    value =  data[key];\n  });\n  return value;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport OptionCard from '../../Common/OptionCard/OptionCard';\nimport { setStorage } from '../../../Utility/helpers';\nconst useStyles = makeStyles({\n  header: {\n    textAlign: 'center',\n    fontSize: '32px',\n  },\n});\n\nconst PrinterType = ({ setStep }) => {\n  const classes = useStyles();\n  const handleClick = (val) => {\n    setStorage('printerProfile', val);\n    setStep(3);\n  };\n  return (\n    <div>\n      <h2 className={classes.header}>Where will this printer be used?</h2>\n      <OptionCard title=\"Home\" onClick={() => handleClick('home')} />\n      <OptionCard title=\"Classroom\" onClick={() => handleClick('classroom')} />\n    </div>\n  );\n};\n\nexport default PrinterType;\n","import { useEffect } from 'react';\n\nexport const useMountEffect = (fun) => useEffect(fun, []);\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography, TextField } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Keyboard from \"react-simple-keyboard\";\nimport { setStorage, getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst NetworkSettings = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n  const [printerName, setPrinterName] = useState(\"300x\");\n\n  useMountEffect(() => {\n    getStorage(\"printerName\").then(function(printerName) {\n      setPrinterName(printerName);\n    });\n  });\n\n\n  const nextSubmit = () => {\n    !settingsScreen && setStep(4);\n  }\n\n  const handleSubmit = async () => {\n    // TODO remove previous name via action \"remove\"\n    console.log(input, \"input\");\n    const host_name = { hostname: input, action: \"add\" };\n    const lastHostname = { hostname: printerName !== null ? printerName : \"300x\", action: \"remove\"};\n    const ssid_name = { ssid: input };\n\n    //after, display success or failure\n    setConnecting(false);\n    const hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(host_name)\n    });\n\n    hostname_response.json().then((data) => {\n      console.log(data);\n      if (data.status.includes(\"add\")) {\n\n\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n\n    if(input !== printerName) {\n      const remove_hostname_response = await fetch(`http://${window.location.hostname}:8990/change/hostname`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(lastHostname)\n      });\n\n      remove_hostname_response.json().then((data) => {\n        console.log(data);\n        if (data.status.includes(\"remove\")) {\n          setStorage(\"hostname\", input);\n        }\n      });\n    }\n\n    const ssid_name_response = await fetch(`http://${window.location.hostname}:8990/hotspot/change/ssid/name`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(ssid_name)\n    });\n\n    ssid_name_response.json().then((data) => {\n      console.log(data);\n      setConnecting(false);\n      if (data.status.includes(\"changed\")) {\n        setStorage(\"ssid\", input);\n        setSnackMessage(\"Successfully Named!\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(4);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        // show snack message \"Failure\"\n      }\n    });\n\n  };\n\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\">Your Printer's Name Is:</Typography>\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>{printerName}</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'flex-end'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      nextSubmit()\n                  }}\n                    >\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default NetworkSettings;\n","import React, { useRef, useState } from \"react\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Backdrop,\n  Button,\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n  List,\n  ListItem,\n  TextField\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport RemoveRedEyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport Keyboard from \"react-simple-keyboard\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  accordion: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  button: {\n    alignSelf: \"flex-end\",\n    height: \"36px\",\n    marginLeft: \"25px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  },\n  wifiList: {\n    height: \"600px\",\n    overflow: \"scroll\",\n    border: \"1px solid #fff\",\n    borderRadius: \"5px\"\n  }\n});\nconst WifiConnect = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  handleSnackClose,\n  setConnectWifi,\n  settingsScreen,\n  setStage,\n  onGoBack\n}) => {\n  const classes = useStyles({ settingsScreen });\n  const [expanded, setExpanded] = useState(false);\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [wifiArr, setWifiArr] = useState([]);\n  const [connecting, setConnecting] = useState(false);\n  const keyboard = useRef();\n  const [loading, setLoading] = useState(false);\n  const [maskPassword, setMaskPassword] = useState(true);\n\n  useMountEffect(() => {\n    async function getNetworks() {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/networks/scan`);\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    //Fetch http://${window.location.hostname}:8990/networks/scan\n    //setWifiArr response.networks\n    setLoading(true);\n    getNetworks().then((data) => {\n      let networks = data.networks.filter((obj, pos, arr) => {\n        return (\n          arr.map((mapObj) => mapObj[\"ssid\"]).indexOf(obj[\"ssid\"]) === pos &&\n          obj.ssid != null\n        );\n      });\n      setWifiArr(networks);\n      setLoading(false);\n    });\n  });\n\n  const handleSubmit = async () => {\n    const body = { ssid: expanded, password: input };\n    //set loading screen\n    setExpanded(false);\n    setConnecting(true);\n    setInput(\"\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function setNetwork(body) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/connect`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setNetwork(body).then((data) => {\n      //after, display success or failure\n      setConnecting(false);\n      if (data.status === \"connected!\") {\n        setSnackMessage(\"Successfully Connected\");\n        setShowSnack(() => true);\n        !settingsScreen && setStep(1);\n        //Go to next screen\n        //!settingsScreen && setStep(2);\n      } else {\n        setSnackMessage(\"Connection Failed. Try Again\");\n        setShowSnack(() => true);\n        setConnecting(false);\n        // show snack message \"Failure\"\n      }\n    });\n  };\n\n  //toggle password masking\n  const passwordToggle = () => {\n    setMaskPassword(!maskPassword);\n  };\n\n  //update text entered into input field\n  const onChange = (input) => {\n    setInput(input);\n    console.log(\"Input changed\", input);\n  };\n\n  //toggle keyboard layouts when user presses shift\n  const handleShift = () => {\n    const newLayoutName = layout === \"default\" ? \"shift\" : \"default\";\n    setLayout(newLayoutName);\n  };\n\n  //handle keyboard layout key presses\n  const onKeyPress = (button) => {\n    if (button === \"{ABC}\") {\n      setLayout(\"shift\");\n    } else if (button === \"{abc}\") {\n      setLayout(\"default\");\n    } else if (button === \"{+=#}\") {\n      setLayout(\"symbol\");\n    } else if (button === \"{123}\") {\n      setLayout(\"number\");\n    }\n    (button === \"{shift}\" || button === \"{lock}\") && handleShift();\n  };\n  const handleExpand = (panel) => {\n    setExpanded(panel);\n  };\n\n  //handle keyboard key presses for input keys\n  const onChangeInput = (event) => {\n    const input = event.target.value;\n    setInput(input);\n    keyboard.current.setInput(input);\n  };\n  console.log(setSnackMessage);\n  return (\n    <div className={classes.container}>\n      {!settingsScreen && (\n        <div className={classes.header}>\n          <IconButton\n            aria-label=\"back\"\n            onClick={() => {\n              setConnectWifi(() => null);\n              if (onGoBack) {\n                onGoBack();\n              }\n            }}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          <h2>Wi-Fi</h2>\n        </div>\n      )}\n      {loading && (\n        <>\n          <img\n            src={imgPrint}\n            style={{\n              width: 200,\n              height: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% - 100px)\"\n            }}\n          ></img>\n          <h4\n            style={{\n              width: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% + 120px)\",\n              textAlign: \"center\"\n            }}\n          >\n            Gathering Networks\n          </h4>\n        </>\n      )}\n      <List className={classes.wifiList}>\n        {wifiArr.map((network) => {\n          return (\n            <Accordion\n              expanded={expanded === network.ssid}\n              key={`${network.ssid}-list-item`}\n            >\n              <AccordionSummary classes={{ content: \"accordion-style\" }}>\n                <ListItem className={classes.item}>\n                  {network.ssid}\n                  <Button\n                    color={expanded === network.ssid ? \"secondary\" : \"primary\"}\n                    variant=\"contained\"\n                    onClick={() => {\n                      if (expanded === network.ssid) {\n                        setExpanded(() => false);\n                        setInput(\"\");\n                      } else {\n                        handleExpand(network.ssid);\n                      }\n                    }}\n                  >\n                    {expanded === network.ssid ? \"Close\" : \"Join\"}\n                  </Button>\n                </ListItem>\n              </AccordionSummary>\n              <AccordionDetails className={classes.accordion}>\n                <TextField\n                  id=\"standard-password-input\"\n                  label=\"Password\"\n                  type={maskPassword ? \"password\" : \"text\"}\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <RemoveRedEyeIcon onClick={passwordToggle} />\n                      </InputAdornment>\n                    )\n                  }}\n                />\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  onClick={() => {\n                    if (input.length > 0) {\n                      handleSubmit();\n                    } else {\n                      setSnackMessage(\"Password required\");\n                      setShowSnack(true);\n                    }\n                  }}\n                >\n                  Connect\n                </Button>\n              </AccordionDetails>\n            </Accordion>\n          );\n        })}\n      </List>\n      {connecting && (\n        <Backdrop className={classes.backdrop} open={connecting}>\n          <div className={classes.connecting}>\n            <h4>Connecting</h4>\n            <CircularProgress color=\"inherit\" />\n          </div>\n        </Backdrop>\n      )}\n      {expanded && (\n        <div className={classes.keyboard}>\n          <Keyboard\n            keyboardRef={(r) => (keyboard.current = r)}\n            layoutName={layout}\n            layout={{\n              default: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"a b c d e\",\n                \"f g h i j\",\n                \"k l m n o\",\n                \"p q r s t\",\n                \"u v w x y\",\n                \"z {space} {bksp}\"\n              ],\n              shift: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"A B C D E\",\n                \"F G H I J\",\n                \"K L M N O\",\n                \"P Q R S T\",\n                \"U V W X Y\",\n                \"Z {space} {bksp}\"\n              ],\n              symbol: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"! @ # $ %\",\n                \"^ & * ( )\",\n                \"~ ' _ - =\",\n                \"[ ] { } \\\\\",\n                \"| ; ' : ,\",\n                '\" < > ? .'\n              ],\n              number: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"1 2 3\",\n                \"4 5 6\",\n                \"7 8 9\",\n                \"$ 0 .\",\n                \"{space}\",\n                \"# {bksp}\"\n              ]\n            }}\n            display={{\n              \"{bksp}\": \"Backspace\",\n              \"{enter}\": \"Enter\",\n              \"{shift}\": \"Shift\",\n              \"{space}\": \"Space\",\n              \"{123}\": \"123\",\n              \"{ABC}\": \"ABC\",\n              \"{abc}\": \"abc\",\n              \"{+=#}\": \"+ = #\"\n            }}\n            onChange={onChange}\n            onKeyPress={onKeyPress}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WifiConnect;\n","import React from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  container: {\n    padding: \"32px\",\n    textAlign: \"center\",\n    \"& p\": {\n      fontSize: \"2.125rem\"\n    }\n  }\n});\nconst HotspotConnect = ({ setStep, setConnectWifi }) => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      <h2>\n        Your SSID is\n        <Typography color=\"secondary\" variant=\"body1\">\n          {window.location.hostname}\n        </Typography>\n      </h2>\n      <h2>\n        Your password is\n        <Typography color=\"secondary\" variant=\"body1\">\n          makermade\n        </Typography>\n      </h2>\n      <Grid item className={classes.buttonContainer}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={() => setConnectWifi(null)}\n        >\n          Back\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={() => setStep(1)}>\n          Next\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default HotspotConnect;\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Grid, Button, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport {\n  setStorage,\n  getStorage,\n  removeStorage\n} from \"../../../Utility/helpers\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport WifiConnect from \"./WifiConnect\";\nimport HotspotConnect from \"./HotspotConnect\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    \"& h2\": {\n      fontSize: \"28px\"\n    }\n  }\n});\nconst NetworkType = ({\n  setStep,\n  setSnackMessage,\n  setShowSnack,\n  handleSnackClose,\n  setNewType\n}) => {\n  const classes = useStyles();\n  const [connectWifi, setConnectWifi] = useState(null);\n  const [flowStep, setFlowStep] = useState(\"choose-overall\");\n  const [hotspotFollow, setHotspotFollow] = useState(null);\n\n  const handleClick = (val) => {\n    getStorage(\"networkProfile\").then(function(oldProfile) {\n      setStorage(\"networkProfile\", val);\n      setConnectWifi(val);\n      setNewType(val);\n\n      if (val === \"hotspot\") {\n        fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (oldProfile == \"hotspot\" && val === \"wifi\") {\n        fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (val === \"none\") {\n        setStep(1);\n      }\n    });\n  };\n  return (\n    <>\n      {connectWifi === null ? (\n        <>\n          <Grid\n            container\n            justify=\"space-between\"\n            alignItems=\"center\"\n            className={classes.header}\n          >\n            <h2>Network</h2>\n            <Button\n              aria-label=\"skip\"\n              endIcon={<ArrowForward />}\n              onClick={() => {\n                removeStorage(\"networkProfile\");\n                setStep(1);\n              }}\n            >\n              Skip\n            </Button>\n          </Grid>\n          {flowStep === \"choose-overall\" && (\n            <>\n              <Typography variant=\"h5\">\n                Do you want to connect this printer to the internet?\n              </Typography>\n              <OptionCard\n                title=\"Yes\"\n                onClick={() => {\n                  setStorage(\"internet\", true);\n                  setFlowStep(\"choose-internet\");\n                }}\n              />\n              <OptionCard\n                title=\"No\"\n                onClick={() => {\n                  setStorage(\"internet\", false);\n                  setFlowStep(\"choose-hotspot\");\n                }}\n              />\n            </>\n          )}\n          {flowStep === \"choose-internet\" && (\n            <>\n              <Typography variant=\"h5\">\n                How will this printer connect to the internet?\n              </Typography>\n              <OptionCard\n                title=\"Wi-Fi\"\n                onClick={() => {\n                  handleClick(\"wifi\");\n                }}\n              />\n              <OptionCard\n                title=\"Ethernet\"\n                onClick={() => {\n                  handleClick(\"ethernet\");\n                }}\n              />\n            </>\n          )}\n          {flowStep === \"choose-hotspot\" && (\n            <>\n              <Typography variant=\"h5\">\n                Would you like to activate the printer's wireless hotspot?\n              </Typography>\n              <Typography variant=\"h6\">\n                This allows you to remotely access and control the printer.\n              </Typography>\n              <OptionCard\n                title=\"Yes\"\n                onClick={() => {\n                  setStorage(\"hotspot\", true);\n                  handleClick(\"hotspot\");\n                }}\n              />\n              <OptionCard\n                title=\"No\"\n                onClick={() => {\n                  setStorage(\"hotspot\", false);\n                }}\n              />\n            </>\n          )}\n          <OptionCard title=\"Wi-Fi\" onClick={() => handleClick(\"wifi\")} />\n          <OptionCard title=\"Hotspot\" onClick={() => handleClick(\"hotspot\")} />\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => handleClick(\"ethernet\")}\n          />\n          <OptionCard title=\"None\" onClick={() => handleClick(\"none\")} />\n        </>\n      ) : connectWifi === \"wifi\" ? (\n        <WifiConnect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setConnectWifi={setConnectWifi}\n        />\n      ) : (\n        <HotspotConnect\n          setStep={setStep}\n          setConnectWifi={setConnectWifi}\n          type={connectWifi}\n        />\n      )}\n    </>\n  );\n};\n\nexport default NetworkType;\n","import React, { useState } from \"react\";\nimport { Button, Grid, CircularProgress, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport UpdateIcon from \"@material-ui/icons/Update\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\n\nconst useStyles = makeStyles({\n  checker: {\n    flex: 2,\n    \"& button\": {\n      width: \"200px\",\n      height: \"50px\",\n      fontSize: \"14px\"\n    }\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nconst Update = ({ autoCheck, handleOnboarding, firstBoot, setStep }) => {\n  const classes = useStyles();\n\n  const [checking, setChecking] = useState(false);\n  const [text, setText] = useState(\"Update device\");\n  const [updateChecked, setUpdateChecked] = useState(false);\n  const [updates, setUpdates] = useState(false);\n  const [checkDisabled, setCheckDisabled] = useState(false);\n  const [rebootMessage, setRebootMessage] = useState(false);\n\n  useMountEffect(() => {\n    if (autoCheck) {\n      handleCheck();\n    }\n  });\n  const handleCheck = () => {\n    if (firstBoot && updateChecked) {\n      setStep(2);\n    } else {\n      setText(\"Checking for updates...\");\n      setChecking(true);\n      //make api call\n      //await POST body to http://${window.location.hostname}:8990/connect\n      async function checkUpdates() {\n        // Default options are marked with *\n        const response = await fetch(\n          `http://${window.location.hostname}:2127/api/v1/update/software/check`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }\n        );\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n      checkUpdates().then((data) => {\n        console.log(data);\n        //after api call\n        if (data.update) {\n          setChecking(false);\n          //if updates present\n          setText(data.message);\n          setUpdates(true);\n          setUpdateChecked(true);\n        } else {\n          setChecking(false);\n          setText(data.message);\n          setUpdateChecked(true);\n        }\n      });\n    }\n  };\n  const handleDownload = () => {\n    //console.log(\"handleDownload state 1 of 6; Entry point\");\n    //await POST body to http://${window.location.hostname}:8990/connect\n    async function downloadUpdates() {\n      //console.log(\"handleDownload state 2 of 6; downloadUpdates called\");\n      // Default options are marked with *\n      const response = await fetch(\n        `http://${window.location.hostname}:2127/api/v1/update/software`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setChecking(true);\n    setText(\"Downloading, please wait...\");\n    setUpdates(false);\n    //call download api\n    downloadUpdates().then((data) => {\n      //console.log(\"handleDownload state 3 of 6; Await'd downloadUpdates\");\n      console.log(data);\n      //after api call\n      if (data.updated) {\n        //console.log(\"handleDownload state 4 of 6; data.updated === true\");\n        //after api call\n        setChecking(false);\n        //on success\n        setText(data.message);\n        setRebootMessage(true);\n        setCheckDisabled(true);\n\n        //console.log(\n        //  \"handleDownload state 5 of6 ; Waiting 3 seconds and then calling reboot\"\n        //);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          fetch(`http://${window.location.hostname}:8990/reboot`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n        }, 3000);\n      } else {\n        console.log(\"handleDownload state error of 6; Entry point\");\n        //on failure\n        setText(data.message);\n        setUpdates(true);\n        setCheckDisabled(false);\n        setChecking(false);\n      }\n    });\n  };\n  const handleSkip = () => {\n    setStep(2);\n  };\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{ height: \"100%\" }}\n    >\n      {!checkDisabled && firstBoot && (\n        <Button\n          style={{ alignSelf: \"flex-end\", marginTop: \"15px\" }}\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={handleSkip}\n        >\n          Skip\n        </Button>\n      )}\n\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.updateContainer}\n      >\n        {checking && <CircularProgress color=\"secondary\" />}\n        <UpdateIcon\n          style={{\n            fontSize: 100,\n            width: \"100%\",\n            textAlign: \"center\",\n            marginBottom: 20\n          }}\n        />\n        {text.length > 0 && (\n          <Typography variant=\"h3\" style={{\n            textAlign: \"center\",\n          }}>\n            {text}\n          </Typography>\n        )}\n        {rebootMessage && (\n          <div>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              Rebooting printer to apply update, this will take approximately 2\n              minutes.\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n            </Typography>\n          </div>\n        )}\n        {updates && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleDownload}\n            style={{ marginTop: \"24px\" }}\n          >\n            Download Update\n          </Button>\n        )}\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        className={classes.checker}\n      >\n        {!updates && !checking && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={checking || checkDisabled}\n            onClick={handleCheck}\n          >\n            {firstBoot && updateChecked ? \"Next\" : \"Check for Updates\"}\n          </Button>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Update;\n","const TutorialLayouts = {\n  ButtonSingle: \"single-button\",\n  AxisManipulation: \"axis-manipulation\",\n  ButtonMulti: \"multi-button\",\n  ThermalGate: \"thermal-gate\",\n  DualThermalGate: \"dual-thermal-gate\"\n};\n\nexport default TutorialLayouts;\n","import TutorialLayouts from \"./TutorialLayouts\";\n\nconst TutorialDefinitions = {\n  firstRun: {\n    userVisable: false,\n    name: \"Initial Setup\",\n    description: \"\",\n    exitActions: [\n      {\n        type: \"nozzletemp\",\n        params: [0]\n      },\n      {\n        type: \"bedtemp\",\n        params: [0]\n      }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"continue\", params: [] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [3] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [22] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [18] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [23] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      }\n    ]\n  },\n\n  blTouchCalibration: {\n    userVisable: true,\n    name: \"Calibrate BLTouch Sensor\",\n    description: \"Calibrate the z-offset with the BLTouch sensor.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text: `Make sure the print bed is clear and then tap \"Start\" to begin.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: `Calibration complete. Press \"Exit\" to finish this tutorial.`\n      }\n    ]\n  },\n\n  bedLevelCornerCalibration: {\n    userVisable: true,\n    name: \"Level the printing bed corners\",\n    description: \"Level the printing bed corners sequentially.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"home\", params: [] },\n          { type: \"movexy\", params: [150, 150] }\n        ],\n        text: `Place a sheet of printer paper on the center of the print bed. Ensure the bed is clear of anything else and then press \"Start\". The nozzle will move to the center of the print bed.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it does in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [1] }]\n          },\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [\n              { type: \"bl_level\", params: [] },\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [\n          { type: \"exit\", params: [] }\n        ],\n        text: \"The leveling process is complete.\"\n      }\n    ]\n  },\n  loadFilament: {\n    userVisable: true,\n    name: \"Load Filament\",\n    description: \"The steps required to load a new filament into the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now loaded! If you are not ready to print now, press the \"Cooldown\" button so the printer\\'s extruder does not remain hot. If you are about to print something, press the \"Exit\" button to leave this tutorial while keeping the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  unloadFilament: {\n    userVisable: true,\n    name: \"Unload Filament\",\n    description:\n      \"The steps required to remove a previously loaded filament from the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          'To unload filament from the printer, the nozzle must be preheated because the filament is solid at room temperature and is consequently stuck inside the extruder.%BREAK%Press \"Preheat\" to start preheating the extruder to 220 °C.%BREAK%Remember that it will be hot, so don\\'t touch it!'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To unload the filament, squeeze the silver lever next to the gears and push the filament until you see it coming out of the end of the nozzle. Then, pull the filament out of the tube in one fluid motion. This enures that the end is fully melted and will make it easier to remove from the Bowden tube.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now unloaded! Rewrap the filament around the roll and put the end into the storage slot on the side.%BREAK%If you are not going to load a new filament into the machine, press the \"Cooldown\" button so the extruder does not stay hot.%BREAK%If you are going to load another filament into the machine, pressing \"Exit\" will exit this tutorial while leaving the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  printTestCube: {\n    userVisable: true,\n    name: \"Test Print\",\n    description:\n      \"Print a small object to test the functionality of your printer\",\n    exitActions: [\n      { type: \"nozzletemp\", params: [0] },\n      { type: \"bedtemp\", params: [0] }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [4] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      }\n    ]\n  }\n};\n\nexport default TutorialDefinitions;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction TutorialThermometer(props) {\n  return (\n    <div className=\"big-thermometer\">\n      <div className=\"big-thermometer-container\">\n        <div className=\"big-thermometer-bulb-container\"></div>\n        <div className=\"big-thermometer-indicator-container\">\n          <div\n            className=\"big-thermometer-indicator\"\n            style={{\n              height: `${\n                15 + 85 * ((props.value - props.min) / (props.max - props.min))\n              }%`\n            }}\n          ></div>\n          <div className=\"big-thermometer-bulb\">\n            <span>{props.value}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TutorialThermometer;\n","class GCodeBuilder {\n  constructor() {\n    this._actions = [];\n  }\n\n  build() {\n    let retString = \"\";\n    for (let i = 0; i < this._actions.length; i++) {\n      retString += this._actions[i] + \"\\n\";\n    }\n    return retString;\n  }\n\n  addCommand(command) {\n    this._actions.push(command);\n  }\n}\n\nfunction GSetZProbeOffset(offset) {\n  return `M851 Z${offset}`;\n}\n\nfunction GStoreParams() {\n  return `M500`;\n}\n\nfunction GLoadParams() {\n  return `M501`;\n}\n\nfunction Home() {\n  return `G28`;\n}\n\nfunction BlLevel() {\n  return `G29 T`;\n}\n\n/**\n *\n * @param {Boolean} x Home the X axis?\n * @param {Boolean} y Home the Y axis?\n * @param {Boolean} z Home the Z axis?\n */\nfunction GMoveToOrigin(x, y, z) {\n  if (x && y && z) {\n    return `G28`;\n  } else {\n    return `G28${x ? \"X \" : \"\"}${y ? \"Y \" : \"\"}${x ? \"Z \" : \"\"}`;\n  }\n}\n\nfunction GSetToAbsolutePositioning() {\n  return \"G90\";\n}\n\nfunction GSetSoftwareEndstops(enabled) {\n  if (enabled) {\n    return \"M211 S1\";\n  } else {\n    return \"M211 S0\";\n  }\n}\n\nfunction GLinearMove(doX, doY, doZ, xPos, yPos, zPos) {\n  if (doX || doY || doZ) {\n    return `G1${doX ? ` X${xPos}` : \"\"}${doY ? ` Y${yPos}` : \"\"}${\n      doZ ? ` Z${zPos}` : \"\"\n    }`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GSetExtruderTemp(temp) {\n  return `M104 S${temp}`;\n}\n\nfunction GSetBedTemp(temp) {\n  return `M140 S${temp}`;\n}\n\nexport {\n  GCodeBuilder,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  Home,\n  BlLevel,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp\n};\n","import React from \"react\";\nconst TempContext = React.createContext({\n  bedTarget: 0,\n  nozzleTarget: 0,\n  bed: 0,\n  nozzle: 0,\n  setBedTarget: (temp) => {},\n  setNozzleTarget: (temp) => {},\n  setBed: (temp) => {},\n  setNozzle: (temp) => {}\n});\n\nexport default TempContext;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport TutorialLayouts from \"../TutorialLayouts\";\nimport {\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  AppBar\n} from \"@material-ui/core\";\nimport { ArrowDownward, ArrowUpward, CloseSharp } from \"@material-ui/icons\";\nimport TutorialThermometer from \"../TutorialThermometer/TutorialThermometer\";\nimport {\n  GCodeBuilder,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  Home,\n  BlLevel\n} from \"../GCodeBuilder\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst styles = (theme) => ({\n  tutorialWindow: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1250,\n    backgroundColor: \"#303030\"\n  },\n  tutorialButton: {\n    // backgroundColor: \"rgb(42, 57, 131)\",\n    fontSize: \"20px\"\n  },\n  tutorialCloseButton: {\n    float: \"right\",\n    marginRight: -8\n  },\n  tutorialText: {\n    fontSize: \"20px\"\n  },\n  tutorialContainer: {\n    padding: \"8px\",\n    height: \"calc(100% - 48px)\"\n  },\n  tutorialHeading: {\n    paddingTop: \"8px\"\n  },\n  layoutSingleGrid: {\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\"\n  },\n  layoutSingleGridText: {\n    // height: \"50%\"\n    flexGrow: 1\n  },\n  layoutSingleGridButton: {\n    height: \"80px\",\n    textAlign: \"center\"\n  },\n  layoutSingleGridTop: {\n    height: \"50px\"\n  },\n  layoutSingleGridAxisControl: {\n    height: \"550px\"\n  },\n  layoutSingleGridThermalControl: {\n    height: \"550px\"\n  },\n  axisButton: {\n    marginTop: \"2px\",\n    marginBottom: \"2px\",\n    fontSize: \"20px\",\n    textTransform: \"none\",\n    width: \"120px\"\n  },\n  thermoLabel: {\n    textAlign: \"center\",\n    fontSize: \"26px\"\n  }\n});\n\nclass Tutorial extends React.Component {\n  constructor(props) {\n    super(props);\n    this.evTutorialClose =\n      props.onTutorialClose ||\n      (() => {\n        console.log(\"Unhandled tutorial close event\");\n      });\n    this.state = {\n      tutorialId: this.props.tutorialName || null,\n      tutorialReady: false,\n      currentStep: 0,\n      exitWarning: false\n    };\n    this.tutorial = null;\n    this.offset = 0;\n  }\n\n  static contextType = TempContext;\n\n  componentDidMount() {\n    if (this.state.tutorialId && TutorialDefinitions[this.state.tutorialId]) {\n      this.tutorial = TutorialDefinitions[this.state.tutorialId];\n      this.setState({ tutorialReady: true, currentStep: 0 });\n    } else {\n      console.log(\n        `Unknown tutorial id \"${this.state.tutorialId}\", closing tutorial`\n      );\n      this.evTutorialClose();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.tutorial) {\n      const currentStep = this.tutorial.steps[this.state.currentStep];\n      if (currentStep.layout === TutorialLayouts.ThermalGate) {\n        //We only need to trigger ThermalGates when they are displayed\n      }\n    }\n  }\n\n  attemptExitActions() {\n    this.processButtonActions(this.tutorial.exitActions);\n  }\n\n  attemptCloseTutorial(reason) {\n    if (\n      this.state.currentStep === 0 ||\n      this.currentStep === this.tutorial.steps.length - 1\n    ) {\n      //This is the first or last step of the tutorial, so we can just close without any warnings\n      this.evTutorialClose(reason);\n    } else {\n      //The tutorial is in-progress, confirm that the user really wishes to exit\n      this.setState({ exitWarning: true });\n    }\n  }\n\n  attemptAxisMove(axis, amount) {\n    console.log(`Attempting to move on the ${axis} axis by ${amount}mm`);\n    if (axis.toLowerCase() === \"z\") {\n      this.offset += amount;\n      let codeBuilder = new GCodeBuilder();\n      codeBuilder.addCommand(GSetToAbsolutePositioning());\n      codeBuilder.addCommand(\n        GLinearMove(false, false, true, null, null, this.offset)\n      );\n      this.sendGcode(codeBuilder.build());\n    }\n  }\n\n  attemptHome() {\n    console.log(`Attempting to home`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(Home());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptBlLevel() {\n    console.log(`Attempting to BL Level`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(BlLevel());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptXYMoveTo(x, y) {\n    console.log(`Attempting to move print head to x:${x}, y: ${y}`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 30));\n    codeBuilder.addCommand(GLinearMove(true, true, true, x, y, 0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptZOffsetStart() {\n    console.log(`Attempting to start z offset process`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetZProbeOffset(0.0));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetSoftwareEndstops(false));\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 0.0));\n    this.sendGcode(codeBuilder.build());\n    this.offset = 0;\n  }\n\n  attemptSaveZOffset() {\n    console.log(`Attempting to save z offset`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetZProbeOffset(this.offset));\n    codeBuilder.addCommand(GSetSoftwareEndstops(true));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetBedTemp(temp) {\n    console.log(`Attempting to set bed temperature to ${temp} °C`);\n    this.context.setBedTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetBedTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetExtruderTemp(temp) {\n    console.log(`Attempting to set extruder temperature to ${temp} °C`);\n    this.context.setNozzleTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetExtruderTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptTestPrint() {\n    fetch(\n      `http://${window.location.hostname}:2127/api/v1/job/BLTouchCalibrationTest.gcode`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }\n    );\n  }\n\n  tutorialButtonPressed(id) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    if (\n      currentStep.layout === TutorialLayouts.ButtonSingle ||\n      currentStep.layout === TutorialLayouts.AxisManipulation ||\n      currentStep.layout === TutorialLayouts.ThermalGate ||\n      currentStep.layout === TutorialLayouts.DualThermalGate\n    ) {\n      this.processButtonActions(currentStep.buttonActions);\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      this.processButtonActions(\n        currentStep.buttons.find((b) => {\n          return b.id === id;\n        }).buttonActions\n      );\n    } else {\n      //Do correct button selection logic\n    }\n  }\n\n  sendGcode(gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  }\n\n  processButtonActions(actions) {\n    for (const action of actions) {\n      switch (action.type) {\n        case \"continue\":\n          this.actionContinue();\n          break;\n        case \"home\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptHome();\n          break;\n        case \"bl_level\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptBlLevel();\n          break;\n        case \"movexy\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptXYMoveTo(action.params[0], action.params[1]);\n          break;\n        case \"jumpto\":\n          this.actionJumpTo(action.params[0]);\n          break;\n        case \"exit\":\n          this.evTutorialClose(\n            action.params.length > 0 ? action.params[0] : \"\"\n          );\n          break;\n        case \"savezoffset\":\n          //Attempt to set the z offset from the current z position\n          this.attemptSaveZOffset();\n          break;\n        case \"nozzletemp\":\n          //Attempt to set extruder temp\n          this.attemptSetExtruderTemp(action.params[0]);\n          break;\n        case \"bedtemp\":\n          //Attempt to set bed temperature\n          this.attemptSetBedTemp(action.params[0]);\n          break;\n        case \"printtest\":\n          //Attempt to print test article\n          this.attemptTestPrint();\n          break;\n        case \"zoffsetstart\":\n          //Zero out the printer to start zoffset\n          this.attemptZOffsetStart();\n          break;\n        default:\n          console.log(\n            `Warning! Unhandled tutorial action type: \"${action.type}\"`\n          );\n      }\n    }\n  }\n\n  /**\n   * Attempts to continue to the next tutorial step\n   */\n  actionContinue() {\n    if (this.state.currentStep < this.tutorial.steps.length - 1) {\n      this.setState({ currentStep: this.state.currentStep + 1 });\n    }\n  }\n\n  /**\n   * Jumps the tutorial back (or forward) to a specific step\n   * @param {Number} step The index of the step\n   */\n  actionJumpTo(step) {\n    this.setState({ currentStep: step });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.tutorialWindow}>\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ paddingLeft: 8 }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        {this.state.tutorialReady && (\n          <Container className={classes.tutorialContainer}>\n            <Grid container>\n              <Grid item xs={10}>\n                <Typography variant=\"h5\" className={classes.tutorialHeading}>\n                  {this.tutorial.name}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <IconButton\n                  className={classes.tutorialCloseButton}\n                  onClick={() => {\n                    this.attemptCloseTutorial(\n                      this.props.firstBoot ? \"skip\" : null\n                    );\n                  }}\n                >\n                  <CloseSharp />\n                </IconButton>\n              </Grid>\n            </Grid>\n            {this.renderTutorialPage(classes)}\n          </Container>\n        )}\n        <Dialog open={this.state.exitWarning}>\n          <DialogTitle>Exit Tutorial</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Are you sure you want to exit this tutorial?\n            </DialogContentText>\n            <DialogActions>\n              <Button\n                onClick={() => {\n                  this.attemptExitActions();\n                  this.evTutorialClose();\n                }}\n              >\n                Yes\n              </Button>\n              <Button\n                autoFocus\n                onClick={() => {\n                  this.setState({ exitWarning: false });\n                }}\n              >\n                No\n              </Button>\n            </DialogActions>\n          </DialogContent>\n        </Dialog>\n      </div>\n    );\n  }\n\n  renderTutorialPage(classes) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n\n    if (currentStep.layout === TutorialLayouts.ButtonSingle) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.AxisManipulation) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridAxisControl}>\n            <Grid container justify=\"center\">\n              {currentStep.axisX && this.renderAxisControl(\"X\", classes)}\n              {currentStep.axisY && this.renderAxisControl(\"Y\", classes)}\n              {currentStep.axisZ && this.renderAxisControl(\"Z\", classes)}\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Grid container justify=\"space-around\">\n              {currentStep.buttons.map((button) => {\n                return (\n                  <Grid item xs={6}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"contained\"\n                      className={classes.tutorialButton}\n                      onClick={() => {\n                        this.tutorialButtonPressed(button.id);\n                      }}\n                      id={button.id}\n                    >\n                      {button.buttonText}\n                    </Button>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <TutorialThermometer\n                min={0}\n                max={400}\n                value={this.context.nozzle}\n              ></TutorialThermometer>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={!(this.context.nozzle >= currentStep.minimumTemp)}\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.DualThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumExtruderTemp &&\n            this.context.bed >= currentStep.minimumBedTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.bed}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Bed\n                </Typography>\n              </Grid>\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.nozzle}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Extruder\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={\n                !(\n                  this.context.nozzle >= currentStep.minimumExtruderTemp &&\n                  this.context.bed >= currentStep.minimumBedTemp\n                )\n              }\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  renderAxisControl(axis, classes) {\n    return (\n      <Grid item container direction=\"column\" alignItems=\"center\" xs={4}>\n        <Grid item>\n          <IconButton disabled>\n            <ArrowUpward></ArrowUpward>\n          </IconButton>\n          {/* <Button disabled>\n            {(axis === \"X\" && \"Left\") ||\n              (axis === \"Y\" && \"Further\") ||\n              (axis === \"Z\" && \"Up\")}\n          </Button> */}\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, 1.0);\n            }}\n          >\n            +1.0mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, 0.1);\n            }}\n          >\n            +0.1mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, 0.05);\n            }}\n          >\n            +0.05mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, 0.01);\n            }}\n          >\n            +0.01mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button disabled>{axis}</Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, -0.01);\n            }}\n          >\n            -0.01mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, -0.05);\n            }}\n          >\n            -0.05mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, -0.1);\n            }}\n          >\n            -0.1mm\n          </Button>\n        </Grid>\n        <Grid item>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            className={classes.axisButton}\n            onClick={() => {\n              this.attemptAxisMove(axis, -1.0);\n            }}\n          >\n            -1.0mm\n          </Button>\n        </Grid>\n        <Grid item>\n          {/* <Button disabled>\n            {(axis === \"X\" && \"Right\") ||\n              (axis === \"Y\" && \"Closer\") ||\n              (axis === \"Z\" && \"Down\")}\n          </Button> */}\n          <IconButton disabled>\n            <ArrowDownward></ArrowDownward>\n          </IconButton>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorial);\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport HotspotConnect from \"../NetworkType/HotspotConnect\";\nimport {\n  setStorage,\n  getStorage,\n  removeStorage\n} from \"../../../Utility/helpers\";\nimport WifiConnect from \"../NetworkType/WifiConnect\";\nimport {\n  ArrowForward,\n  Language,\n  SettingsInputHdmi,\n  SettingsRemote\n} from \"@material-ui/icons\";\n\nclass NetworkSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stage: \"internet-enable\",\n      enableInternet: false,\n      selectedInterface: null,\n      enableHotspot: false\n    };\n  }\n\n  complete() {\n    setStorage(\"hotspot\", this.state.enableHotspot);\n    setStorage(\"internet\", this.state.enableInternet);\n    setStorage(\"networkProfile\", this.state.selectedInterface);\n    // if (this.state.enableHotspot) {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // } else {\n    //   fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   });\n    // }\n    if (this.props.setNewType) {\n      this.props.setNewType(this.state.selectedInterface);\n      this.props.setStep(0);\n    } else {\n      if (this.state.enableInternet) {\n        this.props.setStep(1);\n      } else {\n        this.props.setStep(2);\n      }\n    }\n  }\n\n  render() {\n    if (this.state.stage === \"internet-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to connect this printer to the internet?\n          </Typography>\n\n          <Typography variant=\"h6\">\n            Connecting to the internet enables updates.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableInternet: true, stage: \"internet-select\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.setState({\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"internet-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            How would you like to connect this printer?\n          </Typography>\n          <OptionCard\n            title=\"Wi-Fi\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"wifi\",\n                stage: \"wifi-select\"\n              });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"ethernet\",\n                stage: \"ethernet-check\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"ethernet-check\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsInputHdmi\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Please verify that the ethernet cable is properly connected to your\n            device.\n          </Typography>\n          <OptionCard\n            title=\"Done\"\n            onClick={() => {\n              this.setState({ stage: \"hotspot-enable\" });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"wifi-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <WifiConnect\n            setStep={(step) => {\n              this.complete();\n            }}\n            setShowSnack={this.props.setShowSnack}\n            setSnackMessage={this.props.setSnackMessage}\n            handleSnackClose={this.props.handleSnackClose}\n            setConnectWifi={() => {}}\n            onGoBack={() => {\n              this.setState({ stage: \"internet-select\" });\n            }}\n          ></WifiConnect>\n        </>\n      );\n    }\n\n    if (this.state.stage === \"hotspot-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsRemote\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to enable the printer's wireless hotspot?\n          </Typography>\n          <Typography variant=\"h6\">\n            This allows you to remotely connect/control your printer.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableHotspot: true, stage: \"config-hotspot\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.complete();\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"config-hotspot\") {\n      return (\n        <HotspotConnect\n          setStep={() => {\n            this.complete();\n          }}\n          setConnectWifi={() => {}}\n        />\n      );\n    }\n  }\n\n  renderHeader() {\n    return (\n      <Grid\n        container\n        justify=\"space-between\"\n        alignItems=\"center\"\n        style={{ display: \"flex\", marginBottom: 20 }}\n      >\n        <h2 style={{ fontSize: 28 }}>Network</h2>\n        <Button\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={() => {\n            this.setState(\n              {\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              },\n              () => {\n                this.complete();\n              }\n            );\n          }}\n        >\n          Skip\n        </Button>\n      </Grid>\n    );\n  }\n}\n\n// setStep={setStep}\n// setShowSnack={setShowSnack}\n// setSnackMessage={setSnackMessage}\n// handleSnackClose={handleSnackClose}\n// setConnectWifi={setConnectWifi}\n// />\n\nexport default NetworkSelect;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport PrinterType from \"./PrinterType/PrinterType\";\nimport NetworkSettings from \"./NetworkType/NetworkSettings\";\nimport NetworkType from \"./NetworkType/NetworkType\";\nimport UserLevel from \"./UserLevel/UserLevel\";\nimport Update from \"../Menu/MenuTabs/Update\";\nimport Tutorial from \"../Tutorials/Tutorial/Tutorial\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport NetworkSelect from \"./NetworkSelect/NetworkSelect\";\nconst useStyles = makeStyles({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  welcome: {\n    textAlign: \"center\",\n    height: \"100%\",\n    \"& h2\": {\n      fontSize: \"92px\"\n    },\n    \"& h3\": {\n      fontSize: \"32px\",\n      marginTop: \"16px\"\n    }\n  }\n});\nconst Setup = ({ handleOnboarding }) => {\n  const classes = useStyles();\n\n  const [step, setStep] = useState(null);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  return (\n    <Container className={classes.container}>\n      {step === null && (\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-around\"\n          alignItems=\"center\"\n          spacing={3}\n          className={classes.welcome}\n        >\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Typography variant=\"h2\">Welcome</Typography>\n            <Typography variant=\"h3\">Let's get you set up</Typography>\n          </Grid>\n          <Grid\n            item\n            container\n            alignItems=\"flex-start\"\n            justify=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              color=\"secondary\"\n              style={{ width: \"190px\", height: \"65px\", fontSize: \"18px\" }}\n              onClick={() => setStep(0)}\n            >\n              Get Started\n            </Button>\n          </Grid>\n        </Grid>\n      )}\n      {step === 0 && (\n        <NetworkSelect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n        />\n        // <NetworkType\n        //   setStep={setStep}\n        //   setShowSnack={setShowSnack}\n        //   setSnackMessage={setSnackMessage}\n        //   handleSnackClose={handleSnackClose}\n        //   setNewType={() => {}}\n        // />\n      )}\n      {step === 1 && (\n        <Update\n          autoCheck={false}\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n        />\n      )}\n      {step === 2 && <PrinterType setStep={setStep} />}\n      {step === 3 && (\n        <NetworkSettings\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setNewType={() => {}}\n        />\n      )}\n      {step === 4 && (\n        <UserLevel handleOnboarding={handleOnboarding} setStep={setStep} />\n      )}\n      {step === 5 && (\n        <Tutorial\n          tutorialName=\"bedLevelCornerCalibration\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            setStep(6);\n          }}\n        />\n      )}\n      {step === 6 && (\n        <Tutorial\n          tutorialName=\"loadFilament\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            handleOnboarding(getStorage(\"userMode\"));\n          }}\n        />\n      )}\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </Container>\n  );\n};\n\nexport default Setup;\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nimport './TabList.css';\nconst TabList = ({ tabList, handleTabClick, activeTab, disabledNav }) => {\n  return (\n    <Tabs value={activeTab} onChange={handleTabClick} centered>\n      {tabList.map((tab) => (\n        <Tab\n          style={{ height: '70px', fontSize: '20px', minWidth: '140px' }}\n          label={tab}\n          key={`tab - ${tab}`}\n          disabled={disabledNav}\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nexport default TabList;\n","import React, { useState, useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Container, Grid, Typography } from \"@material-ui/core\";\nimport { Button, LinearProgress } from \"@material-ui/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPause, faPlay, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport { PlayArrow, Pause, Stop } from \"@material-ui/icons\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport TutorialThermometer from \"../../Tutorials/TutorialThermometer/TutorialThermometer\";\nimport TempContext from \"../../../TempContext\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  camera: {\n    width: \"100%\",\n    border: \"2px solid white\",\n    borderRadius: 5\n  }\n});\n\nvar toHHMMSS = (secs) => {\n  if(secs) {\n    var sec_num = parseInt(secs, 10)\n    var hours   = Math.floor(sec_num / 3600)\n    var minutes = Math.floor(sec_num / 60) % 60\n    var seconds = sec_num % 60\n\n    return [hours,minutes,seconds]\n        .map(v => v < 10 ? \"0\" + v : v)\n        .filter((v,i) => v !== \"00\" || i > 0)\n        .join(\":\");\n  } else {\n    return \"calculating...\";\n  }\n}\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst PrintStatus = ({\n  lastMessage,\n  progressState,\n  setDisabledNav,\n  state,\n  statusText,\n  fileName\n}) => {\n  const classes = useStyles();\n  const [paused, setPaused] = useState(false);\n  const [camEnabled, setCamEnabled] = useState(false);\n  const [value, setValue] = useState(0);\n  const [elapsed, setElapsed] = useState(\"\");\n  const [remaining, setRemaining] = useState(\"\");\n  const cameraFeedUrl = `http://${window.location.hostname}:8090/?action=snapshot`;\n  const cameraFallbackUrl = 'no-signal.gif';\n  const [cameraUrl, setCameraUrl] = useState(cameraFallbackUrl);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  useMountEffect(() => {\n    imageExists(cameraUrl, function(exists) {\n      if(exists) {\n        setCameraUrl(cameraFeedUrl);\n      } else {\n        setCameraUrl(cameraFallbackUrl);\n      }\n    });\n      setCamEnabled(() => getStorage(\"camEnabled\"));\n  });\n\n  useEffect(() => {\n    if (progressState.completion !== value) {\n      setValue(progressState.completion);\n      setElapsed(toHHMMSS(progressState.printTime));\n      setRemaining(toHHMMSS(progressState.printTimeLeft));\n      console.log(value);\n    }\n  }, [progressState]);\n\n  return (\n    <>\n      <Container>\n        <Typography\n          variant=\"h5\"\n          style={{ marginTop: 35, width: \"100%\", textAlign: \"center\" }}\n        >\n          {statusText}: {fileName}\n        </Typography>\n        <div className=\"print-status-bar\" style={{ marginTop: 25 }}>\n          <BorderLinearProgress variant=\"determinate\" value={value} />\n          <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={4}  style={{textAlign: \"left\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {elapsed}\n          </Typography>\n          </Grid>\n          <Grid item xs={4}  style={{textAlign: \"center\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {value ? value.toFixed(1) : \"0\"}%\n          </Typography>\n          </Grid>\n          <Grid item xs={4} style={{textAlign: \"right\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {remaining}\n          </Typography>\n          </Grid>\n          </Grid>\n        </div>\n        <div>\n        <Grid container alignItems=\"center\">\n        <Grid item xs={getStorage(\"camEnabled\") ? 6 : 12} alignItems=\"center\">\n          <TempContext.Consumer>\n            {({ bed, nozzle, bedTarget, nozzleTarget }) => (\n              <Grid container alignItems=\"center\" style={{ justifyContent: \"space-around\" }}>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={120} value={bed} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {bedTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Bed\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        onClick={() => {\n                          setPaused((prevState) => !prevState);\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"PATCH\",\n                            headers: { \"Content-Type\": \"application/json\" },\n                            body: JSON.stringify({\n                              file: state.files[state.file]\n                            })\n                          });\n                        }}\n                        startIcon={!paused ? <Pause /> : <PlayArrow />}\n                      >\n                        {!paused ? \"Pause\" : \"Play\"}\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n                <Grid item container xs={3} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={300} value={nozzle} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {nozzleTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Nozzle\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        onClick={() => {\n                          fetch(`http://${window.location.hostname}:2127/api/v1/job`, {\n                            method: \"DELETE\",\n                            headers: { \"Content-Type\": \"application/json\" },\n                            body: JSON.stringify({\n                              file: state.files[state.file]\n                            })\n                          });\n                        }}\n                        startIcon={<Stop />}\n                      >\n                        Stop\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n              </Grid>\n            )}\n          </TempContext.Consumer>\n        </Grid>\n        {camEnabled === 'enabled' && (\n          <Grid item xs={6} style={{ display: camEnabled ? 'block' : 'none' }}>\n            <img src={cameraUrl} className={classes.camera} />\n          </Grid>\n        )}\n        </Grid>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nconst BorderLinearProgress = withStyles((theme) => ({\n  root: {\n    height: 14,\n    borderRadius: 7\n  },\n  colorPrimary: {\n    backgroundColor: \"#606060\"\n  },\n  bar: {\n    borderRadius: 7,\n    backgroundColor: \"#ACC12F\"\n  }\n}))(LinearProgress);\n\nexport default PrintStatus;\n","import {\n  BufferAttribute,\n  BufferGeometry,\n  FileLoader,\n  Float32BufferAttribute,\n  Loader,\n  LoaderUtils,\n  Vector3\n} from \"three\";\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * var mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  var materials = [];\n *  var nGeometryGroups = geometry.groups.length;\n *\n *  var colorMap = ...; // Some logic to index colors.\n *\n *  for (var i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tvar material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  var mesh = new THREE.Mesh(geometry, materials);\n */\n\nvar STLLoader = function (manager) {\n  Loader.call(this, manager);\n};\n\nSTLLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n  constructor: STLLoader,\n\n  load: function (url, onLoad, onProgress, onError) {\n    var scope = this;\n\n    var loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"arraybuffer\");\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n\n    loader.load(\n      url,\n      function (text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      },\n      onProgress,\n      onError\n    );\n  },\n\n  parse: function (data) {\n    function isBinary(data) {\n      var expect, face_size, n_faces, reader;\n      reader = new DataView(data);\n      face_size = (32 / 8) * 3 + (32 / 8) * 3 * 3 + 16 / 8;\n      n_faces = reader.getUint32(80, true);\n      expect = 80 + 32 / 8 + n_faces * face_size;\n\n      if (expect === reader.byteLength) {\n        return true;\n      }\n\n      // An ASCII STL data must begin with 'solid ' as the first six bytes.\n      // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n      // plentiful.  So, check the first 5 bytes for 'solid'.\n\n      // Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n      // https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n      // Search for \"solid\" to start anywhere after those prefixes.\n\n      // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n      var solid = [115, 111, 108, 105, 100];\n\n      for (var off = 0; off < 5; off++) {\n        // If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n\n        if (matchDataViewAt(solid, reader, off)) return false;\n      }\n\n      // Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n      return true;\n    }\n\n    function matchDataViewAt(query, reader, offset) {\n      // Check if each byte in query matches the corresponding byte from the current offset\n\n      for (var i = 0, il = query.length; i < il; i++) {\n        if (query[i] !== reader.getUint8(offset + i, false)) return false;\n      }\n\n      return true;\n    }\n\n    function parseBinary(data) {\n      var reader = new DataView(data);\n      var faces = reader.getUint32(80, true);\n\n      var r,\n        g,\n        b,\n        hasColors = false,\n        colors;\n      var defaultR, defaultG, defaultB, alpha;\n\n      // process STL header\n      // check for default color in header (\"COLOR=rgba\" sequence).\n\n      for (var index = 0; index < 80 - 10; index++) {\n        if (\n          reader.getUint32(index, false) == 0x434f4c4f /*COLO*/ &&\n          reader.getUint8(index + 4) == 0x52 /*'R'*/ &&\n          reader.getUint8(index + 5) == 0x3d /*'='*/\n        ) {\n          hasColors = true;\n          colors = new Float32Array(faces * 3 * 3);\n\n          defaultR = reader.getUint8(index + 6) / 255;\n          defaultG = reader.getUint8(index + 7) / 255;\n          defaultB = reader.getUint8(index + 8) / 255;\n          alpha = reader.getUint8(index + 9) / 255;\n        }\n      }\n\n      var dataOffset = 84;\n      var faceLength = 12 * 4 + 2;\n\n      var geometry = new BufferGeometry();\n\n      var vertices = new Float32Array(faces * 3 * 3);\n      var normals = new Float32Array(faces * 3 * 3);\n\n      for (var face = 0; face < faces; face++) {\n        var start = dataOffset + face * faceLength;\n        var normalX = reader.getFloat32(start, true);\n        var normalY = reader.getFloat32(start + 4, true);\n        var normalZ = reader.getFloat32(start + 8, true);\n\n        if (hasColors) {\n          var packedColor = reader.getUint16(start + 48, true);\n\n          if ((packedColor & 0x8000) === 0) {\n            // facet has its own unique color\n\n            r = (packedColor & 0x1f) / 31;\n            g = ((packedColor >> 5) & 0x1f) / 31;\n            b = ((packedColor >> 10) & 0x1f) / 31;\n          } else {\n            r = defaultR;\n            g = defaultG;\n            b = defaultB;\n          }\n        }\n\n        for (var i = 1; i <= 3; i++) {\n          var vertexstart = start + i * 12;\n          var componentIdx = face * 3 * 3 + (i - 1) * 3;\n\n          vertices[componentIdx] = reader.getFloat32(vertexstart, true);\n          vertices[componentIdx + 1] = reader.getFloat32(vertexstart + 4, true);\n          vertices[componentIdx + 2] = reader.getFloat32(vertexstart + 8, true);\n\n          normals[componentIdx] = normalX;\n          normals[componentIdx + 1] = normalY;\n          normals[componentIdx + 2] = normalZ;\n\n          if (hasColors) {\n            colors[componentIdx] = r;\n            colors[componentIdx + 1] = g;\n            colors[componentIdx + 2] = b;\n          }\n        }\n      }\n\n      geometry.setAttribute(\"position\", new BufferAttribute(vertices, 3));\n      geometry.setAttribute(\"normal\", new BufferAttribute(normals, 3));\n\n      if (hasColors) {\n        geometry.setAttribute(\"color\", new BufferAttribute(colors, 3));\n        geometry.hasColors = true;\n        geometry.alpha = alpha;\n      }\n\n      return geometry;\n    }\n\n    function parseASCII(data) {\n      var geometry = new BufferGeometry();\n      var patternSolid = /solid([\\s\\S]*?)endsolid/g;\n      var patternFace = /facet([\\s\\S]*?)endfacet/g;\n      var faceCounter = 0;\n\n      var patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/\n        .source;\n      var patternVertex = new RegExp(\n        \"vertex\" + patternFloat + patternFloat + patternFloat,\n        \"g\"\n      );\n      var patternNormal = new RegExp(\n        \"normal\" + patternFloat + patternFloat + patternFloat,\n        \"g\"\n      );\n\n      var vertices = [];\n      var normals = [];\n\n      var normal = new Vector3();\n\n      var result;\n\n      var groupCount = 0;\n      var startVertex = 0;\n      var endVertex = 0;\n\n      while ((result = patternSolid.exec(data)) !== null) {\n        startVertex = endVertex;\n\n        var solid = result[0];\n\n        while ((result = patternFace.exec(solid)) !== null) {\n          var vertexCountPerFace = 0;\n          var normalCountPerFace = 0;\n\n          var text = result[0];\n\n          while ((result = patternNormal.exec(text)) !== null) {\n            normal.x = parseFloat(result[1]);\n            normal.y = parseFloat(result[2]);\n            normal.z = parseFloat(result[3]);\n            normalCountPerFace++;\n          }\n\n          while ((result = patternVertex.exec(text)) !== null) {\n            vertices.push(\n              parseFloat(result[1]),\n              parseFloat(result[2]),\n              parseFloat(result[3])\n            );\n            normals.push(normal.x, normal.y, normal.z);\n            vertexCountPerFace++;\n            endVertex++;\n          }\n\n          // every face have to own ONE valid normal\n\n          if (normalCountPerFace !== 1) {\n            console.error(\n              \"THREE.STLLoader: Something isn't right with the normal of face number \" +\n                faceCounter\n            );\n          }\n\n          // each face have to own THREE valid vertices\n\n          if (vertexCountPerFace !== 3) {\n            console.error(\n              \"THREE.STLLoader: Something isn't right with the vertices of face number \" +\n                faceCounter\n            );\n          }\n\n          faceCounter++;\n        }\n\n        var start = startVertex;\n        var count = endVertex - startVertex;\n\n        geometry.addGroup(start, count, groupCount);\n        groupCount++;\n      }\n\n      geometry.setAttribute(\n        \"position\",\n        new Float32BufferAttribute(vertices, 3)\n      );\n      geometry.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n\n      return geometry;\n    }\n\n    function ensureString(buffer) {\n      if (typeof buffer !== \"string\") {\n        return LoaderUtils.decodeText(new Uint8Array(buffer));\n      }\n\n      return buffer;\n    }\n\n    function ensureBinary(buffer) {\n      if (typeof buffer === \"string\") {\n        var array_buffer = new Uint8Array(buffer.length);\n        for (var i = 0; i < buffer.length; i++) {\n          array_buffer[i] = buffer.charCodeAt(i) & 0xff; // implicitly assumes little-endian\n        }\n\n        return array_buffer.buffer || array_buffer;\n      } else {\n        return buffer;\n      }\n    }\n\n    // start\n\n    var binData = ensureBinary(data);\n\n    return isBinary(binData)\n      ? parseBinary(binData)\n      : parseASCII(ensureString(data));\n  }\n});\n\nexport default STLLoader;\n","import React from \"react\";\nconst AppContext = React.createContext({\n  camRotation: 0,\n  camZoom: 0,\n  camZ: 0,\n  showMagnet: false,\n  showBounds: false,\n  showGrid: false,\n  addRotation: (deg) => {},\n  setZoom: (zoom) => {},\n  addZ: (z) => {},\n  setShowMagnet: (val) => {},\n  setShowBounds: (val) => {},\n  setShowGrid: (val) => {}\n});\n\nexport default AppContext;\n","import * as THREE from \"three\";\nimport React, { Component } from \"react\";\nimport \"./style.css\";\n\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport AppContext from \"../../../../AppContext\";\nimport { ScreenShare, StarTwoTone } from \"@material-ui/icons\";\nimport {\n  Grid,\n  Paper,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio\n} from \"@material-ui/core\";\n\nconst TransformControls = require('../RenderingUtils/TransformControls')(THREE);\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nclass PrintRenderer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n    this.canvas = React.createRef();\n    this.canvasBg = null;\n    this.rotationTarget = 0.0;\n    this.lastTime = null;\n\n    this.renderer = null;\n    this.scene = null;\n    this.control = null;\n    this.cameraHelper = null;\n    this.cameraPivot = null;\n    this.camera = null;\n    this.zTarget = 0;\n    this.gridObj = null;\n    this.magnetObj = null;\n    this.planeObj = null;\n    this.boundsObj = null;\n\n    this.showMagnetBed = false;\n    this.showBounds = false;\n    this.showGrid = false;\n  }\n\n  static contextType = AppContext;\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"test\");\n  }\n\n  componentDidMount() {\n    this.assignCanvas();\n  }\n\n  // GETING DATA FORM SELECT ELEMENT TO SET POSITION SCALE OR ROTATION IN TRANSFORMCONTROL\n  posRotScale = (event) => {\n      switch (event.target.value) {\n\n        case \"position\":\n          this.control.setMode( \"translate\" );\n          break;\n\n        case \"rotation\":\n          this.control.setMode( \"rotate\" );\n          break;\n\n        case \"scale\":\n          this.control.setMode( \"scale\" );\n          break;\n\n        default:;\n\n    }\n  };\n\n  assignCanvas() {\n    // this.canvas = canvas;\n    let canvasBg = this.canvas.current.parentElement;\n    this.canvas.current.width = canvasBg.clientWidth;\n    this.canvas.current.height = canvasBg.clientHeight;\n    this.initCanvas(\n      this.canvas.current,\n      this.canvas.current.width,\n      this.canvas.current.height\n    );\n  }\n\n  initCanvas(canvas, width, height) {\n    const scene = new THREE.Scene();\n    const cameraPivot = new THREE.Group();\n    const cameraHelper = new THREE.Group();\n    cameraPivot.add(cameraHelper);\n    scene.add(cameraPivot);\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n\n    const renderer = new THREE.WebGL1Renderer({ canvas });\n    renderer.setSize(width, height);\n\n    //Create a ground plane to display our mesh on\n    const gpTexture = new THREE.TextureLoader().load(\"./buildplane.png\");\n    const gpMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(800, 800, 1, 1),\n      new THREE.MeshBasicMaterial({ map: gpTexture })\n    );\n    scene.add(gpMesh);\n    this.planeObj = gpMesh;\n\n    //Create alternate ground plane that renders the magnetic build surface\n    const magTexture = new THREE.TextureLoader().load(\"./magnet.png\");\n    const magMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(341.3, 341.3, 1, 1),\n      new THREE.MeshBasicMaterial({ map: magTexture })\n    );\n    magMesh.position.y = -10;\n    scene.add(magMesh);\n    this.magnetObj = magMesh;\n    this.magnetObj.visible = false;\n\n    const path = new THREE.Path();\n    path.moveTo(-150, -150);\n    path.lineTo(150, -150);\n    path.lineTo(150, 150);\n    path.lineTo(-150, 150);\n    path.lineTo(-150, -150);\n    const pathMesh = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(path.getPoints()),\n      new THREE.LineBasicMaterial({ color: 0xff0000, linewidth: 1 })\n    );\n    pathMesh.position.z = 0.25;\n    scene.add(pathMesh);\n    pathMesh.visible = false;\n    this.boundsObj = pathMesh;\n\n    // Add grid visual\n    let grid = new THREE.GridHelper(300, 30, 0x555555, 0x555555);\n    grid.rotation.set(Math.PI / 2, 0, 0);\n    grid.position.set(0, 0, 1);\n    scene.add(grid);\n    grid.visible = false;\n    this.gridObj = grid;\n\n    let control = new TransformControls( camera, renderer.domElement );\n    let mesh = null;\n    control.enabled = true;\n    control.setSize(2);\n\n    const objRoot = new THREE.Group();\n    const loader = new STLLoader();\n    console.log(\"stl\", this.context.stl);\n\n    if(typeof this.context.stl == \"string\") {\n      this.context.setFileName(this.context.stl);\n      loader.load(`http://${window.location.hostname}:9990/${this.context.stl}`, (geo) => {\n        const mat = new THREE.MeshPhongMaterial({\n          color: 0xffffff,\n          specular: 0x111111,\n          shininess: 200\n        });\n        //   const mat = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n        mesh = new THREE.Mesh(geo, mat);\n        mesh.position.set(0, 0, 0);\n        //   m.scale.set(0.05, 0.05, 0.05);\n        //   m.setRotationFromEuler(new THREE.Euler(deg2rad(-90), 0, 0));\n        mesh.geometry.center();\n        control.attach( mesh );\n        mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n        control.addEventListener( 'objectChange', function( e ) {\n          mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n        });\n        control.enabled = true;\n        objRoot.add(mesh);\n        this.context.setModifiedStl(mesh);\n        scene.add( control );\n      });\n    } else {\n      let reader = new FileReader();\n      let context = this.context;\n      context.setFileName(this.context.stl.name);\n      reader.addEventListener( 'load', function ( event ) {\n\n        let contents = event.target.result;\n        let geometry = new STLLoader().parse( contents );\n        console.log(contents);\n        geometry.sourceType = \"stl\";\n        geometry.sourceFile = contents;\n        let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n        mesh = new THREE.Mesh( geometry, material );\n        mesh.name = contents.name;\n        mesh.position.set(\n              0, //x\n              1, //y\n              0  //z\n          );\n          mesh.rotation.set( 0, 0, 0 );\n          mesh.scale.set( 1, 1, 1 );\n          mesh.name = contents.name;\n          mesh.castShadow = false;\n          mesh.receiveShadow = false;\n          mesh.geometry.center();\n          control.attach( mesh );\n          control.enabled = true;\n          mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          control.addEventListener( 'objectChange', function( e ) {\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          });\n          objRoot.add(mesh);\n          context.setModifiedStl(mesh);\n          scene.add( control );\n      }, false );\n\n      reader.readAsBinaryString(this.context.stl);\n    }\n\n    scene.add(objRoot);\n    //control.attach( objRoot );\n    scene.add( control );\n    //renderer.render( scene, camera );\n\n    const geometry = new THREE.BoxGeometry();\n    const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n    const cube = new THREE.Mesh(geometry, material);\n    // scene.add(cube);\n    cameraHelper.add(camera);\n    camera.position.y = -300;\n    camera.lookAt(0, 0, 0);\n    cameraHelper.rotation.set(deg2rad(-45), 0, 0);\n\n    scene.add(new THREE.HemisphereLight(0xffffff, 0x111533));\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.control = control;\n    this.cameraHelper = cameraHelper;\n    this.cameraPivot = cameraPivot;\n\n    this.renderFrame();\n  }\n\n  renderFrame() {\n    requestAnimationFrame(this.renderFrame.bind(this));\n\n    let camCurrent = this.cameraPivot.rotation.z;\n    this.cameraPivot.rotation.z = camCurrent;\n    this.cameraPivot.rotation.z = THREE.MathUtils.lerp(\n      camCurrent,\n      this.rotationTarget,\n      0.01\n    );\n\n    let currentHeight = this.cameraPivot.position.z;\n    this.cameraPivot.position.z = THREE.MathUtils.lerp(\n      currentHeight,\n      this.zTarget,\n      0.01\n    );\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  render() {\n    let value = this.context;\n\n    try {\n      this.camera.position.y = -350 + value.camZoom * 3;\n      this.rotationTarget = deg2rad(value.camRotation);\n      this.zTarget = value.camZ;\n\n      this.boundsObj.visible = value.showBounds;\n      this.planeObj.visible = !value.showMagnet;\n      this.magnetObj.visible = value.showMagnet;\n      this.gridObj.visible = value.showGrid;\n    } catch (err) {}\n\n    console.log(\"test2\");\n    return (\n      <>\n        <div className=\"transform-panel\">\n          <Paper\n            style={{\n              width: \"100%\",\n              height: \"100%\",\n              textAlign: \"center\",\n              paddingLeft: 8,\n              paddingRight: 8\n            }}\n          >\n            <FormControl component=\"fieldset\">\n              <FormLabel component=\"legend\">Modify STL</FormLabel>\n              <RadioGroup aria-label=\"Modify STL\" name=\"modify\" onChange={this.posRotScale} ref={value}>\n                <FormControlLabel value=\"position\" control={<Radio />} label=\"Position\" />\n                <FormControlLabel value=\"rotation\" control={<Radio />} label=\"Rotation\" />\n                <FormControlLabel value=\"scale\" control={<Radio />} label=\"Scale\" />\n              </RadioGroup>\n            </FormControl>\n          </Paper>\n        </div>\n        <div className=\"render-canvas-bg\">\n          <canvas className=\"render-canvas\" ref={this.canvas}></canvas>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default PrintRenderer;\n","import {\n  Grid,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  RotateLeft,\n  RotateRight,\n  Videocam,\n  ZoomIn,\n  ZoomOut\n} from \"@material-ui/icons\";\nimport React from \"react\";\n\nimport AppContext from \"../../../../AppContext\";\n\nimport \"./style.css\";\n\nfunction NavigationPanel() {\n  //   const [zoom, setZoom] = React.useState(50);\n  return (\n    <>\n      <div className=\"navigationpanel\">\n        <Paper\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            textAlign: \"center\",\n            paddingLeft: 8,\n            paddingRight: 8\n          }}\n        >\n          <Videocam\n            style={{ color: \"rgb(100,100,100)\", height: 50, width: 40 }}\n          />\n          <AppContext.Consumer>\n            {({ camZoom, setZoom, addRotation, addZ }) => (\n              <>\n                <Grid container spacing={2}>\n                  <Grid item>\n                    <ZoomOut />\n                  </Grid>\n                  <Grid item xs>\n                    <Slider\n                      value={camZoom}\n                      onChange={(e, newValue) => {\n                        setZoom(newValue);\n                      }}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <ZoomIn />\n                  </Grid>\n                </Grid>\n                <Grid container>\n                  <Grid item container direction=\"column\" xs={3}></Grid>\n                  <Grid\n                    item\n                    container\n                    direction=\"column\"\n                    justify=\"center\"\n                    xs={2}\n                  >\n                    <Grid item>\n                      <IconButton\n                        aria-label=\"Rotate camera left\"\n                        onClick={() => {\n                          addRotation(-15);\n                        }}\n                      >\n                        <RotateRight />\n                      </IconButton>\n                    </Grid>\n                  </Grid>\n                  <Grid item container direction=\"column\" xs={2}>\n                    <Grid item>\n                      <IconButton\n                        aria-label=\"move camera up\"\n                        onClick={() => {\n                          addZ(10);\n                        }}\n                      >\n                        <ArrowUpward />\n                      </IconButton>\n                    </Grid>\n                    <Grid item>\n                      <IconButton></IconButton>\n                    </Grid>\n                    <Grid item>\n                      <IconButton\n                        aria-label=\"move camera down\"\n                        onClick={() => {\n                          addZ(-10);\n                        }}\n                      >\n                        <ArrowDownward />\n                      </IconButton>\n                    </Grid>\n                  </Grid>\n                  <Grid\n                    item\n                    container\n                    direction=\"column\"\n                    justify=\"center\"\n                    xs={2}\n                  >\n                    <Grid item>\n                      <IconButton\n                        aria-label=\"rotate camera right\"\n                        onClick={() => {\n                          addRotation(15);\n                        }}\n                      >\n                        <RotateLeft />\n                      </IconButton>\n                    </Grid>\n                  </Grid>\n                  <Grid item container direction=\"column\" xs={3}></Grid>\n                </Grid>\n              </>\n            )}\n          </AppContext.Consumer>\n        </Paper>\n      </div>\n    </>\n  );\n}\n\nexport default NavigationPanel;\n","import {\n  Grid,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  Switch\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  RotateLeft,\n  RotateRight,\n  Settings,\n  Videocam,\n  ZoomIn,\n  ZoomOut\n} from \"@material-ui/icons\";\nimport React from \"react\";\n\nimport AppContext from \"../../../../AppContext\";\n\nimport \"./style.css\";\n\nfunction SettingsPanel() {\n  //   const [zoom, setZoom] = React.useState(50);\n  return (\n    <>\n      <div className=\"settingspanel\">\n        <Paper\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n            textAlign: \"center\",\n            paddingLeft: 8,\n            paddingRight: 8\n          }}\n        >\n          <Settings\n            style={{ color: \"rgb(100,100,100)\", height: 50, width: 40 }}\n          />\n          <br />\n          <AppContext.Consumer>\n            {({\n              showBounds,\n              setShowBounds,\n              showMagnet,\n              setShowMagnet,\n              showGrid,\n              setShowGrid\n            }) => (\n              <>\n                <FormControl component=\"fieldset\">\n                  <FormGroup>\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={showMagnet}\n                          onChange={(e) => {\n                            setShowMagnet(e.target.checked);\n                          }}\n                        />\n                      }\n                      label=\"Magnetic Print Bed\"\n                    />\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={showBounds}\n                          onChange={(e) => {\n                            setShowBounds(e.target.checked);\n                          }}\n                        />\n                      }\n                      label=\"Show Printer Bounds\"\n                    />\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={showGrid}\n                          onChange={(e) => {\n                            setShowGrid(e.target.checked);\n                          }}\n                        />\n                      }\n                      label=\"Show Grid\"\n                    />\n                  </FormGroup>\n                </FormControl>\n              </>\n            )}\n          </AppContext.Consumer>\n        </Paper>\n      </div>\n    </>\n  );\n}\n\nexport default SettingsPanel;\n","/**\n * Usage:\n *  var exporter = new THREE.STLExporter();\n *\n *  // second argument is a list of options\n *  var data = exporter.parse( mesh, { binary: true } );\n *\n */\n\n if(typeof THREE == 'undefined' && typeof require != 'undefined')\n \tvar THREE = require('three')\n\nvar STLExporter = function () {};\n\nSTLExporter.prototype = {\n\n\tconstructor: STLExporter,\n\n\tparse: function ( scene, options ) {\n\n\t\tif ( options === undefined ) options = {};\n\n\t\tvar binary = options.binary !== undefined ? options.binary : false;\n\n\t\t//\n\n\t\tvar objects = [];\n\t\tvar triangles = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isMesh ) {\n\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\tif ( geometry.isBufferGeometry !== true ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\t\ttriangles += ( index !== null ) ? ( index.count / 3 ) : ( positionAttribute.count / 3 );\n\n\t\t\t\tobjects.push( {\n\t\t\t\t\tobject3d: object,\n\t\t\t\t\tgeometry: geometry\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tvar output;\n\t\tvar offset = 80; // skip header\n\n\t\tif ( binary === true ) {\n\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer( bufferLength );\n\t\t\toutput = new DataView( arrayBuffer );\n\t\t\toutput.setUint32( offset, triangles, true ); offset += 4;\n\n\t\t} else {\n\n\t\t\toutput = '';\n\t\t\toutput += 'solid exported\\n';\n\n\t\t}\n\n\t\tvar vA = new THREE.Vector3();\n\t\tvar vB = new THREE.Vector3();\n\t\tvar vC = new THREE.Vector3();\n\t\tvar cb = new THREE.Vector3();\n\t\tvar ab = new THREE.Vector3();\n\t\tvar normal = new THREE.Vector3();\n\n\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\tvar object = objects[ i ].object3d;\n\t\t\tvar geometry = objects[ i ].geometry;\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < index.count; j += 3 ) {\n\n\t\t\t\t\tvar a = index.getX( j + 0 );\n\t\t\t\t\tvar b = index.getX( j + 1 );\n\t\t\t\t\tvar c = index.getX( j + 2 );\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < positionAttribute.count; j += 3 ) {\n\n\t\t\t\t\tvar a = j + 0;\n\t\t\t\t\tvar b = j + 1;\n\t\t\t\t\tvar c = j + 2;\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( binary === false ) {\n\n\t\t\toutput += 'endsolid exported\\n';\n\n\t\t}\n\n\t\treturn output;\n\n\t\tfunction writeFace( a, b, c, positionAttribute, object ) {\n\n\t\t\tvA.fromBufferAttribute( positionAttribute, a );\n\t\t\tvB.fromBufferAttribute( positionAttribute, b );\n\t\t\tvC.fromBufferAttribute( positionAttribute, c );\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tobject.boneTransform( a, vA );\n\t\t\t\tobject.boneTransform( b, vB );\n\t\t\t\tobject.boneTransform( c, vC );\n\n\t\t\t}\n\n\t\t\tvA.applyMatrix4( object.matrixWorld );\n\t\t\tvB.applyMatrix4( object.matrixWorld );\n\t\t\tvC.applyMatrix4( object.matrixWorld );\n\n\t\t\twriteNormal( vA, vB, vC );\n\n\t\t\twriteVertex( vA );\n\t\t\twriteVertex( vB );\n\t\t\twriteVertex( vC );\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setUint16( offset, 0, true ); offset += 2;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\tendloop\\n';\n\t\t\t\toutput += '\\tendfacet\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeNormal( vA, vB, vC ) {\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab ).normalize();\n\n\t\t\tnormal.copy( cb ).normalize();\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, normal.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\tfacet normal ' + normal.x + ' ' + normal.y + ' ' + normal.z + '\\n';\n\t\t\t\toutput += '\\t\\touter loop\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeVertex( vertex ) {\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, vertex.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\t\\tvertex ' + vertex.x + ' ' + vertex.y + ' ' + vertex.z + '\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\nexport default STLExporter;\n","import {\n  Modal,\n  Paper,\n  Typography,\n  Grid,\n  Select,\n  Slider,\n  Switch,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  Button\n} from \"@material-ui/core\";\nimport React, { Component, useState } from \"react\";\nimport \"./style.css\";\nimport { withStyles } from \"@material-ui/styles\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport PrintRenderer from \"../3dViewer/PrintRenderer\";\nimport NavigationPanel from \"../3dViewer/NavigationPanel\";\nimport SettingsPanel from \"../3dViewer/SettingsPanel\";\nimport AppContext from \"../../../AppContext\";\nimport STLExporter from \"../3dViewer/RenderingUtils/ExportSTL\";\n\nconst styles = (theme) => ({\n  formControl: {\n    minWidth: 250,\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: \"white\"\n    }\n  },\n  mainContainer: {\n    marginTop: 20,\n    width: 300\n  },\n  slider: {\n    width: 215\n  }\n});\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\n\nfunction setProfileSettings(slicer, type) {\n  switch (type) {\n    case \"good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      slicer.settings.resolution.children.layer_height.value = 0.32;\n      slicer.settings.speed.children.speed_print.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 60;\n      return slicer;\n    case \"better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      slicer.settings.resolution.children.layer_height.value = 0.16;\n      slicer.settings.speed.children.speed_print.value = 50;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 60;\n      return slicer;\n    case \"best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      slicer.settings.resolution.children.layer_height.value = 0.08;\n      slicer.settings.speed.children.speed_print.value = 40;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 50;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 40;\n      return slicer;\n    case \"petg\":\n      slicer.settings.travel.children.retraction_enable.value = true;\n      slicer.settings.speed.children.speed_print.value = 50;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 60;\n      slicer.settings.material.children.default_material_print_temperature.value = 245;\n      slicer.settings.material.children.material_print_temperature.value = 245;\n      slicer.settings.material.children.material_print_temperature_layer_0.value = 245;\n      slicer.settings.material.children.material_initial_print_temperature.value = 245;\n      slicer.settings.material.children.material_final_print_temperature.value = 245;\n      slicer.settings.material.children.default_material_bed_temperature.value = 70;\n      slicer.settings.material.children.material_bed_temperature.value = 70;\n      return slicer;\n    case \"tpu\":\n      slicer.settings.travel.children.retraction_enable.value = false;\n      slicer.settings.speed.children.speed_print.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 30;\n      slicer.settings.material.children.default_material_print_temperature.value = 230;\n      slicer.settings.material.children.material_print_temperature.value = 230;\n      slicer.settings.material.children.material_print_temperature_layer_0.value = 230;\n      slicer.settings.material.children.material_initial_print_temperature.value = 230;\n      slicer.settings.material.children.material_final_print_temperature.value = 230;\n      slicer.settings.material.children.default_material_bed_temperature.value = 50;\n      slicer.settings.material.children.material_bed_temperature.value = 50;\n      return slicer;\n    case \"pla\":\n      slicer.settings.travel.children.retraction_enable.value = true;\n      slicer.settings.speed.children.speed_print.value = 50;\n      slicer.settings.speed.children.speed_print.children.speed_infill.value = 60;\n      slicer.settings.speed.children.speed_print.children.speed_wall.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value = 30;\n      slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value = 60;\n      slicer.settings.material.children.default_material_print_temperature.value = 220;\n      slicer.settings.material.children.material_print_temperature.value = 220;\n      slicer.settings.material.children.material_print_temperature_layer_0.value = 220;\n      slicer.settings.material.children.material_initial_print_temperature.value = 220;\n      slicer.settings.material.children.material_final_print_temperature.value = 220;\n      slicer.settings.material.children.default_material_bed_temperature.value = 50;\n      slicer.settings.material.children.material_bed_temperature.value = 50;\n      return slicer;\n    default:\n      return slicer;\n  }\n}\n\nfunction setInfillLineDistance(slicer, percent_density) {\n  // infill line distance is what we really need to set\n  if (percent_density === 0) {\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = 0;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = 0;\n  } else {\n    let multiplier = setInfillMultiplier(\n      slicer.settings.infill.children.infill_pattern.default_value\n    );\n    let infillLineWidth =\n      slicer.settings.resolution.children.line_width.children.infill_line_width\n        .default_value;\n    let infillLineDistance =\n      ((infillLineWidth * 100) / percent_density) * multiplier;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = infillLineDistance;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = infillLineDistance;\n  }\n  return slicer;\n}\n\nfunction setInfillMultiplier(infill_pattern) {\n  switch (infill_pattern) {\n    case \"triangles\":\n    case \"trihexagon\":\n    case \"cubic\":\n    case \"cubicsubdiv\":\n      return 3;\n    case \"grid\":\n    case \"tetrahedral\":\n    case \"quarter_cubic\":\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nclass SliceModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shown: props.shown || false,\n      loading: false,\n      filament: \"pla\",\n      quality: \"good\",\n      infill: 20,\n      supports: false,\n      vase: false,\n      file: props.file,\n      camZoom: 0,\n      camRotation: 0,\n      camZ: 0,\n      showMagnet: true,\n      showBounds: true,\n      showGrid: true,\n      stl: props.file,\n      modifiedStl: null,\n      fileName: \"file.stl\"\n    };\n\n    this.defaultSettings = {};\n  }\n\n  componentDidMount() {\n    this.getSettings();\n  }\n\n  async getSettings() {\n    let onboardSettings = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/settings`,\n      {\n        method: \"GET\"\n      }\n    );\n\n    this.defaultSettings = await onboardSettings.json();\n    console.log(this.defaultSettings);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return { shown: props.shown };\n  }\n\n  async setSliceAndStartPrint() {\n    this.setState({ loading: true });\n    let settings = this.defaultSettings;\n    if (this.state.filament === \"tpu\") {\n      settings = setProfileSettings(settings, this.state.quality);\n      settings = setProfileSettings(settings, this.state.filament);\n    } else {\n      settings = setProfileSettings(settings, this.state.filament);\n      settings = setProfileSettings(settings, this.state.quality);\n    }\n    settings = setInfillLineDistance(settings, this.state.infill);\n\n    settings.settings.infill.children.infill_sparse_density.value = this.state.infill;\n    settings.settings.infill.children.infill_sparse_density.default_value = this.state.infill;\n    settings.settings.support.children.support_enable.value = this.state.supports;\n    settings.settings.support.children.support_enable.default_value = this.state.supports;\n    settings.settings.blackmagic.children.magic_spiralize.value = this.state.vase;\n    settings.settings.blackmagic.children.magic_spiralize.default_value = this.state.vase;\n\n    let data = new FormData();\n    //let stlFile = fromMesh(this.state.modifiedStl, false);\n    let exporter = new STLExporter();\n    let stlString = exporter.parse( this.state.modifiedStl );\n    let mimeType = 'application/vnd.ms-pki.stl';\n    let blob = new Blob([stlString], { type: mimeType });\n    let realFile = new File([blob], this.state.fileName);\n    data.append(\"file\", realFile);\n    data.append(\"json\", JSON.stringify(settings));\n    let resp = await fetch(\n      `http://${window.location.hostname}:2127/api/v1/files/${this.state.fileName}`,\n      { method: \"POST\", body: data }\n    );\n    if (resp.status === 200) {\n      //Success\n      await fetch(\n        `http://${window.location.hostname}:2127/api/v1/job/${this.state.fileName}`,\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" }\n        }\n      );\n    } else {\n      //Error message\n      if (this.props.onFailure) {\n        this.props.onFailure();\n      }\n    }\n    this.setState({ loading: false });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const sliceModal = this;\n\n    function addRotation(deg) {\n      sliceModal.setState({ camRotation: sliceModal.state.camRotation + deg })\n    }\n\n    function setZoom(zoom) {\n      sliceModal.setState({ camZoom: zoom })\n    }\n\n    function addZ(z) {\n      sliceModal.setState({ camZ: clamp(sliceModal.state.camZ + z, 0, 200) })\n    }\n\n    return (\n      <>\n        <Modal\n          open={this.state.shown}\n          onClose={() => {\n            this.props.onClose();\n            this.setState({ shown: false });\n          }}\n          disableBackdropClick\n        >\n          <div className=\"modal\">\n            <Grid container className={classes.mainContainer}>\n            <Grid item>\n              <AppContext.Provider\n                value={{\n                  camRotation: this.state.camRotation,\n                  camZoom: this.state.camZoom,\n                  camZ: this.state.camZ,\n                  showMagnet: this.state.showMagnet,\n                  showBounds: this.state.showBounds,\n                  showGrid: this.state.showGrid,\n                  stl: this.props.file,\n                  modifiedStl: this.state.modifiedStl,\n                  fileName: this.state.fileName,\n                  setModifiedStl: (stl) => {\n                    this.setState({ modifiedStl: stl });\n                  },\n                  setFileName: (name) => {\n                    this.setState({ fileName: name });\n                  },\n                  addRotation: (deg) => {\n                    addRotation(deg);\n                  },\n                  setZoom: (zoom) => {\n                    setZoom(zoom);\n                  },\n                  addZ: (z) => {\n                    addZ(z);\n                  },\n                  setShowMagnet: (val) => {\n                    this.setState({ showMagnet: val });\n                  },\n                  setShowBounds: (val) => {\n                    this.setState({ showBounds: val });\n                  },\n                  setShowGrid: (val) => {\n                    this.setState({ showGrid: val });\n                  }\n                }}\n              >\n              <PrintRenderer />\n              <NavigationPanel />\n              <SettingsPanel />\n              </AppContext.Provider>\n            </Grid>\n            <Grid item style={{ marginLeft: 10, zIndex: 2 }}>\n                <Grid item>\n                  <Typography\n                    variant=\"h2\"\n                    style={{ fontSize: \"1.5rem\", marginTop: 10 }}\n                  >\n                    Slice Menu\n                  </Typography>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel id=\"fil\">Filament Type</InputLabel>\n                    <Select\n                      labelId=\"fil\"\n                      value={this.state.filament}\n                      onChange={(e) => {\n                        this.setState({ filament: e.target.value });\n                      }}\n                    >\n                      <MenuItem value=\"pla\">PLA</MenuItem>\n                      <MenuItem value=\"petg\">PETG</MenuItem>\n                      <MenuItem value=\"tpu\">TPU</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item style={{ marginTop: 20 }}>\n                  <FormControl className={classes.formControl}>\n                    <InputLabel id=\"qual\">Quality</InputLabel>\n                    <Select\n                      labelId=\"qual\"\n                      value={this.state.quality}\n                      onChange={(e) => {\n                        this.setState({ quality: e.target.value });\n                      }}\n                    >\n                      <MenuItem value=\"good\">Fastest Print</MenuItem>\n                      <MenuItem value=\"better\">Normal Quality</MenuItem>\n                      <MenuItem value=\"best\">Best Quality</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item style={{ marginTop: 20 }}>\n                  <Typography\n                    variant=\"h4\"\n                    style={{\n                      fontSize: \".75rem\",\n                      color: \"rgba(255, 255, 255, 0.7)\"\n                    }}\n                  >\n                    Infill\n                  </Typography>\n                  <Slider\n                    value={this.state.infill}\n                    onChange={(e, newVal) => {\n                      this.setState({ infill: newVal });\n                    }}\n                    min={0}\n                    max={100}\n                    step={5}\n                    className={classes.slider}\n                    valueLabelDisplay=\"auto\"\n                    color=\"secondary\"\n                  />\n                  <Typography\n                    display=\"inline\"\n                    style={{\n                      fontSize: \".75rem\",\n                      position: \"relative\",\n                      top: -16,\n                      left: 10\n                    }}\n                  >{`${this.state.infill}%`}</Typography>\n                </Grid>\n                <Grid item style={{ marginTop: 20 }}>\n                  <FormGroup row>\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={this.state.supports}\n                          onChange={(e) => {\n                            this.setState({ supports: e.target.checked });\n                          }}\n                          name=\"checkSupports\"\n                        />\n                      }\n                      label=\"Supports\"\n                    />\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          checked={this.state.vase}\n                          onChange={(e) => {\n                            this.setState({ vase: e.target.checked });\n                          }}\n                          name=\"checkVase\"\n                        />\n                      }\n                      label=\"Vase Mode\"\n                    />\n                  </FormGroup>\n                </Grid>\n                <Grid item container style={{ marginTop: 20 }}>\n                  <Grid item xs={3}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      onClick={() => {\n                        this.props.onClose();\n                        this.setState({ shown: false });\n                      }}\n                    >\n                      Cancel\n                    </Button>\n                  </Grid>\n                  <Grid item xs={6} />\n                  <Grid item xs={3}>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={async () => {\n                        this.props.onClose();\n                        await this.setSliceAndStartPrint();\n                      }}\n                    >\n                      Slice\n                    </Button>\n                  </Grid>\n                </Grid>\n            </Grid>\n            </Grid>\n          </div>\n        </Modal>\n        {this.state.loading && (\n          <>\n            <img\n              alt=\"print\"\n              src={imgPrint}\n              style={{\n                width: 200,\n                height: 200,\n                zIndex: 99999999,\n                position: \"absolute\",\n                left: \"calc(50% - 100px)\",\n                top: \"calc(50% - 100px)\"\n              }}\n            ></img>\n            <h4\n              style={{\n                width: 200,\n                zIndex: 99999999,\n                position: \"absolute\",\n                left: \"calc(50% - 100px)\",\n                top: \"calc(50% + 120px)\",\n                textAlign: \"center\"\n              }}\n            >\n              Preparing File\n            </h4>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(SliceModal);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Snackbar,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableCell,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  ArrowBack,\n  ArrowForward,\n  Close,\n  DeleteForever,\n  Folder,\n  FolderOpen,\n  Home,\n  Layers,\n  Slideshow,\n  SystemUpdateAlt\n} from \"@material-ui/icons\";\nimport { formatBytes, getStorage } from \"../../../Utility/helpers\";\nimport protectedFiles from \"./protected_files.json\"\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport SliceModal from \"../SliceModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\"\n  },\n  modalContainer: {\n    padding: \"25px\",\n    width: 300,\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"200px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"20px\",\n    marginBottom: \"50px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"175px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  fileContainer: {\n    maxHeight: \"700px\",\n    overflow: \"auto\",\n    width: \"auto\"\n  },\n  fileLocation: {\n    overflow: \"scroll\",\n    height: \"400px\"\n  },\n  icon: {\n    width: \"40px\"\n  }\n}));\n\nfunction Treeify(files) {\n  var fileTree = {};\n\n  if (files instanceof Array === false) {\n    throw new Error(\"Expected an Array of file paths, but saw \" + files);\n  }\n\n  files.forEach(function parseFilePath(file) {\n    var filePath = file.display;\n    var fileLocation = filePath.split(\"/\");\n\n    // If file is in root directory, eg 'index.js'\n    if (fileLocation.length === 1) {\n      return (fileTree[fileLocation[0]] = file);\n    }\n\n    fileLocation.reduce(function mergePathsIntoFileTree(\n      prevDir,\n      currDir,\n      i,\n      filePath\n    ) {\n      if (i === filePath.length - 1) {\n        prevDir[currDir] = file;\n      }\n\n      if (!prevDir.hasOwnProperty(currDir)) {\n        prevDir[currDir] = {};\n      }\n\n      return prevDir[currDir];\n    },\n    fileTree);\n  });\n\n  return fileTree;\n}\n\nfunction isFolder(filename) {\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n\n  for (let idx in fileTypes) {\n    if (filename.endsWith(fileTypes[idx])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getFolderOnlyPath(o, id, path) {\n  //Early return\n  if (o === id) {\n    return path;\n  }\n  var result, p;\n  for (p in o) {\n    if (o.hasOwnProperty(p) && typeof o[p] === \"object\") {\n      if (isFolder(p)) {\n        path.push(p);\n        result = getFolderOnlyPath(o[p], id, path);\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n  return path;\n}\n\nfunction getFileDirectory(rootFiles, newFiles) {\n  let directory = [];\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n  let fileKeys = Object.keys(newFiles);\n\n  for (let fileIdx in fileKeys) {\n    for (let idx in fileTypes) {\n      if (fileKeys[fileIdx].endsWith(fileTypes[idx])) {\n        if (newFiles[fileKeys[fileIdx]].hasOwnProperty(\"display\")) {\n          let parts = newFiles[fileKeys[fileIdx]].display.split(\"/\");\n          directory = parts;\n          directory.pop();\n          return directory;\n        }\n      } else {\n        directory = getFolderOnlyPath(rootFiles, newFiles, []);\n      }\n    }\n  }\n  return directory;\n}\n\nfunction getSize(files) {\n  let size = 0;\n  Object.keys(files).forEach((key, i) => {\n    if (files[key].hasOwnProperty(\"size\")) {\n      size += files[key].size;\n    } else {\n      if(typeof files[key] == \"object\") {\n        size += getSize(files[key]);\n      }\n    }\n  });\n\n  return size;\n}\n\nfunction isFileProtected(filename) {\n  for (let idx in protectedFiles) {\n    if(protectedFiles[idx].name == filename) {\n      return true;\n    }\n  }\n  return false;\n}\n\nconst FileManager = ({\n  drawerOpen,\n  setDrawerOpen,\n  fileLocation,\n  manage,\n  update\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [files, setFiles] = useState([]);\n  const [rootFiles, setRootFiles] = useState([]);\n  const [storageUsed, setStorageUsed] = useState(0);\n  const [storageFree, setStorageFree] = useState(0);\n  const [storageTotal, setStorageTotal] = useState(0);\n  const [directories, setDirectories] = useState({});\n  const [currentDirectory, setCurrentDirectory] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  useEffect(() => {\n    if (drawerOpen) {\n      setLoading(true);\n      //make api call to fetch files\n      //use fileLocation (usb or local) to determine which call to make\n      async function getFiles() {\n        // Default options are marked with *\n        let response = null;\n\n        if (fileLocation === \"local\") {\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n            method: \"GET\"\n          });\n        } else {\n          await fetch(`http://${window.location.hostname}:2127/api/v1/usb/refresh`, {\n            method: \"POST\"\n          });\n          response = await fetch(`http://${window.location.hostname}:2127/api/v1/usb/files`, {\n            method: \"GET\"\n          });\n        }\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n\n      getFiles().then((data) => {\n        if (fileLocation === \"local\") {\n          setFiles(data.files);\n          setStorageFree(data.free);\n          setStorageTotal(data.total);\n          setStorageUsed(data.total - data.free);\n        } else {\n          let fileTree = Treeify(data.files);\n          setFiles(fileTree);\n          setRootFiles(fileTree);\n        }\n        setLoading(false);\n      });\n\n    }\n  }, [drawerOpen, fileLocation]);\n\n  const handleZipCheck = () => {\n    console.log(selected);\n    setLoading(true);\n    setDrawerOpen(false);\n    async function checkUpdates() {\n      // Default options are marked with *\n      const response = await fetch(\n        `http://localhost:2127/api/v1/usb/copy/${selected}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    checkUpdates().then((data) => {\n      console.log(data);\n      setLoading(false);\n      //after api call\n      if (data.updated) {\n        setSnackMessage(\"Software Updated. Rebooting...\");\n        setShowSnack(true);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          fetch(`http://localhost:8990/reboot`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n        }, 3000);\n      } else {\n        setSnackMessage(\"Software Update Failed. Reverted to previous version.\");\n        setShowSnack(true);\n      }\n    });\n  }\n\n  const handleSelect = () => {\n    console.log(selected);\n    setLoading(true);\n    if (fileLocation === \"local\") {\n      //call api to print file\n      let selected_file = selected.split('\\\\').pop().split('/').pop();\n      fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then((data) => {\n        setLoading(false);\n        setDrawerOpen(() => false);\n        //call function or swap to status screen\n        setSelected(\"\");\n        setShowTooltip(false);\n        setShowModal(false);\n      });\n    } else {\n        fetch(`http://${window.location.hostname}:2127/api/v1/usb/copy/${selected}`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then((data) => {\n          let selected_file = selected.split('\\\\').pop().split('/').pop();\n          fetch(`http://${window.location.hostname}:2127/api/v1/job/${selected_file}`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }).then((data) => {\n            setLoading(false);\n            setDrawerOpen(() => false);\n            //call function or swap to status screen\n            setSelected(\"\");\n            setShowTooltip(false);\n            setShowModal(false);\n          });\n        });\n    }\n  };\n\n  const deleteFile = () => {\n    setLoading(true);\n\n    fetch(`http://${window.location.hostname}:2127/api/v1/files/local/${selected}`, {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" }\n    }).then(response => response.json()).then((data) => {\n      fetch(`http://${window.location.hostname}:2127/api/v1/files`, {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then(response => response.json()).then((data) => {\n        setLoading(false);\n        setFiles(data.files);\n        setStorageFree(data.free);\n        setStorageTotal(data.total);\n        setStorageUsed(data.total - data.free);\n      });\n    });\n\n  };\n\n  const resetFiles = (newFiles) => {\n    if (currentDirectory) {\n      directories[currentDirectory] = newFiles;\n      setDirectories(directories);\n    }\n    setFiles(newFiles);\n  };\n\n  const folderSelected = (newFiles, directory) => {\n    setCurrentDirectory(directory);\n    setSelected(newFiles);\n  };\n\n  const exitFiles = () => {\n    setFiles([]);\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div>\n      {!manage && !update && (\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n      )}\n      <div className={classes.header}>\n        {!manage && !update && (\n          <h2 style={{marginLeft: 10}}>\n            {(\n              fileLocation.toUpperCase() === 'USB' ? 'USB Media' : 'Printer Storage'\n            )}\n          </h2>\n        )}\n        {!manage && !update && (\n        <IconButton aria-label=\"back\" onClick={() => exitFiles()} style={{ position:'absolute', right:0}}>\n          <Close />\n        </IconButton>\n        )}\n      </div>\n      {fileLocation === \"usb\" && (\n        <Container className={classes.fileContainer}>\n          <Grid container direction=\"row\" style={{background: '#525252'}}>\n            <Grid\n              item\n              style={{ alignSelf: \"center\" }}\n              onClick={() => resetFiles(rootFiles)}\n            >\n              <Typography variant=\"h6\">\n                <IconButton aria-label=\"back\"  className={classes.icon}>\n                  <Home />\n                </IconButton>\n              </Typography>\n            </Grid>\n            {getFileDirectory(rootFiles, files).map((folder, index, {length}) => {\n              if (isFolder(folder)) {\n                return (\n                  <Grid\n                    item\n                    style={{ alignSelf: \"center\" }}\n                    onClick={() => resetFiles(directories[folder])}\n                    key={folder}\n                  >\n                    <Typography variant=\"h6\">\n                      <IconButton aria-label=\"back\"  className={classes.icon}>\n                        <ArrowForward />\n                      </IconButton>\n                      {index + 1 === length && (\n                        <IconButton aria-label=\"back\"  className={classes.icon}>\n                          <Folder />\n                        </IconButton>\n                      )}\n                      {folder}\n                    </Typography>\n                  </Grid>\n                );\n              } else {\n                return <></>;\n              }\n            })}\n          </Grid>\n        </Container>\n      )}\n      {loading ? (\n        <Backdrop className={classes.backdrop} open={true}>\n          <img\n            alt=\"print\"\n            src={imgPrint}\n            style={{ width: 200, height: 200, zIndex: 99999999 }}\n          ></img>\n        </Backdrop>\n      ) : (\n        <Container className={classes.fileContainer}>\n          <TableContainer className={classes.fileList}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Size</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {fileLocation === \"local\"\n                  ? files &&\n                    files.map((file, index) => {\n\n                      if(!manage || !isFileProtected(file.name)) {\n                        return (\n                          <TableRow\n                            key={file.display}\n                            onClick={() => setSelected(file.display)}\n                            selected={selected === file.display}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                {manage ? (\n                                  <DeleteForever />\n                                ) : (\n                                  <Slideshow />\n                                )}\n                              </IconButton>\n                              {file.display}\n                            </TableCell>\n                            <TableCell>{formatBytes(file.size)}</TableCell>\n                          </TableRow>\n                        );\n                      }\n\n                    })\n                  : files &&\n                    Object.keys(files).map((file, index) => {\n                      if (isFolder(file)) {\n                        return (\n                          <TableRow\n                            key={file}\n                            onClick={() => folderSelected(files[file], file)}\n                            selected={selected === files[file]}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell style={{\n                              width: update ? '400px' : '100%'\n                            }}>\n                              <IconButton aria-label=\"back\"  className={classes.icon}>\n                                <FolderOpen />\n                              </IconButton>\n                              {file}\n                            </TableCell>\n                            <TableCell style={{minWidth: 110}}>\n                              {formatBytes(getSize(files[file]))}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      } else {\n                        if(\n                          (files[file].display.includes(\".zip\") ||\n                          files[file].display.includes(\".ZIP\")) &&\n                          /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(file)\n                        ) {\n                          if(update) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell style={{width: \"400px\"}}>\n                                  <IconButton aria-label=\"back\"  className={classes.icon}>\n                                    <SystemUpdateAlt />\n                                  </IconButton>\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        } else {\n                          if(!update && !(\n                            files[file].display.includes(\".zip\") ||\n                            files[file].display.includes(\".ZIP\"))\n                          ) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell>\n                                  {file.endsWith(\".g\") ||\n                                  file.endsWith(\".gcode\") ||\n                                  file.endsWith(\".G\") ||\n                                  file.endsWith(\".GCODE\") ? (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Slideshow />\n                                    </IconButton>\n                                  ) : (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Layers />\n                                    </IconButton>\n                                  )}\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        }\n                      }\n                    })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Container>\n      )}\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-around\"\n        alignItems=\"center\"\n      >\n      {manage ? (\n        <Grid\n          container\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            disabled={selected.length <= 0}\n            onClick={() => deleteFile()}\n            className={classes.printButton}\n          >\n            Delete\n          </Button>\n\n          <Typography variant=\"h6\">\n            {\n              formatBytes(storageUsed)\n            } used of {\n              formatBytes(storageTotal)\n            } total, leaving {\n              formatBytes(storageFree)\n            } available\n          </Typography>\n          </Grid>\n      ) : typeof selected !== \"object\" &&\n      (selected.endsWith(\".g\") ||\n        selected.endsWith(\".gcode\") ||\n        selected.endsWith(\".G\") ||\n        selected.endsWith(\".GCODE\")) ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => handleSelect(false)}\n          className={classes.printButton}\n        >\n          Print\n        </Button>\n      ) : typeof selected === \"object\" ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => resetFiles(selected)}\n          className={classes.printButton}\n        >\n          Open Folder\n        </Button>\n      ) : update &&\n        (selected.endsWith(\".zip\") || selected.endsWith(\".ZIP\")) &&\n        (/^(.+)300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected) ||\n        /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(selected)\n        ) ? (\n         <Button\n           variant=\"contained\"\n           disabled={selected.length <= 0}\n           onClick={() => handleZipCheck()}\n           className={classes.printButton}\n         >\n           Update from ZIP\n         </Button>\n      ) : (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => setShowModal(true)}\n          className={classes.printButton}\n        >\n          Slice\n        </Button>\n      )}\n      </Grid>\n      <SliceModal\n        file={selected}\n        shown={showModal}\n        onClose={() => {\n          setShowModal(false);\n        }}\n      />\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </div>\n  );\n};\n\nexport default FileManager;\n","import React, { useState } from \"react\";\nimport { Grid, Card, CardContent, CardActionArea, Drawer } from \"@material-ui/core\";\nimport PrintStatus from \"./PrintStatus/PrintStatus\";\n\nimport FileManager from \"../Common/FileManager/FileManager\";\nimport SliceModal from \"../Common/SliceModal\";\nimport \"./Print.css\";\n\nimport { Button, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  card: {\n    margin: \"32px\",\n    border: \"2px solid rgba(0, 0, 0, 0.12)\",\n    textAlign: \"center\"\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\n\nfunction clearInputFile(f){\n    if(f.value){\n        try{\n            f.value = ''; //for IE11, latest Chrome/Firefox/Opera...\n        }catch(err){ }\n        if(f.value){ //for IE5 ~ IE10\n            var form = document.createElement('form'),\n                parentNode = f.parentNode, ref = f.nextSibling;\n            form.appendChild(f);\n            form.reset();\n            parentNode.insertBefore(f,ref);\n        }\n    }\n}\n\nconst Print = ({ lastMessage, setDisabledNav }) => {\n  const classes = useStyles();\n  let [state, setState] = useState({\n    extruder: 0,\n    bed: 0,\n    connected: false,\n    feed: \"1\",\n    file: -1,\n    files: [],\n    printing: false,\n    progress: 0,\n    paused: false\n  });\n  const [file, uploadedFile] = useState(false);\n  const [status, setStatus] = useState(null);\n  const [printState, setPrintState] = useState(null);\n  const [jobState, setJobState] = useState(null);\n  const [progressState, setProgressState] = useState(null);\n  const [fileDrawerOpen, setFileDrawerOpen] = useState(false);\n  const [fileLocation, setFileLocation] = useState(\"\");\n  const [uploadElement, setUploadElement] = useState(null);\n  const [showSliceModal, setShowSliceModal] = useState(false);\n  const [uploadFile, setUploadFile] = useState(null);\n\n  const fetchFiles = (location) => {\n    setFileLocation(location);\n    setFileDrawerOpen(true);\n  };\n\n  const fetchUploadFiles = () => {\n    setFileLocation(\"local\");\n    setFileDrawerOpen(true);\n  };\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n        setPrintState(json[0].current.state);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.job) {\n        setJobState(json[0].current.job);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        setProgressState(json[0].current.progress);\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Grid>\n        {progressState &&\n        jobState &&\n        jobState.file.name &&\n        progressState.completion < 100 &&\n        printState &&\n        printState.text !== \"Operational\" ? (\n          <PrintStatus\n            lastMessage={lastMessage}\n            progressState={progressState}\n            setDisabledNav={setDisabledNav}\n            statusText={printState.text}\n            fileName={jobState.file.display}\n            state={state}\n          />\n        ) : (\n          <Grid>\n            <Card className={classes.card} onClick={() => fetchFiles(\"local\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Printer Storage</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card className={classes.card} onClick={() => fetchFiles(\"usb\")}>\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">USB Media</Typography>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            <Card\n              className={classes.card}\n              onClick={() => {\n                uploadElement.click();\n              }}\n            >\n              <CardActionArea>\n                <CardContent className={classes.cardContent}>\n                  <Typography variant=\"h4\">Local Storage</Typography>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    onChange={async (e) => {\n                      let file = e.target.files[0];\n                      let match = /.+\\.(stl|gcode)$/gi.exec(file.name);\n                      if (match) {\n                        const fileType = match[1].toLowerCase();\n                        if (fileType === \"stl\") {\n                          setUploadFile(file);\n                          setShowSliceModal(true);\n                          clearInputFile(e.target);\n                        } else {\n                          //Gcode - just needs to upload and start\n                          let data = new FormData();\n                          data.append(\"file\", file);\n                          let resp = await fetch(\n                            `http://${window.location.hostname}:2127/api/v1/files/${file.name}`,\n                            { method: \"POST\", body: data }\n                          );\n                          if (resp.status === 200) {\n                            //Good - start job\n                            await fetch(\n                              `http://${window.location.hostname}:2127/api/v1/job/${file.name}`,\n                              {\n                                method: \"POST\",\n                                headers: { \"Content-Type\": \"application/json\" }\n                              }\n                            );\n                          } else {\n                            //Something went wrong with upload\n                          }\n                        }\n                      } else {\n                        //Something wrong with file\n                      }\n                    }}\n                    ref={(ref) => {\n                      setUploadElement(ref);\n                    }}\n                    accept=\".stl,.gcode\"\n                  />\n                </CardContent>\n              </CardActionArea>\n            </Card>\n            {/*<label className=\"Files-Upload\">\n                  <span>Upload</span>\n                  <input\n                    type=\"file\"\n                    onChange={async e => {\n                      let data = new FormData();\n                      console.log(e.target.files);\n                      e.persist();\n                      data.append(\"file\", e.target.files[0]);\n                      await fetch(\n                        `http://makerhub.local:8080/api/v1/files/${e.target.files[0].name}`,\n                        { method: \"POST\", body: data }\n                      );\n                      this.setState({\n                        files: [...this.state.files, e.target.files[0].name]\n                      });\n                    }}\n                  ></input>\n                </label>*/}\n                <Drawer\n                  anchor=\"left\"\n                  open={fileDrawerOpen}\n                  onClose={() => setFileDrawerOpen(false)}\n                  classes={{\n                    paper: classes.drawerContainer\n                  }}\n                >\n                  <FileManager\n                    setDrawerOpen={setFileDrawerOpen}\n                    drawerOpen={fileDrawerOpen}\n                    fileLocation={fileLocation}\n                  />\n                </Drawer>\n            {/*<div className=\"Files\">\n            <label className=\"Files-Upload\">\n              <span>Upload</span>\n              <input\n                type=\"file\"\n                onChange={async (e) => {\n                  let data = new FormData();\n                  console.log(e.target.files);\n                  e.persist();\n                  data.append('file', e.target.files[0]);\n                  // Upload the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/files/${e.target.files[0].name}`,\n                    { method: 'POST', body: data }\n                  );\n                  // Print the file\n                  await fetch(\n                    `http://${window.location.hostname}:2127/api/v1/job/${e.target.files[0].name}`,\n                    {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                    }\n                  );\n                  state.printing = true;\n                  uploadedFile(true);\n                  setState({\n                    files: [...state.files, e.target.files[0].name],\n                    file: 0,\n                  });\n                }}\n              ></input>\n            </label>\n              </div>*/}\n          </Grid>\n        )}\n        <div>\n          <Grid>\n            {printState &&\n              jobState &&\n              (jobState.file ? (\n                <div>\n                  <div className={classes.buttonContainer}>\n                    {progressState &&\n                      (progressState.completion == null ||\n                        progressState.completion == 100) &&\n                      jobState &&\n                      jobState.file.display && (\n                        <>\n                          <div className={classes.textCenter}>\n                            {/*`${printState.text} : ${jobState.file.display}`*/}\n                          </div>\n                        </>\n                      )}\n                  </div>\n                </div>\n              ) : (\n                <span>Not Printing</span>\n              ))}\n          </Grid>\n        </div>\n      </Grid>\n      <SliceModal\n        shown={showSliceModal}\n        file={uploadFile}\n        onClose={() => {\n          setShowSliceModal(false);\n        }}\n      />\n    </>\n  );\n};\n\nexport default Print;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Grid,\n  Paper,\n  Tab,\n  Tabs,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowForward,\n  ArrowUpward,\n  ArrowBack,\n  Home\n} from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport \"./Moving.css\";\n\nconst useStyles = makeStyles({\n  btnContainer: {\n    marginTop: \"14px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nconst units = [0.1, 1.0, 10, 20];\n\nconst Moving = ({ position }) => {\n  const classes = useStyles();\n\n  const [unit, setUnit] = useState(1);\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  const homeAxis = (axis) => {\n    //homing commands\n    // const x = 'G28 X\\nM114\\n';\n    // const y = 'G28 Y\\nM114\\n';\n    // const z = 'G28 Z\\nM114\\n';\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: `G28 ${axis}\\nM114\\n`\n      })\n    });\n  };\n\n  const moveAxis = (axis, negative) => {\n    //example move commands\n    // const x = 'G91\\nG0 X-10\\nM114\\n';\n    // const y = 'G91\\nG0 Y-1\\nM114\\n';\n    // const z = 'G91\\nG0 Z10\\nM114\\n';\n    const command = `${axis}${negative ? -units[unit] : units[unit]}`;\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: `M220 S200\\nG91\\nG0 ${command}\\nM220 S100\\nM114\\n`\n      })\n    });\n  };\n\n  return (\n    <Box style={{ textAlign: \"center\" }}>\n      <Typography variant=\"h4\" style={{ marginTop: 15 }}>\n        Movement\n      </Typography>\n      <Grid container justify=\"center\" style={{ marginTop: 30 }}>\n        <Grid item justifyContent=\"center\" alignItems=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              sendGcode(\"G28\\nM240 S1\\nM114\\n\");\n            }}\n          >\n            Home All\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={4}>\n          <Paper>\n            <Tabs\n              value={unit}\n              className={classes.tabs}\n              onChange={(e, val) => setUnit(val)}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 20 }}>\n          <Grid\n            container\n            item\n            xs={6}\n            justify=\"center\"\n            alignItems=\"flex-start\"\n            spacing={0}\n          >\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">X</Typography>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"X\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Y</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Y\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item xs={12}>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", false)}\n                style={{ margin: 3 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Z\")}\n                style={{ margin: 3 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", true)}\n                style={{ margin: 3 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Moving;\n","import React, { useState } from \"react\";\nimport { Button, Box, Grid, Slider, Typography } from \"@material-ui/core\";\nimport \"./Heating.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\",\n    height: \"60%\"\n  },\n  modalContainer: {\n    height: \"100%\",\n    padding: \"25px\",\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"120px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"auto\",\n    marginBottom: \"100px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"150px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  gauges: {\n    display: \"flex\"\n  },\n  nozzleSlider: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: 250\n  },\n  tempOutputs: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst Heating = () => {\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Box style={{ textAlign: \"center\", marginTop: 40 }}>\n      <Typography variant=\"h4\">Heating</Typography>\n      <Grid container justify=\"center\">\n        <Grid item xs={1}>\n          <h4>Preheat</h4>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <TempContext.Consumer>\n              {({ setBedTarget, setNozzleTarget }) => (\n                <>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S220\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(220);\n                    }}\n                  >\n                    PLA\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S245\\nM140 S70\");\n                      setBedTarget(70);\n                      setNozzleTarget(245);\n                    }}\n                  >\n                    PETG\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S230\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(230);\n                    }}\n                  >\n                    TPU\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S0\\nM140 S0\");\n                      setBedTarget(0);\n                      setNozzleTarget(0);\n                    }}\n                  >\n                    Cooldown\n                  </Button>\n                </>\n              )}\n            </TempContext.Consumer>\n          </div>\n        </Grid>\n        <Grid item xs={7}>\n          <h4></h4>\n          <Grid container direction=\"column\">\n            <Grid item style={{ marginTop: 40 }}>\n              <span>Nozzle</span>\n            </Grid>\n            <Grid item container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ nozzleTarget, setNozzleTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                        sendGcode(`M104 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${nozzleTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={260}\n                      style={{ maxWidth: \"200px\" }}\n                      value={nozzleTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ nozzle, nozzleTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${nozzle}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${nozzleTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <span>Bed</span>\n            </Grid>\n            <Grid container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ bedTarget, setBedTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setBedTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setBedTarget(newVal);\n                        sendGcode(`M140 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${bedTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={100}\n                      style={{ maxWidth: \"200px\" }}\n                      value={bedTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ bed, bedTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${bed}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${bedTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Heating;\n","import React from \"react\";\nimport Moving from \"./Moving/Moving\";\nimport Heating from \"./Heating/Heating\";\n\nimport \"./Control.css\";\n\nconst Control = (lastMessage) => {\n  const [position, setPosition] = React.useState({ x: 0, y: 0, z: 0 });\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      typeof lastMessage.lastMessage !== \"undefined\" &&\n      lastMessage.lastMessage &&\n      typeof lastMessage.lastMessage.data !== \"undefined\" &&\n      lastMessage.lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.lastMessage.data.substring(1));\n      console.log(json);\n      // if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n      //   if (json[0].current.temps[0]) {\n      //     let temps = json[0].current.temps[0];\n      //     setExtruder(parseInt(temps.tool0.actual));\n      //     setBed(parseInt(temps.bed.actual));\n      //   }\n      // }\n\n      if (\n        json[0].hasOwnProperty(\"event\") &&\n        json[0].event.hasOwnProperty(\"payload\")\n      ) {\n        if (json[0].event.payload) {\n          setPosition({\n            x: json[0].event.payload.x,\n            y: json[0].event.payload.y,\n            z: json[0].event.payload.z\n          });\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Moving position={position} />\n      <Heating />\n    </>\n  );\n};\n\nexport default Control;\n","import React, { useState, useEffect } from 'react';\nimport {\n    Button,\n    Grid,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    ListItemSecondaryAction,\n    ListSubheader,\n    Select,\n    Switch,\n    Typography,\n  } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FileManager from '../../Common/FileManager/FileManager';\n\n\nconst useStyles = makeStyles({\n    componentContainer: {\n      display: 'flex',\n      flex: 1,\n    },\n    drawerContainer: {\n      width: '100%',\n    },\n    header: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    item: {\n      height: '100px',\n      padding: '0 22px',\n    },\n    text: {\n      fontSize: '1.5em',\n      fontWeight: 'bold',\n    },\n  });\n\n\n\n\nconst ManageStorage = () => {\n    const classes = useStyles();\n    const [fileDrawerOpen, setFileDrawerOpen] = useState(true);\n\n\n  return (\n    <Grid>\n      <FileManager\n        fileLocation={'local'}\n        drawerOpen={true}\n        setDrawerOpen={setFileDrawerOpen}\n        manage={true}\n        update={false}\n      />\n    </Grid>\n  );\n};\n\nexport default ManageStorage;\n","import React from \"react\";\nimport {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Container,\n  Grid,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport {\n  AcUnit,\n  Dns,\n  LocalGasStation,\n  Pool,\n  Save,\n  WbIncandescent\n} from \"@material-ui/icons\";\nimport packageJson from '../../../../package.json';\n\nconst About = () => {\n  return (\n    <Grid container direction=\"column\">\n    {/*\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Hardware</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <WbIncandescent />\n          </ListItemIcon>\n          <ListItemText primary=\"Lamp\" secondary=\"700 Watt\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <Pool />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Liquids\"\n            secondary=\"1.5 Gallons Emergency Water Supply\"\n          />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <LocalGasStation />\n          </ListItemIcon>\n          <ListItemText primary=\"Gases\" secondary=\"Secondary Helium Reserve\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <AcUnit />\n          </ListItemIcon>\n          <ListItemText primary=\"Operating Range\" secondary=\"-40 °C - -37 °C\" />\n        </ListItem>\n      </List>\n      */}\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Software</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <Save />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Firmware Version\"\n            secondary={packageJson.version}\n          />\n        </ListItem>\n      </List>\n    </Grid>\n    // <Accordion>\n    //   <AccordionSummary classes={{ content: 'accordion-style' }}>\n    //     <h3 style={{ margin: '0' }}>About</h3>\n    //     <ArrowForwardIosIcon />\n    //   </AccordionSummary>\n    //   <AccordionDetails>\n    //     <div>\n    //       <h3>List Hardware Stats</h3>\n    //       <h3>Firmware Version</h3>\n    //     </div>\n    //   </AccordionDetails>\n    // </Accordion>\n  );\n};\n\nexport default About;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  ListSubheader,\n  Select,\n  Snackbar,\n  Switch,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Class,\n  Dns,\n  LocalLibrary,\n  Wifi,\n  WifiTethering,\n  SettingsEthernet,\n  SignalCellularNull,\n  Videocam\n} from \"@material-ui/icons/\";\n\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage, setStorage } from \"../../../Utility/helpers\";\nimport NetworkSettings from \"../../Setup/NetworkType/NetworkSettings\";\n\nimport NetworkSelect from \"../../Setup/NetworkSelect/NetworkSelect\";\n\nimport WifiConnect from \"../../Setup/NetworkType/WifiConnect\";\n\nfunction imageExists(url, callback) {\n  var img = new Image();\n  img.onload = function() { callback(true); };\n  img.onerror = function() { callback(false); };\n  img.src = url;\n}\n\nconst useStyles = makeStyles({});\nconst Settings = () => {\n  const [networkExpanded, setNetworkExpanded] = useState(false);\n  const [networkType, setNetworkType] = useState(\"none\");\n  const [printerMode, setPrinterMode] = useState(\"\");\n  const [userMode, setUserMode] = useState(\"\");\n  const [displayWifi, setDisplayWifi] = useState(false);\n  const [displaySSID, setDisplaySSID] = useState(false);\n  const [camEnabled, setCamEnabled] = useState('disabled');\n  const [rebootRequired, setRebootRequired] = useState('no');\n  const [step, setStep] = useState(0);\n\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  const classes = useStyles();\n\n  useMountEffect(() => {\n    getStorage(\"userMode\").then(function(userMode) {\n      getStorage(\"networkProfile\").then(function(networkType) {\n        getStorage(\"printerProfile\").then(function(printerProfile) {\n          getStorage(\"camEnabled\").then(function(camEnabled) {\n            setNetworkType(() => {\n              const networkProfile = networkType;\n              return networkProfile !== null ? networkProfile : \"none\";\n            });\n            setCamEnabled(() => camEnabled);\n            setPrinterMode(() => printerProfile);\n            setUserMode(() => userMode);\n          });\n        });\n      });\n    });\n  });\n\n  const handleNetworkToggle = (value) => {\n    const network = value.toLowerCase();\n    setNetworkExpanded(false);\n    setNetworkType(network);\n    setStorage(\"networkProfile\", network);\n    setStep(0);\n  };\n\n  const setNewType = (value) => {\n    const network = value.toLowerCase();\n    setNetworkType(network);\n  };\n\n  const handleCameraToggle = (checked) => {\n    let action = '';\n\n    if(checked) {\n      setCamEnabled('enabled');\n      setStorage(\"camEnabled\", 'enabled');\n      action = 'add';\n    } else {\n      setCamEnabled('disabled');\n      setStorage(\"camEnabled\", 'disabled');\n      action = 'remove';\n    }\n\n    if(action == 'add') {\n      var imageUrl = `http://${window.location.hostname}:8090/?action=snapshot`;\n      imageExists(imageUrl, function(exists) {\n        if(!exists) {\n          if(window.confirm('Reboot Required on initial camera setup. Continue?')) {\n            setRebootRequired('yes');\n            toggleCamera(action).then((data) => {\n              setTimeout(() => {\n                fetch(`http://${window.location.hostname}:8990/reboot`, {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n              }, 3000);\n            });\n          } else {\n            setCamEnabled('disabled');\n          }\n        }\n      });\n    }\n\n    async function toggleCamera(action) {\n      // Default options are marked with *\n      const response = await fetch(`http://${window.location.hostname}:8990/toggle/camera`, {\n        method: \"POST\",\n        body: JSON.stringify({'action':action}),\n        headers: { \"Content-Type\": \"application/json\" }\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n  };\n\n  return (\n    <>\n      <Grid container direction=\"column\" className={classes.container}>\n\n        {displaySSID && (\n          <Grid>\n            Your SSID is\n            <Typography color=\"secondary\" variant=\"body1\">\n              {window.location.hostname}\n            </Typography>\n            Your password is\n            <Typography color=\"secondary\" variant=\"body1\">\n              makermade\n            </Typography>\n            {networkType === \"ethernet\" && (\n              <Typography variant=\"body2\">\n                Don't forget to connect your cable!\n              </Typography>\n            )}\n          </Grid>\n        )}\n        {displayWifi && (\n          <Grid item xs>\n            <WifiConnect\n              setShowSnack={setShowSnack}\n              setSnackMessage={setSnackMessage}\n              handleSnackClose={handleSnackClose}\n              settingsScreen={true}\n            />\n          </Grid>\n        )}\n\n        <Grid>\n          <List\n            subheader={<ListSubheader>User Type</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <LocalLibrary />\n              </ListItemIcon>\n              <ListItemText primary=\"Experience Level\" />\n              <Select\n                native\n                value={userMode}\n                onChange={(e) => {\n                  if (e.target && e.target.value) {\n                    setUserMode(e.target.value);\n                    setStorage(\"userMode\", e.target.value);\n                  }\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                  },\n                  getContentAnchorEl: null\n                }}\n              >\n                <option value=\"beginner\">Beginner</option>\n                <option value=\"standard\">Standard</option>\n              </Select>\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Printer</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Classroom Mode\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    const checkedValue = e.target.checked\n                      ? \"classroom\"\n                      : \"home\";\n                    setPrinterMode(() => checkedValue);\n                    setStorage(\"printerProfile\", checkedValue);\n                  }}\n                  checked={printerMode !== \"home\"}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Dns />\n              </ListItemIcon>\n              <ListItemText\n                primary={`Printer Name: ${window.location.hostname}`}\n              />\n              <ListItemSecondaryAction>\n                {/*<Button\n                  variant=\"contained\"\n                  color={networkExpanded ? \"secondary\" : \"primary\"}\n                  onClick={() => {\n                    setStep(1);\n                  }}\n                  size={networkExpanded ? \"small\" : \"medium\"}\n                >\n                  {networkExpanded ? \"Select\" : \"Change\"}\n                </Button>*/}\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Videocam />\n              </ListItemIcon>\n              <ListItemText primary=\"Enable Camera\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    handleCameraToggle(e.target.checked);\n                  }}\n                  checked={camEnabled === 'enabled'}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n          {rebootRequired == 'yes' && (\n            <Grid\n              container\n              direction=\"column\"\n              alignItems=\"center\"\n            >\n            <Grid item>\n              <CircularProgress className={classes.button} color=\"secondary\" />\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                Rebooting printer to apply changes, this will take approximately 2\n                minutes.\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography\n                variant=\"h5\"\n                style={{ marginTop: 60, textAlign: \"center\" }}\n              >\n                DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n              </Typography>\n            </Grid>\n            </Grid>)}\n        </Grid>\n        <Snackbar\n          open={showSnack}\n          autoHideDuration={6000}\n          message={snackMessage}\n          onClose={handleSnackClose}\n        ></Snackbar>\n      </Grid>\n      {step === 2 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSelect\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n      {step === 1 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSettings\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\nconst test = {\n  message: \"scanning networks...\",\n  status: \"Scanned networks!\",\n  refresh: true,\n  networks: [\n    {\n      bssid: \"cc:be:59:c1:d8:eb\",\n      frequency: 2462,\n      signalLevel: -52,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"cc:be:59:c1:d8:ec\",\n      frequency: 5680,\n      signalLevel: -67,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Wiliams\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b7\",\n      frequency: 2437,\n      signalLevel: -60,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 2.4G\"\n    },\n    {\n      bssid: \"88:6a:e3:a5:e2:1d\",\n      frequency: 2437,\n      signalLevel: -61,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"tla5e21d\"\n    },\n    {\n      bssid: \"42:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"44:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Marshall 5G\"\n    },\n    {\n      bssid: \"46:65:7f:e7:94:b8\",\n      frequency: 5240,\n      signalLevel: -76,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:be\",\n      frequency: 5805,\n      signalLevel: -77,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 5G\"\n    },\n    {\n      bssid: \"cc:be:59:82:e5:bd\",\n      frequency: 2462,\n      signalLevel: -68,\n      flags: \"[WPA-PSK-CCMP][WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"gArteag 2.4G\"\n    },\n    {\n      bssid: \"88:b4:a6:f5:0e:66\",\n      frequency: 2412,\n      signalLevel: -70,\n      flags: \"[WPA2-PSK-CCMP][WPS][ESS]\",\n      ssid: \"Bucks_in_6\"\n    },\n    {\n      bssid: \"fa:8f:ca:5d:92:cf\",\n      frequency: 5680,\n      signalLevel: -71,\n      flags: \"[ESS]\"\n    },\n    {\n      bssid: \"fa:8f:ca:86:46:6d\",\n      frequency: 5680,\n      signalLevel: -82,\n      ssid: \"[ESS]\"\n    }\n  ]\n};\n","import React from \"react\";\nimport {\n  AppBar,\n  Card,\n  CardContent,\n  Container,\n  Typography\n} from \"@material-ui/core\";\nimport TutorialDefinitions from \"../../Tutorials/TutorialDefinitions\";\nimport Tutorial from \"../../Tutorials/Tutorial/Tutorial\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\nclass Tutorials extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { currentTutorial: null };\n  }\n  selectTutorial(id) {\n    this.setState({ currentTutorial: id });\n  }\n  closeTutorial(reason) {\n    this.setState({ currentTutorial: null });\n    if (reason && reason === \"request-calibration\") {\n      setTimeout(() => {\n        this.selectTutorial(\"bedLevelSensorCalibration\");\n      }, 1000);\n    }\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Container className={classes.tutorialContainer}>\n          {Object.getOwnPropertyNames(TutorialDefinitions).map((tutName) => {\n            if (TutorialDefinitions[tutName].userVisable) {\n              return (\n                <>\n                  <Card\n                    className={classes.tutorialCard}\n                    onClick={() => {\n                      this.selectTutorial(tutName);\n                    }}\n                  >\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {TutorialDefinitions[tutName].name}\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {TutorialDefinitions[tutName].description}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </>\n              );\n            } else {\n              return <></>;\n            }\n          })}\n        </Container>\n        {this.state.currentTutorial && (\n          <Tutorial\n            tutorialName={this.state.currentTutorial}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.closeTutorial(reason);\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorials);\n","import React, { useRef, useState } from \"react\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { setStorage, getStorage, resetStorage } from \"../../../Utility/helpers\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst ResetPrinter = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const old_name = getStorage(\"hostname\");\n\n  const handleReset = () => {\n    console.log(\"reset\");\n    resetStorage().then((newSettings) => {\n      window.location.reload(false);\n    });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>Warning!</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>This will reset your printer to factory settings.</Typography>\n            <Typography variant=\"h6\" style={{textAlign: 'center'}}>All gcode and stl files will be preserved.</Typography>\n            </Grid>\n          <Grid\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'center'}}>\n              {/*<Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n      />\n              </Grid>*/}\n              <Grid item>\n                <Button\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      handleReset()\n                  }}\n                    >\n                  Reset\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      )}\n\n    </Grid>\n  );\n};\n\nexport default ResetPrinter;\n","import React, { useState } from \"react\";\nimport {\n  AppBar,\n  Container,\n  Divider,\n  Drawer,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Update from \"./MenuTabs/Update\";\nimport ManageStorage from \"./MenuTabs/ManageStorage\";\nimport About from \"./MenuTabs/About\";\nimport Settings from \"./MenuTabs/Settings\";\nimport Tutorials from \"./MenuTabs/Tutorials\";\nimport ResetPrinter from \"./MenuTabs/ResetPrinter\";\n\nconst useStyles = makeStyles({\n  componentContainer: {\n    display: \"flex\",\n    flex: 1\n  },\n  drawerContainer: {\n    width: \"100%\",\n    maxWidth: \"700px\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  text: {\n    fontSize: \"1.5em\"\n  }\n});\n\nconst Menu = (lastMessage) => {\n  const classes = useStyles();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [activeComponent, setActiveComponent] = useState({});\n\n  const handleDrawer = (item) => {\n    //call setActiveComponent\n    setActiveComponent(item);\n    setDrawerOpen(true);\n  };\n  const MenuArray = [\n    {\n      name: \"Tutorials\",\n      component: <Tutorials />\n    },\n    {\n      name: \"Settings\",\n      component: <Settings />\n    },\n    {\n      name: \"Storage\",\n      component: <ManageStorage />\n    },\n    //{ name: \"Troubleshooting\", component: null },\n    { name: \"Update\", component: <Update firstBoot={false} /> },\n    { name: \"Reset\", component: <ResetPrinter /> },\n    { name: \"About\", component: <About /> }\n\n  ];\n  return (\n    <div>\n      <List>\n        {MenuArray.map((item) => {\n          return (\n            <React.Fragment key={`${item.name}-item`}>\n              <ListItem\n                button\n                onClick={() => handleDrawer(item)}\n                className={classes.item}\n              >\n                <ListItemText\n                  primary={\n                    <Typography className={classes.text}>\n                      {item.name}\n                    </Typography>\n                  }\n                />\n                <ArrowForwardIosIcon />\n              </ListItem>\n              <Divider />\n            </React.Fragment>\n          );\n        })}\n      </List>\n      <Drawer\n        anchor=\"right\"\n        open={drawerOpen}\n        onClose={() => setDrawerOpen(false)}\n        classes={{\n          paper: classes.drawerContainer\n        }}\n      >\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {window.location.hostname}\n          </Typography>\n        </AppBar>\n        <div className={classes.header}>\n          <IconButton aria-label=\"back\" onClick={() => setDrawerOpen(false)}>\n            <ArrowBackIcon />\n          </IconButton>\n          <Typography variant=\"h5\">\n            {activeComponent.name}\n          </Typography>\n        </div>\n        <Container className={classes.componentContainer}>\n          {activeComponent.component}\n        </Container>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport React, { Component } from \"react\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport Tutorial from \"./Tutorial\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nclass TutorialButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { tutorialShown: false };\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Card\n          className={classes.tutorialCard}\n          onClick={() => {\n            this.setState({ tutorialShown: true });\n          }}\n        >\n          <CardContent>\n            <Typography variant=\"h6\">\n              {TutorialDefinitions[this.props.tutorialName].name}\n            </Typography>\n            <Typography variant=\"body2\">\n              {TutorialDefinitions[this.props.tutorialName].description}\n            </Typography>\n          </CardContent>\n        </Card>\n        {this.state.tutorialShown && (\n          <Tutorial\n            tutorialName={this.props.tutorialName}\n            extruderTemp={this.props.extruderTemp}\n            bedTemp={this.props.bedTemp}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.setState({ tutorialShown: false });\n            }}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(TutorialButton);\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TutorialButton from \"../Tutorials/Tutorial/TutorialButton\";\n\nconst Tune = (lastMessage) => {\n  const [offset, setOffset] = useState(0);\n  const units = [0.01, 0.05, 0.1, 1.0, 10];\n  const [unit, setUnit] = useState(1);\n  const [extruder, setExtruder] = useState(0);\n  const [bed, setBed] = useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if (json[0].current.temps[0]) {\n          let temps = json[0].current.temps[0];\n          setExtruder(parseInt(temps.tool0.actual));\n          setBed(parseInt(temps.bed.actual));\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  const useStyles = makeStyles({\n    btnContainer: {\n      marginTop: \"14px\",\n      marginBottom: \"28px\",\n      textAlign: \"center\"\n    },\n    centerBtns: {\n      \"& button\": {\n        margin: \"0 12px\"\n      }\n    },\n    tabs: {\n      \"& button\": {\n        textTransform: \"none\"\n      }\n    }\n  });\n  const classes = useStyles();\n\n  let sendGcode = function (gcode) {\n    fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  let position = { x: 0, y: 0, z: 0 };\n\n  return (\n    <div>\n      <TutorialButton\n        tutorialName={\"blTouchCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"bedLevelCornerCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      {/*<Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={() => {\n          sendGcode(\"G29 T\\nM114\\n\");\n        }}\n      >\n        Generate Mesh\n      </Button>*/}\n      <TutorialButton\n        tutorialName={\"loadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"unloadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n      ></TutorialButton>\n    </div>\n  );\n};\n\nexport default Tune;\n","import React, { useState } from \"react\";\nimport { AppBar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TabList from \"../Common/Tabs/TabList\";\nimport Print from \"../Print/Print\";\nimport Control from \"../Control/Control\";\nimport Menu from \"../Menu/Menu\";\nimport Tune from \"../Tune/Tune\";\n\nimport \"./Home.css\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n    textAlign: \"center\",\n    padding: 0\n  }\n}));\nconst tabList = [\"Print\", \"Control\", \"Tune\", \"Menu\"];\nconst Home = ({ lastMessage, mode, setActiveMode }) => {\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = useState(\"Print\");\n  const [disabledNav, setDisabledNav] = useState(false);\n\n  const handleTabClick = (event, val) => {\n    setActiveTab(tabList[val]);\n  };\n  const Components = {\n    Print: <Print lastMessage={lastMessage} setDisabledNav={setDisabledNav} />,\n    Control: <Control lastMessage={lastMessage} />,\n    Menu: <Menu lastMessage={lastMessage} />,\n    Tune: <Tune lastMessage={lastMessage} />\n  };\n  return (\n    <div className=\"home-container\">\n      <AppBar\n        position=\"fixed\"\n        color=\"primary\"\n        className={classes.appBar}\n        disabled={true}\n      >\n        <TabList\n          tabList={tabList}\n          handleTabClick={handleTabClick}\n          activeTab={tabList.indexOf(activeTab)}\n          disabledNav={disabledNav}\n        />\n      </AppBar>\n      <div className=\"component-container\">{Components[activeTab]}</div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useMemo, useRef } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Setup from \"./components/Setup/Setup\";\nimport Home from \"./components/Home/Home\";\nimport {\n  createMuiTheme,\n  MuiThemeProvider\n  // makeStyles,\n} from \"@material-ui/core/styles\";\nimport { AppBar, Box, Typography } from \"@material-ui/core\";\nimport { getStorage, setStorage } from \"./Utility/helpers\";\nimport { useMountEffect } from \"./Utility/useMountEffect\";\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\nimport TempContext from \"./TempContext\";\nimport imgPrint from \"./img/mm-print.svg\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0071CE\"\n    },\n    secondary: {\n      main: \"#CD6930\"\n    },\n    background: {\n      default: \"#3A3A3A\"\n    },\n    type: \"dark\"\n  },\n  overrides: {\n    MuiTab: {\n      \"root\": {\n        \"&$selected\": {\n          \"color\": \"#FFFFFF\",\n          \"background-color\": \"#0055a1\"\n        },\n        \"font-weight\": 300\n      }\n    },\n    MuiAppBar: {\n      \"root\": {\n        \"padding\": \"10px\"\n      }\n    },\n    MuiPaper: {\n      rounded: {\n        \"border-radius\": \"15px\"\n      }\n    },\n    MuiButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiButtonBase: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiIconButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiListItemText: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiTypography: {\n      \"root\": {\n        \"font-weight\": 300\n      },\n      h1: {\n        \"font-weight\": 300\n      },\n      h2: {\n        \"font-weight\": 300\n      },\n      h3: {\n        \"font-weight\": 300\n      },\n      h4: {\n        \"font-weight\": 300\n      },\n      h5: {\n        \"font-weight\": 300\n      },\n      h6: {\n        \"font-weight\": 300\n      },\n      body1: {\n        \"font-weight\": 300\n      },\n      body2: {\n        \"font-weight\": 300\n      }\n    }\n  }\n});\n// const useStyles = makeStyles({});\nconst App = () => {\n  // const classes = useStyles();\n\n  const [mode, setActiveMode] = useState(null);\n  const [onboarded, setOnboarded] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [bedTemp, setBedTemp] = useState(0);\n  const [bedTargetTemp, setBedTargetTemp] = useState(0);\n  const [nozzleTemp, setNozzleTemp] = useState(0);\n  const [nozzleTargetTemp, setNozzleTargetTemp] = useState(0);\n  const [machineName, setMachineName] = useState(\"\");\n\n  useMountEffect(() => {\n\n   setLoading(true);\n\n    getStorage(\"onboarded\").then(function(isOnboarded) {\n      getStorage(\"userMode\").then(function(userMode) {\n        getStorage(\"networkProfile\").then(function(networkType) {\n          getStorage(\"printerName\").then(function(printerName) {\n            if (networkType === \"hotspot\") {\n              fetch(`http://${window.location.hostname}:8990/hotspot/connect`, {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n            }\n\n            if (networkType === \"wifi\") {\n              fetch(`http://${window.location.hostname}:8990/hotspot/disconnect`, {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n            }\n\n            if (printerName === null) {\n              setStorage(\"printerName\", \"300x\");\n              setMachineName(\"300x\");\n            } else {\n              if(printerName === \"300X\") {\n                setStorage(\"printerName\", \"300x\");\n                setMachineName(\"300x\");\n              } else {\n                setMachineName(printerName);\n              }\n            }\n\n            setOnboarded(isOnboarded);\n            setActiveMode(userMode);\n          });\n        });\n      });\n    });\n  });\n\n  const handleOnboarding = (val) => {\n    setActiveMode(val);\n    setOnboarded(true);\n  };\n  const [socketUrl, setSocketUrl] = useState(\n    `ws://${window.location.hostname}:9000/sockjs/718/qerksnvm/websocket`\n  );\n  const messageHistory = useRef([]);\n\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: (closeEvent) => true,\n    reconnectAttempts: 999999, // default: 20\n    reconnectInterval: 0, // default: 5000\n    onOpen: () => {\n      console.log(\"socket opened\");\n    },\n    onError: () => {\n      console.log(\"socket error\");\n    },\n    onClose: () => {\n      // force reconnect somehow like sending message?\n      console.log(\"socket closed\");\n    },\n    onMessage: (msg) => {\n      // console.log(\"MESSAGE EVENT\");\n      let json = JSON.parse(msg.data.substring(1));\n      if (json.length && json.length > 0) {\n        if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n          let temps = json[0].current.temps[0];\n          console.log(\"setting temps\");\n          setNozzleTemp(parseInt(temps.tool0.actual));\n          setBedTemp(parseInt(temps.bed.actual));\n          setNozzleTargetTemp(parseInt(temps.tool0.target));\n          setBedTargetTemp(parseInt(temps.bed.target));\n        }\n      }\n      // console.log(msg);\n    }\n  });\n\n  messageHistory.current = useMemo(() => {\n    try {\n      messageHistory.current.concat(lastMessage);\n      // let json = JSON.parse(lastMessage.data.substring(1));\n      // if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n      //   if (json[0].current.temps[0]) {\n      //     let temps = json[0].current.temps[0];\n      //     setNozzleTemp(parseInt(temps.tool0.actual));\n      //     setBedTemp(parseInt(temps.bed.actual));\n      //   }\n      // }\n    } catch (error) {}\n  }, [lastMessage]);\n\n  const connectionStatus = {\n    [ReadyState.CONNECTING]: \"Connecting\",\n    [ReadyState.OPEN]: \"Open\",\n    [ReadyState.CLOSING]: \"Closing\",\n    [ReadyState.CLOSED]: \"Closed\",\n    [ReadyState.UNINSTANTIATED]: \"Uninstantiated\"\n  }[readyState];\n\n  React.useEffect(() => {\n    console.log(connectionStatus);\n    if (connectionStatus == \"Open\") {\n      sendMessage('{ \"auth\": \"E7BFE47F2DBF489B9E78A3D9D042874A\" }');\n      sendMessage('{ \"throttle\": 2 }');\n      sendMessage('{ \"current\": \"state\" }');\n      setLoading(false);\n    }\n  }, [connectionStatus]);\n\n  return (\n\n    <MuiThemeProvider theme={theme}>\n      <TempContext.Provider\n        value={{\n          bedTarget: bedTargetTemp,\n          bed: bedTemp,\n          nozzleTarget: nozzleTargetTemp,\n          nozzle: nozzleTemp,\n          setBedTarget: setBedTargetTemp,\n          setNozzleTarget: setNozzleTargetTemp,\n          setBed: setBedTemp,\n          setNozzle: setNozzleTemp\n        }}\n      >\n        <CssBaseline />\n        <Box height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n          {onboarded && (\n            <AppBar position=\"sticky\">\n              <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n                Printer Name: {window.location.hostname}\n              </Typography>\n            </AppBar>\n          )}\n          {loading ? (\n            <>\n              <img\n                src={imgPrint}\n                style={{\n                  width: 200,\n                  height: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% - 100px)\"\n                }}\n              ></img>\n              <h4\n                style={{\n                  width: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% + 120px)\",\n                  textAlign: \"center\"\n                }}\n              >\n                Loading ...\n              </h4>\n            </>\n          ) : (\n            <Home\n              mode={mode}\n              lastMessage={lastMessage}\n              setActiveMode={setActiveMode}\n            />\n          )}\n        </Box>\n      </TempContext.Provider>\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === '300x.local' ||\n    // [::1] is the IPv6 300x.local address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered 300x.local for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on 300x.local. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to 300x.local, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not 300x.local. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mm-print.01cf77d4.svg\";"],"sourceRoot":""}