(this.webpackJsonpprinter=this.webpackJsonpprinter||[]).push([[0],{112:function(e){e.exports=JSON.parse('{"name":"printer","version":"2.1.3","private":true,"dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.31","@fortawesome/free-solid-svg-icons":"^5.15.0","@fortawesome/react-fontawesome":"^0.1.11","@material-ui/core":"^4.11.0","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","install":"^0.13.0","moment":"^2.29.1","npm":"^6.14.8","react":"^16.13.1","react-dom":"^16.13.1","react-scripts":"3.4.3","react-simple-keyboard":"^2.5.81","react-use-websocket":"^2.2.0","three":"^0.125.2","web-vitals":"^1.1.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},130:function(e,t,a){e.exports=a(164)},135:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t){e.exports=function(e){var t=e.BoxGeometry,a=e.BufferGeometry,n=e.Color,o=e.CylinderGeometry,i=e.DoubleSide,r=e.Euler,l=e.Float32BufferAttribute,s=e.Line,c=e.LineBasicMaterial,u=e.Matrix4,m=e.Mesh,p=e.MeshBasicMaterial,d=e.Object3D,h=e.OctahedronGeometry,f=e.PlaneGeometry,b=e.Quaternion,y=e.Raycaster,g=e.SphereGeometry,v=e.TorusGeometry,w=e.Vector3,x=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),d.call(this),this.visible=!1,this.domElement=t;var a=new E;this.add(a);var n=new S;this.add(n);var o=this;W("camera",e),W("object",void 0),W("enabled",!0),W("axis",null),W("mode","translate"),W("translationSnap",null),W("rotationSnap",null),W("scaleSnap",null),W("space","world"),W("size",1),W("dragging",!1),W("showX",!0),W("showY",!0),W("showZ",!0);var i={type:"change"},r={type:"mouseDown"},l={type:"mouseUp",mode:o.mode},s={type:"objectChange"},c=new y;function u(e,t,a){for(var n=t.intersectObject(e,!0),o=0;o<n.length;o++)if(n[o].object.visible||a)return n[o];return!1}var m=new w,p=new w,h=new b,f={X:new w(1,0,0),Y:new w(0,1,0),Z:new w(0,0,1)},g=new w,v=new w,x=new w,T=new w,k=new w,j=new w,C=0,O=new w,A=new b,B=new w,z=new w,M=new b,N=new b,P=new w,_=new w,I=new b,R=new w,F=new w,G=new b,Z=new b,Y=new w,L=new w,D=new w,X=new b,K=new w;function W(e,t){var r=t;Object.defineProperty(o,e,{get:function(){return void 0!==r?r:t},set:function(t){r!==t&&(r=t,n[e]=t,a[e]=t,o.dispatchEvent({type:e+"-changed",value:t}),o.dispatchEvent(i))}}),o[e]=t,n[e]=t,a[e]=t}function U(e){if(o.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var a=e.changedTouches?e.changedTouches[0]:e,n=t.getBoundingClientRect();return{x:(a.clientX-n.left)/n.width*2-1,y:-(a.clientY-n.top)/n.height*2+1,button:e.button}}function q(e){if(o.enabled)switch(e.pointerType){case"mouse":case"pen":o.pointerHover(U(e))}}function Q(e){o.enabled&&(o.domElement.style.touchAction="none",o.domElement.ownerDocument.addEventListener("pointermove",H),o.pointerHover(U(e)),o.pointerDown(U(e)))}function H(e){o.enabled&&o.pointerMove(U(e))}function V(e){o.enabled&&(o.domElement.style.touchAction="",o.domElement.ownerDocument.removeEventListener("pointermove",H),o.pointerUp(U(e)))}W("worldPosition",F),W("worldPositionStart",_),W("worldQuaternion",G),W("worldQuaternionStart",I),W("cameraPosition",O),W("cameraQuaternion",A),W("pointStart",g),W("pointEnd",v),W("rotationAxis",T),W("rotationAngle",C),W("eye",L),t.addEventListener("pointerdown",Q),t.addEventListener("pointermove",q),o.domElement.ownerDocument.addEventListener("pointerup",V),this.dispose=function(){t.removeEventListener("pointerdown",Q),t.removeEventListener("pointermove",q),o.domElement.ownerDocument.removeEventListener("pointermove",H),o.domElement.ownerDocument.removeEventListener("pointerup",V),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(z,M,P),this.object.matrixWorld.decompose(F,G,Y),N.copy(M).invert(),Z.copy(G).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(O,A,B),L.copy(O).sub(F).normalize(),d.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging){c.setFromCamera(e,this.camera);var t=u(a.picker[this.mode],c);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){c.setFromCamera(e,this.camera);var t=u(n,c,!0);if(t){var a=this.space;if("scale"===this.mode?a="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(a="world"),"local"===a&&"rotate"===this.mode){var o=this.rotationSnap;"X"===this.axis&&o&&(this.object.rotation.x=Math.round(this.object.rotation.x/o)*o),"Y"===this.axis&&o&&(this.object.rotation.y=Math.round(this.object.rotation.y/o)*o),"Z"===this.axis&&o&&(this.object.rotation.z=Math.round(this.object.rotation.z/o)*o)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),D.copy(this.object.position),X.copy(this.object.quaternion),K.copy(this.object.scale),this.object.matrixWorld.decompose(_,I,R),g.copy(t.point).sub(_)}this.dragging=!0,r.mode=this.mode,this.dispatchEvent(r)}},this.pointerMove=function(e){var t=this.axis,a=this.mode,o=this.object,r=this.space;if("scale"===a?r="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(r="world"),void 0!==o&&null!==t&&!1!==this.dragging&&-1===e.button){c.setFromCamera(e,this.camera);var l=u(n,c,!0);if(l){if(v.copy(l.point).sub(_),"translate"===a)x.copy(v).sub(g),"local"===r&&"XYZ"!==t&&x.applyQuaternion(Z),-1===t.indexOf("X")&&(x.x=0),-1===t.indexOf("Y")&&(x.y=0),-1===t.indexOf("Z")&&(x.z=0),"local"===r&&"XYZ"!==t?x.applyQuaternion(X).divide(P):x.applyQuaternion(N).divide(P),o.position.copy(x).add(D),this.translationSnap&&("local"===r&&(o.position.applyQuaternion(h.copy(X).invert()),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.position.applyQuaternion(X)),"world"===r&&(o.parent&&o.position.add(m.setFromMatrixPosition(o.parent.matrixWorld)),-1!==t.search("X")&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.parent&&o.position.sub(m.setFromMatrixPosition(o.parent.matrixWorld))));else if("scale"===a){if(-1!==t.search("XYZ")){var d=v.length()/g.length();v.dot(g)<0&&(d*=-1),p.set(d,d,d)}else m.copy(g),p.copy(v),m.applyQuaternion(Z),p.applyQuaternion(Z),p.divide(m),-1===t.search("X")&&(p.x=1),-1===t.search("Y")&&(p.y=1),-1===t.search("Z")&&(p.z=1);o.scale.copy(K).multiply(p),this.scaleSnap&&(-1!==t.search("X")&&(o.scale.x=Math.round(o.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(o.scale.y=Math.round(o.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(o.scale.z=Math.round(o.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===a){x.copy(v).sub(g);var b=20/F.distanceTo(m.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(T.copy(L),C=v.angleTo(g),k.copy(g).normalize(),j.copy(v).normalize(),C*=j.cross(k).dot(L)<0?1:-1):"XYZE"===t?(T.copy(x).cross(L).normalize(),C=x.dot(m.copy(T).cross(this.eye))*b):"X"!==t&&"Y"!==t&&"Z"!==t||(T.copy(f[t]),m.copy(f[t]),"local"===r&&m.applyQuaternion(G),C=x.dot(m.cross(L).normalize())*b),this.rotationSnap&&(C=Math.round(C/this.rotationSnap)*this.rotationSnap),this.rotationAngle=C,"local"===r&&"E"!==t&&"XYZE"!==t?(o.quaternion.copy(X),o.quaternion.multiply(h.setFromAxisAngle(T,C)).normalize()):(T.applyQuaternion(N),o.quaternion.copy(h.setFromAxisAngle(T,C)),o.quaternion.multiply(X).normalize())}this.dispatchEvent(i),this.dispatchEvent(s)}}},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(l.mode=this.mode,this.dispatchEvent(l)),this.dragging=!1,this.axis=null)},this.getMode=function(){return o.mode},this.setMode=function(e){o.mode=e},this.setTranslationSnap=function(e){o.translationSnap=e},this.setRotationSnap=function(e){o.rotationSnap=e},this.setScaleSnap=function(e){o.scaleSnap=e},this.setSize=function(e){o.size=e},this.setSpace=function(e){o.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};x.prototype=Object.assign(Object.create(d.prototype),{constructor:x,isTransformControls:!0});var E=function(){"use strict";d.call(this),this.type="TransformControlsGizmo";var e=new p({depthTest:!1,depthWrite:!1,transparent:!0,side:i,fog:!1,toneMapped:!1}),y=new c({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),x=e.clone();x.opacity=.15;var E=e.clone();E.opacity=.33;var S=e.clone();S.color.set(16711680);var T=e.clone();T.color.set(65280);var k=e.clone();k.color.set(255);var j=e.clone();j.opacity=.25;var C=j.clone();C.color.set(16776960);var O=j.clone();O.color.set(65535);var A=j.clone();A.color.set(16711935),e.clone().color.set(16776960);var B=y.clone();B.color.set(16711680);var z=y.clone();z.color.set(65280);var M=y.clone();M.color.set(255);var N=y.clone();N.color.set(65535);var P=y.clone();P.color.set(16711935);var _=y.clone();_.color.set(16776960);var I=y.clone();I.color.set(7895160);var R=_.clone();R.opacity=.25;var F=new o(0,.05,.2,12,1,!1),G=new t(.125,.125,.125),Z=new a;Z.setAttribute("position",new l([0,0,0,1,0,0],3));var Y=function(e,t){for(var n=new a,o=[],i=0;i<=64*t;++i)o.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new l(o,3)),n},L={X:[[new m(F,S),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new m(F,S),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new s(Z,B)]],Y:[[new m(F,T),[0,1,0],null,null,"fwd"],[new m(F,T),[0,1,0],[Math.PI,0,0],null,"bwd"],[new s(Z,z),null,[0,0,Math.PI/2]]],Z:[[new m(F,k),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new m(F,k),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new s(Z,M),null,[0,-Math.PI/2,0]]],XYZ:[[new m(new h(.1,0),j.clone()),[0,0,0],[0,0,0]]],XY:[[new m(new f(.295,.295),C.clone()),[.15,.15,0]],[new s(Z,_),[.18,.3,0],null,[.125,1,1]],[new s(Z,_),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m(new f(.295,.295),O.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new s(Z,N),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new s(Z,N),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m(new f(.295,.295),A.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new s(Z,P),[.18,0,.3],null,[.125,1,1]],[new s(Z,P),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},D={X:[[new m(new o(.2,0,1,4,1,!1),x),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new m(new o(.2,0,1,4,1,!1),x),[0,.6,0]]],Z:[[new m(new o(.2,0,1,4,1,!1),x),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new m(new h(.2,0),x)]],XY:[[new m(new f(.4,.4),x),[.2,.2,0]]],YZ:[[new m(new f(.4,.4),x),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new m(new f(.4,.4),x),[.2,0,.2],[-Math.PI/2,0,0]]]},X={START:[[new m(new h(.01,2),E),null,null,null,"helper"]],END:[[new m(new h(.01,2),E),null,null,null,"helper"]],DELTA:[[new s(function(){var e=new a;return e.setAttribute("position",new l([0,0,0,1,1,1],3)),e}(),E),null,null,null,"helper"]],X:[[new s(Z,E.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new s(Z,E.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new s(Z,E.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},K={X:[[new s(Y(1,.5),B)],[new m(new h(.04,0),S),[0,0,.99],null,[1,3,1]]],Y:[[new s(Y(1,.5),z),null,[0,0,-Math.PI/2]],[new m(new h(.04,0),T),[0,0,.99],null,[3,1,1]]],Z:[[new s(Y(1,.5),M),null,[0,Math.PI/2,0]],[new m(new h(.04,0),k),[.99,0,0],null,[1,3,1]]],E:[[new s(Y(1.25,1),R),null,[0,Math.PI/2,0]],[new m(new o(.03,0,.15,4,1,!1),R),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new m(new o(.03,0,.15,4,1,!1),R),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new m(new o(.03,0,.15,4,1,!1),R),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new m(new o(.03,0,.15,4,1,!1),R),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new s(Y(1,1),I),null,[0,Math.PI/2,0]]]},W={AXIS:[[new s(Z,E.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},U={X:[[new m(new v(1,.1,4,24),x),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new m(new v(1,.1,4,24),x),[0,0,0],[Math.PI/2,0,0]]],Z:[[new m(new v(1,.1,4,24),x),[0,0,0],[0,0,-Math.PI/2]]],E:[[new m(new v(1.25,.1,2,24),x)]],XYZE:[[new m(new g(.7,10,8),x)]]},q={X:[[new m(G,S),[.8,0,0],[0,0,-Math.PI/2]],[new s(Z,B),null,null,[.8,1,1]]],Y:[[new m(G,T),[0,.8,0]],[new s(Z,z),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new m(G,k),[0,0,.8],[Math.PI/2,0,0]],[new s(Z,M),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new m(G,C),[.85,.85,0],null,[2,2,.2]],[new s(Z,_),[.855,.98,0],null,[.125,1,1]],[new s(Z,_),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m(G,O),[0,.85,.85],null,[.2,2,2]],[new s(Z,N),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new s(Z,N),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m(G,A),[.85,0,.85],null,[2,.2,2]],[new s(Z,P),[.855,0,.98],null,[.125,1,1]],[new s(Z,P),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new m(new t(.125,.125,.125),j.clone()),[1.1,0,0]]],XYZY:[[new m(new t(.125,.125,.125),j.clone()),[0,1.1,0]]],XYZZ:[[new m(new t(.125,.125,.125),j.clone()),[0,0,1.1]]]},Q={X:[[new m(new o(.2,0,.8,4,1,!1),x),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new m(new o(.2,0,.8,4,1,!1),x),[0,.5,0]]],Z:[[new m(new o(.2,0,.8,4,1,!1),x),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new m(G,x),[.85,.85,0],null,[3,3,.2]]],YZ:[[new m(G,x),[0,.85,.85],null,[.2,3,3]]],XZ:[[new m(G,x),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new m(new t(.2,.2,.2),x),[1.1,0,0]]],XYZY:[[new m(new t(.2,.2,.2),x),[0,1.1,0]]],XYZZ:[[new m(new t(.2,.2,.2),x),[0,0,1.1]]]},H={X:[[new s(Z,E.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new s(Z,E.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new s(Z,E.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},V=function(e){var t=new d;for(var a in e)for(var n=e[a].length;n--;){var o=e[a][n][0].clone(),i=e[a][n][1],r=e[a][n][2],l=e[a][n][3],s=e[a][n][4];o.name=a,o.tag=s,i&&o.position.set(i[0],i[1],i[2]),r&&o.rotation.set(r[0],r[1],r[2]),l&&o.scale.set(l[0],l[1],l[2]),o.updateMatrix();var c=o.geometry.clone();c.applyMatrix4(o.matrix),o.geometry=c,o.renderOrder=1/0,o.position.set(0,0,0),o.rotation.set(0,0,0),o.scale.set(1,1,1),t.add(o)}return t},J=new w(0,0,0),$=new r,ee=new w(0,1,0),te=new w(0,0,0),ae=new u,ne=new b,oe=new b,ie=new b,re=new w(1,0,0),le=new w(0,1,0),se=new w(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=V(L)),this.add(this.gizmo.rotate=V(K)),this.add(this.gizmo.scale=V(q)),this.add(this.picker.translate=V(D)),this.add(this.picker.rotate=V(U)),this.add(this.picker.scale=V(Q)),this.add(this.helper.translate=V(X)),this.add(this.helper.rotate=V(W)),this.add(this.helper.scale=V(H)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:ie;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var a=[];a=(a=(a=a.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var o=0;o<a.length;o++){var i,r=a[o];if(r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),r.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==r.tag){if(r.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==r.name&&"XYZX"!==r.name||Math.abs(ee.copy(re).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Y"!==r.name&&"XYZY"!==r.name||Math.abs(ee.copy(le).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Z"!==r.name&&"XYZZ"!==r.name||Math.abs(ee.copy(se).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XY"===r.name&&Math.abs(ee.copy(se).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"YZ"===r.name&&Math.abs(ee.copy(re).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XZ"===r.name&&Math.abs(ee.copy(le).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),-1!==r.name.search("X")&&(ee.copy(re).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.x*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Y")&&(ee.copy(le).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.y*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Z")&&(ee.copy(se).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.z*=-1:"bwd"===r.tag&&(r.visible=!1))}else"rotate"===this.mode&&(oe.copy(t),ee.copy(this.eye).applyQuaternion(ne.copy(t).invert()),-1!==r.name.search("E")&&r.quaternion.setFromRotationMatrix(ae.lookAt(this.eye,te,le)),"X"===r.name&&(ne.setFromAxisAngle(re,Math.atan2(-ee.y,ee.z)),ne.multiplyQuaternions(oe,ne),r.quaternion.copy(ne)),"Y"===r.name&&(ne.setFromAxisAngle(le,Math.atan2(ee.x,ee.z)),ne.multiplyQuaternions(oe,ne),r.quaternion.copy(ne)),"Z"===r.name&&(ne.setFromAxisAngle(se,Math.atan2(ee.y,ee.x)),ne.multiplyQuaternions(oe,ne),r.quaternion.copy(ne)));r.visible=r.visible&&(-1===r.name.indexOf("X")||this.showX),r.visible=r.visible&&(-1===r.name.indexOf("Y")||this.showY),r.visible=r.visible&&(-1===r.name.indexOf("Z")||this.showZ),r.visible=r.visible&&(-1===r.name.indexOf("E")||this.showX&&this.showY&&this.showZ),r.material._opacity=r.material._opacity||r.material.opacity,r.material._color=r.material._color||r.material.color.clone(),r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled?this.axis&&(r.name===this.axis||this.axis.split("").some((function(e){return r.name===e}))?(r.material.opacity=1,r.material.color.lerp(new n(1,1,1),.5)):(r.material.opacity*=.25,r.material.color.lerp(new n(1,1,1),.5))):(r.material.opacity*=.5,r.material.color.lerp(new n(1,1,1),.5))}else r.visible=!1,"AXIS"===r.name?(r.position.copy(this.worldPositionStart),r.visible=!!this.axis,"X"===this.axis&&(ne.setFromEuler($.set(0,0,0)),r.quaternion.copy(t).multiply(ne),Math.abs(ee.copy(re).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Y"===this.axis&&(ne.setFromEuler($.set(0,0,Math.PI/2)),r.quaternion.copy(t).multiply(ne),Math.abs(ee.copy(le).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Z"===this.axis&&(ne.setFromEuler($.set(0,Math.PI/2,0)),r.quaternion.copy(t).multiply(ne),Math.abs(ee.copy(se).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"XYZE"===this.axis&&(ne.setFromEuler($.set(0,Math.PI/2,0)),ee.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(ae.lookAt(te,ee,le)),r.quaternion.multiply(ne),r.visible=this.dragging),"E"===this.axis&&(r.visible=!1)):"START"===r.name?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):"END"===r.name?(r.position.copy(this.worldPosition),r.visible=this.dragging):"DELTA"===r.name?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),J.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),J.applyQuaternion(this.worldQuaternionStart.clone().invert()),r.scale.copy(J),r.visible=this.dragging):(r.quaternion.copy(t),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=-1!==this.axis.search(r.name)))}d.prototype.updateMatrixWorld.call(this)}};E.prototype=Object.assign(Object.create(d.prototype),{constructor:E,isTransformControlsGizmo:!0});var S=function(){"use strict";m.call(this,new f(1e5,1e5,2,2),new p({visible:!1,wireframe:!0,side:i,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new w(1,0,0),t=new w(0,1,0),a=new w(0,0,1),n=new w,o=new w,r=new w,l=new u,s=new b;this.updateMatrixWorld=function(){var i=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(i="local"),e.set(1,0,0).applyQuaternion("local"===i?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===i?this.worldQuaternion:s),a.set(0,0,1).applyQuaternion("local"===i?this.worldQuaternion:s),r.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":r.copy(this.eye).cross(e),o.copy(e).cross(r);break;case"Y":r.copy(this.eye).cross(t),o.copy(t).cross(r);break;case"Z":r.copy(this.eye).cross(a),o.copy(a).cross(r);break;case"XY":o.copy(a);break;case"YZ":o.copy(e);break;case"XZ":r.copy(a),o.copy(t);break;case"XYZ":case"E":o.set(0,0,0)}break;case"rotate":default:o.set(0,0,0)}0===o.length()?this.quaternion.copy(this.cameraQuaternion):(l.lookAt(n.set(0,0,0),o,r),this.quaternion.setFromRotationMatrix(l)),d.prototype.updateMatrixWorld.call(this)}};return S.prototype=Object.assign(Object.create(m.prototype),{constructor:S,isTransformControlsPlane:!0}),x}},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(22),r=a.n(i),l=(a(135),a(19)),s=a(6),c=a(271),u=a(219),m=a(205),p=a(50),d=a(206),h=a(277),f=a(200),b=a(202),y=a(203),g=a(204),v=Object(f.a)({card:{margin:"32px",border:"2px solid rgba(0, 0, 0, 0.12)",textAlign:"center"}}),w=function(e){var t=e.title,a=e.description,n=e.onClick,i=v();return o.a.createElement(b.a,{onClick:n,className:i.card},o.a.createElement(y.a,null,o.a.createElement(g.a,null,o.a.createElement(p.a,{variant:"h2"},t),o.a.createElement("p",null,a))))},x=a(13),E=a.n(x),S=a(23),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,i)).toFixed(n))+" "+o[i]},k=function(e,t){return A(e,t),N(e)},j=function(e){return N(e)};function C(){return O.apply(this,arguments)}function O(){return(O=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,fetch("http://".concat(window.location.hostname,":2127/api/v1/get/ui/settings"),{method:"GET"});case 3:return t=e.sent,e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return B.apply(this,arguments)}function B(){return(B=Object(S.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().then((function(e){var n=e;n[t]=a;var o=new FormData;o.append("json",JSON.stringify(n)),z(o)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return M.apply(this,arguments)}function M(){return(M=Object(S.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":2127/api/v1/set/ui/settings"),{method:"POST",body:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return P.apply(this,arguments)}function P(){return(P=Object(S.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.next=3,C().then((function(e){a=e[t]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(f.a)({header:{textAlign:"center",fontSize:"32px"}});var _=a(95),I=a.n(_),R=function(e){return Object(n.useEffect)(e,[])},F=(a(91),Object(f.a)({backdrop:{zIndex:1e4,color:"#fff"},buttonContainer:{display:"flex",width:"100%",justifyContent:"space-around",marginTop:"56px"},connecting:{display:"flex",flexDirection:"column",alignItems:"center","& h4":{marginBottom:"24px"}},container:{display:"flex",flexDirection:"column"},header:{display:"flex",alignItems:"center"},item:{padding:function(e){return e.settingsScreen?"10px":"30px 15px"},fontSize:function(e){return e.settingsScreen?"18px":"24px"},display:"flex",justifyContent:"space-between"},keyboard:{position:"fixed",bottom:0,left:0,right:0,color:"#000"}})),G=function(e){var t=e.setStep,a=(e.setShowSnack,e.setSnackMessage,e.settingsScreen),i=F(),r=Object(n.useState)("default"),l=Object(s.a)(r,2),c=(l[0],l[1],Object(n.useState)("")),u=Object(s.a)(c,2),h=(u[0],u[1],Object(n.useState)(!1)),f=Object(s.a)(h,2),b=(f[0],f[1],Object(n.useRef)(),j("hostname"),Object(n.useState)("300x")),y=Object(s.a)(b,2),g=y[0],v=y[1];R((function(){j("printerName").then((function(e){v(e)}))}));return o.a.createElement(m.a,{container:!0,item:!0,spacing:6,direction:"column",alignItems:"center",className:i.container},o.a.createElement("div",null,o.a.createElement(m.a,{item:!0,spacing:6,direction:"column",alignItems:"center",style:{paddingTop:140}},o.a.createElement(p.a,{variant:"h4"},"Your Printer's Name Is:"),o.a.createElement(p.a,{variant:"h4",style:{textAlign:"center"}},g)),o.a.createElement(m.a,{item:!0,spacing:6,direction:"column",alignItems:"center",style:{marginTop:200}},o.a.createElement(m.a,{container:!0,style:{flexDirection:"row",justifyContent:"flex-end"}},o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"primary",variant:"contained",className:i.button,style:{marginTop:10},onClick:function(){!a&&t(4)}},"Next"))))))},Z=a(217),Y=a(115),L=a(207),D=a(276),X=a(208),K=a(168),W=a(209),U=a(279),q=a(215),Q=a(170),H=a(216),V=a(66),J=a.n(V),$=a(110),ee=a.n($),te=a(47),ae=a.n(te),ne=Object(f.a)({accordion:{display:"flex",justifyContent:"center"},backdrop:{zIndex:1e4,color:"#fff"},button:{alignSelf:"flex-end",height:"36px",marginLeft:"25px"},connecting:{display:"flex",flexDirection:"column",alignItems:"center","& h4":{marginBottom:"24px"}},container:{display:"flex",flexDirection:"column"},header:{display:"flex",alignItems:"center"},item:{padding:function(e){return e.settingsScreen?"10px":"30px 15px"},fontSize:function(e){return e.settingsScreen?"18px":"24px"},display:"flex",justifyContent:"space-between"},keyboard:{position:"fixed",bottom:0,left:0,right:0,color:"#000"},wifiList:{height:"600px",overflow:"scroll",border:"1px solid #fff",borderRadius:"5px"}}),oe=function(e){var t=e.setStep,a=e.setShowSnack,i=e.setSnackMessage,r=(e.handleSnackClose,e.setConnectWifi),l=e.settingsScreen,c=(e.setStage,e.onGoBack),u=ne({settingsScreen:l}),m=Object(n.useState)(!1),p=Object(s.a)(m,2),h=p[0],f=p[1],b=Object(n.useState)("default"),y=Object(s.a)(b,2),g=y[0],v=y[1],w=Object(n.useState)(""),x=Object(s.a)(w,2),T=x[0],k=x[1],j=Object(n.useState)([]),C=Object(s.a)(j,2),O=C[0],A=C[1],B=Object(n.useState)(!1),z=Object(s.a)(B,2),M=z[0],N=z[1],P=Object(n.useRef)(),_=Object(n.useState)(!1),F=Object(s.a)(_,2),G=F[0],Z=F[1],V=Object(n.useState)(!0),$=Object(s.a)(V,2),te=$[0],oe=$[1];R((function(){function e(){return(e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":8990/networks/scan"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Z(!0),function(){return e.apply(this,arguments)}().then((function(e){var t=e.networks.filter((function(e,t,a){return a.map((function(e){return e.ssid})).indexOf(e.ssid)===t&&null!=e.ssid}));A(t),Z(!1)}))}));var ie=function(){var e=Object(S.a)(E.a.mark((function e(){var n,o,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){return(r=Object(S.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":8990/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(e){return r.apply(this,arguments)},n={ssid:h,password:T},f(!1),N(!0),k(""),o(n).then((function(e){N(!1),"connected!"===e.status?(i("Successfully Connected"),a((function(){return!0})),!l&&t(1)):(i("Connection Failed. Try Again"),a((function(){return!0})),N(!1))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){oe(!te)},le=function(e){var t=e.target.value;k(t),P.current.setInput(t)};return console.log(i),o.a.createElement("div",{className:u.container},!l&&o.a.createElement("div",{className:u.header},o.a.createElement(Y.a,{"aria-label":"back",onClick:function(){r((function(){return null})),c&&c()}},o.a.createElement(J.a,null)),o.a.createElement("h2",null,"Wi-Fi")),G&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:ae.a,style:{width:200,height:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% - 100px)"}}),o.a.createElement("h4",{style:{width:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% + 120px)",textAlign:"center"}},"Gathering Networks")),o.a.createElement(L.a,{className:u.wifiList},O.map((function(e){return o.a.createElement(D.a,{expanded:h===e.ssid,key:"".concat(e.ssid,"-list-item")},o.a.createElement(X.a,{classes:{content:"accordion-style"}},o.a.createElement(K.a,{className:u.item},e.ssid,o.a.createElement(d.a,{color:h===e.ssid?"secondary":"primary",variant:"contained",onClick:function(){var t;h===e.ssid?(f((function(){return!1})),k("")):(t=e.ssid,f(t))}},h===e.ssid?"Close":"Join"))),o.a.createElement(W.a,{className:u.accordion},o.a.createElement(U.a,{id:"standard-password-input",label:"Password",type:te?"password":"text",color:"secondary",value:T,onChange:le,InputProps:{endAdornment:o.a.createElement(q.a,{position:"end"},o.a.createElement(ee.a,{onClick:re}))}}),o.a.createElement(d.a,{color:"primary",variant:"contained",className:u.button,onClick:function(){T.length>0?ie():(i("Password required"),a(!0))}},"Connect")))}))),M&&o.a.createElement(Q.a,{className:u.backdrop,open:M},o.a.createElement("div",{className:u.connecting},o.a.createElement("h4",null,"Connecting"),o.a.createElement(H.a,{color:"inherit"}))),h&&o.a.createElement("div",{className:u.keyboard},o.a.createElement(I.a,{keyboardRef:function(e){return P.current=e},layoutName:g,layout:{default:["{abc} {ABC} {+=#} {123}","a b c d e","f g h i j","k l m n o","p q r s t","u v w x y","z {space} {bksp}"],shift:["{abc} {ABC} {+=#} {123}","A B C D E","F G H I J","K L M N O","P Q R S T","U V W X Y","Z {space} {bksp}"],symbol:["{abc} {ABC} {+=#} {123}","! @ # $ %","^ & * ( )","~ ' _ - =","[ ] { } \\","| ; ' : ,",'" < > ? .'],number:["{abc} {ABC} {+=#} {123}","1 2 3","4 5 6","7 8 9","$ 0 .","{space}","# {bksp}"]},display:{"{bksp}":"Backspace","{enter}":"Enter","{shift}":"Shift","{space}":"Space","{123}":"123","{ABC}":"ABC","{abc}":"abc","{+=#}":"+ = #"},onChange:function(e){k(e),console.log("Input changed",e)},onKeyPress:function(e){"{ABC}"===e?v("shift"):"{abc}"===e?v("default"):"{+=#}"===e?v("symbol"):"{123}"===e&&v("number"),("{shift}"===e||"{lock}"===e)&&v("default"===g?"shift":"default")}})))},ie=Object(f.a)({buttonContainer:{display:"flex",width:"100%",justifyContent:"space-around",marginTop:"56px"},container:{padding:"32px",textAlign:"center","& p":{fontSize:"2.125rem"}}}),re=function(e){var t=e.setStep,a=e.setConnectWifi,n=ie();return o.a.createElement(m.a,{container:!0,item:!0,spacing:6,direction:"column",alignItems:"center",className:n.container},o.a.createElement("h2",null,"Your SSID is",o.a.createElement(p.a,{color:"secondary",variant:"body1"},window.location.hostname)),o.a.createElement("h2",null,"Your password is",o.a.createElement(p.a,{color:"secondary",variant:"body1"},"makermade")),o.a.createElement(m.a,{item:!0,className:n.buttonContainer},o.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:function(){return a(null)}},"Back"),o.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){return t(1)}},"Next")))},le=(Object(f.a)({header:{display:"flex","& h2":{fontSize:"28px"}}}),a(141),a(111)),se=a.n(le),ce=Object(f.a)({checker:{flex:2,"& button":{width:"200px",height:"50px",fontSize:"14px"}},updateContainer:{flex:3,"& h3":{fontSize:"28px",textAlign:"center"}}}),ue=function(e){var t=e.autoCheck,a=(e.handleOnboarding,e.firstBoot),i=e.setStep,r=ce(),l=Object(n.useState)(!1),c=Object(s.a)(l,2),u=c[0],h=c[1],f=Object(n.useState)("Update device"),b=Object(s.a)(f,2),y=b[0],g=b[1],v=Object(n.useState)(!1),w=Object(s.a)(v,2),x=w[0],T=w[1],k=Object(n.useState)(!1),j=Object(s.a)(k,2),C=j[0],O=j[1],A=Object(n.useState)(!1),B=Object(s.a)(A,2),z=B[0],M=B[1],N=Object(n.useState)(!1),P=Object(s.a)(N,2),_=P[0],I=P[1];R((function(){t&&F()}));var F=function(){if(a&&x)i(2);else{var e=function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":2127/api/v1/update/software/check"),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g("Checking for updates..."),h(!0),e().then((function(e){console.log(e),e.update?(h(!1),g(e.message),O(!0),T(!0)):(h(!1),g(e.message),T(!0))}))}};return o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"center",style:{height:"100%"}},!z&&a&&o.a.createElement(d.a,{style:{alignSelf:"flex-end",marginTop:"15px"},"aria-label":"skip",endIcon:o.a.createElement(Z.a,null),onClick:function(){i(2)}},"Skip"),o.a.createElement(m.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:r.updateContainer},u&&o.a.createElement(H.a,{color:"secondary"}),o.a.createElement(se.a,{style:{fontSize:100,width:"100%",textAlign:"center",marginBottom:20}}),y.length>0&&o.a.createElement(p.a,{variant:"h3",style:{textAlign:"center"}},y),_&&o.a.createElement("div",null,o.a.createElement(p.a,{variant:"h3",style:{marginTop:60,textAlign:"center"}},"Rebooting printer to apply update, this will take approximately 2 minutes."),o.a.createElement(p.a,{variant:"h3",style:{marginTop:60,textAlign:"center"}},"DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!")),C&&o.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){function e(){return(e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":2127/api/v1/update/software"),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h(!0),g("Downloading, please wait..."),O(!1),function(){return e.apply(this,arguments)}().then((function(e){console.log(e),e.updated?(h(!1),g(e.message),I(!0),M(!0),setTimeout((function(){fetch("http://".concat(window.location.hostname,":8990/reboot"),{method:"POST",headers:{"Content-Type":"application/json"}})}),3e3)):(console.log("handleDownload state error of 6; Entry point"),g(e.message),O(!0),M(!1),h(!1))}))},style:{marginTop:"24px"}},"Download Update")),o.a.createElement(m.a,{container:!0,justify:"center",alignItems:"center",className:r.checker},!C&&!u&&o.a.createElement(d.a,{variant:"contained",color:"secondary",disabled:u||z,onClick:F},a&&x?"Next":"Check for Updates")))},me=a(86),pe=a(7),de=a(9),he=a(11),fe=a(10),be=a(4),ye={ButtonSingle:"single-button",AxisManipulation:"axis-manipulation",ButtonMulti:"multi-button",ThermalGate:"thermal-gate",DualThermalGate:"dual-thermal-gate"},ge={firstRun:{userVisable:!1,name:"Initial Setup",description:"",exitActions:[{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}],steps:[{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]},{type:"zoffsetstart",params:[]}],text:'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap "Start" to begin.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface."},{layout:ye.AxisManipulation,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"savezoffset",params:[]}],axisX:!1,axisY:!1,axisZ:!0,text:'Using the controls below, adjust the nozzle\'s Z position so that it makes contact with the paper.%BREAK%First use the "-1.0mm" (down) and "+1.0mm" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the "-0.1mm" (down) and "+0.1mm" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonMulti,buttons:[{id:"bYes",buttonText:"Yes",buttonActions:[{type:"continue",params:[]}]},{id:"bNo",buttonText:"No",buttonActions:[{type:"jumpto",params:[3]}]}],text:"Are all corners leveled to the same height?"},{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]}],text:"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \"Start\" to begin."},{layout:ye.ButtonSingle,buttonText:"Preheat",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[220]}],text:"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \"Preheat\" to heat up your printer's nozzle. Once it reaches 220 \xb0C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!"},{layout:ye.ThermalGate,minimumTemp:220,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Please wait for the printer's nozzle to reach 220 \xb0C",gateText:'The nozzle has reached a temperature of 220 \xb0C.%BREAK%Press "Next" to continue.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle."},{layout:ye.ButtonSingle,buttonText:"Preheat",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[220]},{type:"bedtemp",params:[50]}],text:'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press "Preheat" to begin'},{layout:ye.DualThermalGate,minimumExtruderTemp:220,minimumBedTemp:50,buttonText:"Print",buttonActions:[{type:"continue",params:[]},{type:"printtest",params:[]}],text:"Please wait for the printer's nozzle to reach 220 \xb0C and for the bed to reach 60 \xb0C.",gateText:'Preheat complete.%BREAK%Press "Print" to continue.'},{layout:ye.ButtonMulti,buttons:[{id:"bYes",buttonText:"Yes",buttonActions:[{type:"jumpto",params:[22]}]},{id:"bNo",buttonText:"No",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]}],text:"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?"},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:"Congratulations, your printer is now properly setup for use!"},{layout:ye.ButtonMulti,buttons:[{id:"bCalibrate",buttonText:"Recalibrate",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]},{id:"bExit",buttonText:"Exit",buttonActions:[{type:"exit",params:[""]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]}],text:"Do you want to repeat the calibration process, or skip calibration and exit for now?"},{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]},{type:"zoffsetstart",params:[]}],text:'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap "Start" to begin.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface."},{layout:ye.AxisManipulation,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"savezoffset",params:[]}],axisX:!1,axisY:!1,axisZ:!0,text:'Using the controls below, adjust the nozzle\'s Z position so that it makes contact with the paper.%BREAK%First use the "-1.0mm" (down) and "+1.0mm" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the "-0.1mm" (down) and "+0.1mm" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonMulti,buttons:[{id:"bYes",buttonText:"Yes",buttonActions:[{type:"jumpto",params:[18]}]},{id:"bNo",buttonText:"No",buttonActions:[{type:"jumpto",params:[23]}]}],text:"Are all corners leveled to the same height?"}]},blTouchCalibration:{userVisable:!0,name:"Calibrate BLTouch Sensor",description:"Calibrate the z-offset with the BLTouch sensor.",exitActions:[],steps:[{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]},{type:"zoffsetstart",params:[]}],text:'Make sure the print bed is clear and then tap "Start" to begin.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface."},{layout:ye.AxisManipulation,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"savezoffset",params:[]}],axisX:!1,axisY:!1,axisZ:!0,text:'Using the controls below, adjust the nozzle\'s Z position so that it makes contact with the paper.%BREAK%First use the "-1.0mm" (down) and "+1.0mm" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the "-0.1mm" (down) and "+0.1mm" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.'},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:'Calibration complete. Press "Exit" to finish this tutorial.'}]},bedLevelCornerCalibration:{userVisable:!0,name:"Level the printing bed corners",description:"Level the printing bed corners sequentially.",exitActions:[],steps:[{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]},{type:"home",params:[]},{type:"movexy",params:[150,150]}],text:'Place a sheet of printer paper on the center of the print bed. Ensure the bed is clear of anything else and then press "Start". The nozzle will move to the center of the print bed.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it does in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,270]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,270]}],text:"Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[30,30]}],text:"Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]},{type:"movexy",params:[270,30]}],text:"Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it."},{layout:ye.ButtonMulti,buttons:[{id:"bNo",buttonText:"No",buttonActions:[{type:"jumpto",params:[1]}]},{id:"bYes",buttonText:"Yes",buttonActions:[{type:"bl_level",params:[]},{type:"continue",params:[]}]}],text:"Are all corners leveled to the same height?"},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:"The leveling process is complete."}]},loadFilament:{userVisable:!0,name:"Load Filament",description:"The steps required to load a new filament into the printer",exitActions:[{type:"nozzletemp",params:[0]}],steps:[{layout:ye.ButtonSingle,buttonText:"Start",buttonActions:[{type:"continue",params:[]}],text:"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \"Start\" to begin."},{layout:ye.ButtonSingle,buttonText:"Preheat",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[220]}],text:"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \"Preheat\" to heat up your printer's nozzle. Once it reaches 220 \xb0C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!"},{layout:ye.ThermalGate,minimumTemp:220,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Please wait for the printer's nozzle to reach 220 \xb0C",gateText:'The nozzle has reached a temperature of 220 \xb0C.%BREAK%Press "Next" to continue.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder."},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle."},{layout:ye.ButtonMulti,buttons:[{id:"bCooldown",buttonText:"Cooldown",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[0]}]},{id:"bExit",buttonText:"Exit",buttonActions:[{type:"exit",params:[]}]}],text:'Your filament is now loaded! If you are not ready to print now, press the "Cooldown" button so the printer\'s extruder does not remain hot. If you are about to print something, press the "Exit" button to leave this tutorial while keeping the extruder preheated.'},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:'The printer\'s extruder is now set to cool down. Press the "Exit" button to exit this tutorial.'}]},unloadFilament:{userVisable:!0,name:"Unload Filament",description:"The steps required to remove a previously loaded filament from the printer",exitActions:[{type:"nozzletemp",params:[0]}],steps:[{layout:ye.ButtonSingle,buttonText:"Preheat",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[220]}],text:'To unload filament from the printer, the nozzle must be preheated because the filament is solid at room temperature and is consequently stuck inside the extruder.%BREAK%Press "Preheat" to start preheating the extruder to 220 \xb0C.%BREAK%Remember that it will be hot, so don\'t touch it!'},{layout:ye.ThermalGate,minimumTemp:220,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"Please wait for the printer's nozzle to reach 220 \xb0C",gateText:'The nozzle has reached a temperature of 220 \xb0C.%BREAK%Press "Next" to continue.'},{layout:ye.ButtonSingle,buttonText:"Next",buttonActions:[{type:"continue",params:[]}],text:"To unload the filament, squeeze the silver lever next to the gears and push the filament until you see it coming out of the end of the nozzle. Then, pull the filament out of the tube in one fluid motion. This enures that the end is fully melted and will make it easier to remove from the Bowden tube."},{layout:ye.ButtonMulti,buttons:[{id:"bCooldown",buttonText:"Cooldown",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[0]}]},{id:"bExit",buttonText:"Exit",buttonActions:[{type:"exit",params:[]}]}],text:'Your filament is now unloaded! Rewrap the filament around the roll and put the end into the storage slot on the side.%BREAK%If you are not going to load a new filament into the machine, press the "Cooldown" button so the extruder does not stay hot.%BREAK%If you are going to load another filament into the machine, pressing "Exit" will exit this tutorial while leaving the extruder preheated.'},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:'The printer\'s extruder is now set to cool down. Press the "Exit" button to exit this tutorial.'}]},printTestCube:{userVisable:!0,name:"Test Print",description:"Print a small object to test the functionality of your printer",exitActions:[{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}],steps:[{layout:ye.ButtonSingle,buttonText:"Preheat",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[220]},{type:"bedtemp",params:[50]}],text:'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press "Preheat" to begin'},{layout:ye.DualThermalGate,minimumExtruderTemp:220,minimumBedTemp:50,buttonText:"Print",buttonActions:[{type:"continue",params:[]},{type:"printtest",params:[]}],text:"Please wait for the printer's nozzle to reach 220 \xb0C and for the bed to reach 60 \xb0C.",gateText:'Preheat complete.%BREAK%Press "Print" to continue.'},{layout:ye.ButtonMulti,buttons:[{id:"bYes",buttonText:"Yes",buttonActions:[{type:"jumpto",params:[4]}]},{id:"bNo",buttonText:"No",buttonActions:[{type:"continue",params:[]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]}],text:"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?"},{layout:ye.ButtonSingle,buttonText:"Exit",buttonActions:[{type:"exit",params:[]}],text:"Congratulations, your printer is now properly setup for use!"},{layout:ye.ButtonMulti,buttons:[{id:"bCalibrate",buttonText:"Recalibrate",buttonActions:[{type:"exit",params:["request-calibration"]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]},{id:"bExit",buttonText:"Exit",buttonActions:[{type:"exit",params:[""]},{type:"nozzletemp",params:[0]},{type:"bedtemp",params:[0]}]}],text:"Do you want to repeat the calibration process, or skip calibration and exit for now?"}]}},ve=a(218),we=a(221),xe=a(222),Ee=a(223),Se=a(224),Te=a(225),ke=a(220),je=a(226),Ce=a(227);a(142);var Oe=function(e){return o.a.createElement("div",{className:"big-thermometer"},o.a.createElement("div",{className:"big-thermometer-container"},o.a.createElement("div",{className:"big-thermometer-bulb-container"}),o.a.createElement("div",{className:"big-thermometer-indicator-container"},o.a.createElement("div",{className:"big-thermometer-indicator",style:{height:"".concat(15+(e.value-e.min)/(e.max-e.min)*85,"%")}}),o.a.createElement("div",{className:"big-thermometer-bulb"},o.a.createElement("span",null,e.value)))))},Ae=function(){function e(){Object(pe.a)(this,e),this._actions=[]}return Object(de.a)(e,[{key:"build",value:function(){for(var e="",t=0;t<this._actions.length;t++)e+=this._actions[t]+"\n";return e}},{key:"addCommand",value:function(e){this._actions.push(e)}}]),e}();function Be(e){return"M851 Z".concat(e)}function ze(e,t,a){return e&&t&&a?"G28":"G28".concat(e?"X ":"").concat(t?"Y ":"").concat(e?"Z ":"")}function Me(e){return e?"M211 S1":"M211 S0"}function Ne(e,t,a,n,o,i){return e||t||a?"G1".concat(e?" X".concat(n):"").concat(t?" Y".concat(o):"").concat(a?" Z".concat(i):""):""}var Pe=o.a.createContext({bedTarget:0,nozzleTarget:0,bed:0,nozzle:0,setBedTarget:function(e){},setNozzleTarget:function(e){},setBed:function(e){},setNozzle:function(e){}}),_e=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).evTutorialClose=e.onTutorialClose||function(){console.log("Unhandled tutorial close event")},n.state={tutorialId:n.props.tutorialName||null,tutorialReady:!1,currentStep:0,exitWarning:!1},n.tutorial=null,n.offset=0,n}return Object(de.a)(a,[{key:"componentDidMount",value:function(){this.state.tutorialId&&ge[this.state.tutorialId]?(this.tutorial=ge[this.state.tutorialId],this.setState({tutorialReady:!0,currentStep:0})):(console.log('Unknown tutorial id "'.concat(this.state.tutorialId,'", closing tutorial')),this.evTutorialClose())}},{key:"componentDidUpdate",value:function(e){this.tutorial&&this.tutorial.steps[this.state.currentStep].layout}},{key:"attemptExitActions",value:function(){this.processButtonActions(this.tutorial.exitActions)}},{key:"attemptCloseTutorial",value:function(e){0===this.state.currentStep||this.currentStep===this.tutorial.steps.length-1?this.evTutorialClose(e):this.setState({exitWarning:!0})}},{key:"attemptAxisMove",value:function(e,t){if(console.log("Attempting to move on the ".concat(e," axis by ").concat(t,"mm")),"z"===e.toLowerCase()){this.offset+=t;var a=new Ae;a.addCommand("G90"),a.addCommand(Ne(!1,!1,!0,null,null,this.offset)),this.sendGcode(a.build())}}},{key:"attemptHome",value:function(){console.log("Attempting to home");var e=new Ae;e.addCommand("G28"),this.sendGcode(e.build())}},{key:"attemptBlLevel",value:function(){console.log("Attempting to BL Level");var e=new Ae;e.addCommand("G29 T"),this.sendGcode(e.build())}},{key:"attemptXYMoveTo",value:function(e,t){console.log("Attempting to move print head to x:".concat(e,", y: ").concat(t));var a=new Ae;a.addCommand("G90"),a.addCommand(Ne(!0,!0,!0,150,150,30)),a.addCommand(Ne(!0,!0,!0,e,t,0)),this.sendGcode(a.build())}},{key:"attemptZOffsetStart",value:function(){console.log("Attempting to start z offset process");var e=new Ae;e.addCommand(Be(0)),e.addCommand("M500"),e.addCommand("M501"),e.addCommand(ze(!0,!0,!0)),e.addCommand("G90"),e.addCommand(Me(!1)),e.addCommand(Ne(!0,!0,!0,150,150,0)),this.sendGcode(e.build()),this.offset=0}},{key:"attemptSaveZOffset",value:function(){console.log("Attempting to save z offset");var e=new Ae;e.addCommand("G90"),e.addCommand(Be(this.offset)),e.addCommand(Me(!0)),e.addCommand("M500"),e.addCommand("M501"),e.addCommand(ze(!0,!0,!0)),this.sendGcode(e.build())}},{key:"attemptSetBedTemp",value:function(e){console.log("Attempting to set bed temperature to ".concat(e," \xb0C")),this.context.setBedTarget(e);var t=new Ae;t.addCommand(function(e){return"M140 S".concat(e)}(e)),this.sendGcode(t.build())}},{key:"attemptSetExtruderTemp",value:function(e){console.log("Attempting to set extruder temperature to ".concat(e," \xb0C")),this.context.setNozzleTarget(e);var t=new Ae;t.addCommand(function(e){return"M104 S".concat(e)}(e)),this.sendGcode(t.build())}},{key:"attemptTestPrint",value:function(){fetch("http://".concat(window.location.hostname,":2127/api/v1/job/BLTouchCalibrationTest.gcode"),{method:"POST",headers:{"Content-Type":"application/json"}})}},{key:"tutorialButtonPressed",value:function(e){var t=this.tutorial.steps[this.state.currentStep];t.layout===ye.ButtonSingle||t.layout===ye.AxisManipulation||t.layout===ye.ThermalGate||t.layout===ye.DualThermalGate?this.processButtonActions(t.buttonActions):t.layout===ye.ButtonMulti&&this.processButtonActions(t.buttons.find((function(t){return t.id===e})).buttonActions)}},{key:"sendGcode",value:function(e){fetch("http://".concat(window.location.hostname,":2127/api/v1/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gcode:e})})}},{key:"processButtonActions",value:function(e){var t,a=Object(me.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;switch(n.type){case"continue":this.actionContinue();break;case"home":this.attemptHome();break;case"bl_level":this.attemptBlLevel();break;case"movexy":this.attemptXYMoveTo(n.params[0],n.params[1]);break;case"jumpto":this.actionJumpTo(n.params[0]);break;case"exit":this.evTutorialClose(n.params.length>0?n.params[0]:"");break;case"savezoffset":this.attemptSaveZOffset();break;case"nozzletemp":this.attemptSetExtruderTemp(n.params[0]);break;case"bedtemp":this.attemptSetBedTemp(n.params[0]);break;case"printtest":this.attemptTestPrint();break;case"zoffsetstart":this.attemptZOffsetStart();break;default:console.log('Warning! Unhandled tutorial action type: "'.concat(n.type,'"'))}}}catch(o){a.e(o)}finally{a.f()}}},{key:"actionContinue",value:function(){this.state.currentStep<this.tutorial.steps.length-1&&this.setState({currentStep:this.state.currentStep+1})}},{key:"actionJumpTo",value:function(e){this.setState({currentStep:e})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.tutorialWindow},o.a.createElement(ve.a,{position:"sticky"},o.a.createElement(p.a,{variant:"h6",style:{paddingLeft:8}},"Printer Name: ",window.location.hostname)),this.state.tutorialReady&&o.a.createElement(u.a,{className:t.tutorialContainer},o.a.createElement(m.a,{container:!0},o.a.createElement(m.a,{item:!0,xs:10},o.a.createElement(p.a,{variant:"h5",className:t.tutorialHeading},this.tutorial.name)),o.a.createElement(m.a,{item:!0,xs:2},o.a.createElement(Y.a,{className:t.tutorialCloseButton,onClick:function(){e.attemptCloseTutorial(e.props.firstBoot?"skip":null)}},o.a.createElement(ke.a,null)))),this.renderTutorialPage(t)),o.a.createElement(we.a,{open:this.state.exitWarning},o.a.createElement(xe.a,null,"Exit Tutorial"),o.a.createElement(Ee.a,null,o.a.createElement(Se.a,null,"Are you sure you want to exit this tutorial?"),o.a.createElement(Te.a,null,o.a.createElement(d.a,{onClick:function(){e.attemptExitActions(),e.evTutorialClose()}},"Yes"),o.a.createElement(d.a,{autoFocus:!0,onClick:function(){e.setState({exitWarning:!1})}},"No")))))}},{key:"renderTutorialPage",value:function(e){var t=this,a=this.tutorial.steps[this.state.currentStep];return a.layout===ye.ButtonSingle?o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"stretch",alignContent:"stretch",justify:"space-between",className:e.layoutSingleGrid},o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridText},a.text.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridButton},o.a.createElement(d.a,{color:"primary",variant:"contained",className:e.tutorialButton,onClick:function(){t.tutorialButtonPressed()}},a.buttonText))):a.layout===ye.AxisManipulation?o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"stretch",alignContent:"stretch",justify:"space-between",className:e.layoutSingleGrid},o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridText},a.text.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridAxisControl},o.a.createElement(m.a,{container:!0,justify:"center"},a.axisX&&this.renderAxisControl("X",e),a.axisY&&this.renderAxisControl("Y",e),a.axisZ&&this.renderAxisControl("Z",e))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridButton},o.a.createElement(d.a,{color:"primary",variant:"contained",className:e.tutorialButton,onClick:function(){t.tutorialButtonPressed()}},a.buttonText))):a.layout===ye.ButtonMulti?o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"stretch",alignContent:"stretch",justify:"space-between",className:e.layoutSingleGrid},o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridText},a.text.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridButton},o.a.createElement(m.a,{container:!0,justify:"space-around"},a.buttons.map((function(a){return o.a.createElement(m.a,{item:!0,xs:6},o.a.createElement(d.a,{color:"primary",variant:"contained",className:e.tutorialButton,onClick:function(){t.tutorialButtonPressed(a.id)},id:a.id},a.buttonText))}))))):a.layout===ye.ThermalGate?o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"stretch",alignContent:"stretch",justify:"space-between",className:e.layoutSingleGrid},o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridText},this.context.nozzle>=a.minimumTemp?a.gateText.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)})):a.text.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridThermalControl},o.a.createElement(m.a,{container:!0,justify:"center"},o.a.createElement(Oe,{min:0,max:400,value:this.context.nozzle}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridButton},o.a.createElement(d.a,{color:"primary",variant:"contained",disabled:!(this.context.nozzle>=a.minimumTemp),className:e.tutorialButton,onClick:function(){t.tutorialButtonPressed()}},a.buttonText))):a.layout===ye.DualThermalGate?o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"stretch",alignContent:"stretch",justify:"space-between",className:e.layoutSingleGrid},o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridText},this.context.nozzle>=a.minimumExtruderTemp&&this.context.bed>=a.minimumBedTemp?a.gateText.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)})):a.text.split("%BREAK%").map((function(t){return o.a.createElement(p.a,{variant:"body1",className:e.tutorialText},t)}))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridThermalControl},o.a.createElement(m.a,{container:!0,justify:"center"},o.a.createElement(m.a,{item:!0},o.a.createElement(Oe,{min:0,max:400,value:this.context.bed}),o.a.createElement(p.a,{variant:"body1",className:e.thermoLabel},"Bed")),o.a.createElement(m.a,{item:!0},o.a.createElement(Oe,{min:0,max:400,value:this.context.nozzle}),o.a.createElement(p.a,{variant:"body1",className:e.thermoLabel},"Extruder")))),o.a.createElement(m.a,{item:!0,className:e.layoutSingleGridButton},o.a.createElement(d.a,{color:"primary",variant:"contained",disabled:!(this.context.nozzle>=a.minimumExtruderTemp&&this.context.bed>=a.minimumBedTemp),className:e.tutorialButton,onClick:function(){t.tutorialButtonPressed()}},a.buttonText))):void 0}},{key:"renderAxisControl",value:function(e,t){var a=this;return o.a.createElement(m.a,{item:!0,container:!0,direction:"column",alignItems:"center",xs:4},o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{disabled:!0},o.a.createElement(je.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,1)}},"+1.0mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,.1)}},"+0.1mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,.05)}},"+0.05mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,.01)}},"+0.01mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{disabled:!0},e)),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,-.01)}},"-0.01mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,-.05)}},"-0.05mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,-.1)}},"-0.1mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.axisButton,onClick:function(){a.attemptAxisMove(e,-1)}},"-1.0mm")),o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{disabled:!0},o.a.createElement(Ce.a,null))))}}]),a}(o.a.Component);_e.contextType=Pe;var Ie=Object(be.a)((function(e){return{tutorialWindow:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1250,backgroundColor:"#303030"},tutorialButton:{fontSize:"20px"},tutorialCloseButton:{float:"right",marginRight:-8},tutorialText:{fontSize:"20px"},tutorialContainer:{padding:"8px",height:"calc(100% - 48px)"},tutorialHeading:{paddingTop:"8px"},layoutSingleGrid:{paddingLeft:"16px",paddingRight:"16px"},layoutSingleGridText:{flexGrow:1},layoutSingleGridButton:{height:"80px",textAlign:"center"},layoutSingleGridTop:{height:"50px"},layoutSingleGridAxisControl:{height:"550px"},layoutSingleGridThermalControl:{height:"550px"},axisButton:{marginTop:"2px",marginBottom:"2px",fontSize:"20px",textTransform:"none",width:"120px"},thermoLabel:{textAlign:"center",fontSize:"26px"}}}))(_e),Re=a(228),Fe=a(229),Ge=a(230),Ze=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).state={stage:"internet-enable",enableInternet:!1,selectedInterface:null,enableHotspot:!1},n}return Object(de.a)(a,[{key:"complete",value:function(){k("hotspot",this.state.enableHotspot),k("internet",this.state.enableInternet),k("networkProfile",this.state.selectedInterface),this.props.setNewType?(this.props.setNewType(this.state.selectedInterface),this.props.setStep(0)):this.state.enableInternet?this.props.setStep(1):this.props.setStep(2)}},{key:"render",value:function(){var e=this;return"internet-enable"===this.state.stage?o.a.createElement(o.a.Fragment,null,this.renderHeader(),o.a.createElement(Re.a,{style:{fontSize:100,width:"100%",textAlign:"center",marginBottom:20}}),o.a.createElement(p.a,{variant:"h5"},"Would you like to connect this printer to the internet?"),o.a.createElement(p.a,{variant:"h6"},"Connecting to the internet enables updates."),o.a.createElement(w,{title:"Yes",onClick:function(){e.setState({enableInternet:!0,stage:"internet-select"})}}),o.a.createElement(w,{title:"No",onClick:function(){e.setState({enableInternet:!1,stage:"hotspot-enable",selectedInterface:"none"})}})):"internet-select"===this.state.stage?o.a.createElement(o.a.Fragment,null,this.renderHeader(),o.a.createElement(Re.a,{style:{fontSize:100,width:"100%",textAlign:"center",marginBottom:20}}),o.a.createElement(p.a,{variant:"h5"},"How would you like to connect this printer?"),o.a.createElement(w,{title:"Wi-Fi",onClick:function(){e.setState({selectedInterface:"wifi",stage:"wifi-select"})}}),o.a.createElement(w,{title:"Ethernet",onClick:function(){e.setState({selectedInterface:"ethernet",stage:"ethernet-check"})}})):"ethernet-check"===this.state.stage?o.a.createElement(o.a.Fragment,null,this.renderHeader(),o.a.createElement(Fe.a,{style:{fontSize:100,width:"100%",textAlign:"center",marginBottom:20}}),o.a.createElement(p.a,{variant:"h5"},"Please verify that the ethernet cable is properly connected to your device."),o.a.createElement(w,{title:"Done",onClick:function(){e.setState({stage:"hotspot-enable"})}})):"wifi-select"===this.state.stage?o.a.createElement(o.a.Fragment,null,this.renderHeader(),o.a.createElement(oe,{setStep:function(t){e.complete()},setShowSnack:this.props.setShowSnack,setSnackMessage:this.props.setSnackMessage,handleSnackClose:this.props.handleSnackClose,setConnectWifi:function(){},onGoBack:function(){e.setState({stage:"internet-select"})}})):"hotspot-enable"===this.state.stage?o.a.createElement(o.a.Fragment,null,this.renderHeader(),o.a.createElement(Ge.a,{style:{fontSize:100,width:"100%",textAlign:"center",marginBottom:20}}),o.a.createElement(p.a,{variant:"h5"},"Would you like to enable the printer's wireless hotspot?"),o.a.createElement(p.a,{variant:"h6"},"This allows you to remotely connect/control your printer."),o.a.createElement(w,{title:"Yes",onClick:function(){e.setState({enableHotspot:!0,stage:"config-hotspot"})}}),o.a.createElement(w,{title:"No",onClick:function(){e.complete()}})):"config-hotspot"===this.state.stage?o.a.createElement(re,{setStep:function(){e.complete()},setConnectWifi:function(){}}):void 0}},{key:"renderHeader",value:function(){var e=this;return o.a.createElement(m.a,{container:!0,justify:"space-between",alignItems:"center",style:{display:"flex",marginBottom:20}},o.a.createElement("h2",{style:{fontSize:28}},"Network"),o.a.createElement(d.a,{"aria-label":"skip",endIcon:o.a.createElement(Z.a,null),onClick:function(){e.setState({enableInternet:!1,stage:"hotspot-enable",selectedInterface:"none"},(function(){e.complete()}))}},"Skip"))}}]),a}(o.a.Component),Ye=(Object(f.a)({container:{flex:1,display:"flex",flexDirection:"column"},welcome:{textAlign:"center",height:"100%","& h2":{fontSize:"92px"},"& h3":{fontSize:"32px",marginTop:"16px"}}}),a(274)),Le=a(231),De=(a(143),function(e){var t=e.tabList,a=e.handleTabClick,n=e.activeTab,i=e.disabledNav;return o.a.createElement(Ye.a,{value:n,onChange:a,centered:!0},t.map((function(e){return o.a.createElement(Le.a,{style:{height:"70px",fontSize:"20px",minWidth:"140px"},label:e,key:"tab - ".concat(e),disabled:i})})))}),Xe=a(278),Ke=a(235),We=(a(144),a(232)),Ue=a(233),qe=a(234),Qe=Object(f.a)({buttonContainer:{display:"flex",justifyContent:"center",marginTop:"10px"},textCenter:{textAlign:"center",marginTop:"10px"},camera:{width:"100%",border:"2px solid white",borderRadius:5}}),He=function(e){if(e){var t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).filter((function(e,t){return"00"!==e||t>0})).join(":")}return"calculating..."};var Ve=Object(be.a)((function(e){return{root:{height:14,borderRadius:7},colorPrimary:{backgroundColor:"#606060"},bar:{borderRadius:7,backgroundColor:"#ACC12F"}}}))(Ke.a),Je=function(e){e.lastMessage;var t=e.progressState,a=(e.setDisabledNav,e.state),i=e.statusText,r=e.fileName,l=Qe(),c=Object(n.useState)(!1),h=Object(s.a)(c,2),f=h[0],b=h[1],y=Object(n.useState)(!1),g=Object(s.a)(y,2),v=g[0],w=g[1],x=Object(n.useState)(0),E=Object(s.a)(x,2),S=E[0],T=E[1],k=Object(n.useState)(""),C=Object(s.a)(k,2),O=C[0],A=C[1],B=Object(n.useState)(""),z=Object(s.a)(B,2),M=z[0],N=z[1],P="http://".concat(window.location.hostname,":8090/?action=snapshot"),_=Object(n.useState)("no-signal.gif"),I=Object(s.a)(_,2),F=I[0],G=I[1];return R((function(){!function(e,t){var a=new Image;a.onload=function(){t(!0)},a.onerror=function(){t(!1)},a.src=e}(F,(function(e){G(e?P:"no-signal.gif")})),w((function(){return j("camEnabled")}))})),Object(n.useEffect)((function(){t.completion!==S&&(T(t.completion),A(He(t.printTime)),N(He(t.printTimeLeft)),console.log(S))}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,null,o.a.createElement(p.a,{variant:"h5",style:{marginTop:35,width:"100%",textAlign:"center"}},i,": ",r),o.a.createElement("div",{className:"print-status-bar",style:{marginTop:25}},o.a.createElement(Ve,{variant:"determinate",value:S}),o.a.createElement(m.a,{container:!0,spacing:3,alignItems:"center"},o.a.createElement(m.a,{item:!0,xs:4,style:{textAlign:"left"}},o.a.createElement(p.a,{variant:"h6",component:"span",style:{width:"100%"}},O)),o.a.createElement(m.a,{item:!0,xs:4,style:{textAlign:"center"}},o.a.createElement(p.a,{variant:"h6",component:"span",style:{width:"100%"}},S?S.toFixed(1):"0","%")),o.a.createElement(m.a,{item:!0,xs:4,style:{textAlign:"right"}},o.a.createElement(p.a,{variant:"h6",component:"span",style:{width:"100%"}},M)))),o.a.createElement("div",null,o.a.createElement(m.a,{container:!0,alignItems:"center"},o.a.createElement(m.a,{item:!0,xs:j("camEnabled")?6:12,alignItems:"center"},o.a.createElement(Pe.Consumer,null,(function(e){var t=e.bed,n=e.nozzle,i=e.bedTarget,r=e.nozzleTarget;return o.a.createElement(m.a,{container:!0,alignItems:"center",style:{justifyContent:"space-around"}},o.a.createElement(m.a,{item:!0,container:!0,xs:3,direction:"column"},o.a.createElement(m.a,{item:!0,style:{marginBottom:-100}},o.a.createElement("div",{style:{transform:"scale(.6)"}},o.a.createElement(Oe,{min:0,max:120,value:t}))),o.a.createElement(m.a,{item:!0,style:{textAlign:"center"}},o.a.createElement(p.a,{variant:"h6"},"Target: ",i),o.a.createElement(p.a,{variant:"h6"},"Bed"),o.a.createElement("div",{className:"print-btn-container"},o.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){b((function(e){return!e})),fetch("http://".concat(window.location.hostname,":2127/api/v1/job"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:a.files[a.file]})})},startIcon:f?o.a.createElement(Ue.a,null):o.a.createElement(We.a,null)},f?"Play":"Pause")))),o.a.createElement(m.a,{item:!0,container:!0,xs:3,direction:"column"},o.a.createElement(m.a,{item:!0,style:{marginBottom:-100}},o.a.createElement("div",{style:{transform:"scale(.6)"}},o.a.createElement(Oe,{min:0,max:300,value:n}))),o.a.createElement(m.a,{item:!0,style:{textAlign:"center"}},o.a.createElement(p.a,{variant:"h6"},"Target: ",r),o.a.createElement(p.a,{variant:"h6"},"Nozzle"),o.a.createElement("div",{className:"print-btn-container"},o.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:function(){fetch("http://".concat(window.location.hostname,":2127/api/v1/job"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:a.files[a.file]})})},startIcon:o.a.createElement(qe.a,null)},"Stop")))))}))),"enabled"===v&&o.a.createElement(m.a,{item:!0,xs:6,style:{display:v?"block":"none"}},o.a.createElement("img",{src:F,className:l.camera}))))))},$e=a(249),et=a(250),tt=a(251),at=a(252),nt=a(253),ot=a(254),it=a(246),rt=a(247),lt=a(248),st=a(255),ct=a(256),ut=a(257),mt=a(258),pt=a(259),dt=a(97),ht=a(172),ft=a(212),bt=a(213),yt=a(273),gt=a(245),vt=a(280),wt=a(171),xt=a(237),Et=a(244),St=(a(148),a(166)),Tt=a(12),kt=(a(149),function(e){Tt.Loader.call(this,e)});kt.prototype=Object.assign(Object.create(Tt.Loader.prototype),{constructor:kt,load:function(e,t,a,n){var o=this,i=new Tt.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(function(a){try{t(o.parse(a))}catch(i){n?n(i):console.error(i),o.manager.itemError(e)}}),a,n)},parse:function(e){function t(e,t,a){for(var n=0,o=e.length;n<o;n++)if(e[n]!==t.getUint8(a+n,!1))return!1;return!0}var a,n=function(e){if("string"===typeof e){for(var t=new Uint8Array(e.length),a=0;a<e.length;a++)t[a]=255&e.charCodeAt(a);return t.buffer||t}return e}(e);return function(e){var a;if(50,84+50*(a=new DataView(e)).getUint32(80,!0)===a.byteLength)return!0;for(var n=[115,111,108,105,100],o=0;o<5;o++)if(t(n,a,o))return!1;return!0}(n)?function(e){for(var t,a,n,o,i,r,l,s,c=new DataView(e),u=c.getUint32(80,!0),m=!1,p=0;p<70;p++)1129270351==c.getUint32(p,!1)&&82==c.getUint8(p+4)&&61==c.getUint8(p+5)&&(m=!0,o=new Float32Array(3*u*3),i=c.getUint8(p+6)/255,r=c.getUint8(p+7)/255,l=c.getUint8(p+8)/255,s=c.getUint8(p+9)/255);for(var d=new Tt.BufferGeometry,h=new Float32Array(3*u*3),f=new Float32Array(3*u*3),b=0;b<u;b++){var y=84+50*b,g=c.getFloat32(y,!0),v=c.getFloat32(y+4,!0),w=c.getFloat32(y+8,!0);if(m){var x=c.getUint16(y+48,!0);0===(32768&x)?(t=(31&x)/31,a=(x>>5&31)/31,n=(x>>10&31)/31):(t=i,a=r,n=l)}for(var E=1;E<=3;E++){var S=y+12*E,T=3*b*3+3*(E-1);h[T]=c.getFloat32(S,!0),h[T+1]=c.getFloat32(S+4,!0),h[T+2]=c.getFloat32(S+8,!0),f[T]=g,f[T+1]=v,f[T+2]=w,m&&(o[T]=t,o[T+1]=a,o[T+2]=n)}}return d.setAttribute("position",new Tt.BufferAttribute(h,3)),d.setAttribute("normal",new Tt.BufferAttribute(f,3)),m&&(d.setAttribute("color",new Tt.BufferAttribute(o,3)),d.hasColors=!0,d.alpha=s),d}(n):function(e){for(var t,a=new Tt.BufferGeometry,n=/solid([\s\S]*?)endsolid/g,o=/facet([\s\S]*?)endfacet/g,i=0,r=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,l=new RegExp("vertex"+r+r+r,"g"),s=new RegExp("normal"+r+r+r,"g"),c=[],u=[],m=new Tt.Vector3,p=0,d=0,h=0;null!==(t=n.exec(e));){d=h;for(var f=t[0];null!==(t=o.exec(f));){for(var b=0,y=0,g=t[0];null!==(t=s.exec(g));)m.x=parseFloat(t[1]),m.y=parseFloat(t[2]),m.z=parseFloat(t[3]),y++;for(;null!==(t=l.exec(g));)c.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),u.push(m.x,m.y,m.z),b++,h++;1!==y&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i),3!==b&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i),i++}var v=d,w=h-d;a.addGroup(v,w,p),p++}return a.setAttribute("position",new Tt.Float32BufferAttribute(c,3)),a.setAttribute("normal",new Tt.Float32BufferAttribute(u,3)),a}("string"!==typeof(a=e)?Tt.LoaderUtils.decodeText(new Uint8Array(a)):a)}});var jt=kt,Ct=o.a.createContext({camRotation:0,camZoom:0,camZ:0,showMagnet:!1,showBounds:!1,showGrid:!1,addRotation:function(e){},setZoom:function(e){},addZ:function(e){},setShowMagnet:function(e){},setShowBounds:function(e){},setShowGrid:function(e){}}),Ot=a(99),At=a(169),Bt=a(236),zt=a(275),Mt=a(150)(Tt);function Nt(e){return e*(Math.PI/180)}var Pt=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).posRotScale=function(e){switch(e.target.value){case"position":n.control.setMode("translate");break;case"rotation":n.control.setMode("rotate");break;case"scale":n.control.setMode("scale")}},n.state={},n.canvas=o.a.createRef(),n.canvasBg=null,n.rotationTarget=0,n.lastTime=null,n.renderer=null,n.scene=null,n.control=null,n.cameraHelper=null,n.cameraPivot=null,n.camera=null,n.zTarget=0,n.gridObj=null,n.magnetObj=null,n.planeObj=null,n.boundsObj=null,n.showMagnetBed=!1,n.showBounds=!1,n.showGrid=!1,n}return Object(de.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){console.log("test")}},{key:"componentDidMount",value:function(){this.assignCanvas()}},{key:"assignCanvas",value:function(){var e=this.canvas.current.parentElement;this.canvas.current.width=e.clientWidth,this.canvas.current.height=e.clientHeight,this.initCanvas(this.canvas.current,this.canvas.current.width,this.canvas.current.height)}},{key:"initCanvas",value:function(e,t,a){var n=this,o=new Tt.Scene,i=new Tt.Group,r=new Tt.Group;i.add(r),o.add(i);var l=new Tt.PerspectiveCamera(75,t/a,.1,1e3),s=new Tt.WebGL1Renderer({canvas:e});s.setSize(t,a);var c=(new Tt.TextureLoader).load("./buildplane.png"),u=new Tt.Mesh(new Tt.PlaneGeometry(800,800,1,1),new Tt.MeshBasicMaterial({map:c}));o.add(u),this.planeObj=u;var m=(new Tt.TextureLoader).load("./magnet.png"),p=new Tt.Mesh(new Tt.PlaneGeometry(341.3,341.3,1,1),new Tt.MeshBasicMaterial({map:m}));p.position.y=-10,o.add(p),this.magnetObj=p,this.magnetObj.visible=!1;var d=new Tt.Path;d.moveTo(-150,-150),d.lineTo(150,-150),d.lineTo(150,150),d.lineTo(-150,150),d.lineTo(-150,-150);var h=new Tt.Line((new Tt.BufferGeometry).setFromPoints(d.getPoints()),new Tt.LineBasicMaterial({color:16711680,linewidth:1}));h.position.z=.25,o.add(h),h.visible=!1,this.boundsObj=h;var f=new Tt.GridHelper(300,30,5592405,5592405);f.rotation.set(Math.PI/2,0,0),f.position.set(0,0,1),o.add(f),f.visible=!1,this.gridObj=f;var b=new Mt(l,s.domElement),y=null;b.enabled=!0,b.setSize(2);var g=new Tt.Group,v=new jt;if(console.log("stl",this.context.stl),"string"==typeof this.context.stl)this.context.setFileName(this.context.stl),v.load("http://".concat(window.location.hostname,":9990/").concat(this.context.stl),(function(e){var t=new Tt.MeshPhongMaterial({color:16777215,specular:1118481,shininess:200});(y=new Tt.Mesh(e,t)).position.set(0,0,0),y.geometry.center(),b.attach(y),y.position.z=.5*(new Tt.Box3).setFromObject(y).getSize().z,b.addEventListener("objectChange",(function(e){y.position.z=.5*(new Tt.Box3).setFromObject(y).getSize().z})),b.enabled=!0,g.add(y),n.context.setModifiedStl(y),o.add(b)}));else{var w=new FileReader,x=this.context;x.setFileName(this.context.stl.name),w.addEventListener("load",(function(e){var t=e.target.result,a=(new jt).parse(t);console.log(t),a.sourceType="stl",a.sourceFile=t;var n=new Tt.MeshPhongMaterial({color:16777215,specular:1118481,shininess:200});(y=new Tt.Mesh(a,n)).name=t.name,y.position.set(0,1,0),y.rotation.set(0,0,0),y.scale.set(1,1,1),y.name=t.name,y.castShadow=!1,y.receiveShadow=!1,y.geometry.center(),b.attach(y),b.enabled=!0,y.position.z=.5*(new Tt.Box3).setFromObject(y).getSize().z,b.addEventListener("objectChange",(function(e){y.position.z=.5*(new Tt.Box3).setFromObject(y).getSize().z})),g.add(y),x.setModifiedStl(y),o.add(b)}),!1),w.readAsBinaryString(this.context.stl)}o.add(g),o.add(b);var E=new Tt.BoxGeometry,S=new Tt.MeshBasicMaterial({color:65280});new Tt.Mesh(E,S);r.add(l),l.position.y=-300,l.lookAt(0,0,0),r.rotation.set(Nt(-45),0,0),o.add(new Tt.HemisphereLight(16777215,1119539)),this.camera=l,this.renderer=s,this.scene=o,this.control=b,this.cameraHelper=r,this.cameraPivot=i,this.renderFrame()}},{key:"renderFrame",value:function(){requestAnimationFrame(this.renderFrame.bind(this));var e=this.cameraPivot.rotation.z;this.cameraPivot.rotation.z=e,this.cameraPivot.rotation.z=Tt.MathUtils.lerp(e,this.rotationTarget,.01);var t=this.cameraPivot.position.z;this.cameraPivot.position.z=Tt.MathUtils.lerp(t,this.zTarget,.01),this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this.context;try{this.camera.position.y=3*e.camZoom-350,this.rotationTarget=Nt(e.camRotation),this.zTarget=e.camZ,this.boundsObj.visible=e.showBounds,this.planeObj.visible=!e.showMagnet,this.magnetObj.visible=e.showMagnet,this.gridObj.visible=e.showGrid}catch(t){}return console.log("test2"),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"transform-panel"},o.a.createElement(Ot.a,{style:{width:"100%",height:"100%",textAlign:"center",paddingLeft:8,paddingRight:8}},o.a.createElement(ft.a,{component:"fieldset"},o.a.createElement(At.a,{component:"legend"},"Modify STL"),o.a.createElement(Bt.a,{"aria-label":"Modify STL",name:"modify",onChange:this.posRotScale,ref:e},o.a.createElement(xt.a,{value:"position",control:o.a.createElement(zt.a,null),label:"Position"}),o.a.createElement(xt.a,{value:"rotation",control:o.a.createElement(zt.a,null),label:"Rotation"}),o.a.createElement(xt.a,{value:"scale",control:o.a.createElement(zt.a,null),label:"Scale"}))))),o.a.createElement("div",{className:"render-canvas-bg"},o.a.createElement("canvas",{className:"render-canvas",ref:this.canvas})))}}]),a}(n.Component);Pt.contextType=Ct;var _t=Pt,It=a(238),Rt=a(239),Ft=a(240),Gt=a(241),Zt=a(242);a(151);var Yt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"navigationpanel"},o.a.createElement(Ot.a,{style:{width:"100%",height:"100%",textAlign:"center",paddingLeft:8,paddingRight:8}},o.a.createElement(It.a,{style:{color:"rgb(100,100,100)",height:50,width:40}}),o.a.createElement(Ct.Consumer,null,(function(e){var t=e.camZoom,a=e.setZoom,n=e.addRotation,i=e.addZ;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{container:!0,spacing:2},o.a.createElement(m.a,{item:!0},o.a.createElement(Rt.a,null)),o.a.createElement(m.a,{item:!0,xs:!0},o.a.createElement(vt.a,{value:t,onChange:function(e,t){a(t)}})),o.a.createElement(m.a,{item:!0},o.a.createElement(Ft.a,null))),o.a.createElement(m.a,{container:!0},o.a.createElement(m.a,{item:!0,container:!0,direction:"column",xs:3}),o.a.createElement(m.a,{item:!0,container:!0,direction:"column",justify:"center",xs:2},o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{"aria-label":"Rotate camera left",onClick:function(){n(-15)}},o.a.createElement(Gt.a,null)))),o.a.createElement(m.a,{item:!0,container:!0,direction:"column",xs:2},o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{"aria-label":"move camera up",onClick:function(){i(10)}},o.a.createElement(je.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,null)),o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{"aria-label":"move camera down",onClick:function(){i(-10)}},o.a.createElement(Ce.a,null)))),o.a.createElement(m.a,{item:!0,container:!0,direction:"column",justify:"center",xs:2},o.a.createElement(m.a,{item:!0},o.a.createElement(Y.a,{"aria-label":"rotate camera right",onClick:function(){n(15)}},o.a.createElement(Zt.a,null)))),o.a.createElement(m.a,{item:!0,container:!0,direction:"column",xs:3})))})))))},Lt=a(243);a(152);var Dt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"settingspanel"},o.a.createElement(Ot.a,{style:{width:"100%",height:"100%",textAlign:"center",paddingLeft:8,paddingRight:8}},o.a.createElement(Lt.a,{style:{color:"rgb(100,100,100)",height:50,width:40}}),o.a.createElement("br",null),o.a.createElement(Ct.Consumer,null,(function(e){var t=e.showBounds,a=e.setShowBounds,n=e.showMagnet,i=e.setShowMagnet,r=e.showGrid,l=e.setShowGrid;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ft.a,{component:"fieldset"},o.a.createElement(wt.a,null,o.a.createElement(xt.a,{control:o.a.createElement(Et.a,{checked:n,onChange:function(e){i(e.target.checked)}}),label:"Magnetic Print Bed"}),o.a.createElement(xt.a,{control:o.a.createElement(Et.a,{checked:t,onChange:function(e){a(e.target.checked)}}),label:"Show Printer Bounds"}),o.a.createElement(xt.a,{control:o.a.createElement(Et.a,{checked:r,onChange:function(e){l(e.target.checked)}}),label:"Show Grid"}))))})))))};if("undefined"==typeof Xt)var Xt=a(12);var Kt=function(){};Kt.prototype={constructor:Kt,parse:function(e,t){void 0===t&&(t={});var a,n=void 0!==t.binary&&t.binary,o=[],i=0;e.traverse((function(e){if(e.isMesh){var t=e.geometry;if(!0!==t.isBufferGeometry)throw new Error("THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.");var a=t.index,n=t.getAttribute("position");i+=null!==a?a.count/3:n.count/3,o.push({object3d:e,geometry:t})}}));var r=80;if(!0===n){var l=new ArrayBuffer(2*i+3*i*4*4+80+4);(a=new DataView(l)).setUint32(r,i,!0),r+=4}else a="",a+="solid exported\n";for(var s=new Xt.Vector3,c=new Xt.Vector3,u=new Xt.Vector3,m=new Xt.Vector3,p=new Xt.Vector3,d=new Xt.Vector3,h=0,f=o.length;h<f;h++){var b=o[h].object3d,y=o[h].geometry,g=y.index,v=y.getAttribute("position");if(null!==g)for(var w=0;w<g.count;w+=3){x(g.getX(w+0),g.getX(w+1),g.getX(w+2),v,b)}else for(w=0;w<v.count;w+=3){x(w+0,w+1,w+2,v,b)}}return!1===n&&(a+="endsolid exported\n"),a;function x(e,t,o,i,l){s.fromBufferAttribute(i,e),c.fromBufferAttribute(i,t),u.fromBufferAttribute(i,o),!0===l.isSkinnedMesh&&(l.boneTransform(e,s),l.boneTransform(t,c),l.boneTransform(o,u)),s.applyMatrix4(l.matrixWorld),c.applyMatrix4(l.matrixWorld),u.applyMatrix4(l.matrixWorld),function(e,t,o){m.subVectors(o,t),p.subVectors(e,t),m.cross(p).normalize(),d.copy(m).normalize(),!0===n?(a.setFloat32(r,d.x,!0),r+=4,a.setFloat32(r,d.y,!0),r+=4,a.setFloat32(r,d.z,!0),r+=4):(a+="\tfacet normal "+d.x+" "+d.y+" "+d.z+"\n",a+="\t\touter loop\n")}(s,c,u),E(s),E(c),E(u),!0===n?(a.setUint16(r,0,!0),r+=2):(a+="\t\tendloop\n",a+="\tendfacet\n")}function E(e){!0===n?(a.setFloat32(r,e.x,!0),r+=4,a.setFloat32(r,e.y,!0),r+=4,a.setFloat32(r,e.z,!0),r+=4):a+="\t\t\tvertex "+e.x+" "+e.y+" "+e.z+"\n"}}};var Wt=Kt;function Ut(e,t){switch(t){case"good":return e.metadata.preferred_quality_type="fast",e.settings.resolution.children.layer_height.value=.32,e.settings.speed.children.speed_print.value=60,e.settings.speed.children.speed_print.children.speed_infill.value=60,e.settings.speed.children.speed_print.children.speed_wall.value=60,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=60,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=60,e;case"better":return e.metadata.preferred_quality_type="normal",e.settings.resolution.children.layer_height.value=.16,e.settings.speed.children.speed_print.value=50,e.settings.speed.children.speed_print.children.speed_infill.value=60,e.settings.speed.children.speed_print.children.speed_wall.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=60,e;case"best":return e.metadata.preferred_quality_type="best",e.settings.resolution.children.layer_height.value=.08,e.settings.speed.children.speed_print.value=40,e.settings.speed.children.speed_print.children.speed_infill.value=50,e.settings.speed.children.speed_print.children.speed_wall.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=40,e;case"petg":return e.settings.travel.children.retraction_enable.value=!0,e.settings.speed.children.speed_print.value=50,e.settings.speed.children.speed_print.children.speed_infill.value=60,e.settings.speed.children.speed_print.children.speed_wall.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=60,e.settings.material.children.default_material_print_temperature.value=245,e.settings.material.children.material_print_temperature.value=245,e.settings.material.children.material_print_temperature_layer_0.value=245,e.settings.material.children.material_initial_print_temperature.value=245,e.settings.material.children.material_final_print_temperature.value=245,e.settings.material.children.default_material_bed_temperature.value=70,e.settings.material.children.material_bed_temperature.value=70,e;case"tpu":return e.settings.travel.children.retraction_enable.value=!1,e.settings.speed.children.speed_print.value=30,e.settings.speed.children.speed_print.children.speed_infill.value=30,e.settings.speed.children.speed_print.children.speed_wall.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=30,e.settings.material.children.default_material_print_temperature.value=230,e.settings.material.children.material_print_temperature.value=230,e.settings.material.children.material_print_temperature_layer_0.value=230,e.settings.material.children.material_initial_print_temperature.value=230,e.settings.material.children.material_final_print_temperature.value=230,e.settings.material.children.default_material_bed_temperature.value=50,e.settings.material.children.material_bed_temperature.value=50,e;case"pla":return e.settings.travel.children.retraction_enable.value=!0,e.settings.speed.children.speed_print.value=50,e.settings.speed.children.speed_print.children.speed_infill.value=60,e.settings.speed.children.speed_print.children.speed_wall.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0.value=30,e.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x.value=60,e.settings.material.children.default_material_print_temperature.value=220,e.settings.material.children.material_print_temperature.value=220,e.settings.material.children.material_print_temperature_layer_0.value=220,e.settings.material.children.material_initial_print_temperature.value=220,e.settings.material.children.material_final_print_temperature.value=220,e.settings.material.children.default_material_bed_temperature.value=50,e.settings.material.children.material_bed_temperature.value=50,e;default:return e}}function qt(e,t){if(0===t)e.settings.infill.children.infill_sparse_density.children.infill_line_distance.value=0,e.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value=0;else{var a=function(e){switch(e){case"triangles":case"trihexagon":case"cubic":case"cubicsubdiv":return 3;case"grid":case"tetrahedral":case"quarter_cubic":return 2;default:return 1}}(e.settings.infill.children.infill_pattern.default_value),n=100*e.settings.resolution.children.line_width.children.infill_line_width.default_value/t*a;e.settings.infill.children.infill_sparse_density.children.infill_line_distance.value=n,e.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value=n}return e}var Qt=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).state={shown:e.shown||!1,loading:!1,filament:"pla",quality:"good",infill:20,supports:!1,vase:!1,file:e.file,camZoom:0,camRotation:0,camZ:0,showMagnet:!0,showBounds:!0,showGrid:!0,stl:e.file,modifiedStl:null,fileName:"file.stl"},n.defaultSettings={},n}return Object(de.a)(a,[{key:"componentDidMount",value:function(){this.getSettings()}},{key:"getSettings",value:function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":2127/api/v1/settings"),{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:this.defaultSettings=e.sent,console.log(this.defaultSettings);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setSliceAndStartPrint",value:function(){var e=Object(S.a)(E.a.mark((function e(){var t,a,n,o,i,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.defaultSettings,"tpu"===this.state.filament?(t=Ut(t,this.state.quality),t=Ut(t,this.state.filament)):(t=Ut(t,this.state.filament),t=Ut(t,this.state.quality)),(t=qt(t,this.state.infill)).settings.infill.children.infill_sparse_density.value=this.state.infill,t.settings.infill.children.infill_sparse_density.default_value=this.state.infill,t.settings.support.children.support_enable.value=this.state.supports,t.settings.support.children.support_enable.default_value=this.state.supports,t.settings.blackmagic.children.magic_spiralize.value=this.state.vase,t.settings.blackmagic.children.magic_spiralize.default_value=this.state.vase,a=new FormData,n=new Wt,o=n.parse(this.state.modifiedStl),"application/vnd.ms-pki.stl",i=new Blob([o],{type:"application/vnd.ms-pki.stl"}),r=new File([i],this.state.fileName),a.append("file",r),a.append("json",JSON.stringify(t)),e.next=20,fetch("http://".concat(window.location.hostname,":2127/api/v1/files/").concat(this.state.fileName),{method:"POST",body:a});case 20:if(200!==e.sent.status){e.next=26;break}return e.next=24,fetch("http://".concat(window.location.hostname,":2127/api/v1/job/").concat(this.state.fileName),{method:"POST",headers:{"Content-Type":"application/json"}});case 24:e.next=27;break;case 26:this.props.onFailure&&this.props.onFailure();case 27:this.setState({loading:!1});case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ht.a,{open:this.state.shown,onClose:function(){e.props.onClose(),e.setState({shown:!1})},disableBackdropClick:!0},o.a.createElement("div",{className:"modal"},o.a.createElement(m.a,{container:!0,className:t.mainContainer},o.a.createElement(m.a,{item:!0},o.a.createElement(Ct.Provider,{value:{camRotation:this.state.camRotation,camZoom:this.state.camZoom,camZ:this.state.camZ,showMagnet:this.state.showMagnet,showBounds:this.state.showBounds,showGrid:this.state.showGrid,stl:this.props.file,modifiedStl:this.state.modifiedStl,fileName:this.state.fileName,setModifiedStl:function(t){e.setState({modifiedStl:t})},setFileName:function(t){e.setState({fileName:t})},addRotation:function(e){!function(e){a.setState({camRotation:a.state.camRotation+e})}(e)},setZoom:function(e){!function(e){a.setState({camZoom:e})}(e)},addZ:function(e){!function(e){var t,n,o;a.setState({camZ:(t=a.state.camZ+e,n=0,o=200,t<n?n:t>o?o:t)})}(e)},setShowMagnet:function(t){e.setState({showMagnet:t})},setShowBounds:function(t){e.setState({showBounds:t})},setShowGrid:function(t){e.setState({showGrid:t})}}},o.a.createElement(_t,null),o.a.createElement(Yt,null),o.a.createElement(Dt,null))),o.a.createElement(m.a,{item:!0,style:{marginLeft:10,zIndex:2}},o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h2",style:{fontSize:"1.5rem",marginTop:10}},"Slice Menu"),o.a.createElement(ft.a,{className:t.formControl},o.a.createElement(bt.a,{id:"fil"},"Filament Type"),o.a.createElement(yt.a,{labelId:"fil",value:this.state.filament,onChange:function(t){e.setState({filament:t.target.value})}},o.a.createElement(gt.a,{value:"pla"},"PLA"),o.a.createElement(gt.a,{value:"petg"},"PETG"),o.a.createElement(gt.a,{value:"tpu"},"TPU")))),o.a.createElement(m.a,{item:!0,style:{marginTop:20}},o.a.createElement(ft.a,{className:t.formControl},o.a.createElement(bt.a,{id:"qual"},"Quality"),o.a.createElement(yt.a,{labelId:"qual",value:this.state.quality,onChange:function(t){e.setState({quality:t.target.value})}},o.a.createElement(gt.a,{value:"good"},"Fastest Print"),o.a.createElement(gt.a,{value:"better"},"Normal Quality"),o.a.createElement(gt.a,{value:"best"},"Best Quality")))),o.a.createElement(m.a,{item:!0,style:{marginTop:20}},o.a.createElement(p.a,{variant:"h4",style:{fontSize:".75rem",color:"rgba(255, 255, 255, 0.7)"}},"Infill"),o.a.createElement(vt.a,{value:this.state.infill,onChange:function(t,a){e.setState({infill:a})},min:0,max:100,step:5,className:t.slider,valueLabelDisplay:"auto",color:"secondary"}),o.a.createElement(p.a,{display:"inline",style:{fontSize:".75rem",position:"relative",top:-16,left:10}},"".concat(this.state.infill,"%"))),o.a.createElement(m.a,{item:!0,style:{marginTop:20}},o.a.createElement(wt.a,{row:!0},o.a.createElement(xt.a,{control:o.a.createElement(Et.a,{checked:this.state.supports,onChange:function(t){e.setState({supports:t.target.checked})},name:"checkSupports"}),label:"Supports"}),o.a.createElement(xt.a,{control:o.a.createElement(Et.a,{checked:this.state.vase,onChange:function(t){e.setState({vase:t.target.checked})},name:"checkVase"}),label:"Vase Mode"}))),o.a.createElement(m.a,{item:!0,container:!0,style:{marginTop:20}},o.a.createElement(m.a,{item:!0,xs:3},o.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){e.props.onClose(),e.setState({shown:!1})}},"Cancel")),o.a.createElement(m.a,{item:!0,xs:6}),o.a.createElement(m.a,{item:!0,xs:3},o.a.createElement(d.a,{variant:"contained",color:"primary",onClick:Object(S.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.onClose(),t.next=3,e.setSliceAndStartPrint();case 3:case"end":return t.stop()}}),t)})))},"Slice"))))))),this.state.loading&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{alt:"print",src:ae.a,style:{width:200,height:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% - 100px)"}}),o.a.createElement("h4",{style:{width:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% + 120px)",textAlign:"center"}},"Preparing File")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{shown:e.shown}}}]),a}(n.Component),Ht=Object(St.a)((function(e){return{formControl:{minWidth:250,"& .MuiInputLabel-root.Mui-focused":{color:"white"}},mainContainer:{marginTop:20,width:300},slider:{width:215}}}))(Qt),Vt=Object(f.a)((function(e){return{header:{display:"flex",alignItems:"center"},item:{height:"100px",padding:"0 22px"},modal:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"75%"},modalContainer:{padding:"25px",width:300,"& h2":{fontSize:"2.5rem",marginTop:"10px"}},printButton:{width:"200px",height:"40px",alignSelf:"center",marginTop:"20px",marginBottom:"50px"},sliceDropdown:{border:"1px solid #ced4da",borderRadius:4,width:"175px",padding:"0 10px"},slider:{maxWidth:"60px",marginLeft:"20px","& input":{padding:"8px",textAlign:"center"}},summary:{height:"56px",cursor:"pointer","&$selected, &$selected:hover":{backgroundColor:e.palette.secondary.main}},selected:{},hover:{},text:{fontSize:"1.5em",fontWeight:"bold"},fileContainer:{maxHeight:"700px",overflow:"auto",width:"auto"},fileLocation:{overflow:"scroll",height:"400px"},icon:{width:"40px"}}}));function Jt(e){var t=[".g",".gcode",".G",".GCODE",".stl",".STL",".3mf",".3MF",".zip",".ZIP"];for(var a in t)if(e.endsWith(t[a]))return!1;return!0}function $t(e,t,a){if(e===t)return a;var n,o;for(o in e)if(e.hasOwnProperty(o)&&"object"===typeof e[o]&&Jt(o)&&(a.push(o),n=$t(e[o],t,a)))return n;return a}var ea=function(e){var t=e.drawerOpen,a=e.setDrawerOpen,i=e.fileLocation,r=e.manage,l=e.update,c=Vt(),f=Object(n.useState)(""),b=Object(s.a)(f,2),y=b[0],g=b[1],v=Object(n.useState)(!0),w=Object(s.a)(v,2),x=w[0],k=w[1],j=Object(n.useState)([]),C=Object(s.a)(j,2),O=C[0],A=C[1],B=Object(n.useState)([]),z=Object(s.a)(B,2),M=z[0],N=z[1],P=Object(n.useState)(0),_=Object(s.a)(P,2),I=_[0],R=_[1],F=Object(n.useState)(0),G=Object(s.a)(F,2),L=G[0],D=G[1],X=Object(n.useState)(0),K=Object(s.a)(X,2),W=K[0],U=K[1],q=Object(n.useState)({}),H=Object(s.a)(q,2),V=H[0],J=H[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],oe=Object(n.useState)(!1),ie=Object(s.a)(oe,2),re=ie[0],le=ie[1],se=Object(n.useState)(!1),ce=Object(s.a)(se,2),ue=(ce[0],ce[1]),me=Object(n.useState)(!1),pe=Object(s.a)(me,2),de=pe[0],he=pe[1],fe=Object(n.useState)(""),be=Object(s.a)(fe,2),ye=be[0],ge=be[1];Object(n.useEffect)((function(){if(t){var e=function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,"local"!==i){e.next=7;break}return e.next=4,fetch("http://".concat(window.location.hostname,":2127/api/v1/files"),{method:"GET"});case 4:t=e.sent,e.next=12;break;case 7:return e.next=9,fetch("http://".concat(window.location.hostname,":2127/api/v1/usb/refresh"),{method:"POST"});case 9:return e.next=11,fetch("http://".concat(window.location.hostname,":2127/api/v1/usb/files"),{method:"GET"});case 11:t=e.sent;case 12:return e.abrupt("return",t.json());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k(!0),e().then((function(e){if("local"===i)A(e.files),D(e.free),U(e.total),R(e.total-e.free);else{var t=function(e){var t={};if(e instanceof Array===!1)throw new Error("Expected an Array of file paths, but saw "+e);return e.forEach((function(e){var a=e.display.split("/");if(1===a.length)return t[a[0]]=e;a.reduce((function(t,a,n,o){return n===o.length-1&&(t[a]=e),t.hasOwnProperty(a)||(t[a]={}),t[a]}),t)})),t}(e.files);A(t),N(t)}k(!1)}))}}),[t,i]);var we=function(e){te&&(V[te]=e,J(V)),A(e)};return o.a.createElement("div",null,!r&&!l&&o.a.createElement(ve.a,{position:"sticky"},o.a.createElement(p.a,{variant:"h6",style:{textAlign:"center"}},"Printer Name: ",window.location.hostname)),o.a.createElement("div",{className:c.header},!r&&!l&&o.a.createElement("h2",{style:{marginLeft:10}},"USB"===i.toUpperCase()?"USB Media":"Printer Storage"),!r&&!l&&o.a.createElement(Y.a,{"aria-label":"back",onClick:function(){return A([]),void a(!1)},style:{position:"absolute",right:0}},o.a.createElement(it.a,null))),"usb"===i&&o.a.createElement(u.a,{className:c.fileContainer},o.a.createElement(m.a,{container:!0,direction:"row",style:{background:"#525252"}},o.a.createElement(m.a,{item:!0,style:{alignSelf:"center"},onClick:function(){return we(M)}},o.a.createElement(p.a,{variant:"h6"},o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(rt.a,null)))),function(e,t){var a=[],n=[".g",".gcode",".G",".GCODE",".stl",".STL",".3mf",".3MF",".zip",".ZIP"],o=Object.keys(t);for(var i in o)for(var r in n){if(o[i].endsWith(n[r])){if(t[o[i]].hasOwnProperty("display"))return(a=t[o[i]].display.split("/")).pop(),a}else a=$t(e,t,[])}return a}(M,O).map((function(e,t,a){var n=a.length;return Jt(e)?o.a.createElement(m.a,{item:!0,style:{alignSelf:"center"},onClick:function(){return we(V[e])},key:e},o.a.createElement(p.a,{variant:"h6"},o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(Z.a,null)),t+1===n&&o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(lt.a,null)),e)):o.a.createElement(o.a.Fragment,null)})))),x?o.a.createElement(Q.a,{className:c.backdrop,open:!0},o.a.createElement("img",{alt:"print",src:ae.a,style:{width:200,height:200,zIndex:99999999}})):o.a.createElement(u.a,{className:c.fileContainer},o.a.createElement($e.a,{className:c.fileList},o.a.createElement(et.a,{stickyHeader:!0},o.a.createElement(tt.a,null,o.a.createElement(at.a,null,o.a.createElement(nt.a,null,"Name"),o.a.createElement(nt.a,null,"Size"))),o.a.createElement(ot.a,null,"local"===i?O&&O.map((function(e,t){if(!r||!function(e){for(var t in dt)if(dt[t].name==e)return!0;return!1}(e.name))return o.a.createElement(at.a,{key:e.display,onClick:function(){return g(e.display)},selected:y===e.display,className:c.summary,classes:{selected:c.selected,hover:c.hover}},o.a.createElement(nt.a,null,o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},r?o.a.createElement(st.a,null):o.a.createElement(ct.a,null)),e.display),o.a.createElement(nt.a,null,T(e.size)))})):O&&Object.keys(O).map((function(e,t){if(Jt(e))return o.a.createElement(at.a,{key:e,onClick:function(){return t=O[e],ne(e),void g(t);var t},selected:y===O[e],className:c.summary,classes:{selected:c.selected,hover:c.hover}},o.a.createElement(nt.a,{style:{width:l?"400px":"100%"}},o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(ut.a,null)),e),o.a.createElement(nt.a,{style:{minWidth:110}},T(function e(t){var a=0;return Object.keys(t).forEach((function(n,o){t[n].hasOwnProperty("size")?a+=t[n].size:"object"==typeof t[n]&&(a+=e(t[n]))})),a}(O[e]))));if((O[e].display.includes(".zip")||O[e].display.includes(".ZIP"))&&/^300x-(\d+).(\d+).(\d+).zip$/.test(e)){if(l)return o.a.createElement(at.a,{key:e,onClick:function(){return g(O[e].display)},selected:y===O[e].display,className:c.summary,classes:{selected:c.selected,hover:c.hover}},o.a.createElement(nt.a,{style:{width:"400px"}},o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(mt.a,null)),e),o.a.createElement(nt.a,null,T(O[e].size)))}else if(!l&&!O[e].display.includes(".zip")&&!O[e].display.includes(".ZIP"))return o.a.createElement(at.a,{key:e,onClick:function(){return g(O[e].display)},selected:y===O[e].display,className:c.summary,classes:{selected:c.selected,hover:c.hover}},o.a.createElement(nt.a,null,e.endsWith(".g")||e.endsWith(".gcode")||e.endsWith(".G")||e.endsWith(".GCODE")?o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(ct.a,null)):o.a.createElement(Y.a,{"aria-label":"back",className:c.icon},o.a.createElement(pt.a,null)),e),o.a.createElement(nt.a,null,T(O[e].size)))})))))),o.a.createElement(m.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center"},r?o.a.createElement(m.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement(d.a,{variant:"contained",disabled:y.length<=0,onClick:function(){return k(!0),void fetch("http://".concat(window.location.hostname,":2127/api/v1/files/local/").concat(y),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){fetch("http://".concat(window.location.hostname,":2127/api/v1/files"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){k(!1),A(e.files),D(e.free),U(e.total),R(e.total-e.free)}))}))},className:c.printButton},"Delete"),o.a.createElement(p.a,{variant:"h6"},T(I)," used of ",T(W)," total, leaving ",T(L)," available")):"object"!==typeof y&&(y.endsWith(".g")||y.endsWith(".gcode")||y.endsWith(".G")||y.endsWith(".GCODE"))?o.a.createElement(d.a,{variant:"contained",disabled:y.length<=0,onClick:function(){return function(){if(console.log(y),k(!0),"local"===i){var e=y.split("\\").pop().split("/").pop();fetch("http://".concat(window.location.hostname,":2127/api/v1/job/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){k(!1),a((function(){return!1})),g(""),ue(!1),le(!1)}))}else fetch("http://".concat(window.location.hostname,":2127/api/v1/usb/copy/").concat(y),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){var t=y.split("\\").pop().split("/").pop();fetch("http://".concat(window.location.hostname,":2127/api/v1/job/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){k(!1),a((function(){return!1})),g(""),ue(!1),le(!1)}))}))}()},className:c.printButton},"Print"):"object"===typeof y?o.a.createElement(d.a,{variant:"contained",disabled:y.length<=0,onClick:function(){return we(y)},className:c.printButton},"Open Folder"):l&&(y.endsWith(".zip")||y.endsWith(".ZIP"))&&(/^(.+)300x-(\d+).(\d+).(\d+).zip$/.test(y)||/^300x-(\d+).(\d+).(\d+).zip$/.test(y))?o.a.createElement(d.a,{variant:"contained",disabled:y.length<=0,onClick:function(){return function(){function e(){return(e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:2127/api/v1/usb/copy/".concat(y),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(y),k(!0),a(!1),function(){return e.apply(this,arguments)}().then((function(e){console.log(e),k(!1),e.updated?(ge("Software Updated. Rebooting..."),he(!0),setTimeout((function(){fetch("http://localhost:8990/reboot",{method:"POST",headers:{"Content-Type":"application/json"}})}),3e3)):(ge("Software Update Failed. Reverted to previous version."),he(!0))}))}()},className:c.printButton},"Update from ZIP"):o.a.createElement(d.a,{variant:"contained",disabled:y.length<=0,onClick:function(){return le(!0)},className:c.printButton},"Slice")),o.a.createElement(Ht,{file:y,shown:re,onClose:function(){le(!1)}}),o.a.createElement(h.a,{open:de,autoHideDuration:6e3,message:ye,onClose:function(){he((function(){return!1})),ge("")}}))},ta=(a(153),Object(f.a)({drawerContainer:{width:"100%"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"10px"},textCenter:{textAlign:"center",marginTop:"10px"},card:{margin:"32px",border:"2px solid rgba(0, 0, 0, 0.12)",textAlign:"center"},cardContent:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}));function aa(e){if(e.value){try{e.value=""}catch(o){}if(e.value){var t=document.createElement("form"),a=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),a.insertBefore(e,n)}}}var na=function(e){var t=e.lastMessage,a=e.setDisabledNav,i=ta(),r=Object(n.useState)({extruder:0,bed:0,connected:!1,feed:"1",file:-1,files:[],printing:!1,progress:0,paused:!1}),l=Object(s.a)(r,2),c=l[0],u=(l[1],Object(n.useState)(!1)),d=Object(s.a)(u,2),h=(d[0],d[1],Object(n.useState)(null)),f=Object(s.a)(h,2),v=(f[0],f[1],Object(n.useState)(null)),w=Object(s.a)(v,2),x=w[0],T=w[1],k=Object(n.useState)(null),j=Object(s.a)(k,2),C=j[0],O=j[1],A=Object(n.useState)(null),B=Object(s.a)(A,2),z=B[0],M=B[1],N=Object(n.useState)(!1),P=Object(s.a)(N,2),_=P[0],I=P[1],R=Object(n.useState)(""),F=Object(s.a)(R,2),G=F[0],Z=F[1],Y=Object(n.useState)(null),L=Object(s.a)(Y,2),D=L[0],X=L[1],K=Object(n.useState)(!1),W=Object(s.a)(K,2),U=W[0],q=W[1],Q=Object(n.useState)(null),H=Object(s.a)(Q,2),V=H[0],J=H[1],$=function(e){Z(e),I(!0)};return o.a.useEffect((function(){if("undefined"!==typeof t&&t&&"undefined"!==typeof t.data&&t.data.length>1){var e=JSON.parse(t.data.substring(1));e[0].hasOwnProperty("current")&&e[0].current.state&&T(e[0].current.state),e[0].hasOwnProperty("current")&&e[0].current.job&&O(e[0].current.job),e[0].hasOwnProperty("current")&&e[0].current.progress&&M(e[0].current.progress)}}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,null,z&&C&&C.file.name&&z.completion<100&&x&&"Operational"!==x.text?o.a.createElement(Je,{lastMessage:t,progressState:z,setDisabledNav:a,statusText:x.text,fileName:C.file.display,state:c}):o.a.createElement(m.a,null,o.a.createElement(b.a,{className:i.card,onClick:function(){return $("local")}},o.a.createElement(y.a,null,o.a.createElement(g.a,{className:i.cardContent},o.a.createElement(p.a,{variant:"h4"},"Printer Storage")))),o.a.createElement(b.a,{className:i.card,onClick:function(){return $("usb")}},o.a.createElement(y.a,null,o.a.createElement(g.a,{className:i.cardContent},o.a.createElement(p.a,{variant:"h4"},"USB Media")))),o.a.createElement(b.a,{className:i.card,onClick:function(){D.click()}},o.a.createElement(y.a,null,o.a.createElement(g.a,{className:i.cardContent},o.a.createElement(p.a,{variant:"h4"},"Local Storage"),o.a.createElement("input",{style:{display:"none"},type:"file",onChange:function(){var e=Object(S.a)(E.a.mark((function e(t){var a,n,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0],!(n=/.+\.(stl|gcode)$/gi.exec(a.name))){e.next=22;break}if("stl"!==n[1].toLowerCase()){e.next=10;break}J(a),q(!0),aa(t.target),e.next=20;break;case 10:return(o=new FormData).append("file",a),e.next=14,fetch("http://".concat(window.location.hostname,":2127/api/v1/files/").concat(a.name),{method:"POST",body:o});case 14:if(200!==e.sent.status){e.next=20;break}return e.next=18,fetch("http://".concat(window.location.hostname,":2127/api/v1/job/").concat(a.name),{method:"POST",headers:{"Content-Type":"application/json"}});case 18:e.next=20;break;case 20:e.next=22;break;case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ref:function(e){X(e)},accept:".stl,.gcode"})))),o.a.createElement(Xe.a,{anchor:"left",open:_,onClose:function(){return I(!1)},classes:{paper:i.drawerContainer}},o.a.createElement(ea,{setDrawerOpen:I,drawerOpen:_,fileLocation:G}))),o.a.createElement("div",null,o.a.createElement(m.a,null,x&&C&&(C.file?o.a.createElement("div",null,o.a.createElement("div",{className:i.buttonContainer},z&&(null==z.completion||100==z.completion)&&C&&C.file.display&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.textCenter})))):o.a.createElement("span",null,"Not Printing"))))),o.a.createElement(Ht,{shown:U,file:V,onClose:function(){q(!1)}}))},oa=a(272),ia=a(260),ra=(a(154),Object(f.a)({btnContainer:{marginTop:"14px",marginBottom:"28px",textAlign:"center"},centerBtns:{"& button":{margin:"0 12px"}},tabs:{"& button":{textTransform:"none"}}})),la=[.1,1,10,20],sa=function(e){e.position;var t=ra(),a=Object(n.useState)(1),i=Object(s.a)(a,2),r=i[0],l=i[1],c=function(e){fetch("http://".concat(window.location.hostname,":2127/api/v1/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gcode:"G28 ".concat(e,"\nM114\n")})})},u=function(e,t){var a="".concat(e).concat(t?-la[r]:la[r]);fetch("http://".concat(window.location.hostname,":2127/api/v1/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gcode:"M220 S200\nG91\nG0 ".concat(a,"\nM220 S100\nM114\n")})})};return o.a.createElement(oa.a,{style:{textAlign:"center"}},o.a.createElement(p.a,{variant:"h4",style:{marginTop:15}},"Movement"),o.a.createElement(m.a,{container:!0,justify:"center",style:{marginTop:30}},o.a.createElement(m.a,{item:!0,justifyContent:"center",alignItems:"center"},o.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){var e;e="G28\nM240 S1\nM114\n",fetch("http://".concat(window.location.hostname,":2127/api/v1/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gcode:e})})}},"Home All"))),o.a.createElement(m.a,{container:!0,justify:"center",className:t.btnContainer,spacing:0,direction:"row"},o.a.createElement(m.a,{item:!0,xs:4},o.a.createElement(Ot.a,null,o.a.createElement(Ye.a,{value:r,className:t.tabs,onChange:function(e,t){return l(t)}},la.map((function(e){return o.a.createElement(Le.a,{label:"".concat(e,"mm"),key:e,style:{minWidth:"138px"}})}))))),o.a.createElement(m.a,{item:!0,container:!0,xs:12,style:{marginTop:20}},o.a.createElement(m.a,{container:!0,item:!0,xs:6,justify:"center",alignItems:"flex-start",spacing:0},o.a.createElement(m.a,{item:!0,xs:12,alignItems:"flex-start"},o.a.createElement(p.a,{variant:"body1"},"X")),o.a.createElement(m.a,{item:!0,xs:3},o.a.createElement(d.a,{item:!0,color:"secondary",size:"large",variant:"contained",onClick:function(){return u("X",!0)},style:{margin:3}},o.a.createElement(ia.a,null))),o.a.createElement(m.a,{item:!0,xs:3},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return c("X")},style:{margin:3}},o.a.createElement(rt.a,null))),o.a.createElement(m.a,{item:!0,xs:3},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return u("X",!1)},style:{margin:3}},o.a.createElement(Z.a,null)))),o.a.createElement(m.a,{container:!0,item:!0,xs:!0,direction:"column",alignItems:"center",spacing:0},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(p.a,{variant:"body1"},"Y")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return u("Y",!0)},style:{margin:3}},o.a.createElement(je.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return c("Y")},style:{margin:3}},o.a.createElement(rt.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return u("Y",!1)},style:{margin:3}},o.a.createElement(Ce.a,null)))),o.a.createElement(m.a,{container:!0,item:!0,xs:!0,direction:"column",alignItems:"center",spacing:0},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(p.a,{variant:"body1"},"Z")),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return u("Z",!1)},style:{margin:3}},o.a.createElement(je.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return c("Z")},style:{margin:3}},o.a.createElement(rt.a,null))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",size:"large",variant:"contained",onClick:function(){return u("Z",!0)},style:{margin:3}},o.a.createElement(Ce.a,null)))))))},ca=(a(155),Object(f.a)((function(e){return{drawerContainer:{width:"100%"},header:{display:"flex",alignItems:"center"},item:{height:"100px",padding:"0 22px"},modal:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"60%"},modalContainer:{height:"100%",padding:"25px","& h2":{fontSize:"2.5rem",marginTop:"10px"}},printButton:{width:"120px",height:"40px",alignSelf:"center",marginTop:"auto",marginBottom:"100px"},sliceDropdown:{border:"1px solid #ced4da",borderRadius:4,width:"150px",padding:"0 10px"},slider:{maxWidth:"60px",marginLeft:"20px","& input":{padding:"8px",textAlign:"center"}},summary:{height:"56px",cursor:"pointer","&$selected, &$selected:hover":{backgroundColor:e.palette.secondary.main}},selected:{},hover:{},text:{fontSize:"1.5em",fontWeight:"bold"},gauges:{display:"flex"},nozzleSlider:{display:"flex",flexDirection:"row",width:250},tempOutputs:{display:"flex",flexDirection:"column"}}}))),ua=function(){var e=function(e){fetch("http://".concat(window.location.hostname,":2127/api/v1/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gcode:e})})},t=ca();return o.a.createElement(oa.a,{style:{textAlign:"center",marginTop:40}},o.a.createElement(p.a,{variant:"h4"},"Heating"),o.a.createElement(m.a,{container:!0,justify:"center"},o.a.createElement(m.a,{item:!0,xs:1},o.a.createElement("h4",null,"Preheat"),o.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(Pe.Consumer,null,(function(t){var a=t.setBedTarget,n=t.setNozzleTarget;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:3},onClick:function(){e("M104 S220\nM140 S50"),a(50),n(220)}},"PLA"),o.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:3},onClick:function(){e("M104 S245\nM140 S70"),a(70),n(245)}},"PETG"),o.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:3},onClick:function(){e("M104 S230\nM140 S50"),a(50),n(230)}},"TPU"),o.a.createElement(d.a,{color:"primary",variant:"contained",style:{margin:3},onClick:function(){e("M104 S0\nM140 S0"),a(0),n(0)}},"Cooldown"))})))),o.a.createElement(m.a,{item:!0,xs:7},o.a.createElement("h4",null),o.a.createElement(m.a,{container:!0,direction:"column"},o.a.createElement(m.a,{item:!0,style:{marginTop:40}},o.a.createElement("span",null,"Nozzle")),o.a.createElement(m.a,{item:!0,container:!0,justify:"center"},o.a.createElement(m.a,{item:!0,xs:9},o.a.createElement(Pe.Consumer,null,(function(t){var a=t.nozzleTarget,n=t.setNozzleTarget;return o.a.createElement(vt.a,{defaultValue:0,color:"secondary",onChange:function(e,t){n(t)},onChangeCommitted:function(t,a){n(a),e("M104 S".concat(a,"\n"))},getAriaValueText:function(){return"".concat(a,"C")},valueLabelDisplay:"auto",step:5,min:0,max:260,style:{maxWidth:"200px"},value:a})}))),o.a.createElement(m.a,{item:!0},o.a.createElement(Pe.Consumer,null,(function(e){var a=e.nozzle,n=e.nozzleTarget;return o.a.createElement("div",{className:t.tempOutputs},o.a.createElement("span",{style:{color:"#aaaaaa",width:30}},"".concat(a,"C")),o.a.createElement("span",{style:{color:"#ffffff",width:30}},"".concat(n,"C")))})))),o.a.createElement(m.a,{item:!0},o.a.createElement("span",null,"Bed")),o.a.createElement(m.a,{container:!0,justify:"center"},o.a.createElement(m.a,{item:!0,xs:9},o.a.createElement(Pe.Consumer,null,(function(t){var a=t.bedTarget,n=t.setBedTarget;return o.a.createElement(vt.a,{defaultValue:0,color:"secondary",onChange:function(e,t){n(t)},onChangeCommitted:function(t,a){n(a),e("M140 S".concat(a,"\n"))},getAriaValueText:function(){return"".concat(a,"C")},valueLabelDisplay:"auto",step:5,min:0,max:100,style:{maxWidth:"200px"},value:a})}))),o.a.createElement(m.a,{item:!0},o.a.createElement(Pe.Consumer,null,(function(e){var a=e.bed,n=e.bedTarget;return o.a.createElement("div",{className:t.tempOutputs},o.a.createElement("span",{style:{color:"#aaaaaa",width:30}},"".concat(a,"C")),o.a.createElement("span",{style:{color:"#ffffff",width:30}},"".concat(n,"C")))}))))))))},ma=(a(156),function(e){var t=o.a.useState({x:0,y:0,z:0}),a=Object(s.a)(t,2),n=a[0],i=a[1];return o.a.useEffect((function(){if("undefined"!==typeof e&&"undefined"!==typeof e.lastMessage&&e.lastMessage&&"undefined"!==typeof e.lastMessage.data&&e.lastMessage.data.length>1){var t=JSON.parse(e.lastMessage.data.substring(1));console.log(t),t[0].hasOwnProperty("event")&&t[0].event.hasOwnProperty("payload")&&t[0].event.payload&&i({x:t[0].event.payload.x,y:t[0].event.payload.y,z:t[0].event.payload.z})}}),[e]),o.a.createElement(o.a.Fragment,null,o.a.createElement(sa,{position:n}),o.a.createElement(ua,null))}),pa=a(264),da=a(269),ha=a(75),fa=a.n(ha),ba=Object(f.a)({componentContainer:{display:"flex",flex:1},drawerContainer:{width:"100%"},header:{display:"flex",alignItems:"center"},item:{height:"100px",padding:"0 22px"},text:{fontSize:"1.5em",fontWeight:"bold"}}),ya=function(){ba();var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=(t[0],t[1]);return o.a.createElement(m.a,null,o.a.createElement(ea,{fileLocation:"local",drawerOpen:!0,setDrawerOpen:a,manage:!0,update:!1}))},ga=a(261),va=a(262),wa=a(263),xa=a(112),Ea=function(){return o.a.createElement(m.a,{container:!0,direction:"column"},o.a.createElement(L.a,{subheader:o.a.createElement(ga.a,{style:{fontSize:"20px"}},"Software")},o.a.createElement(K.a,null,o.a.createElement(va.a,null,o.a.createElement(wa.a,null)),o.a.createElement(pa.a,{primary:"Firmware Version",secondary:xa.version}))))},Sa=a(267),Ta=a(265),ka=a(266),ja=a(268);var Ca=Object(f.a)({}),Oa=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1],Object(n.useState)("none")),i=Object(s.a)(a,2),r=i[0],l=i[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),d=u[0],f=u[1],b=Object(n.useState)(""),y=Object(s.a)(b,2),g=y[0],v=y[1],w=Object(n.useState)(!1),x=Object(s.a)(w,2),T=x[0],C=(x[1],Object(n.useState)(!1)),O=Object(s.a)(C,2),A=O[0],B=(O[1],Object(n.useState)("disabled")),z=Object(s.a)(B,2),M=z[0],N=z[1],P=Object(n.useState)("no"),_=Object(s.a)(P,2),I=_[0],F=_[1],Z=Object(n.useState)(0),Y=Object(s.a)(Z,2),D=Y[0],X=Y[1],W=Object(n.useState)(!1),U=Object(s.a)(W,2),q=U[0],Q=U[1],V=Object(n.useState)(""),J=Object(s.a)(V,2),$=J[0],ee=J[1],te=function(){Q((function(){return!1})),ee("")},ae=Ca();R((function(){j("userMode").then((function(e){j("networkProfile").then((function(t){j("printerProfile").then((function(a){j("camEnabled").then((function(n){l((function(){return null!==t?t:"none"})),N((function(){return n})),f((function(){return a})),v((function(){return e}))}))}))}))}))}));var ne=function(e){var t=e.toLowerCase();l(t)},ie=function(e){var t="";(e?(N("enabled"),k("camEnabled","enabled"),t="add"):(N("disabled"),k("camEnabled","disabled"),t="remove"),"add"==t)&&function(e,t){var a=new Image;a.onload=function(){t(!0)},a.onerror=function(){t(!1)},a.src=e}("http://".concat(window.location.hostname,":8090/?action=snapshot"),(function(e){e||(window.confirm("Reboot Required on initial camera setup. Continue?")?(F("yes"),function(e){return a.apply(this,arguments)}(t).then((function(e){setTimeout((function(){fetch("http://".concat(window.location.hostname,":8990/reboot"),{method:"POST",headers:{"Content-Type":"application/json"}})}),3e3)}))):N("disabled"))}));function a(){return(a=Object(S.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(window.location.hostname,":8990/toggle/camera"),{method:"POST",body:JSON.stringify({action:t}),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{container:!0,direction:"column",className:ae.container},A&&o.a.createElement(m.a,null,"Your SSID is",o.a.createElement(p.a,{color:"secondary",variant:"body1"},window.location.hostname),"Your password is",o.a.createElement(p.a,{color:"secondary",variant:"body1"},"makermade"),"ethernet"===r&&o.a.createElement(p.a,{variant:"body2"},"Don't forget to connect your cable!")),T&&o.a.createElement(m.a,{item:!0,xs:!0},o.a.createElement(oe,{setShowSnack:Q,setSnackMessage:ee,handleSnackClose:te,settingsScreen:!0})),o.a.createElement(m.a,null,o.a.createElement(L.a,{subheader:o.a.createElement(ga.a,null,"User Type"),className:ae.root},o.a.createElement(K.a,null,o.a.createElement(va.a,null,o.a.createElement(Ta.a,null)),o.a.createElement(pa.a,{primary:"Experience Level"}),o.a.createElement(yt.a,{native:!0,value:g,onChange:function(e){e.target&&e.target.value&&(v(e.target.value),k("userMode",e.target.value))},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},o.a.createElement("option",{value:"beginner"},"Beginner"),o.a.createElement("option",{value:"standard"},"Standard"))))),o.a.createElement(m.a,null,o.a.createElement(L.a,{subheader:o.a.createElement(ga.a,null,"Printer"),className:ae.root},o.a.createElement(K.a,null,o.a.createElement(va.a,null,o.a.createElement(ka.a,null)),o.a.createElement(pa.a,{primary:"Classroom Mode"}),o.a.createElement(Sa.a,null,o.a.createElement(Et.a,{edge:"end",onChange:function(e){var t=e.target.checked?"classroom":"home";f((function(){return t})),k("printerProfile",t)},checked:"home"!==d}))),o.a.createElement(K.a,null,o.a.createElement(va.a,null,o.a.createElement(ja.a,null)),o.a.createElement(pa.a,{primary:"Printer Name: ".concat(window.location.hostname)}),o.a.createElement(Sa.a,null)),o.a.createElement(K.a,null,o.a.createElement(va.a,null,o.a.createElement(It.a,null)),o.a.createElement(pa.a,{primary:"Enable Camera"}),o.a.createElement(Sa.a,null,o.a.createElement(Et.a,{edge:"end",onChange:function(e){ie(e.target.checked)},checked:"enabled"===M})))),"yes"==I&&o.a.createElement(m.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(m.a,{item:!0},o.a.createElement(H.a,{className:ae.button,color:"secondary"})),o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h5",style:{marginTop:60,textAlign:"center"}},"Rebooting printer to apply changes, this will take approximately 2 minutes.")),o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h5",style:{marginTop:60,textAlign:"center"}},"DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!")))),o.a.createElement(h.a,{open:q,autoHideDuration:6e3,message:$,onClose:te})),2===D&&o.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgb(66,66,66)",zIndex:8e3,paddingLeft:24,paddingRight:24}},o.a.createElement(Ze,{setStep:X,setShowSnack:Q,setSnackMessage:ee,handleSnackClose:te,setNewType:function(e){ne(e)}})),1===D&&o.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgb(66,66,66)",zIndex:8e3,paddingLeft:24,paddingRight:24}},o.a.createElement(G,{setStep:X,setShowSnack:Q,setSnackMessage:ee,handleSnackClose:te,setNewType:function(e){ne(e)}})))},Aa=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).state={currentTutorial:null},n}return Object(de.a)(a,[{key:"selectTutorial",value:function(e){this.setState({currentTutorial:e})}},{key:"closeTutorial",value:function(e){var t=this;this.setState({currentTutorial:null}),e&&"request-calibration"===e&&setTimeout((function(){t.selectTutorial("bedLevelSensorCalibration")}),1e3)}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{className:t.tutorialContainer},Object.getOwnPropertyNames(ge).map((function(a){return ge[a].userVisable?o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:t.tutorialCard,onClick:function(){e.selectTutorial(a)}},o.a.createElement(g.a,null,o.a.createElement(p.a,{variant:"h6"},ge[a].name),o.a.createElement(p.a,{variant:"body2"},ge[a].description)))):o.a.createElement(o.a.Fragment,null)}))),this.state.currentTutorial&&o.a.createElement(Ie,{tutorialName:this.state.currentTutorial,showClose:!0,onTutorialClose:function(t){e.closeTutorial(t)}}))}}]),a}(o.a.Component),Ba=Object(be.a)((function(e){return{tutorialContainer:{maxHeight:"950px",overflow:"auto"},tutorialCard:{backgroundColor:"rgb(46,46,46)",marginBottom:"8px"},updateContainer:{flex:3,"& h3":{fontSize:"28px",textAlign:"center"}}}}))(Aa),za=Object(f.a)({backdrop:{zIndex:1e4,color:"#fff"},buttonContainer:{display:"flex",width:"100%",justifyContent:"space-around",marginTop:"56px"},connecting:{display:"flex",flexDirection:"column",alignItems:"center","& h4":{marginBottom:"24px"}},container:{display:"flex",flexDirection:"column"},header:{display:"flex",alignItems:"center"},item:{padding:function(e){return e.settingsScreen?"10px":"30px 15px"},fontSize:function(e){return e.settingsScreen?"18px":"24px"},display:"flex",justifyContent:"space-between"},keyboard:{position:"fixed",bottom:0,left:0,right:0,color:"#000"}}),Ma=function(e){e.setStep,e.setShowSnack,e.setSnackMessage,e.settingsScreen;var t=za(),a=Object(n.useState)("default"),i=Object(s.a)(a,2),r=(i[0],i[1],Object(n.useState)("")),l=Object(s.a)(r,2),c=(l[0],l[1],Object(n.useState)(!1)),u=Object(s.a)(c,2);u[0],u[1],Object(n.useRef)(),j("hostname");return o.a.createElement(m.a,{container:!0,item:!0,spacing:6,direction:"column",alignItems:"center",className:t.container},o.a.createElement("div",null,o.a.createElement(m.a,{item:!0,spacing:6,direction:"column",alignItems:"center",style:{paddingTop:140}},o.a.createElement(p.a,{variant:"h4",style:{textAlign:"center"}},"Warning!"),o.a.createElement(p.a,{variant:"h6",style:{textAlign:"center"}},"This will reset your printer to factory settings."),o.a.createElement(p.a,{variant:"h6",style:{textAlign:"center"}},"All gcode and stl files will be preserved.")),o.a.createElement(m.a,{item:!0,spacing:6,direction:"column",alignItems:"center",style:{marginTop:200}},o.a.createElement(m.a,{container:!0,style:{flexDirection:"row",justifyContent:"center"}},o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{color:"secondary",variant:"contained",className:t.button,style:{marginTop:10},onClick:function(){console.log("reset"),localStorage.clear(),window.location.reload(!1)}},"Reset"))))))},Na=Object(f.a)({componentContainer:{display:"flex",flex:1},drawerContainer:{width:"100%",maxWidth:"700px"},header:{display:"flex",alignItems:"center"},item:{height:"100px",padding:"0 22px"},text:{fontSize:"1.5em"}}),Pa=function(e){var t=Na(),a=Object(n.useState)(!1),i=Object(s.a)(a,2),r=i[0],l=i[1],c=Object(n.useState)({}),m=Object(s.a)(c,2),d=m[0],h=m[1],f=[{name:"Tutorials",component:o.a.createElement(Ba,null)},{name:"Settings",component:o.a.createElement(Oa,null)},{name:"Storage",component:o.a.createElement(ya,null)},{name:"Update",component:o.a.createElement(ue,{firstBoot:!1})},{name:"Reset",component:o.a.createElement(Ma,null)},{name:"About",component:o.a.createElement(Ea,null)}];return o.a.createElement("div",null,o.a.createElement(L.a,null,f.map((function(e){return o.a.createElement(o.a.Fragment,{key:"".concat(e.name,"-item")},o.a.createElement(K.a,{button:!0,onClick:function(){return function(e){h(e),l(!0)}(e)},className:t.item},o.a.createElement(pa.a,{primary:o.a.createElement(p.a,{className:t.text},e.name)}),o.a.createElement(fa.a,null)),o.a.createElement(da.a,null))}))),o.a.createElement(Xe.a,{anchor:"right",open:r,onClose:function(){return l(!1)},classes:{paper:t.drawerContainer}},o.a.createElement(ve.a,{position:"sticky"},o.a.createElement(p.a,{variant:"h6",style:{textAlign:"center"}},"Printer Name: ",window.location.hostname)),o.a.createElement("div",{className:t.header},o.a.createElement(Y.a,{"aria-label":"back",onClick:function(){return l(!1)}},o.a.createElement(J.a,null)),o.a.createElement(p.a,{variant:"h5"},d.name)),o.a.createElement(u.a,{className:t.componentContainer},d.component)))},_a=function(e){Object(he.a)(a,e);var t=Object(fe.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).state={tutorialShown:!1},n}return Object(de.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{className:t.tutorialCard,onClick:function(){e.setState({tutorialShown:!0})}},o.a.createElement(g.a,null,o.a.createElement(p.a,{variant:"h6"},ge[this.props.tutorialName].name),o.a.createElement(p.a,{variant:"body2"},ge[this.props.tutorialName].description))),this.state.tutorialShown&&o.a.createElement(Ie,{tutorialName:this.props.tutorialName,extruderTemp:this.props.extruderTemp,bedTemp:this.props.bedTemp,showClose:!0,onTutorialClose:function(t){e.setState({tutorialShown:!1})}}))}}]),a}(n.Component),Ia=Object(be.a)((function(e){return{tutorialContainer:{maxHeight:"950px",overflow:"auto"},tutorialCard:{backgroundColor:"rgb(46,46,46)",marginBottom:"8px"},updateContainer:{flex:3,"& h3":{fontSize:"28px",textAlign:"center"}}}}))(_a),Ra=function(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),i=(a[0],a[1],Object(n.useState)(1)),r=Object(s.a)(i,2),l=(r[0],r[1],Object(n.useState)(0)),c=Object(s.a)(l,2),u=c[0],m=c[1],p=Object(n.useState)(0),d=Object(s.a)(p,2),h=d[0],b=d[1];o.a.useEffect((function(){if("undefined"!==typeof e&&e&&"undefined"!==typeof e.data&&e.data.length>1){var t=JSON.parse(e.data.substring(1));if(console.log(t),t[0].hasOwnProperty("current")&&t[0].current.temps[0]&&t[0].current.temps[0]){var a=t[0].current.temps[0];m(parseInt(a.tool0.actual)),b(parseInt(a.bed.actual))}}}),[e]);Object(f.a)({btnContainer:{marginTop:"14px",marginBottom:"28px",textAlign:"center"},centerBtns:{"& button":{margin:"0 12px"}},tabs:{"& button":{textTransform:"none"}}})();return o.a.createElement("div",null,o.a.createElement(Ia,{tutorialName:"blTouchCalibration",extruderTemp:u,bedTemp:h}),o.a.createElement(Ia,{tutorialName:"bedLevelCornerCalibration",extruderTemp:u,bedTemp:h}),o.a.createElement(Ia,{tutorialName:"loadFilament",extruderTemp:u,bedTemp:h}),o.a.createElement(Ia,{tutorialName:"unloadFilament",extruderTemp:u,bedTemp:h}))},Fa=(a(157),Object(f.a)((function(e){return{appBar:{top:"auto",bottom:0,textAlign:"center",padding:0}}}))),Ga=["Print","Control","Tune","Menu"],Za=function(e){var t=e.lastMessage,a=(e.mode,e.setActiveMode,Fa()),i=Object(n.useState)("Print"),r=Object(s.a)(i,2),l=r[0],c=r[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),p=m[0],d=m[1],h={Print:o.a.createElement(na,{lastMessage:t,setDisabledNav:d}),Control:o.a.createElement(ma,{lastMessage:t}),Menu:o.a.createElement(Pa,{lastMessage:t}),Tune:o.a.createElement(Ra,{lastMessage:t})};return o.a.createElement("div",{className:"home-container"},o.a.createElement(ve.a,{position:"fixed",color:"primary",className:a.appBar,disabled:!0},o.a.createElement(De,{tabList:Ga,handleTabClick:function(e,t){c(Ga[t])},activeTab:Ga.indexOf(l),disabledNav:p})),o.a.createElement("div",{className:"component-container"},h[l]))},Ya=a(113),La=a(270),Da=a(55),Xa=a.n(Da),Ka=Object(Ya.a)({palette:{primary:{main:"#0071CE"},secondary:{main:"#CD6930"},background:{default:"#3A3A3A"},type:"dark"},overrides:{MuiTab:{root:{"&$selected":{color:"#FFFFFF","background-color":"#0055a1"},"font-weight":300}},MuiAppBar:{root:{padding:"10px"}},MuiPaper:{rounded:{"border-radius":"15px"}},MuiButton:{root:{"font-weight":300}},MuiButtonBase:{root:{"font-weight":300}},MuiIconButton:{root:{"font-weight":300}},MuiListItemText:{root:{"font-weight":300}},MuiTypography:{root:{"font-weight":300},h1:{"font-weight":300},h2:{"font-weight":300},h3:{"font-weight":300},h4:{"font-weight":300},h5:{"font-weight":300},h6:{"font-weight":300},body1:{"font-weight":300},body2:{"font-weight":300}}}}),Wa=function(){var e,t=Object(n.useState)(null),a=Object(s.a)(t,2),i=a[0],r=a[1],u=Object(n.useState)(!0),m=Object(s.a)(u,2),d=m[0],h=m[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),y=b[0],g=b[1],v=Object(n.useState)(0),w=Object(s.a)(v,2),x=w[0],E=w[1],S=Object(n.useState)(0),T=Object(s.a)(S,2),C=T[0],O=T[1],A=Object(n.useState)(0),B=Object(s.a)(A,2),z=B[0],M=B[1],N=Object(n.useState)(0),P=Object(s.a)(N,2),_=P[0],I=P[1],F=Object(n.useState)(""),G=Object(s.a)(F,2),Z=(G[0],G[1]);R((function(){g(!0),j("onboarded").then((function(e){j("userMode").then((function(t){j("networkProfile").then((function(a){j("printerName").then((function(n){"hotspot"===a&&fetch("http://".concat(window.location.hostname,":8990/hotspot/connect"),{method:"POST",headers:{"Content-Type":"application/json"}}),"wifi"===a&&fetch("http://".concat(window.location.hostname,":8990/hotspot/disconnect"),{method:"POST",headers:{"Content-Type":"application/json"}}),null===n||"300X"===n?(k("printerName","300x"),Z("300x")):Z(n),h(e),r(t)}))}))}))}))}));var Y=Object(n.useState)("ws://".concat(window.location.hostname,":9000/sockjs/718/qerksnvm/websocket")),L=Object(s.a)(Y,2),D=L[0],X=(L[1],Object(n.useRef)([])),K=Xa()(D,{shouldReconnect:function(e){return!0},reconnectAttempts:999999,reconnectInterval:0,onOpen:function(){console.log("socket opened")},onError:function(){console.log("socket error")},onClose:function(){console.log("socket closed")},onMessage:function(e){var t=JSON.parse(e.data.substring(1));if(t.length&&t.length>0&&t[0].hasOwnProperty("current")&&t[0].current.temps[0]){var a=t[0].current.temps[0];console.log("setting temps"),M(parseInt(a.tool0.actual)),E(parseInt(a.bed.actual)),I(parseInt(a.tool0.target)),O(parseInt(a.bed.target))}}}),W=K.sendMessage,U=K.lastMessage,q=K.readyState;X.current=Object(n.useMemo)((function(){try{X.current.concat(U)}catch(e){}}),[U]);var Q=(e={},Object(l.a)(e,Da.ReadyState.CONNECTING,"Connecting"),Object(l.a)(e,Da.ReadyState.OPEN,"Open"),Object(l.a)(e,Da.ReadyState.CLOSING,"Closing"),Object(l.a)(e,Da.ReadyState.CLOSED,"Closed"),Object(l.a)(e,Da.ReadyState.UNINSTANTIATED,"Uninstantiated"),e)[q];return o.a.useEffect((function(){console.log(Q),"Open"==Q&&(W('{ "auth": "E7BFE47F2DBF489B9E78A3D9D042874A" }'),W('{ "throttle": 2 }'),W('{ "current": "state" }'),g(!1))}),[Q]),o.a.createElement(La.a,{theme:Ka},o.a.createElement(Pe.Provider,{value:{bedTarget:C,bed:x,nozzleTarget:_,nozzle:z,setBedTarget:O,setNozzleTarget:I,setBed:E,setNozzle:M}},o.a.createElement(c.a,null),o.a.createElement(oa.a,{height:"100vh",display:"flex",flexDirection:"column"},d&&o.a.createElement(ve.a,{position:"sticky"},o.a.createElement(p.a,{variant:"h6",style:{textAlign:"center"}},"Printer Name: ",window.location.hostname)),y?o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:ae.a,style:{width:200,height:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% - 100px)"}}),o.a.createElement("h4",{style:{width:200,zIndex:99999999,position:"absolute",left:"calc(50% - 100px)",top:"calc(50% + 120px)",textAlign:"center"}},"Loading ...")):o.a.createElement(Za,{mode:i,lastMessage:U,setActiveMode:r}))))};Boolean("300x.local"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(Wa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a.p+"static/media/mm-print.01cf77d4.svg"},97:function(e){e.exports=JSON.parse('[{"name":"BLTouchCalibrationTest.gcode"}]')}},[[130,1,2]]]);
//# sourceMappingURL=main.d1b3312d.chunk.js.map