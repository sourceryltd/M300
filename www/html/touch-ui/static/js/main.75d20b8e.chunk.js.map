{"version":3,"sources":["components/Common/3dViewer/RenderingUtils/TransformControls.js","Utility/useMountEffect.js","components/Common/OptionCard/OptionCard.js","Utility/helpers.js","components/Setup/PrinterType/PrinterType.js","components/Setup/NetworkType/NetworkSettings.js","components/Setup/UserLevel/UserLevel.js","AppContext.js","components/Common/3dViewer/RenderingUtils/STLLoader.js","components/Common/3dViewer/FilesPanel/index.js","components/Common/3dViewer/RenderingUtils/OrbitControls.js","components/Common/3dViewer/PrintRenderer/index.js","components/Common/3dViewer/SettingsPanel/index.js","components/Common/3dViewer/RenderingUtils/ExportSTL.js","components/Common/SliceModal/index.js","components/Common/FileManager/FileManager.js","components/Menu/MenuTabs/Update.js","components/Tutorials/TutorialLayouts.js","components/Tutorials/TutorialDefinitions.js","components/Tutorials/TutorialThermometer/TutorialThermometer.js","components/Tutorials/GCodeBuilder.js","TempContext.js","components/Tutorials/Tutorial/Tutorial.js","components/Setup/NetworkType/HotspotConnect.js","components/Setup/NetworkType/WifiConnect.js","components/Setup/NetworkSelect/NetworkSelect.js","components/Setup/Setup.js","components/Common/Tabs/TabList.js","components/Print/PrintStatus/PrintStatus.js","components/Print/Print.js","components/Control/Moving/Moving.js","components/Control/Heating/Heating.js","components/Control/StepperDisable/StepperDisable.js","components/Control/Control.js","components/Menu/MenuTabs/ManageStorage.js","components/Menu/MenuTabs/Settings.js","components/Menu/MenuTabs/Tutorials.js","components/Menu/MenuTabs/ResetPrinter.js","components/Menu/MenuTabs/About.js","components/Menu/Menu.js","components/Tutorials/Tutorial/TutorialButton.js","components/Tune/Tune.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","img/mm-print.svg"],"names":["module","exports","THREE","BoxGeometry","BufferGeometry","Color","CylinderGeometry","DoubleSide","Euler","Float32BufferAttribute","Line","LineBasicMaterial","Matrix4","Mesh","MeshBasicMaterial","Object3D","OctahedronGeometry","PlaneGeometry","Quaternion","Raycaster","SphereGeometry","TorusGeometry","Vector3","TransformControls","camera","domElement","undefined","console","warn","document","call","this","visible","_gizmo","TransformControlsGizmo","add","_plane","TransformControlsPlane","scope","defineProperty","changeEvent","type","mouseDownEvent","mouseUpEvent","mode","objectChangeEvent","raycaster","intersectObjectWithRay","object","includeInvisible","allIntersections","intersectObject","i","length","_tempVector","_tempVector2","_tempQuaternion","_unit","X","Y","Z","pointStart","pointEnd","offset","rotationAxis","startNorm","endNorm","rotationAngle","cameraPosition","cameraQuaternion","cameraScale","parentPosition","parentQuaternion","parentQuaternionInv","parentScale","worldPositionStart","worldQuaternionStart","worldScaleStart","worldPosition","worldQuaternion","worldQuaternionInv","worldScale","eye","positionStart","quaternionStart","scaleStart","propName","defaultValue","propValue","Object","get","set","value","dispatchEvent","getPointer","event","ownerDocument","pointerLockElement","x","y","button","pointer","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","onPointerHover","enabled","pointerType","pointerHover","onPointerDown","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","onPointerUp","removeEventListener","pointerUp","dispose","traverse","child","geometry","material","attach","detach","axis","updateMatrixWorld","parent","error","matrixWorld","decompose","copy","invert","sub","normalize","prototype","dragging","setFromCamera","intersect","picker","name","planeIntersect","space","snap","rotationSnap","rotation","Math","round","z","position","quaternion","scale","point","applyQuaternion","indexOf","divide","translationSnap","search","setFromMatrixPosition","d","dot","multiply","scaleSnap","ROTATION_SPEED","distanceTo","angleTo","cross","setFromAxisAngle","getMode","setMode","setTranslationSnap","setRotationSnap","setScaleSnap","setSize","size","setSpace","update","assign","create","constructor","isTransformControls","gizmoMaterial","depthTest","depthWrite","transparent","side","fog","toneMapped","gizmoLineMaterial","linewidth","matInvisible","clone","opacity","matHelper","matRed","color","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","scaleHandleGeometry","lineGeometry","setAttribute","CircleGeometry","radius","arc","vertices","push","cos","PI","sin","gizmoTranslate","XYZ","XY","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","gizmo","tag","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","tempVector","tempEuler","alignVector","zeroVector","lookAtMatrix","tempQuaternion","tempQuaternion2","identityQuaternion","unitX","unitY","unitZ","helper","handles","concat","children","factor","handle","isOrthographicCamera","bottom","zoom","min","tan","fov","multiplyScalar","abs","setFromRotationMatrix","lookAt","atan2","multiplyQuaternions","showX","showY","showZ","_opacity","_color","split","some","a","lerp","setFromEuler","isTransformControlsGizmo","wireframe","dirVector","tempMatrix","isTransformControlsPlane","useMountEffect","fun","useEffect","useStyles","makeStyles","card","margin","border","textAlign","OptionCard","title","description","onClick","classes","Card","className","CardActionArea","CardContent","Typography","variant","formatBytes","bytes","decimals","k","dm","sizes","floor","log","parseFloat","pow","toFixed","storage","requestCount","setRequestCount","fillStorage","getSettings","then","data","setStorage","key","val","formData","FormData","append","JSON","stringify","postSettings","getStorage","resetStorage","storageReset","response","fetch","method","json","settings","obj","keys","forEach","body","header","fontSize","PrinterType","setStep","handleClick","backdrop","zIndex","buttonContainer","display","justifyContent","marginTop","connecting","flexDirection","alignItems","marginBottom","container","item","padding","props","settingsScreen","keyboard","right","NetworkSettings","setShowSnack","setSnackMessage","useState","expanded","setExpanded","layout","setLayout","input","setInput","setConnecting","rebootRequired","setRebootRequired","useRef","printerName","setPrinterName","keyBoardOff","handleSubmit","host_name","hostname","action","lastHostname","ssid_name","ssid","headers","status","includes","setTimeout","Grid","spacing","direction","paddingTop","xs","TextField","id","label","onFocus","onChange","target","current","Button","aria-label","endIcon","ArrowForward","Backdrop","open","CircularProgress","keyboardRef","r","layoutName","default","shift","symbol","number","onKeyPress","UserLevel","handleOnboarding","AppContext","React","createContext","camRotation","camZoom","camZ","showMagnet","showBounds","showGrid","addRotation","deg","setZoom","addZ","setShowMagnet","setShowBounds","setShowGrid","STLLoader","manager","url","onLoad","onProgress","onError","loader","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","text","parse","e","itemError","matchDataViewAt","query","reader","il","getUint8","buffer","binData","array_buffer","Uint8Array","charCodeAt","ensureBinary","DataView","getUint32","byteLength","solid","off","isBinary","g","b","colors","defaultR","defaultG","defaultB","alpha","faces","hasColors","index","Float32Array","normals","face","start","normalX","getFloat32","normalY","normalZ","packedColor","getUint16","vertexstart","componentIdx","parseBinary","result","patternSolid","patternFace","faceCounter","patternFloat","source","patternVertex","RegExp","patternNormal","normal","groupCount","startVertex","endVertex","exec","vertexCountPerFace","normalCountPerFace","count","addGroup","parseASCII","decodeText","fileName","blob","FilesPanel","context","useContext","stl","listOpen","setListOpen","fileList","setFileList","getFile","file","File","Consumer","Accordion","AccordionSummary","expandIcon","ExpandMore","aria-controls","AccordionDetails","List","map","currentFile","ListItem","selected","selectedFile","setSelectedFile","handleListItemClick","backgroundColor","ListItemIcon","Checkbox","checked","idx","objRoot","mesh","control","swapTrasformTool","inputProps","ListItemText","primary","OrbitControls","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","listenToKeyEvents","onKeyDown","saveState","reset","updateProjectionMatrix","state","STATE","NONE","quat","setFromUnitVectors","up","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","sphericalDelta","max","isFinite","makeSafe","addScaledVector","panOffset","setFromSpherical","zoomChanged","distanceToSquared","EPS","onContextMenu","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","mouseAction","preventDefault","focus","window","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","handleMouseWheel","needsUpdate","code","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","EventDispatcher","MapControls","require","PrintRenderer","posRotScale","setTransformValue","canvas","createRef","canvasBg","rotationTarget","lastTime","renderer","scene","cameraHelper","cameraPivot","zTarget","gridObj","magnetObj","planeObj","boundsObj","showMagnetBed","viewControls","nextProps","nextState","assignCanvas","parentElement","initCanvas","background","Interaction","gpMesh","magTexture","magMesh","moveTo","lineTo","pathMesh","setFromPoints","getPoints","grid","buildGeometry","buildEdges","buildLines","cameraControl","setFileName","geo","mat","specular","shininess","center","setFromObject","getSize","on","ev","setModifiedStl","FileReader","contents","sourceType","sourceFile","castShadow","receiveShadow","readAsBinaryString","matchCount","intersects","intersectedPlane","setControl","setScene","setCamera","setObjRoot","renderFrame","requestAnimationFrame","bind","render","err","ButtonGroup","orientation","transformValue","OpenInNew","OpenWith","Loop","ref","Component","contextType","SettingsPanel","settingsOpen","setSettingsOpen","FormControl","component","FormGroup","FormControlLabel","Switch","STLExporter","options","output","binary","objects","triangles","isMesh","isBufferGeometry","Error","positionAttribute","getAttribute","object3d","arrayBuffer","ArrayBuffer","setUint32","vA","vB","vC","cb","ab","j","writeFace","getX","c","fromBufferAttribute","isSkinnedMesh","boneTransform","setFloat32","writeNormal","writeVertex","setUint16","vertex","setProfileSettings","slicer","metadata","preferred_quality_type","setChildSettings","resolution","layer_height","speed","speed_print","speed_infill","speed_wall","speed_wall_0","speed_wall_x","travel","retraction_enable","default_material_print_temperature","material_print_temperature","material_print_temperature_layer_0","material_initial_print_temperature","material_final_print_temperature","default_material_bed_temperature","material_bed_temperature","setHeadTemp","temp","setBedTemp","setInfillType","infill","infill_pattern","default_value","setFlowRate","rate","material_flow","setStickType","platform_adhesion","adhesion_type","setSpeed","pace","setStructure","struct","support","support_structure","setSupportType","support_pattern","setting","hasOwnProperty","property","traverseChildSettings","setInfillLineDistance","percent_density","infill_sparse_density","infill_line_distance","multiplier","setInfillMultiplier","infillLineDistance","line_width","infill_line_width","getStlGroupName","meshes","match","slice","SliceModal","shown","loading","filament","quality","infill_type","flow","stick_type","nozzle","bed","supports","vase","structure","support_type","modifiedStl","drawerOpen","slicerOpen","savedFile","stlName","userMode","fillMode","infill_patterns","stick_patterns","skirt","structures","support_types","defaultSettings","setState","onboardSettings","startPrint","profile_type","support_enable","blackmagic","magic_spiralize","exporter","stlString","Blob","groupedStlName","buildFileName","realFile","onClose","handleFileSaveOpen","onFailure","sliceModal","Modal","disableBackdropClick","settingsBack","autoFocus","ArrowBack","Fab","settingsDrawer","Cancel","mainContainer","Provider","Drawer","anchor","paper","drawerContainer","justify","formControl","InputLabel","Select","labelId","MenuItem","InputLabelProps","shrink","maxLength","helperText","entries","pattern","row","setSliceAndStartPrint","alt","src","imgPrint","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","okButton","withStyles","theme","minWidth","slider","paddingRight","marginRight","modal","transform","modalContainer","printButton","alignSelf","sliceDropdown","borderRadius","maxWidth","marginLeft","summary","cursor","palette","secondary","main","hover","fontWeight","fileContainer","maxHeight","overflow","fileLocation","icon","failOkButton","isFolder","filename","fileTypes","endsWith","getFolderOnlyPath","o","p","FileManager","setDrawerOpen","manage","setShowZip","showZip","showSnack","snackMessage","handleSnackClose","setCheckDisabled","setText","machineName","setRebootText","setSelected","setLoading","files","setFiles","rootFiles","setRootFiles","storageUsed","setStorageUsed","storageFree","setStorageFree","storageTotal","setStorageTotal","directories","setDirectories","currentDirectory","setCurrentDirectory","showModal","setShowModal","setShowTooltip","setOpen","retryCount","setRetryCount","handleClose","location","reload","getFiles","free","total","fileTree","Array","reduce","prevDir","currDir","filePath","Treeify","handleZipCheck","checkUpdates","updated","attemptReboot","catch","resetFiles","newFiles","AppBar","toUpperCase","IconButton","Close","Container","directory","fileKeys","fileIdx","pop","getFileDirectory","folder","Folder","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","protectedFiles","isFileProtected","DeleteForever","Slideshow","FolderOpen","test","SystemUpdateAlt","Layers","disabled","selected_file","handleSelect","Snackbar","autoHideDuration","message","checker","flex","updateButton","updateContainer","zipContainer","Update","autoCheck","firstBoot","fastTrackUpdate","setFastTrackUpdate","checking","setChecking","releaseNotes","setReleaseNotes","rebootMessage","setRebootMessage","updateChecked","setUpdateChecked","updates","setUpdates","checkDisabled","offline","setOffline","rebootText","handleCheck","checkOnline","online","dangerouslySetInnerHTML","__html","replace","downloadUpdates","TutorialLayouts","ButtonSingle","AxisManipulation","ButtonMulti","ThermalGate","DualThermalGate","TutorialDefinitions","firstRun","userVisable","exitActions","params","steps","buttonText","buttonActions","axisX","axisY","axisZ","buttons","minimumTemp","gateText","minimumExtruderTemp","minimumBedTemp","blTouchCalibration","image","bedLevelCornerCalibration","loadFilament","unloadFilament","printTestCube","TutorialThermometer","GCodeBuilder","_actions","retString","command","GSetZProbeOffset","GMoveToOrigin","GSetSoftwareEndstops","GLinearMove","doX","doY","doZ","xPos","yPos","zPos","TempContext","bedTarget","nozzleTarget","zOffset","setBedTarget","setNozzleTarget","setBed","setNozzle","steppersEnabled","setSteppersEnabled","setZOffset","Tutorial","evTutorialClose","onTutorialClose","tutorialId","tutorialName","tutorialReady","currentStep","exitWarning","unit","delay","tutorial","offsetRequested","attemptGetZOffset","prevProps","processButtonActions","reason","amount","toLowerCase","newOffset","codeBuilder","addCommand","sendGcode","build","GSetBedTemp","GSetExtruderTemp","attemptAbsolute","GExtrude","find","gcode","actions","currentState","actionContinue","attemptHome","attemptBlLevel","attemptXYMoveTo","actionJumpTo","attemptSaveZOffset","attemptSetExtruderTemp","attemptSetBedTemp","attemptTestPrint","attemptZOffsetStart","step","tutorialWindow","tutorialContainer","tutorialHeading","tutorialCloseButton","attemptCloseTutorial","CloseSharp","renderTutorialPage","attemptExitActions","alignContent","layoutSingleGrid","layoutSingleGridText","textSegment","tutorialText","layoutSingleGridButton","tutorialButton","tutorialButtonPressed","layoutSingleGridAxisControl","renderAxisControl","layoutSingleGridThermalControl","thermoLabel","btnContainer","Paper","Tabs","tabs","u","Tab","attemptAxisMove","ArrowUpward","ArrowDownward","float","paddingLeft","flexGrow","layoutSingleGridTop","axisButton","textTransform","centerBtns","HotspotConnect","setConnectWifi","setNetworkData","accordion","wifiList","WifiConnect","onGoBack","setStage","wifiArr","setWifiArr","maskPassword","setMaskPassword","showError","setShowError","errorMessage","setErrorMessage","reboot","setReboot","failed","setFailed","listNetworks","getNetworks","networks","filter","pos","arr","mapObj","setNetwork","password","network","passwordToggle","onChangeInput","content","panel","InputProps","endAdornment","InputAdornment","rebootPrinter","doReboot","NetworkSelect","stage","enableInternet","selectedInterface","enableHotspot","setNewType","connect","address","callback","renderHeader","Language","SettingsInputHdmi","currentContext","complete","SettingsRemote","ip","hostName","welcome","Setup","TabList","tabList","handleTabClick","activeTab","disabledNav","centered","tab","toHHMMSS","secs","sec_num","parseInt","join","BorderLinearProgress","root","colorPrimary","bar","LinearProgress","PrintStatus","lastMessage","progressState","setDisabledNav","statusText","paused","setPaused","setValue","elapsed","setElapsed","remaining","setRemaining","waiting","setWaiting","completion","printTime","printTimeLeft","flags","startIcon","PlayArrow","Pause","Stop","textCenter","cardContent","Print","extruder","connected","feed","printing","progress","printState","setPrintState","jobState","setJobState","setProgressState","fileDrawerOpen","setFileDrawerOpen","setFileLocation","runout","setRunout","fetchFiles","substring","job","plugin","filamentStatus","units","Moving","nozzleTemp","setUnit","heatingDialog","setHeatingDialog","setDelay","homeAxis","moveAxis","negative","Box","gauges","nozzleSlider","tempOutputs","Heating","Slider","newVal","onChangeCommitted","getAriaValueText","valueLabelDisplay","StepperDisable","DisableButton","PowerOff","disableMotors","EnableButton","Power","enableMotors","Control","setPosition","setNozzleTemp","temps","tool0","actual","payload","componentContainer","ManageStorage","networkOptions","wifi","Wifi","hotspot","WifiTethering","ethernet","SettingsEthernet","none","SignalCellularNull","Settings","networkExpanded","setNetworkExpanded","networkType","setNetworkType","printerMode","setPrinterMode","setUserMode","displaySSID","setDisplaySSID","allowPrerelease","setAllowPrerelease","allowAutoUpdate","setAllowAutoUpdate","networkData","networkProfile","subheader","ListSubheader","prev","ListItemSecondaryAction","CastConnected","SettingsInputAntenna","option","handleNetworkToggle","LocalLibrary","native","MenuProps","anchorOrigin","vertical","horizontal","getContentAnchorEl","Class","edge","checkedValue","Tutorials","currentTutorial","selectTutorial","getOwnPropertyNames","tutName","tutorialCard","showClose","closeTutorial","ResetPrinter","newSettings","About","checkUpdateInfo","success","update_info","Save","packageJson","version","reverse","Menu","activeComponent","setActiveComponent","updateItem","MenuArray","handleDrawer","Fragment","Divider","TutorialButton","tutorialShown","extruderTemp","bedTemp","Tune","setExtruder","appBar","Home","setActiveMode","setActiveTab","newVersionTitle","setNewVersionTitle","onlineData","updateData","messages","values","offsetIgnoreZ","Components","createMuiTheme","overrides","MuiAppBar","MuiTab","MuiPaper","rounded","MuiButton","MuiButtonBase","MuiIconButton","MuiListItemText","MuiDialogActions","MuiTypography","h1","h2","h3","h4","h5","h6","body1","body2","App","onboarded","setOnboarded","bedTargetTemp","setBedTargetTemp","nozzleTargetTemp","setNozzleTargetTemp","setMachineName","errorDialog","setErrorDialog","errorTitle","setErrorTitle","socketUrl","messageHistory","useWebSocket","shouldReconnect","closeEvent","reconnectAttempts","reconnectInterval","onOpen","onMessage","msg","sendMessage","readyState","useMemo","connectionStatus","ReadyState","CONNECTING","OPEN","CLOSING","CLOSED","UNINSTANTIATED","CssBaseline","Boolean","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.75d20b8e.chunk.js","sourcesContent":["/**\n * @author arodic / https://github.com/arodic\n */\nmodule.exports = function (THREE) {\n\n\tconst BoxGeometry = THREE.BoxGeometry;\n\tconst BufferGeometry = THREE.BufferGeometry;\n\tconst Color = THREE.Color;\n\tconst CylinderGeometry = THREE.CylinderGeometry;\n\tconst DoubleSide = THREE.DoubleSide;\n\tconst Euler = THREE.Euler;\n\tconst Float32BufferAttribute = THREE.Float32BufferAttribute;\n\tconst Line = THREE.Line;\n\tconst LineBasicMaterial = THREE.LineBasicMaterial;\n\tconst Matrix4 = THREE.Matrix4;\n\tconst Mesh = THREE.Mesh;\n\tconst MeshBasicMaterial = THREE.MeshBasicMaterial;\n\tconst Object3D = THREE.Object3D;\n\tconst OctahedronGeometry = THREE.OctahedronGeometry;\n\tconst PlaneGeometry = THREE.PlaneGeometry;\n\tconst Quaternion = THREE.Quaternion;\n\tconst Raycaster = THREE.Raycaster;\n\tconst SphereGeometry = THREE.SphereGeometry;\n\tconst TorusGeometry = THREE.TorusGeometry;\n\tconst Vector3 = THREE.Vector3;\n\n\tvar TransformControls = function ( camera, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tObject3D.call( this );\n\n\t\tthis.visible = false;\n\t\tthis.domElement = domElement;\n\n\t\tvar _gizmo = new TransformControlsGizmo();\n\t\tthis.add( _gizmo );\n\n\t\tvar _plane = new TransformControlsPlane();\n\t\tthis.add( _plane );\n\n\t\tvar scope = this;\n\n\t\t// Define properties with getters/setter\n\t\t// Setting the defined property will automatically trigger change event\n\t\t// Defined properties are passed down to gizmo and plane\n\n\t\tdefineProperty( 'camera', camera );\n\t\tdefineProperty( 'object', undefined );\n\t\tdefineProperty( 'enabled', true );\n\t\tdefineProperty( 'axis', null );\n\t\tdefineProperty( 'mode', 'translate' );\n\t\tdefineProperty( 'translationSnap', null );\n\t\tdefineProperty( 'rotationSnap', null );\n\t\tdefineProperty( 'scaleSnap', null );\n\t\tdefineProperty( 'space', 'world' );\n\t\tdefineProperty( 'size', 1 );\n\t\tdefineProperty( 'dragging', false );\n\t\tdefineProperty( 'showX', true );\n\t\tdefineProperty( 'showY', true );\n\t\tdefineProperty( 'showZ', true );\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar mouseDownEvent = { type: 'mouseDown' };\n\t\tvar mouseUpEvent = { type: 'mouseUp', mode: scope.mode };\n\t\tvar objectChangeEvent = { type: 'objectChange' };\n\n\t\t// Reusable utility variables\n\n\t\tvar raycaster = new Raycaster();\n\n\t\tfunction intersectObjectWithRay( object, raycaster, includeInvisible ) {\n\n\t\t\tvar allIntersections = raycaster.intersectObject( object, true );\n\n\t\t\tfor ( var i = 0; i < allIntersections.length; i ++ ) {\n\n\t\t\t\tif ( allIntersections[ i ].object.visible || includeInvisible ) {\n\n\t\t\t\t\treturn allIntersections[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tvar _tempVector = new Vector3();\n\t\tvar _tempVector2 = new Vector3();\n\t\tvar _tempQuaternion = new Quaternion();\n\t\tvar _unit = {\n\t\t\tX: new Vector3( 1, 0, 0 ),\n\t\t\tY: new Vector3( 0, 1, 0 ),\n\t\t\tZ: new Vector3( 0, 0, 1 )\n\t\t};\n\n\t\tvar pointStart = new Vector3();\n\t\tvar pointEnd = new Vector3();\n\t\tvar offset = new Vector3();\n\t\tvar rotationAxis = new Vector3();\n\t\tvar startNorm = new Vector3();\n\t\tvar endNorm = new Vector3();\n\t\tvar rotationAngle = 0;\n\n\t\tvar cameraPosition = new Vector3();\n\t\tvar cameraQuaternion = new Quaternion();\n\t\tvar cameraScale = new Vector3();\n\n\t\tvar parentPosition = new Vector3();\n\t\tvar parentQuaternion = new Quaternion();\n\t\tvar parentQuaternionInv = new Quaternion();\n\t\tvar parentScale = new Vector3();\n\n\t\tvar worldPositionStart = new Vector3();\n\t\tvar worldQuaternionStart = new Quaternion();\n\t\tvar worldScaleStart = new Vector3();\n\n\t\tvar worldPosition = new Vector3();\n\t\tvar worldQuaternion = new Quaternion();\n\t\tvar worldQuaternionInv = new Quaternion();\n\t\tvar worldScale = new Vector3();\n\n\t\tvar eye = new Vector3();\n\n\t\tvar positionStart = new Vector3();\n\t\tvar quaternionStart = new Quaternion();\n\t\tvar scaleStart = new Vector3();\n\n\t\t// TODO: remove properties unused in plane and gizmo\n\n\t\tdefineProperty( 'worldPosition', worldPosition );\n\t\tdefineProperty( 'worldPositionStart', worldPositionStart );\n\t\tdefineProperty( 'worldQuaternion', worldQuaternion );\n\t\tdefineProperty( 'worldQuaternionStart', worldQuaternionStart );\n\t\tdefineProperty( 'cameraPosition', cameraPosition );\n\t\tdefineProperty( 'cameraQuaternion', cameraQuaternion );\n\t\tdefineProperty( 'pointStart', pointStart );\n\t\tdefineProperty( 'pointEnd', pointEnd );\n\t\tdefineProperty( 'rotationAxis', rotationAxis );\n\t\tdefineProperty( 'rotationAngle', rotationAngle );\n\t\tdefineProperty( 'eye', eye );\n\n\t\t{\n\n\t\t\tdomElement.addEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.addEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t}\n\n\t\tthis.dispose = function () {\n\n\t\t\tdomElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tdomElement.removeEventListener( 'pointermove', onPointerHover );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tthis.traverse( function ( child ) {\n\n\t\t\t\tif ( child.geometry ) child.geometry.dispose();\n\t\t\t\tif ( child.material ) child.material.dispose();\n\n\t\t\t} );\n\n\t\t};\n\n\t\t// Set current object\n\t\tthis.attach = function ( object ) {\n\n\t\t\tthis.object = object;\n\t\t\tthis.visible = true;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Detatch from object\n\t\tthis.detach = function () {\n\n\t\t\tthis.object = undefined;\n\t\t\tthis.visible = false;\n\t\t\tthis.axis = null;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\t// Defined getter, setter and store for a property\n\t\tfunction defineProperty( propName, defaultValue ) {\n\n\t\t\tvar propValue = defaultValue;\n\n\t\t\tObject.defineProperty( scope, propName, {\n\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn propValue !== undefined ? propValue : defaultValue;\n\n\t\t\t\t},\n\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tif ( propValue !== value ) {\n\n\t\t\t\t\t\tpropValue = value;\n\t\t\t\t\t\t_plane[ propName ] = value;\n\t\t\t\t\t\t_gizmo[ propName ] = value;\n\n\t\t\t\t\t\tscope.dispatchEvent( { type: propName + '-changed', value: value } );\n\t\t\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tscope[ propName ] = defaultValue;\n\t\t\t_plane[ propName ] = defaultValue;\n\t\t\t_gizmo[ propName ] = defaultValue;\n\n\t\t}\n\n\t\t// updateMatrixWorld  updates key transformation variables\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tif ( this.object !== undefined ) {\n\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tif ( this.object.parent === null ) {\n\n\t\t\t\t\tconsole.error( 'TransformControls: The attached 3D object must be a part of the scene graph.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.object.parent.matrixWorld.decompose( parentPosition, parentQuaternion, parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tthis.object.matrixWorld.decompose( worldPosition, worldQuaternion, worldScale );\n\n\t\t\t\tparentQuaternionInv.copy( parentQuaternion ).invert();\n\t\t\t\tworldQuaternionInv.copy( worldQuaternion ).invert();\n\n\t\t\t}\n\n\t\t\tthis.camera.updateMatrixWorld();\n\t\t\tthis.camera.matrixWorld.decompose( cameraPosition, cameraQuaternion, cameraScale );\n\n\t\t\teye.copy( cameraPosition ).sub( worldPosition ).normalize();\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t\tthis.pointerHover = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar intersect = intersectObjectWithRay( _gizmo.picker[ this.mode ], raycaster );\n\n\t\t\tif ( intersect ) {\n\n\t\t\t\tthis.axis = intersect.object.name;\n\n\t\t\t} else {\n\n\t\t\t\tthis.axis = null;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerDown = function ( pointer ) {\n\n\t\t\tif ( this.object === undefined || this.dragging === true || pointer.button !== 0 ) return;\n\n\t\t\tif ( this.axis !== null ) {\n\n\t\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\t\tif ( planeIntersect ) {\n\n\t\t\t\t\tvar space = this.space;\n\n\t\t\t\t\tif ( this.mode === 'scale' ) {\n\n\t\t\t\t\t\tspace = 'local';\n\n\t\t\t\t\t} else if ( this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ' ) {\n\n\t\t\t\t\t\tspace = 'world';\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'local' && this.mode === 'rotate' ) {\n\n\t\t\t\t\t\tvar snap = this.rotationSnap;\n\n\t\t\t\t\t\tif ( this.axis === 'X' && snap ) this.object.rotation.x = Math.round( this.object.rotation.x / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Y' && snap ) this.object.rotation.y = Math.round( this.object.rotation.y / snap ) * snap;\n\t\t\t\t\t\tif ( this.axis === 'Z' && snap ) this.object.rotation.z = Math.round( this.object.rotation.z / snap ) * snap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.object.updateMatrixWorld();\n\t\t\t\t\tthis.object.parent.updateMatrixWorld();\n\n\t\t\t\t\tpositionStart.copy( this.object.position );\n\t\t\t\t\tquaternionStart.copy( this.object.quaternion );\n\t\t\t\t\tscaleStart.copy( this.object.scale );\n\n\t\t\t\t\tthis.object.matrixWorld.decompose( worldPositionStart, worldQuaternionStart, worldScaleStart );\n\n\t\t\t\t\tpointStart.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\t\t}\n\n\t\t\t\tthis.dragging = true;\n\t\t\t\tmouseDownEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseDownEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.pointerMove = function ( pointer ) {\n\n\t\t\tvar axis = this.axis;\n\t\t\tvar mode = this.mode;\n\t\t\tvar object = this.object;\n\t\t\tvar space = this.space;\n\n\t\t\tif ( mode === 'scale' ) {\n\n\t\t\t\tspace = 'local';\n\n\t\t\t} else if ( axis === 'E' || axis === 'XYZE' || axis === 'XYZ' ) {\n\n\t\t\t\tspace = 'world';\n\n\t\t\t}\n\n\t\t\tif ( object === undefined || axis === null || this.dragging === false || pointer.button !== - 1 ) return;\n\n\t\t\traycaster.setFromCamera( pointer, this.camera );\n\n\t\t\tvar planeIntersect = intersectObjectWithRay( _plane, raycaster, true );\n\n\t\t\tif ( ! planeIntersect ) return;\n\n\t\t\tpointEnd.copy( planeIntersect.point ).sub( worldPositionStart );\n\n\t\t\tif ( mode === 'translate' ) {\n\n\t\t\t\t// Apply translate\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t}\n\n\t\t\t\tif ( axis.indexOf( 'X' ) === - 1 ) offset.x = 0;\n\t\t\t\tif ( axis.indexOf( 'Y' ) === - 1 ) offset.y = 0;\n\t\t\t\tif ( axis.indexOf( 'Z' ) === - 1 ) offset.z = 0;\n\n\t\t\t\tif ( space === 'local' && axis !== 'XYZ' ) {\n\n\t\t\t\t\toffset.applyQuaternion( quaternionStart ).divide( parentScale );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset.applyQuaternion( parentQuaternionInv ).divide( parentScale );\n\n\t\t\t\t}\n\n\t\t\t\tobject.position.copy( offset ).add( positionStart );\n\n\t\t\t\t// Apply translation snap\n\n\t\t\t\tif ( this.translationSnap ) {\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\tobject.position.applyQuaternion( _tempQuaternion.copy( quaternionStart ).invert() );\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject.position.applyQuaternion( quaternionStart );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( space === 'world' ) {\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.add( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.x = Math.round( object.position.x / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.y = Math.round( object.position.y / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\t\tobject.position.z = Math.round( object.position.z / this.translationSnap ) * this.translationSnap;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( object.parent ) {\n\n\t\t\t\t\t\t\tobject.position.sub( _tempVector.setFromMatrixPosition( object.parent.matrixWorld ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'scale' ) {\n\n\t\t\t\tif ( axis.search( 'XYZ' ) !== - 1 ) {\n\n\t\t\t\t\tvar d = pointEnd.length() / pointStart.length();\n\n\t\t\t\t\tif ( pointEnd.dot( pointStart ) < 0 ) d *= - 1;\n\n\t\t\t\t\t_tempVector2.set( d, d, d );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_tempVector.copy( pointStart );\n\t\t\t\t\t_tempVector2.copy( pointEnd );\n\n\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternionInv );\n\t\t\t\t\t_tempVector2.applyQuaternion( worldQuaternionInv );\n\n\t\t\t\t\t_tempVector2.divide( _tempVector );\n\n\t\t\t\t\tif ( axis.search( 'X' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.x = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.y = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) === - 1 ) {\n\n\t\t\t\t\t\t_tempVector2.z = 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Apply scale\n\n\t\t\t\tobject.scale.copy( scaleStart ).multiply( _tempVector2 );\n\n\t\t\t\tif ( this.scaleSnap ) {\n\n\t\t\t\t\tif ( axis.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.x = Math.round( object.scale.x / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.y = Math.round( object.scale.y / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( axis.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tobject.scale.z = Math.round( object.scale.z / this.scaleSnap ) * this.scaleSnap || this.scaleSnap;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( mode === 'rotate' ) {\n\n\t\t\t\toffset.copy( pointEnd ).sub( pointStart );\n\n\t\t\t\tvar ROTATION_SPEED = 20 / worldPosition.distanceTo( _tempVector.setFromMatrixPosition( this.camera.matrixWorld ) );\n\n\t\t\t\tif ( axis === 'E' ) {\n\n\t\t\t\t\trotationAxis.copy( eye );\n\t\t\t\t\trotationAngle = pointEnd.angleTo( pointStart );\n\n\t\t\t\t\tstartNorm.copy( pointStart ).normalize();\n\t\t\t\t\tendNorm.copy( pointEnd ).normalize();\n\n\t\t\t\t\trotationAngle *= ( endNorm.cross( startNorm ).dot( eye ) < 0 ? 1 : - 1 );\n\n\t\t\t\t} else if ( axis === 'XYZE' ) {\n\n\t\t\t\t\trotationAxis.copy( offset ).cross( eye ).normalize();\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.copy( rotationAxis ).cross( this.eye ) ) * ROTATION_SPEED;\n\n\t\t\t\t} else if ( axis === 'X' || axis === 'Y' || axis === 'Z' ) {\n\n\t\t\t\t\trotationAxis.copy( _unit[ axis ] );\n\n\t\t\t\t\t_tempVector.copy( _unit[ axis ] );\n\n\t\t\t\t\tif ( space === 'local' ) {\n\n\t\t\t\t\t\t_tempVector.applyQuaternion( worldQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\trotationAngle = offset.dot( _tempVector.cross( eye ).normalize() ) * ROTATION_SPEED;\n\n\t\t\t\t}\n\n\t\t\t\t// Apply rotation snap\n\n\t\t\t\tif ( this.rotationSnap ) rotationAngle = Math.round( rotationAngle / this.rotationSnap ) * this.rotationSnap;\n\n\t\t\t\tthis.rotationAngle = rotationAngle;\n\n\t\t\t\t// Apply rotate\n\t\t\t\tif ( space === 'local' && axis !== 'E' && axis !== 'XYZE' ) {\n\n\t\t\t\t\tobject.quaternion.copy( quaternionStart );\n\t\t\t\t\tobject.quaternion.multiply( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) ).normalize();\n\n\t\t\t\t} else {\n\n\t\t\t\t\trotationAxis.applyQuaternion( parentQuaternionInv );\n\t\t\t\t\tobject.quaternion.copy( _tempQuaternion.setFromAxisAngle( rotationAxis, rotationAngle ) );\n\t\t\t\t\tobject.quaternion.multiply( quaternionStart ).normalize();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.dispatchEvent( changeEvent );\n\t\t\tthis.dispatchEvent( objectChangeEvent );\n\n\t\t};\n\n\t\tthis.pointerUp = function ( pointer ) {\n\n\t\t\tif ( pointer.button !== 0 ) return;\n\n\t\t\tif ( this.dragging && ( this.axis !== null ) ) {\n\n\t\t\t\tmouseUpEvent.mode = this.mode;\n\t\t\t\tthis.dispatchEvent( mouseUpEvent );\n\n\t\t\t}\n\n\t\t\tthis.dragging = false;\n\t\t\tthis.axis = null;\n\n\t\t};\n\n\t\t// normalize mouse / touch pointer and remap {x,y} to view space.\n\n\t\tfunction getPointer( event ) {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement ) {\n\n\t\t\t\treturn {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tvar pointer = event.changedTouches ? event.changedTouches[ 0 ] : event;\n\n\t\t\t\tvar rect = domElement.getBoundingClientRect();\n\n\t\t\t\treturn {\n\t\t\t\t\tx: ( pointer.clientX - rect.left ) / rect.width * 2 - 1,\n\t\t\t\t\ty: - ( pointer.clientY - rect.top ) / rect.height * 2 + 1,\n\t\t\t\t\tbutton: event.button\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t// mouse / touch event handlers\n\n\t\tfunction onPointerHover( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = 'none'; // disable touch scroll\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerHover( getPointer( event ) );\n\t\t\tscope.pointerDown( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.pointerMove( getPointer( event ) );\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tif ( ! scope.enabled ) return;\n\n\t\t\tscope.domElement.style.touchAction = '';\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\n\t\t\tscope.pointerUp( getPointer( event ) );\n\n\t\t}\n\n\t\t// TODO: deprecate\n\n\t\tthis.getMode = function () {\n\n\t\t\treturn scope.mode;\n\n\t\t};\n\n\t\tthis.setMode = function ( mode ) {\n\n\t\t\tscope.mode = mode;\n\n\t\t};\n\n\t\tthis.setTranslationSnap = function ( translationSnap ) {\n\n\t\t\tscope.translationSnap = translationSnap;\n\n\t\t};\n\n\t\tthis.setRotationSnap = function ( rotationSnap ) {\n\n\t\t\tscope.rotationSnap = rotationSnap;\n\n\t\t};\n\n\t\tthis.setScaleSnap = function ( scaleSnap ) {\n\n\t\t\tscope.scaleSnap = scaleSnap;\n\n\t\t};\n\n\t\tthis.setSize = function ( size ) {\n\n\t\t\tscope.size = size;\n\n\t\t};\n\n\t\tthis.setSpace = function ( space ) {\n\n\t\t\tscope.space = space;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconsole.warn( 'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.' );\n\n\t\t};\n\n\t};\n\n\tTransformControls.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControls,\n\n\t\tisTransformControls: true\n\n\t} );\n\n\n\tvar TransformControlsGizmo = function () {\n\n\t\t'use strict';\n\n\t\tObject3D.call( this );\n\n\t\tthis.type = 'TransformControlsGizmo';\n\n\t\t// shared materials\n\n\t\tvar gizmoMaterial = new MeshBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tside: DoubleSide,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\tvar gizmoLineMaterial = new LineBasicMaterial( {\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false,\n\t\t\ttransparent: true,\n\t\t\tlinewidth: 1,\n\t\t\tfog: false,\n\t\t\ttoneMapped: false\n\t\t} );\n\n\t\t// Make unique material for each axis/color\n\n\t\tvar matInvisible = gizmoMaterial.clone();\n\t\tmatInvisible.opacity = 0.15;\n\n\t\tvar matHelper = gizmoMaterial.clone();\n\t\tmatHelper.opacity = 0.33;\n\n\t\tvar matRed = gizmoMaterial.clone();\n\t\tmatRed.color.set( 0xff0000 );\n\n\t\tvar matGreen = gizmoMaterial.clone();\n\t\tmatGreen.color.set( 0x00ff00 );\n\n\t\tvar matBlue = gizmoMaterial.clone();\n\t\tmatBlue.color.set( 0x0000ff );\n\n\t\tvar matWhiteTransparent = gizmoMaterial.clone();\n\t\tmatWhiteTransparent.opacity = 0.25;\n\n\t\tvar matYellowTransparent = matWhiteTransparent.clone();\n\t\tmatYellowTransparent.color.set( 0xffff00 );\n\n\t\tvar matCyanTransparent = matWhiteTransparent.clone();\n\t\tmatCyanTransparent.color.set( 0x00ffff );\n\n\t\tvar matMagentaTransparent = matWhiteTransparent.clone();\n\t\tmatMagentaTransparent.color.set( 0xff00ff );\n\n\t\tvar matYellow = gizmoMaterial.clone();\n\t\tmatYellow.color.set( 0xffff00 );\n\n\t\tvar matLineRed = gizmoLineMaterial.clone();\n\t\tmatLineRed.color.set( 0xff0000 );\n\n\t\tvar matLineGreen = gizmoLineMaterial.clone();\n\t\tmatLineGreen.color.set( 0x00ff00 );\n\n\t\tvar matLineBlue = gizmoLineMaterial.clone();\n\t\tmatLineBlue.color.set( 0x0000ff );\n\n\t\tvar matLineCyan = gizmoLineMaterial.clone();\n\t\tmatLineCyan.color.set( 0x00ffff );\n\n\t\tvar matLineMagenta = gizmoLineMaterial.clone();\n\t\tmatLineMagenta.color.set( 0xff00ff );\n\n\t\tvar matLineYellow = gizmoLineMaterial.clone();\n\t\tmatLineYellow.color.set( 0xffff00 );\n\n\t\tvar matLineGray = gizmoLineMaterial.clone();\n\t\tmatLineGray.color.set( 0x787878 );\n\n\t\tvar matLineYellowTransparent = matLineYellow.clone();\n\t\tmatLineYellowTransparent.opacity = 0.25;\n\n\t\t// reusable geometry\n\n\t\tvar arrowGeometry = new CylinderGeometry( 0, 0.05, 0.2, 12, 1, false );\n\n\t\tvar scaleHandleGeometry = new BoxGeometry( 0.125, 0.125, 0.125 );\n\n\t\tvar lineGeometry = new BufferGeometry();\n\t\tlineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0,\t1, 0, 0 ], 3 ) );\n\n\t\tvar CircleGeometry = function ( radius, arc ) {\n\n\t\t\tvar geometry = new BufferGeometry( );\n\t\t\tvar vertices = [];\n\n\t\t\tfor ( var i = 0; i <= 64 * arc; ++ i ) {\n\n\t\t\t\tvertices.push( 0, Math.cos( i / 32 * Math.PI ) * radius, Math.sin( i / 32 * Math.PI ) * radius );\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\t\tvar TranslateHelperGeometry = function () {\n\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 1, 1, 1 ], 3 ) );\n\n\t\t\treturn geometry;\n\n\t\t};\n\n\t\t// Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\t\tvar gizmoTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, - Math.PI / 2 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matRed ), [ 1, 0, 0 ], [ 0, 0, Math.PI / 2 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ) ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], null, null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matGreen ), [ 0, 1, 0 ], [ Math.PI, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ Math.PI / 2, 0, 0 ], null, 'fwd' ],\n\t\t\t\t[ new Mesh( arrowGeometry, matBlue ), [ 0, 0, 1 ], [ - Math.PI / 2, 0, 0 ], null, 'bwd' ],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.1, 0 ), matWhiteTransparent.clone() ), [ 0, 0, 0 ], [ 0, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matYellowTransparent.clone() ), [ 0.15, 0.15, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.18, 0.3, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.3, 0.18, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matCyanTransparent.clone() ), [ 0, 0.15, 0.15 ], [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.18, 0.3 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.3, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.295, 0.295 ), matMagentaTransparent.clone() ), [ 0.15, 0, 0.15 ], [ - Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.18, 0, 0.3 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.3, 0, 0.18 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerTranslate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0.6, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0.6, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 1, 4, 1, false ), matInvisible ), [ 0, 0, 0.6 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXYZ: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.2, 0 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0.2, 0 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0, 0.2, 0.2 ], [ 0, Math.PI / 2, 0 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( new PlaneGeometry( 0.4, 0.4 ), matInvisible ), [ 0.2, 0, 0.2 ], [ - Math.PI / 2, 0, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperTranslate = {\n\t\t\tSTART: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tEND: [\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.01, 2 ), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tDELTA: [\n\t\t\t\t[ new Line( TranslateHelperGeometry(), matHelper ), null, null, null, 'helper' ]\n\t\t\t],\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineRed ) ],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matRed ), [ 0, 0, 0.99 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineGreen ), null, [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matGreen ), [ 0, 0, 0.99 ], null, [ 3, 1, 1 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 0.5 ), matLineBlue ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new OctahedronGeometry( 0.04, 0 ), matBlue ), [ 0.99, 0, 0 ], null, [ 1, 3, 1 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Line( CircleGeometry( 1.25, 1 ), matLineYellowTransparent ), null, [ 0, Math.PI / 2, 0 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 1.17, 0, 0 ], [ 0, 0, - Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ - 1.17, 0, 0 ], [ 0, 0, Math.PI / 2 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, - 1.17, 0 ], [ Math.PI, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.03, 0, 0.15, 4, 1, false ), matLineYellowTransparent ), [ 0, 1.17, 0 ], [ 0, 0, 0 ], [ 1, 1, 0.001 ]],\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Line( CircleGeometry( 1, 1 ), matLineGray ), null, [ 0, Math.PI / 2, 0 ]]\n\t\t\t]\n\t\t};\n\n\t\tvar helperRotate = {\n\t\t\tAXIS: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\tvar pickerRotate = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, - Math.PI / 2, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1, 0.1, 4, 24 ), matInvisible ), [ 0, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t],\n\t\t\tE: [\n\t\t\t\t[ new Mesh( new TorusGeometry( 1.25, 0.1, 2, 24 ), matInvisible ) ]\n\t\t\t],\n\t\t\tXYZE: [\n\t\t\t\t[ new Mesh( new SphereGeometry( 0.7, 10, 8 ), matInvisible ) ]\n\t\t\t]\n\t\t};\n\n\t\tvar gizmoScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matRed ), [ 0.8, 0, 0 ], [ 0, 0, - Math.PI / 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineRed ), null, null, [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matGreen ), [ 0, 0.8, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineGreen ), null, [ 0, 0, Math.PI / 2 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matBlue ), [ 0, 0, 0.8 ], [ Math.PI / 2, 0, 0 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineBlue ), null, [ 0, - Math.PI / 2, 0 ], [ 0.8, 1, 1 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matYellowTransparent ), [ 0.85, 0.85, 0 ], null, [ 2, 2, 0.2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.855, 0.98, 0 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineYellow ), [ 0.98, 0.855, 0 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matCyanTransparent ), [ 0, 0.85, 0.85 ], null, [ 0.2, 2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.855, 0.98 ], [ 0, 0, Math.PI / 2 ], [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineCyan ), [ 0, 0.98, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matMagentaTransparent ), [ 0.85, 0, 0.85 ], null, [ 2, 0.2, 2 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.855, 0, 0.98 ], null, [ 0.125, 1, 1 ]],\n\t\t\t\t[ new Line( lineGeometry, matLineMagenta ), [ 0.98, 0, 0.855 ], [ 0, - Math.PI / 2, 0 ], [ 0.125, 1, 1 ]]\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.125, 0.125, 0.125 ), matWhiteTransparent.clone() ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar pickerScale = {\n\t\t\tX: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0.5, 0, 0 ], [ 0, 0, - Math.PI / 2 ]]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0.5, 0 ]]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Mesh( new CylinderGeometry( 0.2, 0, 0.8, 4, 1, false ), matInvisible ), [ 0, 0, 0.5 ], [ Math.PI / 2, 0, 0 ]]\n\t\t\t],\n\t\t\tXY: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0.85, 0 ], null, [ 3, 3, 0.2 ]],\n\t\t\t],\n\t\t\tYZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0, 0.85, 0.85 ], null, [ 0.2, 3, 3 ]],\n\t\t\t],\n\t\t\tXZ: [\n\t\t\t\t[ new Mesh( scaleHandleGeometry, matInvisible ), [ 0.85, 0, 0.85 ], null, [ 3, 0.2, 3 ]],\n\t\t\t],\n\t\t\tXYZX: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 1.1, 0, 0 ]],\n\t\t\t],\n\t\t\tXYZY: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 1.1, 0 ]],\n\t\t\t],\n\t\t\tXYZZ: [\n\t\t\t\t[ new Mesh( new BoxGeometry( 0.2, 0.2, 0.2 ), matInvisible ), [ 0, 0, 1.1 ]],\n\t\t\t]\n\t\t};\n\n\t\tvar helperScale = {\n\t\t\tX: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ - 1e3, 0, 0 ], null, [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tY: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, - 1e3, 0 ], [ 0, 0, Math.PI / 2 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t],\n\t\t\tZ: [\n\t\t\t\t[ new Line( lineGeometry, matHelper.clone() ), [ 0, 0, - 1e3 ], [ 0, - Math.PI / 2, 0 ], [ 1e6, 1, 1 ], 'helper' ]\n\t\t\t]\n\t\t};\n\n\t\t// Creates an Object3D with gizmos described in custom hierarchy definition.\n\n\t\tvar setupGizmo = function ( gizmoMap ) {\n\n\t\t\tvar gizmo = new Object3D();\n\n\t\t\tfor ( var name in gizmoMap ) {\n\n\t\t\t\tfor ( var i = gizmoMap[ name ].length; i --; ) {\n\n\t\t\t\t\tvar object = gizmoMap[ name ][ i ][ 0 ].clone();\n\t\t\t\t\tvar position = gizmoMap[ name ][ i ][ 1 ];\n\t\t\t\t\tvar rotation = gizmoMap[ name ][ i ][ 2 ];\n\t\t\t\t\tvar scale = gizmoMap[ name ][ i ][ 3 ];\n\t\t\t\t\tvar tag = gizmoMap[ name ][ i ][ 4 ];\n\n\t\t\t\t\t// name and tag properties are essential for picking and updating logic.\n\t\t\t\t\tobject.name = name;\n\t\t\t\t\tobject.tag = tag;\n\n\t\t\t\t\tif ( position ) {\n\n\t\t\t\t\t\tobject.position.set( position[ 0 ], position[ 1 ], position[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( rotation ) {\n\n\t\t\t\t\t\tobject.rotation.set( rotation[ 0 ], rotation[ 1 ], rotation[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( scale ) {\n\n\t\t\t\t\t\tobject.scale.set( scale[ 0 ], scale[ 1 ], scale[ 2 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.updateMatrix();\n\n\t\t\t\t\tvar tempGeometry = object.geometry.clone();\n\t\t\t\t\ttempGeometry.applyMatrix4( object.matrix );\n\t\t\t\t\tobject.geometry = tempGeometry;\n\t\t\t\t\tobject.renderOrder = Infinity;\n\n\t\t\t\t\tobject.position.set( 0, 0, 0 );\n\t\t\t\t\tobject.rotation.set( 0, 0, 0 );\n\t\t\t\t\tobject.scale.set( 1, 1, 1 );\n\n\t\t\t\t\tgizmo.add( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn gizmo;\n\n\t\t};\n\n\t\t// Reusable utility variables\n\n\t\tvar tempVector = new Vector3( 0, 0, 0 );\n\t\tvar tempEuler = new Euler();\n\t\tvar alignVector = new Vector3( 0, 1, 0 );\n\t\tvar zeroVector = new Vector3( 0, 0, 0 );\n\t\tvar lookAtMatrix = new Matrix4();\n\t\tvar tempQuaternion = new Quaternion();\n\t\tvar tempQuaternion2 = new Quaternion();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\t// Gizmo creation\n\n\t\tthis.gizmo = {};\n\t\tthis.picker = {};\n\t\tthis.helper = {};\n\n\t\tthis.add( this.gizmo[ 'translate' ] = setupGizmo( gizmoTranslate ) );\n\t\tthis.add( this.gizmo[ 'rotate' ] = setupGizmo( gizmoRotate ) );\n\t\tthis.add( this.gizmo[ 'scale' ] = setupGizmo( gizmoScale ) );\n\t\tthis.add( this.picker[ 'translate' ] = setupGizmo( pickerTranslate ) );\n\t\tthis.add( this.picker[ 'rotate' ] = setupGizmo( pickerRotate ) );\n\t\tthis.add( this.picker[ 'scale' ] = setupGizmo( pickerScale ) );\n\t\tthis.add( this.helper[ 'translate' ] = setupGizmo( helperTranslate ) );\n\t\tthis.add( this.helper[ 'rotate' ] = setupGizmo( helperRotate ) );\n\t\tthis.add( this.helper[ 'scale' ] = setupGizmo( helperScale ) );\n\n\t\t// Pickers should be hidden always\n\n\t\tthis.picker[ 'translate' ].visible = false;\n\t\tthis.picker[ 'rotate' ].visible = false;\n\t\tthis.picker[ 'scale' ].visible = false;\n\n\t\t// updateMatrixWorld will update transformations and appearance of individual handles\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tvar quaternion = space === 'local' ? this.worldQuaternion : identityQuaternion;\n\n\t\t\t// Show only gizmos for current transform mode\n\n\t\t\tthis.gizmo[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.gizmo[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.gizmo[ 'scale' ].visible = this.mode === 'scale';\n\n\t\t\tthis.helper[ 'translate' ].visible = this.mode === 'translate';\n\t\t\tthis.helper[ 'rotate' ].visible = this.mode === 'rotate';\n\t\t\tthis.helper[ 'scale' ].visible = this.mode === 'scale';\n\n\n\t\t\tvar handles = [];\n\t\t\thandles = handles.concat( this.picker[ this.mode ].children );\n\t\t\thandles = handles.concat( this.gizmo[ this.mode ].children );\n\t\t\thandles = handles.concat( this.helper[ this.mode ].children );\n\n\t\t\tfor ( var i = 0; i < handles.length; i ++ ) {\n\n\t\t\t\tvar handle = handles[ i ];\n\n\t\t\t\t// hide aligned to camera\n\n\t\t\t\thandle.visible = true;\n\t\t\t\thandle.rotation.set( 0, 0, 0 );\n\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\tvar factor;\n\n\t\t\t\tif ( this.camera.isOrthographicCamera ) {\n\n\t\t\t\t\tfactor = ( this.camera.top - this.camera.bottom ) / this.camera.zoom;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfactor = this.worldPosition.distanceTo( this.cameraPosition ) * Math.min( 1.9 * Math.tan( Math.PI * this.camera.fov / 360 ) / this.camera.zoom, 7 );\n\n\t\t\t\t}\n\n\t\t\t\thandle.scale.set( 1, 1, 1 ).multiplyScalar( factor * this.size / 7 );\n\n\t\t\t\t// TODO: simplify helpers and consider decoupling from gizmo\n\n\t\t\t\tif ( handle.tag === 'helper' ) {\n\n\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\tif ( handle.name === 'AXIS' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = !! this.axis;\n\n\t\t\t\t\t\tif ( this.axis === 'X' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Y' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, 0, Math.PI / 2 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'Z' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\thandle.quaternion.copy( quaternion ).multiply( tempQuaternion );\n\n\t\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > 0.9 ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'XYZE' ) {\n\n\t\t\t\t\t\t\ttempQuaternion.setFromEuler( tempEuler.set( 0, Math.PI / 2, 0 ) );\n\t\t\t\t\t\t\talignVector.copy( this.rotationAxis );\n\t\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( zeroVector, alignVector, unitY ) );\n\t\t\t\t\t\t\thandle.quaternion.multiply( tempQuaternion );\n\t\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis === 'E' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} else if ( handle.name === 'START' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'END' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else if ( handle.name === 'DELTA' ) {\n\n\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\t\t\t\t\t\thandle.quaternion.copy( this.worldQuaternionStart );\n\t\t\t\t\t\ttempVector.set( 1e-10, 1e-10, 1e-10 ).add( this.worldPositionStart ).sub( this.worldPosition ).multiplyScalar( - 1 );\n\t\t\t\t\t\ttempVector.applyQuaternion( this.worldQuaternionStart.clone().invert() );\n\t\t\t\t\t\thandle.scale.copy( tempVector );\n\t\t\t\t\t\thandle.visible = this.dragging;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\t\t\tif ( this.dragging ) {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPositionStart );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\thandle.position.copy( this.worldPosition );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.axis ) {\n\n\t\t\t\t\t\t\thandle.visible = this.axis.search( handle.name ) !== - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// If updating helper, skip rest of the loop\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\thandle.quaternion.copy( quaternion );\n\n\t\t\t\tif ( this.mode === 'translate' || this.mode === 'scale' ) {\n\n\t\t\t\t\t// Hide translate and scale axis facing the camera\n\n\t\t\t\t\tvar AXIS_HIDE_TRESHOLD = 0.99;\n\t\t\t\t\tvar PLANE_HIDE_TRESHOLD = 0.2;\n\t\t\t\t\tvar AXIS_FLIP_TRESHOLD = 0.0;\n\n\n\t\t\t\t\tif ( handle.name === 'X' || handle.name === 'XYZX' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' || handle.name === 'XYZY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' || handle.name === 'XYZZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) > AXIS_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XY' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'YZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'XZ' ) {\n\n\t\t\t\t\t\tif ( Math.abs( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) ) < PLANE_HIDE_TRESHOLD ) {\n\n\t\t\t\t\t\t\thandle.scale.set( 1e-10, 1e-10, 1e-10 );\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Flip translate and scale axis ocluded behind another axis\n\n\t\t\t\t\tif ( handle.name.search( 'X' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitX ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.x *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Y' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitY ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.y *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name.search( 'Z' ) !== - 1 ) {\n\n\t\t\t\t\t\tif ( alignVector.copy( unitZ ).applyQuaternion( quaternion ).dot( this.eye ) < AXIS_FLIP_TRESHOLD ) {\n\n\t\t\t\t\t\t\tif ( handle.tag === 'fwd' ) {\n\n\t\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\thandle.scale.z *= - 1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if ( handle.tag === 'bwd' ) {\n\n\t\t\t\t\t\t\thandle.visible = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( this.mode === 'rotate' ) {\n\n\t\t\t\t\t// Align handles to current local or world rotation\n\n\t\t\t\t\ttempQuaternion2.copy( quaternion );\n\t\t\t\t\talignVector.copy( this.eye ).applyQuaternion( tempQuaternion.copy( quaternion ).invert() );\n\n\t\t\t\t\tif ( handle.name.search( 'E' ) !== - 1 ) {\n\n\t\t\t\t\t\thandle.quaternion.setFromRotationMatrix( lookAtMatrix.lookAt( this.eye, zeroVector, unitY ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'X' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitX, Math.atan2( - alignVector.y, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Y' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitY, Math.atan2( alignVector.x, alignVector.z ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( handle.name === 'Z' ) {\n\n\t\t\t\t\t\ttempQuaternion.setFromAxisAngle( unitZ, Math.atan2( alignVector.y, alignVector.x ) );\n\t\t\t\t\t\ttempQuaternion.multiplyQuaternions( tempQuaternion2, tempQuaternion );\n\t\t\t\t\t\thandle.quaternion.copy( tempQuaternion );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Hide disabled axes\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'X' ) === - 1 || this.showX );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Y' ) === - 1 || this.showY );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'Z' ) === - 1 || this.showZ );\n\t\t\t\thandle.visible = handle.visible && ( handle.name.indexOf( 'E' ) === - 1 || ( this.showX && this.showY && this.showZ ) );\n\n\t\t\t\t// highlight selected axis\n\n\t\t\t\thandle.material._opacity = handle.material._opacity || handle.material.opacity;\n\t\t\t\thandle.material._color = handle.material._color || handle.material.color.clone();\n\n\t\t\t\thandle.material.color.copy( handle.material._color );\n\t\t\t\thandle.material.opacity = handle.material._opacity;\n\n\t\t\t\tif ( ! this.enabled ) {\n\n\t\t\t\t\thandle.material.opacity *= 0.5;\n\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t} else if ( this.axis ) {\n\n\t\t\t\t\tif ( handle.name === this.axis ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else if ( this.axis.split( '' ).some( function ( a ) {\n\n\t\t\t\t\t\treturn handle.name === a;\n\n\t\t\t\t\t} ) ) {\n\n\t\t\t\t\t\thandle.material.opacity = 1.0;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\thandle.material.opacity *= 0.25;\n\t\t\t\t\t\thandle.material.color.lerp( new Color( 1, 1, 1 ), 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsGizmo.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\t\tconstructor: TransformControlsGizmo,\n\n\t\tisTransformControlsGizmo: true\n\n\t} );\n\n\n\tvar TransformControlsPlane = function () {\n\n\t\t'use strict';\n\n\t\tMesh.call( this,\n\t\t\tnew PlaneGeometry( 100000, 100000, 2, 2 ),\n\t\t\tnew MeshBasicMaterial( { visible: false, wireframe: true, side: DoubleSide, transparent: true, opacity: 0.1, toneMapped: false } )\n\t\t);\n\n\t\tthis.type = 'TransformControlsPlane';\n\n\t\tvar unitX = new Vector3( 1, 0, 0 );\n\t\tvar unitY = new Vector3( 0, 1, 0 );\n\t\tvar unitZ = new Vector3( 0, 0, 1 );\n\n\t\tvar tempVector = new Vector3();\n\t\tvar dirVector = new Vector3();\n\t\tvar alignVector = new Vector3();\n\t\tvar tempMatrix = new Matrix4();\n\t\tvar identityQuaternion = new Quaternion();\n\n\t\tthis.updateMatrixWorld = function () {\n\n\t\t\tvar space = this.space;\n\n\t\t\tthis.position.copy( this.worldPosition );\n\n\t\t\tif ( this.mode === 'scale' ) space = 'local'; // scale always oriented to local rotation\n\n\t\t\tunitX.set( 1, 0, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitY.set( 0, 1, 0 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\t\t\tunitZ.set( 0, 0, 1 ).applyQuaternion( space === 'local' ? this.worldQuaternion : identityQuaternion );\n\n\t\t\t// Align the plane for current transform mode, axis and space.\n\n\t\t\talignVector.copy( unitY );\n\n\t\t\tswitch ( this.mode ) {\n\n\t\t\t\tcase 'translate':\n\t\t\t\tcase 'scale':\n\t\t\t\t\tswitch ( this.axis ) {\n\n\t\t\t\t\t\tcase 'X':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitX );\n\t\t\t\t\t\t\tdirVector.copy( unitX ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitY );\n\t\t\t\t\t\t\tdirVector.copy( unitY ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Z':\n\t\t\t\t\t\t\talignVector.copy( this.eye ).cross( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitZ ).cross( alignVector );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XY':\n\t\t\t\t\t\t\tdirVector.copy( unitZ );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'YZ':\n\t\t\t\t\t\t\tdirVector.copy( unitX );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XZ':\n\t\t\t\t\t\t\talignVector.copy( unitZ );\n\t\t\t\t\t\t\tdirVector.copy( unitY );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'XYZ':\n\t\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\tdefault:\n\t\t\t\t\t// special case for rotate\n\t\t\t\t\tdirVector.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tif ( dirVector.length() === 0 ) {\n\n\t\t\t\t// If in rotate mode, make the plane parallel to camera\n\t\t\t\tthis.quaternion.copy( this.cameraQuaternion );\n\n\t\t\t} else {\n\n\t\t\t\ttempMatrix.lookAt( tempVector.set( 0, 0, 0 ), dirVector, alignVector );\n\n\t\t\t\tthis.quaternion.setFromRotationMatrix( tempMatrix );\n\n\t\t\t}\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this );\n\n\t\t};\n\n\t};\n\n\tTransformControlsPlane.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\t\tconstructor: TransformControlsPlane,\n\n\t\tisTransformControlsPlane: true\n\n\t} );\n\n\treturn TransformControls;\n}\n","import { useEffect } from 'react';\n\nexport const useMountEffect = (fun) => useEffect(fun, []);\n","import React from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  CardActionArea,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  card: {\n    margin: '32px',\n    border: '2px solid rgba(0, 0, 0, 0.12)',\n    textAlign: 'center',\n  },\n});\nconst OptionCard = ({ title, description, onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <Card onClick={onClick} className={classes.card}>\n      <CardActionArea>\n        <CardContent>\n          <Typography variant=\"h2\">{title}</Typography>\n          <p>{description}</p>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default OptionCard;\n","export const formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport let storage = {};\n\nexport let requestCount = 0;\n\nexport let setRequestCount = (value) => {\n  requestCount = value;\n};\n\nexport const fillStorage = () => {\n  return getSettings().then((data) => {\n    storage = data;\n  });\n};\n\nexport const setStorage = (key, val) => {\n  storage[key] = val;\n  let formData = new FormData();\n  formData.append(\"json\", JSON.stringify(storage));\n  postSettings(formData);\n};\nexport const getStorage = (key) => {\n  return (typeof storage[key] !== 'undefined' ? storage[key] : false);\n};\nexport const removeStorage = (key) => {\n  storage[key] = null;\n};\nexport const resetStorage = () => {\n  return storageReset();\n};\nasync function getSettings() {\n    let response = null;\n    response = await fetch(`http://localhost:2127/api/v1/get/ui/settings`, {\n      method: \"GET\"\n    });\n    return await response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function storageReset() {\n  let settings = {};\n  await getSettings().then((data) => {\n    console.log('before', data);\n    let setAll = (obj, val) => Object.keys(obj).forEach(\n      k => obj[k] = (k == 'network' || k == 'printerName' ? obj[k] : val)\n     );\n    setAll(data, \"\");\n    console.log('after', data);\n    let formData = new FormData();\n    formData.append(\"json\", JSON.stringify(data));\n    postSettings(formData);\n    settings = data;\n  });\n  return settings;\n}\n\nasync function postSettings(formData) {\n  await fetch(`http://localhost:2127/api/v1/set/ui/settings`, {\n    method: \"POST\",\n    body: formData // send updated settings\n  });\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport OptionCard from '../../Common/OptionCard/OptionCard';\nimport { getStorage, setStorage } from '../../../Utility/helpers';\nconst useStyles = makeStyles({\n  header: {\n    textAlign: 'center',\n    fontSize: '32px',\n  },\n});\n\nconst PrinterType = ({ setStep }) => {\n  const classes = useStyles();\n  const handleClick = (val) => {\n    setStorage('printerProfile', val);\n    setStep(3);\n  };\n\n  useMountEffect(() => {\n    if(getStorage(\"printerProfile\") && getStorage(\"printerProfile\") !== \"none\") {\n      setStep(3);\n    }\n  });\n\n  return ((!getStorage(\"printerProfile\") || getStorage(\"printerProfile\") == \"none\") && (\n    <div>\n      <h2 className={classes.header}>Where will this printer be used?</h2>\n      <OptionCard title=\"Classroom\" onClick={() => handleClick('classroom')} />\n      <OptionCard title=\"Business\" onClick={() => handleClick('business')} />\n      <OptionCard title=\"Home\" onClick={() => handleClick('home')} />\n    </div>\n  ));\n};\n\nexport default PrinterType;\n","import React, { useRef, useState } from \"react\";\nimport {\n  Button,\n  Grid,\n  Typography,\n  TextField,\n  CircularProgress,\n  Backdrop\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport Keyboard from \"react-simple-keyboard\";\nimport { setStorage, getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst NetworkSettings = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [connecting, setConnecting] = useState(false);\n  const [rebootRequired, setRebootRequired] = useState(false);\n  const type = \"configure\";\n  const keyboard = useRef();\n  const [printerName, setPrinterName] = useState(\"300x\");\n\n  useMountEffect(() => {\n    setPrinterName(getStorage(\"printerName\"));\n    if(getStorage(\"renamed\")) {\n      !settingsScreen && setStep(4);\n    }\n  });\n\n  const nextSubmit = () => {\n    keyBoardOff();\n    handleSubmit();\n  }\n\n  const keyBoardOn = () => {\n    setExpanded(true);\n  }\n\n  const keyBoardOff = () => {\n    setExpanded(false);\n  }\n\n  const handleSubmit = async () => {\n\n    setStorage(\"renamed\", true);\n\n    if(input) {\n      const host_name = { hostname: input, action: \"add\" };\n      const lastHostname = { hostname: printerName !== null ? printerName : \"300x\", action: \"remove\"};\n      const ssid_name = { ssid: input };\n\n      //after, display success or failure\n      setConnecting(false);\n\n      if(input !== printerName) {\n        const hostname_response = await fetch(`http://localhost:8990/change/hostname`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(host_name)\n        });\n\n        hostname_response.json().then((data) => {\n          if (data.status.includes(\"add\")) {\n            setStorage(\"printerName\", input);\n          } else {\n            setSnackMessage(\"Connection Failed. Try Again\");\n            setShowSnack(() => true);\n            setConnecting(false);\n            // show snack message \"Failure\"\n          }\n        });\n\n        const ssid_name_response = await fetch(`http://localhost:8990/hotspot/change/ssid/name`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(ssid_name)\n        });\n\n        ssid_name_response.json().then((data) => {\n          setConnecting(false);\n          if (data.status.includes(\"changed\")) {\n            setStorage(\"ssid\", input);\n            setSnackMessage(\"Successfully Named!\");\n            setShowSnack(() => true);\n            //Go to next screen\n            if(!printerName) {\n              setRebootRequired(true);\n              setTimeout(() => {\n                fetch(`http://localhost:8990/reboot`, {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n                // go to settings screen\n                //!settingsScreen && setStep(4);\n              }, 3000);\n            }\n          } else {\n            setSnackMessage(\"Connection Failed. Try Again\");\n            setShowSnack(() => true);\n            // show snack message \"Failure\"\n          }\n        });\n\n        if(printerName) {\n          const remove_hostname_response = await fetch(`http://localhost:8990/change/hostname`, {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(lastHostname)\n          });\n\n          remove_hostname_response.json().then((data) => {\n            if (data.status.includes(\"remove\")) {\n              setRebootRequired(true);\n              setTimeout(() => {\n                fetch(`http://localhost:8990/reboot`, {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n                // go to settings screen\n                //!settingsScreen && setStep(4);\n              }, 3000);\n            }\n          });\n        }\n\n      } else {\n        // nothing to change\n        setSnackMessage(\"Printer name is \" + printerName);\n        setShowSnack(() => true);\n        !settingsScreen && setStep(4);\n      }\n\n    } else {\n      // nothing to change\n      setSnackMessage(\"Printer name is \" + printerName);\n      setShowSnack(() => true);\n      !settingsScreen && setStep(4);\n    }\n\n\n  };\n\n  //update text entered into input field\n  const onChange = (input) => {\n    setInput(input);\n    console.log(\"Input changed\", input);\n  };\n  //toggle keyboard layouts when user presses shift\n  const handleShift = () => {\n    const newLayoutName = layout === \"default\" ? \"shift\" : \"default\";\n    setLayout(newLayoutName);\n  };\n\n  //handle keyboard layout key presses\n  const onKeyPress = (button) => {\n    if (button === \"{ABC}\") {\n      setLayout(\"shift\");\n    } else if (button === \"{abc}\") {\n      setLayout(\"default\");\n    } else if (button === \"{+=#}\") {\n      setLayout(\"symbol\");\n    } else if (button === \"{123}\") {\n      setLayout(\"number\");\n    }\n    (button === \"{shift}\" || button === \"{lock}\") && handleShift();\n  };\n\n  //handle keyboard key presses for input keys\n  const onChangeInput = (event) => {\n    const input = event.target.value;\n    setInput(input);\n    keyboard.current.setInput(input);\n  };\n\n\n  return (((rebootRequired || connecting) || !getStorage(\"renamed\")) && (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            container\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\">Your Printer's Name Is:</Typography>\n            <Typography variant=\"h4\" style={{textAlign: 'center'}}>{printerName}</Typography>\n            </Grid>\n          <Grid\n            container\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 200 }}\n          >\n            <Grid container style={{flexDirection:'row', justifyContent: 'flex-end'}}>\n              <Grid item xs={9}>\n                <TextField\n                  id=\"input\"\n                  label=\"Change Printer Name\"\n                  type=\"text\"\n                  color=\"secondary\"\n                  value={input}\n                  onFocus={keyBoardOn}\n                  onChange={onChangeInput}\n                  style={{ width: \"100%\" }}\n                  />\n              </Grid>\n              <Grid item>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  style={{ marginTop: 10 }}\n                  onClick={() => {\n                      nextSubmit()\n                  }}\n                    >\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n            <Grid\n              container\n              item\n              spacing={6}\n              direction=\"column\"\n              alignItems=\"center\"\n              style={{marginTop: 10}}\n            >\n              <Button\n                aria-label=\"skip\"\n                endIcon={<ArrowForward />}\n                onClick={() => {\n                  !settingsScreen && setStep(4);\n                  settingsScreen && setStep(0);\n                }}\n              >\n                Skip\n              </Button>\n            </Grid>\n          </Grid>\n          {rebootRequired && (\n            <Backdrop className={classes.backdrop} open={rebootRequired}>\n              <div className={classes.connecting}>\n                <h4>Reboot Required. Rebooting...</h4>\n                <CircularProgress color=\"inherit\" />\n              </div>\n            </Backdrop>\n          )}\n          {connecting && (\n            <Backdrop className={classes.backdrop} open={connecting}>\n              <div className={classes.connecting}>\n                <h4>Renaming</h4>\n                <CircularProgress color=\"inherit\" />\n              </div>\n            </Backdrop>\n          )}\n          {expanded && (\n            <div className={classes.keyboard}>\n              <Keyboard\n                keyboardRef={(r) => (keyboard.current = r)}\n                layoutName={layout}\n                layout={{\n                  default: [\n                    \"{abc} {ABC} {+=#} {123}\",\n                    \"a b c d e\",\n                    \"f g h i j\",\n                    \"k l m n o\",\n                    \"p q r s t\",\n                    \"u v w x y\",\n                    \"z {space} {bksp}\"\n                  ],\n                  shift: [\n                    \"{abc} {ABC} {+=#} {123}\",\n                    \"A B C D E\",\n                    \"F G H I J\",\n                    \"K L M N O\",\n                    \"P Q R S T\",\n                    \"U V W X Y\",\n                    \"Z {space} {bksp}\"\n                  ],\n                  symbol: [\n                    \"{abc} {ABC} {+=#} {123}\",\n                    \"! @ # $ %\",\n                    \"^ & * ( )\",\n                    \"~ ' _ - =\",\n                    \"[ ] { } \\\\\",\n                    \"| ; ' : ,\",\n                    '\" < > ? .'\n                  ],\n                  number: [\n                    \"{abc} {ABC} {+=#} {123}\",\n                    \"1 2 3\",\n                    \"4 5 6\",\n                    \"7 8 9\",\n                    \"$ 0 .\",\n                    \"{space}\",\n                    \"# {bksp}\"\n                  ]\n                }}\n                display={{\n                  \"{bksp}\": \"Backspace\",\n                  \"{enter}\": \"Enter\",\n                  \"{shift}\": \"Shift\",\n                  \"{space}\": \"Space\",\n                  \"{123}\": \"123\",\n                  \"{ABC}\": \"ABC\",\n                  \"{abc}\": \"abc\",\n                  \"{+=#}\": \"+ = #\"\n                }}\n                onChange={onChange}\n                onKeyPress={onKeyPress}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n    </Grid>\n  ));\n};\n\nexport default NetworkSettings;\n","import React from 'react';\nimport OptionCard from '../../Common/OptionCard/OptionCard';\nimport { getStorage, setStorage } from '../../../Utility/helpers';\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport './UserLevel.css';\nconst UserLevel = ({ handleOnboarding, setStep, settingsScreen }) => {\n\n  useMountEffect(() => {\n    if(getStorage(\"didUserMode\")) {\n      !settingsScreen && setStep(5);\n    }\n  });\n\n  const handleClick = async (val) => {\n    let networkType = getStorage(\"networkProfile\");\n    setStorage('userMode', val);\n    setStorage('onboarded', true);\n    setStorage('didUserMode',true);\n    if (networkType === 'wifi' || networkType === 'ethernet') {\n      //check for updates\n      setStep(5);\n    } else {\n      setStep(5);\n      //handleOnboarding(val);\n    }\n  };\n  return (!getStorage(\"didUserMode\") && (\n    <div className=\"menu-container\">\n      <h3>Please choose a mode</h3>\n      <div className=\"menu-options-container\">\n        <OptionCard\n          title=\"Beginner\"\n          description=\"For beginners. This mode has limited slicer settings.\"\n          onClick={() => handleClick('beginner')}\n        />\n        <OptionCard\n          title=\"Advanced\"\n          description=\"For users familiar with 3D printing. Additional settings unlocked.\"\n          onClick={() => handleClick('advanced')}\n        />\n        <OptionCard\n          title=\"Expert\"\n          description=\"For expert users. All slicer settings unlocked.\"\n          onClick={() => handleClick('expert')}\n        />\n      </div>\n    </div>\n  ));\n};\n\nexport default UserLevel;\n","import React from \"react\";\nconst AppContext = React.createContext({\n  camRotation: 0,\n  camZoom: 0,\n  camZ: 0,\n  showMagnet: false,\n  showBounds: false,\n  showGrid: false,\n  addRotation: (deg) => {},\n  setZoom: (zoom) => {},\n  addZ: (z) => {},\n  setShowMagnet: (val) => {},\n  setShowBounds: (val) => {},\n  setShowGrid: (val) => {}\n});\n\nexport default AppContext;\n","import * as THREE from \"three\";\n\n/**\n * Description: A THREE loader for STL ASCII files, as created by Solidworks and other CAD programs.\n *\n * Supports both binary and ASCII encoded files, with automatic detection of type.\n *\n * The loader returns a non-indexed buffer geometry.\n *\n * Limitations:\n *  Binary decoding supports \"Magics\" color format (http://en.wikipedia.org/wiki/STL_(file_format)#Color_in_binary_STL).\n *  There is perhaps some question as to how valid it is to always assume little-endian-ness.\n *  ASCII decoding assumes file is UTF-8.\n *\n * Usage:\n *  var loader = new STLLoader();\n *  loader.load( './models/stl/slotted_disk.stl', function ( geometry ) {\n *    scene.add( new THREE.Mesh( geometry ) );\n *  });\n *\n * For binary STLs geometry might contain colors for vertices. To use it:\n *  // use the same code to load STL as above\n *  if (geometry.hasColors) {\n *    material = new THREE.MeshPhongMaterial({ opacity: geometry.alpha, vertexColors: true });\n *  } else { .... }\n *  var mesh = new THREE.Mesh( geometry, material );\n *\n * For ASCII STLs containing multiple solids, each solid is assigned to a different group.\n * Groups can be used to assign a different color by defining an array of materials with the same length of\n * geometry.groups and passing it to the Mesh constructor:\n *\n * var mesh = new THREE.Mesh( geometry, material );\n *\n * For example:\n *\n *  var materials = [];\n *  var nGeometryGroups = geometry.groups.length;\n *\n *  var colorMap = ...; // Some logic to index colors.\n *\n *  for (var i = 0; i < nGeometryGroups; i++) {\n *\n *\t\tvar material = new THREE.MeshPhongMaterial({\n *\t\t\tcolor: colorMap[i],\n *\t\t\twireframe: false\n *\t\t});\n *\n *  }\n *\n *  materials.push(material);\n *  var mesh = new THREE.Mesh(geometry, materials);\n */\n\n class STLLoader extends THREE.Loader {\n\n   constructor( manager ) {\n\n     super( manager );\n\n   }\n\n   load( url, onLoad, onProgress, onError ) {\n\n     const scope = this;\n     const loader = new THREE.FileLoader( this.manager );\n     loader.setPath( this.path );\n     loader.setResponseType( 'arraybuffer' );\n     loader.setRequestHeader( this.requestHeader );\n     loader.setWithCredentials( this.withCredentials );\n     loader.load( url, function ( text ) {\n\n       try {\n\n         onLoad( scope.parse( text ) );\n\n       } catch ( e ) {\n\n         if ( onError ) {\n\n           onError( e );\n\n         } else {\n\n           console.error( e );\n\n         }\n\n         scope.manager.itemError( url );\n\n       }\n\n     }, onProgress, onError );\n\n   }\n\n   parse( data ) {\n\n     function isBinary( data ) {\n\n       const reader = new DataView( data );\n       const face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n       const n_faces = reader.getUint32( 80, true );\n       const expect = 80 + 32 / 8 + n_faces * face_size;\n\n       if ( expect === reader.byteLength ) {\n\n         return true;\n\n       } // An ASCII STL data must begin with 'solid ' as the first six bytes.\n       // However, ASCII STLs lacking the SPACE after the 'd' are known to be\n       // plentiful.  So, check the first 5 bytes for 'solid'.\n       // Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n       // https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n       // Search for \"solid\" to start anywhere after those prefixes.\n       // US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\n       const solid = [ 115, 111, 108, 105, 100 ];\n\n       for ( let off = 0; off < 5; off ++ ) {\n\n         // If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n         if ( matchDataViewAt( solid, reader, off ) ) return false;\n\n       } // Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\n       return true;\n\n     }\n\n     function matchDataViewAt( query, reader, offset ) {\n\n       // Check if each byte in query matches the corresponding byte from the current offset\n       for ( let i = 0, il = query.length; i < il; i ++ ) {\n\n         if ( query[ i ] !== reader.getUint8( offset + i, false ) ) return false;\n\n       }\n\n       return true;\n\n     }\n\n     function parseBinary( data ) {\n\n       const reader = new DataView( data );\n       const faces = reader.getUint32( 80, true );\n       let r,\n         g,\n         b,\n         hasColors = false,\n         colors;\n       let defaultR, defaultG, defaultB, alpha; // process STL header\n       // check for default color in header (\"COLOR=rgba\" sequence).\n\n       for ( let index = 0; index < 80 - 10; index ++ ) {\n\n         if ( reader.getUint32( index, false ) == 0x434F4C4F\n       /*COLO*/\n       && reader.getUint8( index + 4 ) == 0x52\n       /*'R'*/\n       && reader.getUint8( index + 5 ) == 0x3D\n       /*'='*/\n         ) {\n\n           hasColors = true;\n           colors = new Float32Array( faces * 3 * 3 );\n           defaultR = reader.getUint8( index + 6 ) / 255;\n           defaultG = reader.getUint8( index + 7 ) / 255;\n           defaultB = reader.getUint8( index + 8 ) / 255;\n           alpha = reader.getUint8( index + 9 ) / 255;\n\n         }\n\n       }\n\n       const dataOffset = 84;\n       const faceLength = 12 * 4 + 2;\n       const geometry = new THREE.BufferGeometry();\n       const vertices = new Float32Array( faces * 3 * 3 );\n       const normals = new Float32Array( faces * 3 * 3 );\n\n       for ( let face = 0; face < faces; face ++ ) {\n\n         const start = dataOffset + face * faceLength;\n         const normalX = reader.getFloat32( start, true );\n         const normalY = reader.getFloat32( start + 4, true );\n         const normalZ = reader.getFloat32( start + 8, true );\n\n         if ( hasColors ) {\n\n           const packedColor = reader.getUint16( start + 48, true );\n\n           if ( ( packedColor & 0x8000 ) === 0 ) {\n\n             // facet has its own unique color\n             r = ( packedColor & 0x1F ) / 31;\n             g = ( packedColor >> 5 & 0x1F ) / 31;\n             b = ( packedColor >> 10 & 0x1F ) / 31;\n\n           } else {\n\n             r = defaultR;\n             g = defaultG;\n             b = defaultB;\n\n           }\n\n         }\n\n         for ( let i = 1; i <= 3; i ++ ) {\n\n           const vertexstart = start + i * 12;\n           const componentIdx = face * 3 * 3 + ( i - 1 ) * 3;\n           vertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n           vertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n           vertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n           normals[ componentIdx ] = normalX;\n           normals[ componentIdx + 1 ] = normalY;\n           normals[ componentIdx + 2 ] = normalZ;\n\n           if ( hasColors ) {\n\n             colors[ componentIdx ] = r;\n             colors[ componentIdx + 1 ] = g;\n             colors[ componentIdx + 2 ] = b;\n\n           }\n\n         }\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\n       if ( hasColors ) {\n\n         geometry.setAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n         geometry.hasColors = true;\n         geometry.alpha = alpha;\n\n       }\n\n       return geometry;\n\n     }\n\n     function parseASCII( data ) {\n\n       const geometry = new THREE.BufferGeometry();\n       const patternSolid = /solid([\\s\\S]*?)endsolid/g;\n       const patternFace = /facet([\\s\\S]*?)endfacet/g;\n       let faceCounter = 0;\n       const patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n       const patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n       const patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n       const vertices = [];\n       const normals = [];\n       const normal = new THREE.Vector3();\n       let result;\n       let groupCount = 0;\n       let startVertex = 0;\n       let endVertex = 0;\n\n       while ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n         startVertex = endVertex;\n         const solid = result[ 0 ];\n\n         while ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n           let vertexCountPerFace = 0;\n           let normalCountPerFace = 0;\n           const text = result[ 0 ];\n\n           while ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n             normal.x = parseFloat( result[ 1 ] );\n             normal.y = parseFloat( result[ 2 ] );\n             normal.z = parseFloat( result[ 3 ] );\n             normalCountPerFace ++;\n\n           }\n\n           while ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n             vertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n             normals.push( normal.x, normal.y, normal.z );\n             vertexCountPerFace ++;\n             endVertex ++;\n\n           } // every face have to own ONE valid normal\n\n\n           if ( normalCountPerFace !== 1 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n           } // each face have to own THREE valid vertices\n\n\n           if ( vertexCountPerFace !== 3 ) {\n\n             console.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n           }\n\n           faceCounter ++;\n\n         }\n\n         const start = startVertex;\n         const count = endVertex - startVertex;\n         geometry.addGroup( start, count, groupCount );\n         groupCount ++;\n\n       }\n\n       geometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );\n       geometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( normals, 3 ) );\n       return geometry;\n\n     }\n\n     function ensureString( buffer ) {\n\n       if ( typeof buffer !== 'string' ) {\n\n         return THREE.LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n       }\n\n       return buffer;\n\n     }\n\n     function ensureBinary( buffer ) {\n\n       if ( typeof buffer === 'string' ) {\n\n         const array_buffer = new Uint8Array( buffer.length );\n\n         for ( let i = 0; i < buffer.length; i ++ ) {\n\n           array_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n         }\n\n         return array_buffer.buffer || array_buffer;\n\n       } else {\n\n         return buffer;\n\n       }\n\n     } // start\n\n\n     const binData = ensureBinary( data );\n     return isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n   }\n\n }\n\nexport default STLLoader;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Checkbox,\n  Divider,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl\n} from \"@material-ui/core\";\nimport {\n  Add,\n  DeleteForever,\n  Description,\n  ExpandMore\n} from \"@material-ui/icons\";\nimport React, { useContext, useState } from 'react';\nimport AppContext from \"../../../../AppContext\";\nimport * as THREE from \"three\";\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport { useMountEffect } from \"../../../../Utility/useMountEffect\";\n\nimport \"./style.css\";\n\nasync function getFile(fileName) {\n  // await response of fetch call\n  let response = await fetch(`http://localhost:9990/${fileName}`);\n  // only proceed once promise is resolved\n  let data = await response.blob();\n  // only proceed once second promise is resolved\n  return data;\n}\n\nfunction FilesPanel() {\n  const context = useContext(AppContext)\n\n  let fileName = null;\n\n  if(context.stl) {\n    if(typeof context.stl == \"string\") {\n      fileName = context.stl;\n    } else {\n      fileName = context.stl.name;\n    }\n  }\n\n  const [listOpen, setListOpen] = React.useState(true);\n  const [fileList, setFileList] = React.useState([]);\n  const [uploadElement, setUploadElement] = useState(null);\n  const handleListItemClick = (event, currentFile) => {\n    context.setSelectedFile(currentFile.name);\n  };\n  const swapTrasformTool = (e, file) => {\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.control.attach(mesh);\n      }\n    }\n  };\n\n  const deleteFile = (file) => {\n    console.log('deleting '+file.name)\n    for (let idx in context.objRoot.children) {\n      let mesh = context.objRoot.children[idx];\n      if(mesh.name === file.name) {\n        context.objRoot.remove(mesh);\n      }\n    }\n\n    let filesWithoutDeleted = fileList.filter(function( obj ) {\n    return obj.name !== file.name;\n    });\n\n    if(filesWithoutDeleted) {\n      setFileList(filesWithoutDeleted);\n    }\n  };\n\n  useMountEffect(() => {\n    if(context.stl) {\n      if(typeof context.stl == \"string\") {\n        getFile(fileName).then(function(data) {\n          let file = new File([data], fileName);\n          setFileList([{\n              'name': fileName,\n              'file': file\n            }]\n          );\n        });\n      } else {\n        setFileList([{\n          'name': fileName,\n          'file': context.stl\n        }]);\n      }\n    }\n\n  });\n\n  return (\n    <>\n      <div className=\"files-panel\">\n          <AppContext.Consumer>\n            {() => (\n              <>\n              <Accordion expanded={listOpen} onChange={() => setListOpen(!listOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Object List\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails style={{justifyContent:\"center\"}}>\n                <Grid container direction=\"column\" item xs>\n                  {fileList.length > 0 && (\n                    <Grid item xs>\n                    <List aria-label=\"file-list\" style={{width:'100%'}}>\n                    {fileList.length > 0 && fileList.map((currentFile, index) => {\n                      return (\n                        <ListItem\n                          button\n                          selected={context.selectedFile === currentFile.name}\n                          onClick={(event) => handleListItemClick(event, currentFile)}\n                          style={{backgroundColor:'#b7b7b7'}}\n                          key={index}\n                        >\n                          <ListItemIcon>\n                            <Checkbox\n                              checked={context.selectedFile === currentFile.name}\n                              onChange={ (e) => swapTrasformTool(e, currentFile)}\n                              color=\"primary\"\n                              inputProps={{ 'aria-label': 'secondary checkbox' }}\n                            />\n                          </ListItemIcon>\n                          <ListItemText primary={currentFile.name} />\n                        </ListItem>\n                      )\n                    })}\n                    </List>\n                    </Grid>\n                  )}\n                  </Grid>\n                </AccordionDetails>\n              </Accordion>\n              </>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default FilesPanel;\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t// the target DOM element for key events\n\tthis._domElementKeyEvents = null;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t}\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import * as THREE from \"three\";\nimport { Interaction } from 'three.interaction';\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport { OrbitControls } from '../RenderingUtils/OrbitControls';\nimport STLLoader from \"../RenderingUtils/STLLoader\";\nimport AppContext from \"../../../../AppContext\";\nimport { ScreenShare, StarTwoTone } from \"@material-ui/icons\";\nimport {\n  Button,\n  ButtonGroup,\n  Grid,\n  Paper,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio\n} from \"@material-ui/core\";\nimport {\n  Loop,\n  OpenWith,\n  OpenInNew\n} from \"@material-ui/icons\";\n\nconst TransformControls = require('../RenderingUtils/TransformControls')(THREE);\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction rad2deg(rad) {\n  return (Math.PI * rad) / 180;\n}\n\nclass PrintRenderer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.canvas = React.createRef();\n    this.canvasBg = null;\n    this.rotationTarget = 0.0;\n    this.lastTime = null;\n\n    this.renderer = null;\n    this.scene = null;\n    this.control = null;\n    this.cameraHelper = null;\n    this.cameraPivot = null;\n    this.camera = null;\n    this.zTarget = 0;\n    this.gridObj = null;\n    this.magnetObj = null;\n    this.planeObj = null;\n    this.boundsObj = null;\n\n    this.showMagnetBed = false;\n    this.showBounds = false;\n    this.showGrid = false;\n    this.viewControls = null;\n  }\n\n  static contextType = AppContext;\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"test\");\n  }\n\n  componentDidMount() {\n    this.assignCanvas();\n  }\n\n  // GETING DATA FORM SELECT ELEMENT TO SET POSITION SCALE OR ROTATION IN TRANSFORMCONTROL\n  posRotScale = (value) => {\n\n      this.context.setTransformValue(value);\n\n      switch (value) {\n\n        case \"position\":\n          this.control.enabled = true;\n          this.control.setMode( \"translate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"rotation\":\n          this.control.enabled = true;\n          this.control.setMode( \"rotate\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"scale\":\n          this.control.enabled = true;\n          this.control.setMode( \"scale\" );\n          this.control.showX = true;\n          this.control.showY = true;\n          this.control.showZ = true;\n          break;\n\n        case \"none\":\n          this.control.enabled = false;\n          this.control.showX = false;\n          this.control.showY = false;\n          this.control.showZ = false;\n          break;\n\n        default:;\n\n    }\n  };\n\n  assignCanvas() {\n    // this.canvas = canvas;\n    let canvasBg = this.canvas.current.parentElement;\n    this.canvas.current.width = canvasBg.clientWidth;\n    this.canvas.current.height = canvasBg.clientHeight;\n    this.initCanvas(\n      this.canvas.current,\n      this.canvas.current.width,\n      this.canvas.current.height\n    );\n  }\n\n  initCanvas(canvas, width, height) {\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n\n    const renderer = new THREE.WebGLRenderer({ canvas });\n    renderer.setSize(width, height);\n    scene.background = new THREE.Color( 0xd1d1d1 );\n    const interaction = new Interaction(renderer, scene, camera);\n    //Create a ground plane to display our mesh on\n    //const gpTexture = new THREE.TextureLoader().load(\"./buildplane.png\");\n    const gpMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(800, 800, 1, 1),\n      new THREE.MeshBasicMaterial({ color: 0xd1d1d1 })\n    );\n    scene.add(gpMesh);\n    this.planeObj = gpMesh;\n\n    //Create alternate ground plane that renders the magnetic build surface\n    const magTexture = new THREE.TextureLoader().load(\"./magnet.png\");\n    const magMesh = new THREE.Mesh(\n      new THREE.PlaneGeometry(341.3, 341.3, 1, 1),\n      new THREE.MeshBasicMaterial({ map: magTexture, transparent:true })\n    );\n    magMesh.position.y = -10;\n    magMesh.position.z = -1;\n    scene.add(magMesh);\n    this.magnetObj = magMesh;\n    this.magnetObj.visible = false;\n\n    const path = new THREE.Path();\n    path.moveTo(-150, -150);\n    path.lineTo(150, -150);\n    path.lineTo(150, 150);\n    path.lineTo(-150, 150);\n    path.lineTo(-150, -150);\n    const pathMesh = new THREE.Line(\n      new THREE.BufferGeometry().setFromPoints(path.getPoints()),\n      new THREE.LineBasicMaterial({ color: 0xff0000, linewidth: 1 })\n    );\n    pathMesh.position.z = 0.25;\n    scene.add(pathMesh);\n    pathMesh.visible = false;\n    this.boundsObj = pathMesh;\n\n    // Add grid visual\n    let grid = new THREE.GridHelper(300, 30, 0x555555, 0x555555);\n    grid.rotation.set(Math.PI / 2, 0, 0);\n    grid.position.set(0, 0, 0);\n    scene.add(grid);\n    grid.visible = false;\n    this.gridObj = grid;\n    let zTarget = this.zTarget;\n    let rotationTarget = this.rotationTarget;\n    let currentContext = this.context;\n\n    let buildGeometry = new THREE.BoxGeometry(300, 300, 400, 10, 10, 10);\n    let buildEdges = new THREE.EdgesGeometry( buildGeometry );\n    let buildLines = new THREE.LineSegments( buildEdges, new THREE.LineBasicMaterial( { color: 0x555555 } ) );\n    buildLines.position.z = 200;\n    scene.add(buildLines);\n\n    camera.up = new THREE.Vector3( 0, 0, 1 );\n\n    let control = new TransformControls( camera, renderer.domElement );\n    this.viewControls = new OrbitControls( camera, renderer.domElement );\n    let cameraControl = this.viewControls;\n\n    camera.position.y = -400;\n    camera.position.z = 200;\n\n    cameraControl.update();\n    // TODO: bring this back if we re-enable the NavigationPanel\n    //this.viewControls.addEventListener( 'change', function (e) {\n    //     currentContext.setZoom((camera.position.y + 350)  / 3);\n    //     currentContext.addRotation(rad2deg(rotationTarget) - currentContext.camRotation);\n    //     currentContext.addZ(zTarget);\n    //});\n\n    let mesh = null;\n    let context = this.context;\n    control.enabled = false;\n    control.showX = false;\n    control.showY = false;\n    control.showZ = false;\n    control.setSize(2);\n    cameraControl.maxDistance = 900.00;\n\n    const objRoot = new THREE.Group();\n    const loader = new STLLoader();\n\n    if(this.context.stl) {\n      if(typeof this.context.stl == \"string\") {\n        this.context.setFileName(this.context.stl);\n        loader.load(`http://localhost:9990/${this.context.stl}`, (geo) => {\n          const mat = new THREE.MeshPhongMaterial({\n            color: 0xffffff,\n            specular: 0x111111,\n            shininess: 200\n          });\n          //   const mat = new THREE.MeshBasicMaterial({ color: 0x00ff00 });\n          mesh = new THREE.Mesh(geo, mat);\n          mesh.name = this.context.stl;\n          mesh.position.set(0, 0, 0);\n          //   m.scale.set(0.05, 0.05, 0.05);\n          //   m.setRotationFromEuler(new THREE.Euler(deg2rad(-90), 0, 0));\n          mesh.geometry.center();\n          control.attach( mesh );\n          mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          control.addEventListener( 'objectChange', function( e ) {\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n          });\n          control.addEventListener('mouseDown', function () {\n              cameraControl.enabled = false;\n          });\n          control.addEventListener('mouseUp', function () {\n              cameraControl.enabled = true;\n          });\n          control.enabled = false;\n          control.showX = false;\n          control.showY = false;\n          control.showZ = false;\n\n          mesh.on('click', function(ev) {\n            console.log(\"clicked \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          mesh.on('touchend', function(ev) {\n            console.log(\"touched \"+mesh.name+\"!\");\n            control.attach(mesh);\n            control.enabled = true;\n            context.setSelectedFile(mesh.name);\n            control.showX = true;\n            control.showY = true;\n            control.showZ = true;\n            if(control.mode == 'translate') {\n              context.setTransformValue('position');\n            } else if(control.mode == 'rotate') {\n              context.setTransformValue('rotation');\n            } else {\n              console.log(control.mode);\n              context.setTransformValue(control.mode);\n            }\n          });\n\n          objRoot.add(mesh);\n          this.context.setModifiedStl(mesh);\n          scene.add( control );\n        });\n\n      } else {\n        let reader = new FileReader();\n        let context = this.context;\n        context.setFileName(this.context.stl.name);\n        reader.addEventListener( 'load', function ( event ) {\n\n          let contents = event.target.result;\n          let geometry = new STLLoader().parse( contents );\n          console.log(contents);\n          geometry.sourceType = \"stl\";\n          geometry.sourceFile = contents;\n          let material = new THREE.MeshPhongMaterial( { color: 0xffffff, specular: 0x111111, shininess: 200 } );\n\n          mesh = new THREE.Mesh( geometry, material );\n          mesh.name = context.stl.name;\n          mesh.position.set(\n                0, //x\n                1, //y\n                0  //z\n            );\n            mesh.rotation.set( 0, 0, 0 );\n            mesh.scale.set( 1, 1, 1 );\n            mesh.castShadow = false;\n            mesh.receiveShadow = false;\n            mesh.geometry.center();\n            control.attach( mesh );\n            control.enabled = true;\n            mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            control.addEventListener( 'objectChange', function( e ) {\n              mesh.position.z = new THREE.Box3().setFromObject(mesh).getSize().z * 0.5;\n            });\n            control.addEventListener('mouseDown', function () {\n                cameraControl.enabled = false;\n            });\n            control.addEventListener('mouseUp', function () {\n                cameraControl.enabled = true;\n            });\n\n            mesh.on('click', function(ev) {\n              console.log(\"clicked \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            mesh.on('touchend', function(ev) {\n              console.log(\"touched \"+mesh.name+\"!\");\n              control.attach(mesh);\n              control.enabled = true;\n              context.setSelectedFile(mesh.name);\n              control.showX = true;\n              control.showY = true;\n              control.showZ = true;\n              if(control.mode == 'translate') {\n                context.setTransformValue('position');\n              } else if(control.mode == 'rotate') {\n                context.setTransformValue('rotation');\n              } else {\n                console.log(control.mode);\n                context.setTransformValue(control.mode);\n              }\n            });\n\n            objRoot.add(mesh);\n            context.setModifiedStl(mesh);\n            scene.add( control );\n        }, false );\n\n        reader.readAsBinaryString(this.context.stl);\n      }\n    } else {\n      control.addEventListener('mouseDown', function () {\n          cameraControl.enabled = false;\n      });\n      control.addEventListener('mouseUp', function () {\n          cameraControl.enabled = true;\n      });\n    }\n\n    scene.add(objRoot);\n    //control.attach( objRoot );\n    scene.add( control );\n\n    scene.add(camera);\n    scene.add(new THREE.HemisphereLight(0xffffff, 0x111533));\n\n    scene.on('click', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    scene.on('touchend', function(ev) {\n      console.log(ev);\n      let matchCount = 0;\n      for(let idx in ev.intersects) {\n        let intersectedPlane = ev.intersects[idx].object;\n        if(objRoot.children.indexOf(intersectedPlane) !== -1) {\n          matchCount++;\n        }\n      }\n      if(matchCount == 0) {\n        console.log(\"not a printable object!\");\n        control.detach();\n        control.enabled = false;\n        context.setSelectedFile(null);\n      }\n    });\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.control = control;\n    //this.cameraHelper = cameraHelper;\n    //this.cameraPivot = cameraPivot;\n\n    this.context.setControl(this.control);\n    this.context.setScene(this.scene);\n    this.context.setCamera(this.camera);\n    this.context.setObjRoot(objRoot);\n\n    this.renderFrame();\n  }\n\n  renderFrame() {\n    requestAnimationFrame(this.renderFrame.bind(this));\n    // TODO bring this back if re-enabling NavigationPanel\n    // let camCurrent = this.cameraPivot.rotation.z;\n    // this.cameraPivot.rotation.z = camCurrent;\n    // this.cameraPivot.rotation.z= THREE.MathUtils.lerp(\n    //   camCurrent,\n    //   this.rotationTarget,\n    //   0.01\n    // );\n    //\n    // let currentHeight = this.cameraPivot.position.z;\n    // this.cameraPivot.position.z = THREE.MathUtils.lerp(\n    //   currentHeight,\n    //   this.zTarget,\n    //   0.01\n    // );\n    this.viewControls.update();\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  render() {\n    let value = this.context;\n\n    try {\n      // TODO bring this back if re-enabling NavigationPanel\n      // this.camera.position.y = -350 + value.camZoom * 3;\n      // this.rotationTarget = deg2rad(value.camRotation);\n      // this.zTarget = value.camZ;\n      this.viewControls.update();\n\n      this.boundsObj.visible = value.showBounds;\n      this.planeObj.visible = !value.showMagnet;\n      this.magnetObj.visible = value.showMagnet;\n      this.gridObj.visible = value.showGrid;\n    } catch (err) {}\n\n    return (\n      <>\n      <div className=\"transform-panel\">\n        <ButtonGroup\n          orientation=\"vertical\"\n          color=\"primary\"\n          aria-label=\"vertical outlined primary button group\"\n        >\n          <Button onClick={() => this.posRotScale(\"scale\")}\n                  style={{\n                    backgroundColor: this.context.transformValue == 'scale' ? '#0071ce' : '#fff',\n                    color: this.context.transformValue == 'scale' ? '#fff' : '#5f6368',\n                    width: 120,\n                    height: 45\n                  }}\n          >\n            <OpenInNew style={{left: -10, position: 'relative'}} /> Scale\n          </Button>\n          <Button onClick={() => this.posRotScale(\"position\")}\n                  style={{\n                    backgroundColor: this.context.transformValue == 'position' ? '#0071ce' : '#fff',\n                    color: this.context.transformValue == 'position' ? '#fff' : '#5f6368',\n                    width: 120,\n                    height: 45\n                  }}\n          >\n            <OpenWith style={{left: -12, position: 'relative'}} /> Move\n          </Button>\n          <Button onClick={() => this.posRotScale(\"rotation\")}\n                  style={{\n                    backgroundColor: this.context.transformValue == 'rotation' ? '#0071ce' : '#fff',\n                    color: this.context.transformValue == 'rotation' ? '#fff' : '#5f6368',\n                    width: 120,\n                    height: 45\n                  }}\n          >\n            <Loop style={{left: -6, position: 'relative'}} /> Rotate\n          </Button>\n        </ButtonGroup>\n      </div>\n        <div className=\"render-canvas-bg\">\n          <canvas id=\"three-scene\" className=\"render-canvas\" ref={this.canvas}></canvas>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default PrintRenderer;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Grid,\n  Paper,\n  Typography,\n  Slider,\n  Button,\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  FormControl,\n  Switch\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  ExpandMore,\n  RotateLeft,\n  RotateRight,\n  Settings,\n  Videocam,\n  ZoomIn,\n  ZoomOut\n} from \"@material-ui/icons\";\nimport React from \"react\";\n\nimport AppContext from \"../../../../AppContext\";\n\nimport \"./style.css\";\n\nfunction SettingsPanel() {\n  const [settingsOpen, setSettingsOpen] = React.useState(true);\n  return (\n    <>\n      <div className=\"settingspanel\">\n          <AppContext.Consumer>\n            {({\n              showBounds,\n              setShowBounds,\n              showMagnet,\n              setShowMagnet,\n              showGrid,\n              setShowGrid\n            }) => (\n              <Accordion expanded={settingsOpen} onChange={() => setSettingsOpen(!settingsOpen)}>\n                <AccordionSummary\n                  expandIcon={<ExpandMore />}\n                  aria-controls=\"panel1a-content\"\n                  id=\"panel1a-header\"\n                >\n                  <Typography>\n                  Display Settings\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                  <FormControl component=\"fieldset\">\n                    <FormGroup>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showMagnet}\n                            onChange={(e) => {\n                              setShowMagnet(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Magnetic Print Bed\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showBounds}\n                            onChange={(e) => {\n                              setShowBounds(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Printer Bounds\"\n                      />\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={showGrid}\n                            onChange={(e) => {\n                              setShowGrid(e.target.checked);\n                            }}\n                          />\n                        }\n                        label=\"Show Grid\"\n                      />\n                    </FormGroup>\n                  </FormControl>\n                </AccordionDetails>\n              </Accordion>\n            )}\n          </AppContext.Consumer>\n      </div>\n    </>\n  );\n}\n\nexport default SettingsPanel;\n","/**\n * Usage:\n *  var exporter = new THREE.STLExporter();\n *\n *  // second argument is a list of options\n *  var data = exporter.parse( mesh, { binary: true } );\n *\n */\n\n if(typeof THREE == 'undefined' && typeof require != 'undefined')\n \tvar THREE = require('three')\n\nvar STLExporter = function () {};\n\nSTLExporter.prototype = {\n\n\tconstructor: STLExporter,\n\n\tparse: function ( scene, options ) {\n\n\t\tif ( options === undefined ) options = {};\n\n\t\tvar binary = options.binary !== undefined ? options.binary : false;\n\n\t\t//\n\n\t\tvar objects = [];\n\t\tvar triangles = 0;\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isMesh ) {\n\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\tif ( geometry.isBufferGeometry !== true ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\t\ttriangles += ( index !== null ) ? ( index.count / 3 ) : ( positionAttribute.count / 3 );\n\n\t\t\t\tobjects.push( {\n\t\t\t\t\tobject3d: object,\n\t\t\t\t\tgeometry: geometry\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} );\n\n\t\tvar output;\n\t\tvar offset = 80; // skip header\n\n\t\tif ( binary === true ) {\n\n\t\t\tvar bufferLength = triangles * 2 + triangles * 3 * 4 * 4 + 80 + 4;\n\t\t\tvar arrayBuffer = new ArrayBuffer( bufferLength );\n\t\t\toutput = new DataView( arrayBuffer );\n\t\t\toutput.setUint32( offset, triangles, true ); offset += 4;\n\n\t\t} else {\n\n\t\t\toutput = '';\n\t\t\toutput += 'solid exported\\n';\n\n\t\t}\n\n\t\tvar vA = new THREE.Vector3();\n\t\tvar vB = new THREE.Vector3();\n\t\tvar vC = new THREE.Vector3();\n\t\tvar cb = new THREE.Vector3();\n\t\tvar ab = new THREE.Vector3();\n\t\tvar normal = new THREE.Vector3();\n\n\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\tvar object = objects[ i ].object3d;\n\t\t\tvar geometry = objects[ i ].geometry;\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar positionAttribute = geometry.getAttribute( 'position' );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < index.count; j += 3 ) {\n\n\t\t\t\t\tvar a = index.getX( j + 0 );\n\t\t\t\t\tvar b = index.getX( j + 1 );\n\t\t\t\t\tvar c = index.getX( j + 2 );\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed geometry\n\n\t\t\t\tfor ( var j = 0; j < positionAttribute.count; j += 3 ) {\n\n\t\t\t\t\tvar a = j + 0;\n\t\t\t\t\tvar b = j + 1;\n\t\t\t\t\tvar c = j + 2;\n\n\t\t\t\t\twriteFace( a, b, c, positionAttribute, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( binary === false ) {\n\n\t\t\toutput += 'endsolid exported\\n';\n\n\t\t}\n\n\t\treturn output;\n\n\t\tfunction writeFace( a, b, c, positionAttribute, object ) {\n\n\t\t\tvA.fromBufferAttribute( positionAttribute, a );\n\t\t\tvB.fromBufferAttribute( positionAttribute, b );\n\t\t\tvC.fromBufferAttribute( positionAttribute, c );\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tobject.boneTransform( a, vA );\n\t\t\t\tobject.boneTransform( b, vB );\n\t\t\t\tobject.boneTransform( c, vC );\n\n\t\t\t}\n\n\t\t\tvA.applyMatrix4( object.matrixWorld );\n\t\t\tvB.applyMatrix4( object.matrixWorld );\n\t\t\tvC.applyMatrix4( object.matrixWorld );\n\n\t\t\twriteNormal( vA, vB, vC );\n\n\t\t\twriteVertex( vA );\n\t\t\twriteVertex( vB );\n\t\t\twriteVertex( vC );\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setUint16( offset, 0, true ); offset += 2;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\tendloop\\n';\n\t\t\t\toutput += '\\tendfacet\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeNormal( vA, vB, vC ) {\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab ).normalize();\n\n\t\t\tnormal.copy( cb ).normalize();\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, normal.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, normal.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\tfacet normal ' + normal.x + ' ' + normal.y + ' ' + normal.z + '\\n';\n\t\t\t\toutput += '\\t\\touter loop\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction writeVertex( vertex ) {\n\n\t\t\tif ( binary === true ) {\n\n\t\t\t\toutput.setFloat32( offset, vertex.x, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.y, true ); offset += 4;\n\t\t\t\toutput.setFloat32( offset, vertex.z, true ); offset += 4;\n\n\t\t\t} else {\n\n\t\t\t\toutput += '\\t\\t\\tvertex ' + vertex.x + ' ' + vertex.y + ' ' + vertex.z + '\\n';\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n};\n\nexport default STLExporter;\n","import {\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Fab,\n  Modal,\n  Paper,\n  TextField,\n  Typography,\n  Grid,\n  Select,\n  Slider,\n  Switch,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  Drawer,\n  Button\n} from \"@material-ui/core\";\nimport { ArrowBack, ExpandMore, Menu, Settings, Cancel } from \"@material-ui/icons\";\nimport React, { Component, useState } from \"react\";\nimport \"./style.css\";\nimport { withStyles } from \"@material-ui/styles\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport FilesPanel from \"../3dViewer/FilesPanel\";\nimport PrintRenderer from \"../3dViewer/PrintRenderer\";\nimport NavigationPanel from \"../3dViewer/NavigationPanel\";\nimport SettingsPanel from \"../3dViewer/SettingsPanel\";\nimport AppContext from \"../../../AppContext\";\nimport STLExporter from \"../3dViewer/RenderingUtils/ExportSTL\";\n\nconst styles = (theme) => ({\n  formControl: {\n    minWidth: 250,\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: \"#fff\"\n    },\n    \"& .MuiInputLabel-root\": {\n      color: \"#fff\"\n    },\n    \"& .MuiSelect-select.MuiSelect-select\": {\n      color: \"#fff\"\n    },\n    \"& .MuiFormLabel-root.MuiInputLabel-animated.MuiInputLabel-shrink.MuiFormLabel-filled\": {\n      color: \"#fff\",\n      minWidth: 236\n    },\n    \"& .MuiInput-input\": {\n      color: \"#fff\"\n    },\n    \"& #standard-basic-helper-text\": {\n      color: \"red\"\n    }\n  },\n  mainContainer: {\n    marginTop: 20,\n    width: '100%'\n  },\n  slider: {\n    width: 215\n  },\n  drawerContainer: {\n    width: '70vw',\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  settingsDrawer: { /* hidden behind viewer rn */\n    position: \"fixed\",\n    bottom: 20,\n    left: '60px',\n    zIndex: 9999\n  },\n  settingsBack: {\n    position: \"fixed\",\n    top: 5,\n    left: 5,\n    zIndex: 100,\n    backgroundColor: \"#424242\",\n    color: \"white\",\n    paddingRight: \"10px\",\n    \"&:hover\": {\n      backgroundColor: \"#42424280\",\n    }\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n});\n\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction setProfileSettings(slicer, type) {\n  switch (type) {\n\n    case \"petg_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_good\":\n      slicer.metadata.preferred_quality_type = \"fast\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.32);\n      setChildSettings(slicer.settings.speed.children.speed_print,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,60);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,60);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_better\":\n      slicer.metadata.preferred_quality_type = \"normal\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.16);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    case \"petg_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 245);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 245);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 70);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 70);\n      return slicer;\n    case \"tpu_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,20);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,20);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, false);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 230);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 230);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 60);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 60);\n      return slicer;\n    case \"pla_best\":\n      slicer.metadata.preferred_quality_type = \"best\";\n      setChildSettings(slicer.settings.resolution.children.layer_height,0.08);\n      setChildSettings(slicer.settings.speed.children.speed_print,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,50);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,25);\n      setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,50);\n      setChildSettings(slicer.settings.travel.children.retraction_enable, true);\n      setChildSettings(slicer.settings.material.children.default_material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, 220);\n      setChildSettings(slicer.settings.material.children.material_initial_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.material_final_print_temperature, 220);\n      setChildSettings(slicer.settings.material.children.default_material_bed_temperature, 50);\n      setChildSettings(slicer.settings.material.children.material_bed_temperature, 50);\n      return slicer;\n    default:\n      return slicer;\n  }\n}\n\nfunction setHeadTemp(slicer, temp) {\n  setChildSettings(slicer.settings.material.children.default_material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_print_temperature_layer_0, temp);\n  setChildSettings(slicer.settings.material.children.material_initial_print_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_final_print_temperature, temp);\n  return slicer;\n}\n\nfunction setBedTemp(slicer, temp) {\n\n  setChildSettings(slicer.settings.material.children.default_material_bed_temperature, temp);\n  setChildSettings(slicer.settings.material.children.material_bed_temperature, temp);\n\n  return slicer;\n}\n\nfunction setInfillType(slicer, type) {\n  setChildSettings(slicer.settings.infill.children.infill_pattern, type);\n  slicer.settings.infill.children.infill_pattern.value = `\"'lines' if infill_sparse_density > 25 else '${type}'\"`;\n  slicer.settings.infill.children.infill_pattern.default_value = type;\n  return slicer;\n}\n\nfunction setFlowRate(slicer, rate) {\n  setChildSettings(slicer.settings.material.children.material_flow, rate);\n  return slicer;\n}\n\nfunction setStickType(slicer, type) {\n  setChildSettings(slicer.settings.platform_adhesion.children.adhesion_type, type);\n  return slicer;\n}\n\nfunction setSpeed(slicer, pace) {\n\n  setChildSettings(slicer.settings.speed.children.speed_print,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_infill,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_0,pace);\n  setChildSettings(slicer.settings.speed.children.speed_print.children.speed_wall.children.speed_wall_x,pace);\n\n  return slicer;\n}\n\nfunction setStructure(slicer, struct) {\n  setChildSettings(slicer.settings.support.children.support_structure, struct);\n  return slicer;\n}\n\nfunction setSupportType(slicer, type) {\n  setChildSettings(slicer.settings.support.children.support_pattern, type);\n  return slicer;\n}\n\nfunction setChildSettings(setting, value) {\n  // ref: https://github.com/Ultimaker/CuraEngine/issues/450\n  setting.value = value;\n  setting.default_value = value;\n  traverseChildSettings(setting, value);\n}\n\nfunction traverseChildSettings(setting, value) {\n  if(setting.hasOwnProperty('children')) {\n    for (var property in setting.children) {\n      setChildSettings(setting.children[property], value);\n    }\n  }\n}\n\nfunction setInfillLineDistance(slicer, percent_density) {\n  // infill line distance is what we really need to set\n  if (percent_density === 0) {\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = 0;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = 0;\n  } else {\n    let multiplier = setInfillMultiplier(\n      slicer.settings.infill.children.infill_pattern.default_value\n    );\n    let infillLineWidth =\n      slicer.settings.resolution.children.line_width.children.infill_line_width\n        .default_value;\n    let infillLineDistance =\n      ((infillLineWidth * 100) / percent_density) * multiplier;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.value = infillLineDistance;\n    slicer.settings.infill.children.infill_sparse_density.children.infill_line_distance.default_value = infillLineDistance;\n  }\n  return slicer;\n}\n\nfunction setInfillMultiplier(infill_pattern) {\n  switch (infill_pattern) {\n    case \"triangles\":\n    case \"trihexagon\":\n    case \"cubic\":\n    case \"cubicsubdiv\":\n      return 3;\n    case \"grid\":\n    case \"tetrahedral\":\n    case \"quarter_cubic\":\n      return 2;\n    default:\n      return 1;\n  }\n}\n\nfunction getStlGroupName(meshes) {\n  let name = '';\n  for (let idx in meshes) {\n    let mesh = meshes[idx];\n    let match = /.+\\.(stl)$/gi.exec(mesh.name);\n    if (match) {\n      name += match[0] + '-';\n    }\n  }\n  name = name.slice(0, -1);\n  name += '.stl';\n  return name;\n}\n\nclass SliceModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shown: props.shown || false,\n      loading: false,\n      filament: \"pla\",\n      quality: \"good\",\n      infill: 20,\n      infill_type: \"grid\",\n      flow: 100,\n      stick_type: \"skirt\",\n      nozzle: 220,\n      bed: 50,\n      speed: 50,\n      supports: false,\n      vase: false,\n      structure: \"normal\",\n      support_type: \"grid\",\n      file: props.file,\n      camZoom: 0,\n      camRotation: 0,\n      camZ: 0,\n      camera: null,\n      control: null,\n      scene: null,\n      objRoot: null,\n      showMagnet: true,\n      showBounds: true,\n      showGrid: true,\n      stl: props.file,\n      modifiedStl: null,\n      selectedFile: null,\n      transformValue: \"position\",\n      fileName: \"file.stl\",\n      drawerOpen: true,\n      slicerOpen: true,\n      savedFile: false,\n      stlName: \"\",\n      userMode: \"beginner\",\n      fillMode: \"normal\",\n      infill_patterns: {grid: \"Grid\"},\n      stick_patterns: {skirt: \"Skirt\"},\n      structures: {normal: \"Normal\"},\n      support_types: {grid: \"Grid\"}\n    };\n\n    this.defaultSettings = {};\n  }\n\n  componentDidMount() {\n    this.getSettings();\n    this.setState({ userMode: getStorage(\"userMode\")});\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      this.setState({ filament: 'pla'});\n    }\n\n  }\n\n  handleFileSaveOpen() {\n    this.setState({ savedFile: true })\n  };\n\n  async getSettings() {\n    let onboardSettings = await fetch(\n      `http://localhost:2127/api/v1/settings`,\n      {\n        method: \"GET\"\n      }\n    );\n\n    this.defaultSettings = await onboardSettings.json();\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('infill') &&\n       this.defaultSettings.settings.infill.children.infill_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        infill_patterns: this.defaultSettings.settings.infill.children.infill_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('platform_adhesion') &&\n       this.defaultSettings.settings.platform_adhesion.children.adhesion_type.hasOwnProperty('options')\n    ) {\n      this.setState({\n        stick_patterns: this.defaultSettings.settings.platform_adhesion.children.adhesion_type.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_pattern.hasOwnProperty('options')\n    ) {\n      this.setState({\n        support_types: this.defaultSettings.settings.support.children.support_pattern.options\n      });\n    }\n\n    if(this.defaultSettings.hasOwnProperty('settings') &&\n       this.defaultSettings.settings.hasOwnProperty('support') &&\n       this.defaultSettings.settings.support.children.support_structure.hasOwnProperty('options')\n    ) {\n      this.setState({\n        structures: this.defaultSettings.settings.support.children.support_structure.options\n      });\n    }\n\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return { shown: props.shown };\n  }\n\n  async setSliceAndStartPrint(meshes, startPrint) {\n    this.setState({ loading: true });\n    let settings = this.defaultSettings;\n    let profile_type = this.state.filament + '_' + this.state.quality;\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      profile_type = 'pla_' + this.state.quality;\n\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    settings = setProfileSettings(settings, profile_type);\n\n    settings = setInfillLineDistance(settings, this.state.infill);\n\n    settings.settings.infill.children.infill_sparse_density.value = this.state.infill;\n    settings.settings.infill.children.infill_sparse_density.default_value = this.state.infill;\n    settings.settings.support.children.support_enable.value = this.state.supports;\n    settings.settings.support.children.support_enable.default_value = this.state.supports;\n    settings.settings.blackmagic.children.magic_spiralize.value = this.state.vase;\n    settings.settings.blackmagic.children.magic_spiralize.default_value = this.state.vase;\n\n\n    if(getStorage(\"userMode\") == 'beginner') {\n      settings.settings.blackmagic.children.magic_spiralize.value = 0;\n      settings.settings.blackmagic.children.magic_spiralize.default_value = 0;\n    } else {\n      settings = setInfillType(settings, this.state.infill_type);\n    }\n\n    if(getStorage(\"userMode\") == 'expert') {\n      settings = setHeadTemp(settings, this.state.nozzle);\n      settings = setBedTemp(settings, this.state.bed);\n      settings = setFlowRate(settings, this.state.flow);\n      settings = setStickType(settings, this.state.stick_type);\n      settings = setSpeed(settings, this.state.speed);\n      settings = setStructure(settings, this.state.structure);\n      settings = setSupportType(settings, this.state.support_type);\n    }\n\n    let data = new FormData();\n    //let stlFile = fromMesh(this.state.modifiedStl, false);\n    let exporter = new STLExporter();\n    let stlString = exporter.parse( this.state.modifiedStl );\n    let mimeType = 'application/vnd.ms-pki.stl';\n    let blob = new Blob([stlString], { type: mimeType });\n    let groupedStlName = getStlGroupName(meshes);\n    let buildFileName = this.state.stlName ? this.state.stlName+'.stl' : groupedStlName;\n    let realFile = new File([blob], buildFileName);\n    data.append(\"file\", realFile);\n    data.append(\"json\", JSON.stringify(settings));\n    let resp = await fetch(\n      `http://localhost:2127/api/v1/files/${buildFileName}`,\n      { method: \"POST\", body: data }\n    );\n    if (resp.status === 200) {\n      //Success\n      if(startPrint) {\n        await fetch(\n          `http://localhost:2127/api/v1/job/${buildFileName}`,\n          {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }\n        );\n        this.props.onClose();\n      } else {\n        this.handleFileSaveOpen();\n      }\n    } else {\n      //Error message\n      if (this.props.onFailure) {\n        this.props.onFailure();\n      }\n    }\n    this.setState({ loading: false });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const sliceModal = this;\n\n    function addRotation(deg) {\n      sliceModal.setState({ camRotation: sliceModal.state.camRotation + deg })\n    }\n\n    function setZoom(zoom) {\n      sliceModal.setState({ camZoom: zoom })\n    }\n\n    function addZ(z) {\n      sliceModal.setState({ camZ: clamp(sliceModal.state.camZ + z, 0, 200) })\n    }\n\n    return (\n      <>\n        <Modal\n          open={this.state.shown}\n          onClose={() => {\n            this.props.onClose();\n            this.setState({ shown: false });\n          }}\n          disableBackdropClick\n        >\n          <div className=\"modal\">\n            <Button onClick={() => {\n                this.props.onClose();\n                this.setState({ shown: false });\n              }}\n              color=\"primary\" className={classes.settingsBack} autoFocus>\n              <ArrowBack />\n              Exit Viewer\n            </Button>\n            <Fab color=\"secondary\"  className={classes.settingsDrawer} aria-label=\"print-settings\" onClick={() => this.setState({ drawerOpen: !this.state.drawerOpen })}>\n              {this.state.drawerOpen ? (<Cancel />) : (<Settings />)}\n            </Fab>\n            <Grid container className={classes.mainContainer}>\n            <Grid item>\n              <AppContext.Provider\n                value={{\n                  camRotation: this.state.camRotation,\n                  camZoom: this.state.camZoom,\n                  camZ: this.state.camZ,\n                  camera: this.state.camera,\n                  showMagnet: this.state.showMagnet,\n                  showBounds: this.state.showBounds,\n                  showGrid: this.state.showGrid,\n                  stl: this.props.file,\n                  transformValue: this.state.transformValue,\n                  modifiedStl: this.state.modifiedStl,\n                  fileName: this.state.fileName,\n                  control: this.state.control,\n                  scene: this.state.scene,\n                  objRoot: this.state.objRoot,\n                  selectedFile: this.state.selectedFile,\n                  setModifiedStl: (stl) => {\n                    this.setState({ modifiedStl: stl });\n                  },\n                  setFileName: (name) => {\n                    this.setState({ fileName: name });\n                  },\n                  addRotation: (deg) => {\n                    addRotation(deg);\n                  },\n                  setZoom: (zoom) => {\n                    setZoom(zoom);\n                  },\n                  addZ: (z) => {\n                    addZ(z);\n                  },\n                  setTransformValue: (value) => {\n                    this.setState({ transformValue: value });\n                  },\n                  setCamera: (val) => {\n                    this.setState({ camera: val });\n                  },\n                  setShowMagnet: (val) => {\n                    this.setState({ showMagnet: val });\n                  },\n                  setShowBounds: (val) => {\n                    this.setState({ showBounds: val });\n                  },\n                  setShowGrid: (val) => {\n                    this.setState({ showGrid: val });\n                  },\n                  setControl: (control) => {\n                    this.setState({ control: control });\n                  },\n                  setScene: (scene) => {\n                    this.setState({ scene: scene });\n                  },\n                  setObjRoot: (objRoot) => {\n                    this.setState({ objRoot: objRoot });\n                  },\n                  setSelectedFile: (file) => {\n                    this.setState({ selectedFile: file });\n                  },\n                }}\n              >\n              <PrintRenderer />\n              <Drawer\n                anchor=\"right\"\n                open={this.state.drawerOpen}\n                onClose={() => this.setState({ drawerOpen: false })}\n                classes={{\n                  paper: classes.drawerContainer\n                }}\n                variant=\"persistent\"\n              >\n                <FilesPanel />\n                <Accordion expanded={this.state.slicerOpen} onChange={() => this.setState({slicerOpen: !this.state.slicerOpen})}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMore />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                  >\n                    <Typography>\n                    Slicer Settings\n                    </Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                    <Grid item style={{ zIndex: 2 }}>\n                        { this.state.userMode !== 'beginner' && (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"fil\">Filament Type</InputLabel>\n                              <Select\n                                labelId=\"fil\"\n                                value={this.state.filament}\n                                onChange={(e) => {\n                                  this.setState({ filament: e.target.value });\n                                }}\n                              >\n                                <MenuItem value=\"pla\">PLA</MenuItem>\n                                <MenuItem value=\"petg\">PETG</MenuItem>\n                                <MenuItem value=\"tpu\">TPU</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        )}\n                        { this.state.userMode === 'beginner' ? (\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"str\">Model Strength</InputLabel>\n                              <Select\n                                labelId=\"str\"\n                                value={this.state.fillMode}\n                                onChange={(e) => {\n                                  this.setState({ fillMode: e.target.value });\n                                  if(e.target.value == 'hollow') {\n                                    this.setState({ infill: 0 });\n                                  } else if (e.target.value == 'normal') {\n                                    this.setState({ infill: 20 });\n                                  } else if(e.target.value == 'solid') {\n                                    this.setState({ infill: 100 });\n                                  }\n                                }}\n                              >\n                                <MenuItem value=\"hollow\">Hollow</MenuItem>\n                                <MenuItem value=\"normal\">Normal</MenuItem>\n                                <MenuItem value=\"solid\">Solid</MenuItem>\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                        ) : (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"standard-basic\"\n                              value={this.state.infill}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ infill: value });\n                              }}\n                              type=\"number\"\n                              label=\"Infill Density\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 100,\n                                maxLength: 3\n                              }}\n                              error={(this.state.infill < 0 || this.state.infill > 100) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.infill > 100) ?\n                                \"Value must be at or between 0 and 100.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.infill < 0 || this.state.infill > 100) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"filtype\">Infill Type</InputLabel>\n                              <Select\n                                labelId=\"filtype\"\n                                value={this.state.infill_type}\n                                onChange={(e) => {\n                                  this.setState({ infill_type: e.target.value });\n                                }}\n                              >\n                              {this.state.infill_patterns && Object.entries(this.state.infill_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <InputLabel id=\"qual\">Quality</InputLabel>\n                            <Select\n                              labelId=\"qual\"\n                              value={this.state.quality}\n                              onChange={(e) => {\n                                this.setState({ quality: e.target.value });\n                              }}\n                            >\n                              <MenuItem value=\"good\">Fastest Print</MenuItem>\n                              <MenuItem value=\"better\">Normal Quality</MenuItem>\n                              <MenuItem value=\"best\">Best Quality</MenuItem>\n                            </Select>\n                          </FormControl>\n                        </Grid>\n                        { this.state.userMode === 'expert' && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"stiktype\">Adhesion Type</InputLabel>\n                              <Select\n                                labelId=\"stiktype\"\n                                value={this.state.stick_type}\n                                onChange={(e) => {\n                                  this.setState({ stick_type: e.target.value });\n                                }}\n                              >\n                              {this.state.stick_patterns && Object.entries(this.state.stick_patterns).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"flow-rate\"\n                              value={this.state.flow}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ flow: value });\n                              }}\n                              type=\"number\"\n                              label=\"Flow Rate\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 200,\n                                maxLength: 3\n                              }}\n                              error={(this.state.flow < 0 || this.state.flow > 200) ? true : false}\n                              helperText={\n                                (this.state.infill < 0 || this.state.flow > 200) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.flow < 0 || this.state.flow > 200) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"nozzle-temp\"\n                              value={this.state.nozzle}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ nozzle: value });\n                              }}\n                              type=\"number\"\n                              label=\"Nozzle Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 260,\n                                maxLength: 3\n                              }}\n                              error={(this.state.nozzle < 0 || this.state.nozzle > 260) ? true : false}\n                              helperText={\n                                (this.state.nozzle < 0 || this.state.nozzle > 260) ?\n                                \"Value must be at or between 0 and 260.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.nozzle < 0 || this.state.nozzle > 260) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"bed-temp\"\n                              value={this.state.bed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ bed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Bed Temp\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 70,\n                                maxLength: 3\n                              }}\n                              error={(this.state.bed < 0 || this.state.bed > 70) ? true : false}\n                              helperText={\n                                (this.state.bed < 0 || this.state.bed > 70) ?\n                                \"Value must be at or between 0 and 70.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.bed < 0 || this.state.bed > 70) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          <Grid item>\n                          <FormControl className={classes.formControl}>\n                            <TextField\n                              id=\"speed-rate\"\n                              value={this.state.speed}\n                              onChange={(e) => {\n                                const { value } = e.target;\n                                this.setState({ speed: value });\n                              }}\n                              type=\"number\"\n                              label=\"Print Speed\"\n                              InputLabelProps={{\n                                shrink: true\n                              }}\n                              inputProps= {{\n                                min: 0,\n                                max: 150,\n                                maxLength: 3\n                              }}\n                              error={(this.state.speed < 0 || this.state.speed > 150) ? true : false}\n                              helperText={\n                                (this.state.speed < 0 || this.state.speed > 150) ?\n                                \"Value must be at or between 0 and 200.\" : \"\"\n                              }\n                            />\n\n                            <Typography\n                              display=\"inline\"\n                              style={{\n                                position: \"relative\",\n                                top: (this.state.speed < 0 || this.state.speed > 150) ? -50 : -28,\n                                left: 30,\n                                width: 14\n                              }}\n                            >%</Typography>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item style={{ marginTop: 20 }}>\n                          <FormGroup row>\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.supports}\n                                  onChange={(e) => {\n                                    this.setState({ supports: e.target.checked });\n                                  }}\n                                  name=\"checkSupports\"\n                                />\n                              }\n                              label=\"Supports\"\n                            />\n                            { this.state.userMode !== 'beginner' && (\n                            <FormControlLabel\n                              control={\n                                <Switch\n                                  checked={this.state.vase}\n                                  onChange={(e) => {\n                                    this.setState({ vase: e.target.checked });\n                                  }}\n                                  name=\"checkVase\"\n                                />\n                              }\n                              label=\"Vase Mode\"\n                            />\n                          )}\n                          </FormGroup>\n                        </Grid>\n                        { this.state.userMode === 'expert' && this.state.supports && (\n                          <>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"struc\">Support Structure</InputLabel>\n                              <Select\n                                labelId=\"struc\"\n                                value={this.state.structure}\n                                onChange={(e) => {\n                                  this.setState({ structure: e.target.value });\n                                }}\n                              >\n                              {this.state.structures && Object.entries(this.state.structures).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          <Grid item style={{ marginTop: 20 }}>\n                            <FormControl className={classes.formControl}>\n                              <InputLabel id=\"suptype\">Support Type</InputLabel>\n                              <Select\n                                labelId=\"suptype\"\n                                value={this.state.support_type}\n                                onChange={(e) => {\n                                  this.setState({ support_type: e.target.value });\n                                }}\n                              >\n                              {this.state.support_types && Object.entries(this.state.support_types).map((pattern, key) => {\n                                return (\n                                  <MenuItem key={key} value={pattern[0]}>{pattern[1]}</MenuItem>\n                                );\n                              })}\n                              </Select>\n                            </FormControl>\n                          </Grid>\n                          </>\n                        )}\n                        <Grid item>\n                        <FormControl className={classes.formControl} style={{display:'none'}}>\n                          <TextField\n                            id=\"standard-basic\"\n                            value={this.state.stlName}\n                            onChange={(e) => {\n                              const { value } = e.target;\n                              this.setState({ stlName: value });\n                              console.log(this.state.stlName);\n                            }}\n                            type=\"text\"\n                            label=\"Set File Name\"\n                          />\n                          </FormControl>\n                        </Grid>\n                        <Grid item container style={{ marginTop: 20, justifyContent:\"center\", flexDirection:\"column\" }}>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              style={{marginBottom:5}}\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, false);\n                              }}\n                            >\n                              Slice & Save\n                            </Button>\n                            <Button\n                              variant=\"contained\"\n                              color=\"primary\"\n                              onClick={async () => {\n                                //this.props.onClose();\n                                this.setState({ drawerOpen: false })\n                                await this.setSliceAndStartPrint(this.state.objRoot.children, true);\n                              }}\n                            >\n                              Slice & Print\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    </Grid>\n                  </AccordionDetails>\n                </Accordion>\n\n                <SettingsPanel />\n              </Drawer>\n              {/* <NavigationPanel /> */}\n              </AppContext.Provider>\n            </Grid>\n            </Grid>\n            {this.state.loading && (\n              <>\n                <img\n                  alt=\"print\"\n                  src={imgPrint}\n                  style={{\n                    width: 200,\n                    height: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 100px)\"\n                  }}\n                ></img>\n                <h4\n                  style={{\n                    width: 200,\n                    zIndex: 99999999,\n                    position: \"absolute\",\n                    left: \"calc(50% - 100px)\",\n                    top: \"calc(50% + 270px)\",\n                    textAlign: \"center\"\n                  }}\n                >\n                  Preparing File\n                </h4>\n              </>\n            )}\n            <Dialog\n              open={this.state.savedFile}\n              onClose={() => {\n                this.setState({ savedFile: false });\n                this.props.onClose();\n              }}\n              disableBackdropClick={true}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">{\"Gcode File Saved\"}</DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  The generated gcode has been added to your printer storage.\n                </DialogContentText>\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={() => {\n                    this.setState({ savedFile: false });\n                    this.props.onClose();\n                  }}\n                  color=\"primary\" className={classes.okButton} autoFocus>\n                  OK\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </div>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(SliceModal);\n","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Backdrop,\n  Button,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid,\n  IconButton,\n  Snackbar,\n  Table,\n  TableBody,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableCell,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  ArrowBack,\n  ArrowForward,\n  Close,\n  DeleteForever,\n  Folder,\n  FolderOpen,\n  Home,\n  Layers,\n  Slideshow,\n  SystemUpdateAlt\n} from \"@material-ui/icons\";\nimport { formatBytes, getStorage, setStorage } from \"../../../Utility/helpers\";\nimport protectedFiles from \"./protected_files.json\"\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport SliceModal from \"../SliceModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\"\n  },\n  modalContainer: {\n    padding: \"25px\",\n    width: 300,\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"200px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"20px\",\n    marginBottom: \"50px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"175px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  fileContainer: {\n    maxHeight: \"700px\",\n    overflow: \"auto\",\n    width: \"auto\"\n  },\n  fileLocation: {\n    overflow: \"scroll\",\n    height: \"400px\"\n  },\n  icon: {\n    width: \"40px\"\n  },\n  failOkButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n}));\n\nfunction Treeify(files) {\n  var fileTree = {};\n\n  if (files instanceof Array === false) {\n    throw new Error(\"Expected an Array of file paths, but saw \" + files);\n  }\n\n  files.forEach(function parseFilePath(file) {\n    var filePath = file.display;\n    var fileLocation = filePath.split(\"/\");\n\n    // If file is in root directory, eg 'index.js'\n    if (fileLocation.length === 1) {\n      return (fileTree[fileLocation[0]] = file);\n    }\n\n    fileLocation.reduce(function mergePathsIntoFileTree(\n      prevDir,\n      currDir,\n      i,\n      filePath\n    ) {\n      if (i === filePath.length - 1) {\n        prevDir[currDir] = file;\n      }\n\n      if (!prevDir.hasOwnProperty(currDir)) {\n        prevDir[currDir] = {};\n      }\n\n      return prevDir[currDir];\n    },\n    fileTree);\n  });\n\n  return fileTree;\n}\n\nfunction isFolder(filename) {\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n\n  for (let idx in fileTypes) {\n    if (filename.endsWith(fileTypes[idx])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction getFolderOnlyPath(o, id, path) {\n  //Early return\n  if (o === id) {\n    return path;\n  }\n  var result, p;\n  for (p in o) {\n    if (o.hasOwnProperty(p) && typeof o[p] === \"object\") {\n      if (isFolder(p)) {\n        path.push(p);\n        result = getFolderOnlyPath(o[p], id, path);\n        if (result) {\n          return result;\n        }\n      }\n    }\n  }\n  return path;\n}\n\nfunction getFileDirectory(rootFiles, newFiles) {\n  let directory = [];\n  let fileTypes = [\n    \".g\",\n    \".gcode\",\n    \".G\",\n    \".GCODE\",\n    \".stl\",\n    \".STL\",\n    \".3mf\",\n    \".3MF\",\n    \".zip\",\n    \".ZIP\"\n  ];\n  let fileKeys = Object.keys(newFiles);\n\n  for (let fileIdx in fileKeys) {\n    for (let idx in fileTypes) {\n      if (fileKeys[fileIdx].endsWith(fileTypes[idx])) {\n        if (newFiles[fileKeys[fileIdx]].hasOwnProperty(\"display\")) {\n          let parts = newFiles[fileKeys[fileIdx]].display.split(\"/\");\n          directory = parts;\n          directory.pop();\n          return directory;\n        }\n      } else {\n        directory = getFolderOnlyPath(rootFiles, newFiles, []);\n      }\n    }\n  }\n  return directory;\n}\n\nfunction getSize(files) {\n  let size = 0;\n  Object.keys(files).forEach((key, i) => {\n    if (files[key].hasOwnProperty(\"size\")) {\n      size += files[key].size;\n    } else {\n      if(typeof files[key] == \"object\") {\n        size += getSize(files[key]);\n      }\n    }\n  });\n\n  return size;\n}\n\nfunction isFileProtected(filename) {\n  for (let idx in protectedFiles) {\n    if(protectedFiles[idx].name == filename) {\n      return true;\n    }\n  }\n  return false;\n}\n\nconst FileManager = ({\n  drawerOpen,\n  setDrawerOpen,\n  fileLocation,\n  manage,\n  update,\n  showZip,\n  setShowZip,\n  showSnack,\n  setShowSnack,\n  snackMessage,\n  setSnackMessage,\n  handleSnackClose,\n  setCheckDisabled,\n  setText,\n  setRebootText,\n  machineName\n}) => {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [files, setFiles] = useState([]);\n  const [rootFiles, setRootFiles] = useState([]);\n  const [storageUsed, setStorageUsed] = useState(0);\n  const [storageFree, setStorageFree] = useState(0);\n  const [storageTotal, setStorageTotal] = useState(0);\n  const [directories, setDirectories] = useState({});\n  const [currentDirectory, setCurrentDirectory] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [retryCount, setRetryCount] = useState(0);\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://localhost:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(retryCount < maxRetryCount) {\n        setTimeout(() => {\n          setRetryCount(retryCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setText(\"This update requires a second run. Please try to install the update again.\");\n        setCheckDisabled(false);\n      }\n\n    });\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    if (drawerOpen) {\n      setLoading(true);\n      //make api call to fetch files\n      //use fileLocation (usb or local) to determine which call to make\n      async function getFiles() {\n        // Default options are marked with *\n        let response = null;\n\n        if (fileLocation === \"local\") {\n          response = await fetch(`http://localhost:2127/api/v1/files`, {\n            method: \"GET\"\n          });\n        } else {\n          await fetch(\"http://localhost:2127/api/v1/usb/refresh\", {\n            method: \"POST\"\n          });\n          response = await fetch(`http://localhost:2127/api/v1/usb/files`, {\n            method: \"GET\"\n          });\n        }\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n\n      getFiles().then((data) => {\n        if (fileLocation === \"local\") {\n          setFiles(data.files);\n          setStorageFree(data.free);\n          setStorageTotal(data.total);\n          setStorageUsed(data.total - data.free);\n        } else {\n          let fileTree = Treeify(data.files);\n          setFiles(fileTree);\n          setRootFiles(fileTree);\n        }\n        setLoading(false);\n      });\n\n    }\n  }, [drawerOpen, fileLocation]);\n\n  const handleZipCheck = () => {\n    console.log(selected);\n    setLoading(true);\n    setDrawerOpen(false);\n    setShowZip(false);\n    setCheckDisabled(true);\n\n    async function checkUpdates() {\n      // Default options are marked with *\n      const response = await fetch(\n        `http://localhost:2127/api/v1/usb/copy/${selected}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    checkUpdates().then((data) => {\n      console.log(data);\n      setLoading(false);\n      //after api call\n      if (data.updated) {\n        setStorage(\"updated\", \"yes\");\n        setSnackMessage(\"Software Updated. Rebooting...\");\n        setShowSnack(true);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          attemptReboot();\n        }, 3000);\n      } else {\n        handleClickOpen();\n        setCheckDisabled(true);\n        setSnackMessage(\"Software Update Failed. Reverted to previous version.\");\n        setShowSnack(true);\n      }\n    });\n  }\n\n  const handleSelect = () => {\n    console.log(selected);\n    setLoading(true);\n    if (fileLocation === \"local\") {\n      //call api to print file\n      let selected_file = selected.split('\\\\').pop().split('/').pop();\n      fetch(`http://localhost:2127/api/v1/job/${selected_file}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then((data) => {\n        setLoading(false);\n        setDrawerOpen(() => false);\n        //call function or swap to status screen\n        setSelected(\"\");\n        setShowTooltip(false);\n        setShowModal(false);\n      });\n    } else {\n        fetch(`http://localhost:2127/api/v1/usb/copy/${selected}`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" }\n        }).then((data) => {\n          let selected_file = selected.split('\\\\').pop().split('/').pop();\n          fetch(`http://localhost:2127/api/v1/job/${selected_file}`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" }\n          }).then((data) => {\n            setLoading(false);\n            setDrawerOpen(() => false);\n            //call function or swap to status screen\n            setSelected(\"\");\n            setShowTooltip(false);\n            setShowModal(false);\n          });\n        });\n    }\n  };\n\n  const deleteFile = () => {\n    setLoading(true);\n\n    fetch(`http://localhost:2127/api/v1/files/local/${selected}`, {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" }\n    }).then(response => response.json()).then((data) => {\n      fetch(`http://localhost:2127/api/v1/files`, {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" }\n      }).then(response => response.json()).then((data) => {\n        setLoading(false);\n        setFiles(data.files);\n        setStorageFree(data.free);\n        setStorageTotal(data.total);\n        setStorageUsed(data.total - data.free);\n      });\n    });\n\n  };\n\n  const resetFiles = (newFiles) => {\n    if (currentDirectory) {\n      directories[currentDirectory] = newFiles;\n      setDirectories(directories);\n    }\n    setFiles(newFiles);\n  };\n\n  const folderSelected = (newFiles, directory) => {\n    setCurrentDirectory(directory);\n    setSelected(newFiles);\n  };\n\n  const exitFiles = () => {\n    setFiles([]);\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div>\n      {!manage && !update && (\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {machineName}\n          </Typography>\n        </AppBar>\n      )}\n      <div className={classes.header}>\n        {!manage && !update && (\n          <h2 style={{marginLeft: 10}}>\n            {(\n              fileLocation.toUpperCase() === 'USB' ? 'USB Media' : 'Printer Storage'\n            )}\n          </h2>\n        )}\n        {!manage && !update && (\n        <IconButton aria-label=\"back\" onClick={() => exitFiles()} style={{ position:'absolute', right:0}}>\n          <Close />\n        </IconButton>\n        )}\n      </div>\n      {fileLocation === \"usb\" && (\n        <Container className={classes.fileContainer}>\n          <Grid container direction=\"row\" style={{background: '#525252'}}>\n            <Grid\n              item\n              style={{ alignSelf: \"center\" }}\n              onClick={() => resetFiles(rootFiles)}\n            >\n              <Typography variant=\"h6\">\n                <IconButton aria-label=\"back\"  className={classes.icon}>\n                  <Home />\n                </IconButton>\n              </Typography>\n            </Grid>\n            {getFileDirectory(rootFiles, files).map((folder, index, {length}) => {\n              if (isFolder(folder)) {\n                return (\n                  <Grid\n                    item\n                    style={{ alignSelf: \"center\" }}\n                    onClick={() => resetFiles(directories[folder])}\n                    key={folder}\n                  >\n                    <Typography variant=\"h6\">\n                      <IconButton aria-label=\"back\"  className={classes.icon}>\n                        <ArrowForward />\n                      </IconButton>\n                      {index + 1 === length && (\n                        <IconButton aria-label=\"back\"  className={classes.icon}>\n                          <Folder />\n                        </IconButton>\n                      )}\n                      {folder}\n                    </Typography>\n                  </Grid>\n                );\n              } else {\n                return <></>;\n              }\n            })}\n          </Grid>\n        </Container>\n      )}\n      {loading ? (\n        <Backdrop className={classes.backdrop} open={true}>\n          <img\n            alt=\"print\"\n            src={imgPrint}\n            style={{ width: 200, height: 200, zIndex: 99999999 }}\n          ></img>\n        </Backdrop>\n      ) : (\n        <Container className={classes.fileContainer}>\n          <TableContainer className={classes.fileList}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Name</TableCell>\n                  <TableCell>Size</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {fileLocation === \"local\"\n                  ? files &&\n                    files.map((file, index) => {\n                      if(!manage || (manage && !isFileProtected(file.name))) {\n                        return (\n                          <TableRow\n                            key={file.display}\n                            onClick={() => setSelected(file.display)}\n                            selected={selected === file.display}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell>\n                              <IconButton aria-label=\"back\">\n                                {manage ? (\n                                  <DeleteForever />\n                                ) : (\n                                  <Slideshow />\n                                )}\n                              </IconButton>\n                              {file.display}\n                            </TableCell>\n                            <TableCell>{formatBytes(file.size)}</TableCell>\n                          </TableRow>\n                        );\n                      }\n                    })\n                  : files &&\n                    Object.keys(files).map((file, index) => {\n                      if (isFolder(file)) {\n                        return (\n                          <TableRow\n                            key={file}\n                            onClick={() => folderSelected(files[file], file)}\n                            selected={selected === files[file]}\n                            className={classes.summary}\n                            classes={{\n                              selected: classes.selected,\n                              hover: classes.hover\n                            }}\n                          >\n                            <TableCell style={{\n                              width: update ? '400px' : '100%'\n                            }}>\n                              <IconButton aria-label=\"back\" className={classes.icon}>\n                                <FolderOpen />\n                              </IconButton>\n                              {file}\n                            </TableCell>\n                            <TableCell>\n                              {formatBytes(getSize(files[file]))}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      } else {\n                        if(\n                          (files[file].display.includes(\".zip\") ||\n                          files[file].display.includes(\".ZIP\")) &&\n                          (\n                          /^300x-(\\d+).(\\d+).(\\d+).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n\n                          /^300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Beta.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n\n                          /^300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-Alpha.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n\n                          /^300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-beta.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n\n                          /^300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+) \\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+)\\((\\d+)\\).zip$/.test(file) ||\n                          /^(.+)300x-(\\d+).(\\d+).(\\d+)-alpha.(\\d+) \\((\\d+)\\).zip$/.test(file)\n                          )\n                        ) {\n                          if(update) {\n                            if((\n                                (\n                                  file.includes('alpha') ||\n                                  file.includes('Alpha') ||\n                                  file.includes('Beta') ||\n                                  file.includes('beta')\n                                ) &&\n                                getStorage('allowPrerelease')\n                              ) || (\n                                !file.includes('alpha') &&\n                                !file.includes('Alpha') &&\n                                !file.includes('Beta') &&\n                                !file.includes('beta')\n                              )\n                            ) {\n                              return (\n                                <TableRow\n                                  key={file}\n                                  onClick={() => setSelected(files[file].display)}\n                                  selected={selected === files[file].display}\n                                  className={classes.summary}\n                                  classes={{\n                                    selected: classes.selected,\n                                    hover: classes.hover\n                                  }}\n                                >\n                                  <TableCell style={{width: \"400px\"}}>\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <SystemUpdateAlt />\n                                    </IconButton>\n                                    {file}\n                                  </TableCell>\n                                  <TableCell>{formatBytes(files[file].size)}</TableCell>\n                                </TableRow>\n                              );\n                            }\n                          }\n                        } else {\n                          if(!update && !(\n                            files[file].display.includes(\".zip\") ||\n                            files[file].display.includes(\".ZIP\"))\n                          ) {\n                            return (\n                              <TableRow\n                                key={file}\n                                onClick={() => setSelected(files[file].display)}\n                                selected={selected === files[file].display}\n                                className={classes.summary}\n                                classes={{\n                                  selected: classes.selected,\n                                  hover: classes.hover\n                                }}\n                              >\n                                <TableCell>\n                                  {file.endsWith(\".g\") ||\n                                  file.endsWith(\".gcode\") ||\n                                  file.endsWith(\".G\") ||\n                                  file.endsWith(\".GCODE\") ? (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Slideshow />\n                                    </IconButton>\n                                  ) : (\n                                    <IconButton aria-label=\"back\"  className={classes.icon}>\n                                      <Layers />\n                                    </IconButton>\n                                  )}\n                                  {file}\n                                </TableCell>\n                                <TableCell>{formatBytes(files[file].size)}</TableCell>\n                              </TableRow>\n                            );\n                          }\n                        }\n                      }\n                    })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Container>\n      )}\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-around\"\n        alignItems=\"center\"\n      >\n      {manage ? (\n        <Grid\n          container\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Button\n            variant=\"contained\"\n            disabled={selected.length <= 0}\n            onClick={() => deleteFile()}\n            className={classes.printButton}\n          >\n            Delete\n          </Button>\n\n          <Typography variant=\"h6\">\n            {\n              formatBytes(storageUsed)\n            } used of {\n              formatBytes(storageTotal)\n            } total, leaving {\n              formatBytes(storageFree)\n            } available\n          </Typography>\n          </Grid>\n      ) : typeof selected !== \"object\" &&\n      (selected.endsWith(\".g\") ||\n        selected.endsWith(\".gcode\") ||\n        selected.endsWith(\".G\") ||\n        selected.endsWith(\".GCODE\")) ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => handleSelect(false)}\n          className={classes.printButton}\n        >\n          Print\n        </Button>\n      ) : typeof selected === \"object\" ? (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => resetFiles(selected)}\n          className={classes.printButton}\n        >\n          Open Folder\n        </Button>\n      ) : update &&\n        (selected.endsWith(\".zip\") || selected.endsWith(\".ZIP\")) &&\n        (/^(.+)300x-([\\s\\S]*).zip$/.test(selected) ||\n        /^300x-([\\s\\S]*).zip$/.test(selected)\n        ) ? (\n         <Button\n           variant=\"contained\"\n           disabled={selected.length <= 0}\n           onClick={() => handleZipCheck()}\n           className={classes.printButton}\n         >\n           Update from ZIP\n         </Button>\n      ) : (\n        <Button\n          variant=\"contained\"\n          disabled={selected.length <= 0}\n          onClick={() => {\n            setLoading(true);\n            setShowModal(true);\n          }}\n          className={classes.printButton}\n        >\n          Slice\n        </Button>\n      )}\n      </Grid>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"An Error Occured Installing Update\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            The update you chose did not install correctly. The previous software\n            version has been re-applied. Please try installing again. If the\n            update continues to fail, please download the latest update from &nbsp;\n            <b>\n              https://github.com/makermadecnc/300x-releases/releases\n            </b> and try again.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" className={classes.failOkButton} autoFocus>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <SliceModal\n        file={selected}\n        shown={showModal}\n        onClose={() => {\n          setLoading(false);\n          setShowModal(false);\n        }}\n      />\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </div>\n  );\n};\n\nexport default FileManager;\n","import React, { useState } from \"react\";\nimport { Button, Grid, CircularProgress, Snackbar, Typography } from \"@material-ui/core\";\nimport { ArrowForward } from \"@material-ui/icons\";\nimport UpdateIcon from \"@material-ui/icons/Update\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage, setStorage, requestCount, setRequestCount } from \"../../../Utility/helpers\";\nimport FileManager from '../../Common/FileManager/FileManager';\n\nconst useStyles = makeStyles({\n  checker: {\n    flex: 2,\n  },\n  updateButton: {\n    width: \"300px\",\n    height: \"50px\",\n    fontSize: \"14px\",\n    margin: \"10px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  },\n  zipContainer: {\n    flex: \"initial\"\n  }\n});\n\nconst Update = ({ autoCheck, handleOnboarding, firstBoot, setStep , fastTrackUpdate, setFastTrackUpdate}) => {\n  const classes = useStyles();\n\n  const [checking, setChecking] = useState(false);\n  const [text, setText] = useState(\"Update device\");\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [rebootMessage, setRebootMessage] = useState(false);\n  const [updateChecked, setUpdateChecked] = useState(false);\n  const [updates, setUpdates] = useState(false);\n  const [checkDisabled, setCheckDisabled] = useState(false);\n  const [offline, setOffline] = useState(true);\n  const [showZip, setShowZip] = useState(false);\n  const [drawerOpen, setDrawerOpen] = useState(true);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const [rebootText, setRebootText] = useState(\"DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\");\n  const maxRetryCount = 5;\n\n  const attemptReboot = () => {\n    fetch(`http://localhost:8990/reboot`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).catch((err) => {\n\n      if(requestCount < maxRetryCount) {\n        setTimeout(() => {\n          setRequestCount(requestCount+1);\n          attemptReboot();\n        }, 500);\n      } else {\n        setText(\"This update requires a second run. Please try to install the update again.\");\n        setUpdates(true);\n        setChecking(false);\n        setCheckDisabled(false);\n      }\n\n    });\n  };\n\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  useMountEffect(() => {\n    if (autoCheck) {\n      handleCheck();\n    }\n\n    if(getStorage(\"updated\") == \"yes\") {\n      firstBoot && setStep(2);\n    }\n\n    async function checkOnline() {\n      const response = await fetch(\n        `http://localhost:2127/api/v1/check/internet/connection`,\n        {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n\n    checkOnline().then((data) => {\n      //after api call\n      if (data.online) {\n        setOffline(false);\n      } else {\n        setOffline(true);\n      }\n    });\n\n    if(fastTrackUpdate) {\n      setChecking(false);\n      setUpdates(true);\n      setUpdateChecked(true);\n      setFastTrackUpdate(false);\n    }\n\n  });\n\n  const handleCheck = () => {\n    if (firstBoot && updateChecked) {\n      setStorage(\"updated\", \"yes\");\n      setStep(2);\n    } else {\n      setText(\"Checking for updates...\");\n      setChecking(true);\n      //make api call\n      //await POST body to http://localhost:8990/connect\n      async function checkUpdates() {\n        // Default options are marked with *\n        const response = await fetch(\n          `http://localhost:2127/api/v1/update/software/check`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }\n        );\n        return response.json(); // parses JSON response into native JavaScript objects\n      }\n      checkUpdates().then((data) => {\n        console.log(data);\n        //after api call\n        if (data.update) {\n          setChecking(false);\n          //if updates present\n          setText(data.message);\n          setReleaseNotes(data.releaseNotes);\n          setUpdates(true);\n          setUpdateChecked(true);\n        } else {\n          setChecking(false);\n          setText(data.message);\n          setUpdateChecked(true);\n        }\n      });\n    }\n  };\n  const handleDownload = () => {\n    //console.log(\"handleDownload state 1 of 6; Entry point\");\n    //await POST body to http://localhost:8990/connect\n    async function downloadUpdates() {\n      //console.log(\"handleDownload state 2 of 6; downloadUpdates called\");\n      // Default options are marked with *\n      const response = await fetch(\n        `http://localhost:2127/api/v1/update/software`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setChecking(true);\n    setText(\"Downloading, please wait...\");\n    setUpdates(false);\n    //call download api\n    downloadUpdates().then((data) => {\n      //console.log(\"handleDownload state 3 of 6; Await'd downloadUpdates\");\n      console.log(data);\n      //after api call\n      if (data.updated) {\n        //console.log(\"handleDownload state 4 of 6; data.updated === true\");\n        //after api call\n        setChecking(false);\n        if (firstBoot) {\n          setStorage(\"initialUpdate\", 1);\n        }\n        //on success\n        setText(data.message);\n        setRebootMessage(true);\n        setCheckDisabled(true);\n        setStorage(\"updated\", \"yes\");\n\n        //console.log(\n        //  \"handleDownload state 5 of6 ; Waiting 3 seconds and then calling reboot\"\n        //);\n        setTimeout(() => {\n          //console.log(\"handleDownload state 6 of ; Calling reboot\");\n          setRequestCount(0);\n          attemptReboot();\n        }, 3000);\n      } else {\n        console.log(\"handleDownload state error of 6; Entry point\");\n        //on failure\n        setText(data.message);\n        setUpdates(true);\n        setCheckDisabled(false);\n      }\n    }).catch((err) => {\n      setText(\"The update failed to run. Please try again.\");\n      setUpdates(true);\n      setCheckDisabled(false);\n    });\n  };\n  const handleSkip = () => {\n    setStep(2);\n  };\n  const handleZipUpdate = () => {\n    setShowZip(true);\n  };\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      alignItems=\"center\"\n      style={{height: \"100%\"}}\n    >\n      {!checkDisabled && firstBoot && (\n        <Button\n          style={{ alignSelf: \"flex-end\", marginTop: \"15px\" }}\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={handleSkip}\n        >\n          Skip\n        </Button>\n      )}\n\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        className={showZip ? classes.zipContainer : classes.updateContainer}\n      >\n        {(checking || !drawerOpen) && <CircularProgress color=\"secondary\" />}\n        <UpdateIcon\n          style={{\n            fontSize: 100,\n            width: \"100%\",\n            textAlign: \"center\",\n            marginBottom: 20\n          }}\n        />\n        {text.length > 0 && (\n          <>\n          <Typography variant=\"h3\" style={{\n            textAlign: \"center\",\n            marginBottom: showZip ? 20 : 0\n          }}>\n            {text}\n          </Typography>\n          {releaseNotes && (\n            <Typography variant=\"h5\" style={{\n                textAlign: \"left\",\n                marginTop: 5,\n                marginBottom: showZip ? 20 : 0\n              }}\n              dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n          )}\n          </>\n        )}\n        {(rebootMessage || !drawerOpen) && (\n          <div>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              Your printer should reboot after applying the update, this will\n              take approximately 2 minutes.\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ marginTop: 60, textAlign: \"center\" }}\n            >\n              {rebootText}\n            </Typography>\n          </div>\n        )}\n        {updates && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={offline}\n            onClick={handleDownload}\n            style={{ marginTop: \"24px\" }}\n            className={classes.updateButton}\n          >\n            Download Update\n          </Button>\n        )}\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        className={showZip ? classes.zipContainer : classes.checker}\n        style={{\n          display: checkDisabled || showZip ? 'none' : 'inherit'\n        }}\n      >\n        {!updates && !checking && !showZip && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={checking || checkDisabled || offline}\n            onClick={handleCheck}\n            className={classes.updateButton}\n          >\n            {firstBoot && updateChecked ? \"Next\" : \"Check Online for Updates\"}\n          </Button>\n        )}\n        {!updates && !checking && !showZip && (\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={checking || checkDisabled}\n            onClick={handleZipUpdate}\n            className={classes.updateButton}\n          >\n            Update via Zip File\n          </Button>\n        )}\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n        style={{\n          display: showZip ? 'inherit' : 'none'\n        }}\n      >\n        <FileManager\n          fileLocation={'usb'}\n          drawerOpen={drawerOpen}\n          setDrawerOpen={setDrawerOpen}\n          manage={false}\n          update={true}\n          showZip={showZip}\n          setShowZip={setShowZip}\n          showSnack={showSnack}\n          setShowSnack={setShowSnack}\n          snackMessage={snackMessage}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setCheckDisabled={setCheckDisabled}\n          setRebootText={setRebootText}\n          setText={setText}\n        />\n      </Grid>\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </Grid>\n  );\n};\n\nexport default Update;\n","const TutorialLayouts = {\n  ButtonSingle: \"single-button\",\n  AxisManipulation: \"axis-manipulation\",\n  ButtonMulti: \"multi-button\",\n  ThermalGate: \"thermal-gate\",\n  DualThermalGate: \"dual-thermal-gate\"\n};\n\nexport default TutorialLayouts;\n","import TutorialLayouts from \"./TutorialLayouts\";\n\nconst TutorialDefinitions = {\n  firstRun: {\n    userVisable: false,\n    name: \"Initial Setup\",\n    description: \"\",\n    exitActions: [\n      {\n        type: \"nozzletemp\",\n        params: [0]\n      },\n      {\n        type: \"bedtemp\",\n        params: [0]\n      }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"continue\", params: [] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [3] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\"\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"You are now ready to load the filament!%BREAK%Take your roll and pull out the end from the storage slot in the side. Cut the bent end of the filament off at a 90 degree angle to make it easier to load.%BREAK%Hang the filament on the spool holder.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To load the filament, squeeze the silver lever next to the gears and push the cut end of the filament by hand into the tube.%BREAK%Push the filament all the way to the end of the tube until you see melted filament coming out of the nozzle.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'To ensure that the printer is setup correctly, this process will initiate a quick test print.%BREAK%Ensure that there is filament loaded into the machine and then press \"Preheat\" to begin'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 220,\n        minimumBedTemp: 50,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 60 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [22] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%Did the print pop off or curl up off of the bed while printing?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [\"\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Do you want to repeat the calibration process, or skip calibration and exit for now?\"\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text:\n          'Before you get started printing, the BLTouch sensor needs to be calibrated. Make sure the print bed is clear and then tap \"Start\" to begin.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Grab a piece of printer paper and place it between the printer's nozzle and the build surface.`\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it did in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [{ type: \"jumpto\", params: [18] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [23] }]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      }\n    ]\n  },\n\n  blTouchCalibration: {\n    userVisable: true,\n    name: \"Calibrate BLTouch Sensor\",\n    description: \"Calibrate the z-offset with the BLTouch sensor.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"zoffsetstart\", params: [] }\n        ],\n        text: `Make sure the print bed is clear and then tap \"Start\" to begin.`,\n        image: '1-sensor-hot-end.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `The BLTouch will move to the middle of the plate, the probe will trigger, and then it will move up off of the surface by a small amount.%BREAK%Wait until the sensor clicks twice for a reading and the nozzle moves to the center.%BREAK%Then, grab a piece of printer paper and place it between the printer's nozzle and the build surface.`,\n        image: '2-paper-under-nozzle.jpeg'\n      },\n      {\n        layout: TutorialLayouts.AxisManipulation,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"savezoffset\", params: [] }\n        ],\n        axisX: false,\n        axisY: false,\n        axisZ: true,\n        text: `Using the controls below, adjust the nozzle's Z position so that it makes contact with the paper.%BREAK%First use the \"-1.0mm\" (down) and \"+1.0mm\" (up) buttons to move the nozzle close to the paper.%BREAK%Then use the \"-0.1mm\" (down) and \"+0.1mm\" (up) buttons until the nozzle touches the paper.%BREAK% %BREAK%Dragging the paper back and forth, you should feel a lot of resistance on the paper, possibly leaving scratch marks.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: `Calibration complete. Press \"Exit\" to finish this tutorial.`\n      }\n    ]\n  },\n\n  bedLevelCornerCalibration: {\n    userVisable: true,\n    name: \"Level the printing bed corners\",\n    description: \"Level the printing bed corners sequentially.\",\n    exitActions: [],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"home\", params: [] },\n          { type: \"movexy\", params: [150, 150] }\n        ],\n        text: `Place a sheet of printer paper on the center of the print bed. Ensure the bed is clear of anything else and then press \"Start\". The nozzle will move to the center of the print bed.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `The nozzle will now move to each corner twice.%BREAK%Each time, adjust the corresponding knob under each position until the paper moves with about the same resistance as it does in the center.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 270] }\n        ],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 270] }\n        ],\n        text: `Adjust the back left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [30, 30] }\n        ],\n        text: `Adjust the back right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"movexy\", params: [270, 30] }\n        ],\n        text: `Adjust the front left knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: `Adjust the front right knob to move the print bed up and down. Move it so that the paper moves with about the same resistance as it did in the center of the print bed.%BREAK%Turn the knob clockwise to lower the bed and counter-clockwise to raise it.`\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bNo\",\n            buttonText: \"No\",\n            buttonActions: [{ type: \"jumpto\", params: [1] }]\n          },\n          {\n            id: \"bYes\",\n            buttonText: \"Yes\",\n            buttonActions: [\n              { type: \"bl_level\", params: [] },\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text: `Are all corners leveled to the same height?`\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [\n          { type: \"exit\", params: [] }\n        ],\n        text: \"The leveling process is complete.\"\n      }\n    ]\n  },\n  loadFilament: {\n    userVisable: true,\n    name: \"Load Filament\",\n    description: \"The steps required to load a new filament into the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Start\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text:\n          \"To print, you have to have a material loaded into the 3D printer's extruder. The material is called filament, and the extruder is the portion of the machine that moves and melts the filament used to print.%BREAK%The type of filament that came with your printer is PLA, a plant-based plastic that's safe and easy to print with!%BREAK%Press \\\"Start\\\" to begin.\",\n        image: '3-filament.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          \"Your printer's nozzle has to be at the proper temperature to melt the filament when you load it. Press \\\"Preheat\\\" to heat up your printer's nozzle. Once it reaches 220 °C, it will be ready to load.%BREAK%Remember, it will be hot, so don't touch it!\",\n          image: '4-nozzle.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 210,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached an appropriate temperature.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bLoad\",\n            buttonText: \"Load Filament\",\n            buttonActions: [\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] },\n              { type: \"load\", params: [100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Filament Loaded\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"You are now ready to load the filament!%BREAK%Hang the filament on the spool holder and pull out the end from the storage slot on its side.%BREAK%Cut any bent parts off at a 45 degree angle, so it is easier to load into the printer.%BREAK%Squeeze the silver lever next to the gears and push the cut end of the filament into the small hole in the lever until it stops.%BREAK%To manually load the filament, push it all the way into the tube until you see your filament color melting out of the end of the nozzle. Then press Filament Loaded.%BREAK%To automatically load the filament, tap Load Filament. The gear will pull the filament all the way through the tube until you see your color melting out the end. Then press Filament Loaded.\",\n        image: '5-extruder-lever.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown and Exit\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"exit\", params: [] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Test Print\",\n            buttonActions: [{ type: \"exit\", params: ['test_print'] }]\n          }\n        ],\n        text:\n          'Your filament is now loaded!%BREAK%Press Test Print to test your printer and ensure that the proper height is set for your BLTouch Calibration Sensor.%BREAK%If you are not ready to print now, press Cooldown and Exit.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  unloadFilament: {\n    userVisable: true,\n    name: \"Unload Filament\",\n    description:\n      \"The steps required to remove a previously loaded filament from the printer\",\n    exitActions: [{ type: \"nozzletemp\", params: [0] }],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] }\n        ],\n        text:\n          'To unload filament from the printer, the nozzle must be preheated because the filament is solid at room temperature and is consequently stuck inside the extruder.%BREAK%Press \"Preheat\" to start preheating the extruder to 220 °C.%BREAK%Remember that it will be hot, so don\\'t touch it!'\n      },\n      {\n        layout: TutorialLayouts.ThermalGate,\n        minimumTemp: 220,\n        buttonText: \"Next\",\n        buttonActions: [{ type: \"continue\", params: [] }],\n        text: \"Please wait for the printer's nozzle to reach 220 °C\",\n        gateText:\n          'The nozzle has reached a temperature of 220 °C.%BREAK%Press \"Next\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        minimumExtruderTemp: 205,\n        buttons: [\n          {\n            id: \"bUnload\",\n            buttonText: \"UnLoad Filament\",\n            buttonActions: [\n              { type: \"load\", params: [10] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] },\n              { type: \"load\", params: [-100] }\n            ]\n          },\n          {\n            id: \"bNext\",\n            buttonText: \"Next\",\n            buttonActions: [{ type: \"continue\", params: [] }],\n          }\n        ],\n        text:\n          \"To unload the filament, squeeze the silver lever next to the gears and push the filament until you see it coming out of the end of the nozzle. Then, pull the filament out of the tube in one fluid motion. This enures that the end is fully melted and will make it easier to remove from the Bowden tube.\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCooldown\",\n            buttonText: \"Cooldown\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [{ type: \"exit\", params: [] }]\n          }\n        ],\n        text:\n          'Your filament is now unloaded! Rewrap the filament around the roll and put the end into the storage slot on the side.%BREAK%If you are not going to load a new filament into the machine, press the \"Cooldown\" button so the extruder does not stay hot.%BREAK%If you are going to load another filament into the machine, pressing \"Exit\" will exit this tutorial while leaving the extruder preheated.'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text:\n          'The printer\\'s extruder is now set to cool down. Press the \"Exit\" button to exit this tutorial.'\n      }\n    ]\n  },\n  printTestCube: {\n    userVisable: true,\n    name: \"Test Print\",\n    description:\n      \"Print a small object to test the functionality of your printer\",\n    exitActions: [\n      { type: \"nozzletemp\", params: [0] },\n      { type: \"bedtemp\", params: [0] }\n    ],\n    steps: [\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Preheat\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"nozzletemp\", params: [220] },\n          { type: \"bedtemp\", params: [50] }\n        ],\n        text:\n          'Let’s run a square test print to ensure your printer is set up correctly!%BREAK%Ensure filament is loaded into the machine and press Preheat to begin.%BREAK%This is what your print should look like when finished!%BREAK%Notice the 90° angle of the square and the consistent layer lines.',\n        image: '6-test-print.jpeg'\n      },\n      {\n        layout: TutorialLayouts.DualThermalGate,\n        minimumExtruderTemp: 210,\n        minimumBedTemp: 45,\n        buttonText: \"Print\",\n        buttonActions: [\n          { type: \"continue\", params: [] },\n          { type: \"printtest\", params: [] }\n        ],\n        text:\n          \"Please wait for the printer's nozzle to reach 220 °C and for the bed to reach 50 °C.\",\n        gateText: 'Preheat complete.%BREAK%Press \"Print\" to continue.'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bYes\",\n            buttonText: \"Troubleshoot\",\n            buttonActions: [{ type: \"jumpto\", params: [4] }]\n          },\n          {\n            id: \"bNo\",\n            buttonText: \"Finish and Exit\",\n            buttonActions: [\n              { type: \"continue\", params: [] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          }\n        ],\n        text:\n          \"Please wait for the print to complete.%BREAK%When finished, does your print look like this? Notice the 90° angle of the square and the consistent layer lines.%BREAK%If your print looks like this, press Finish and Exit.%BREAK%If your print looks smashed, came loose from the build plate, or something else happened, press Troubleshoot.\",\n        image: '6-test-print.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonSingle,\n        buttonText: \"Exit\",\n        buttonActions: [{ type: \"exit\", params: [] }],\n        text: \"Congratulations, your printer is now properly setup for use!\"\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate BLTouch Sensor\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Looks Different / Something Else\",\n            buttonActions: [\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If the nozzle is not close enough, the layers will not stack correctly.%BREAK%Here is an example print from a nozzle that is too far away.%BREAK%If the model comes loose while printing, the BLTouch calibration should be lowered by a tiny bit.\",\n        image: '7-test-print-high.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Recalibrate BLTouch Sensor\",\n            buttonActions: [\n              { type: \"exit\", params: [\"request-calibration\"] },\n              { type: \"nozzletemp\", params: [0] },\n              { type: \"bedtemp\", params: [0] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Looks Different / Something Else\",\n            buttonActions: [\n              { type: \"continue\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If the nozzle is too close, your print will look smashed like this example.%BREAK%The nozzle can also be so close that it drags into the build plate and filament doesn’t have enough room to extrude into lines.%BREAK%In this case, the BLTouch calibration should be raised by a tiny bit.\",\n        image: '8-test-print-low.jpeg'\n      },\n      {\n        layout: TutorialLayouts.ButtonMulti,\n        buttons: [\n          {\n            id: \"bCalibrate\",\n            buttonText: \"Load Filament\",\n            buttonActions: [\n              { type: \"exit\", params: [\"load-filament\"] }\n            ]\n          },\n          {\n            id: \"bExit\",\n            buttonText: \"Exit\",\n            buttonActions: [\n              { type: \"exit\", params: [] }\n            ]\n          }\n        ],\n        text:\n          \"If no filament came out, the filament may not be loaded all the way to the nozzle.%BREAK%If the machine made any loud sounds or it didn’t print in a square, refer to the Quick Start Guide to check that all of the motor and limit switch connections are fully connected into their proper places.%BREAK%If none of these solutions worked for you, exit and contact support@makermade.com and we will get you printing!\",\n        image: '9-connections.jpeg'\n      }\n    ]\n  }\n};\n\nexport default TutorialDefinitions;\n","import React from \"react\";\nimport \"./style.css\";\n\nfunction TutorialThermometer(props) {\n  return (\n    <div className=\"big-thermometer\">\n      <div className=\"big-thermometer-container\">\n        <div className=\"big-thermometer-bulb-container\"></div>\n        <div className=\"big-thermometer-indicator-container\">\n          <div\n            className=\"big-thermometer-indicator\"\n            style={{\n              height: `${\n                15 + 85 * ((props.value - props.min) / (props.max - props.min))\n              }%`\n            }}\n          ></div>\n          <div className=\"big-thermometer-bulb\">\n            <span>{props.value}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TutorialThermometer;\n","class GCodeBuilder {\n  constructor() {\n    this._actions = [];\n  }\n\n  build() {\n    let retString = \"\";\n    for (let i = 0; i < this._actions.length; i++) {\n      retString += this._actions[i] + \"\\n\";\n    }\n    return retString;\n  }\n\n  addCommand(command) {\n    this._actions.push(command);\n  }\n}\n\nfunction GGetZProbeOffset() {\n  return `M851`;\n}\n\nfunction GSetZProbeOffset(offset) {\n  return `M851 Z${offset}`;\n}\n\nfunction GStoreParams() {\n  return `M500`;\n}\n\nfunction GLoadParams() {\n  return `M501`;\n}\n\nfunction Home() {\n  return `G28`;\n}\n\nfunction NineZero() {\n  return `G90`;\n}\n\nfunction BlLevel() {\n  return `G29 T`;\n}\n\n/**\n *\n * @param {Boolean} x Home the X axis?\n * @param {Boolean} y Home the Y axis?\n * @param {Boolean} z Home the Z axis?\n */\nfunction GMoveToOrigin(x, y, z) {\n  if (x && y && z) {\n    return `G28`;\n  } else {\n    return `G28${x ? \"X \" : \"\"}${y ? \"Y \" : \"\"}${x ? \"Z \" : \"\"}`;\n  }\n}\n\nfunction GSetToRelativePositioning() {\n  return \"G91\";\n}\n\nfunction GSetToAbsolutePositioning() {\n  return \"G90\";\n}\n\nfunction GSetSoftwareEndstops(enabled) {\n  if (enabled) {\n    return \"M211 S1\";\n  } else {\n    return \"M211 S0\";\n  }\n}\n\nfunction GLinearMove(doX, doY, doZ, xPos, yPos, zPos) {\n  if (doX || doY || doZ) {\n    return `G1${doX ? ` X${xPos}` : \"\"}${doY ? ` Y${yPos}` : \"\"}${\n      doZ ? ` Z${zPos}` : \"\"\n    }`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GExtrude(distance, temp) {\n  if (temp > 219) {\n    return `G91\\nG1 E${distance} F300\\nM114`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction GSetExtruderTemp(temp) {\n  return `M104 S${temp}`;\n}\n\nfunction GSetBedTemp(temp) {\n  return `M140 S${temp}`;\n}\n\nfunction GDisableAllMotors() {\n  return `M18`;\n}\n\nfunction GEnableAllMotors() {\n  return `M17`;\n}\n\nexport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  Home,\n  NineZero,\n  BlLevel,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  GEnableAllMotors,\n  GDisableAllMotors\n};\n","import React from \"react\";\nconst TempContext = React.createContext({\n  bedTarget: 0,\n  nozzleTarget: 0,\n  bed: 0,\n  nozzle: 0,\n  zOffset: 0,\n  setBedTarget: (temp) => {},\n  setNozzleTarget: (temp) => {},\n  setBed: (temp) => {},\n  setNozzle: (temp) => {},\n  steppersEnabled: true,\n  setSteppersEnabled: (val) => {},\n  setZOffset: (val) => {}\n});\n\nexport default TempContext;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport TutorialLayouts from \"../TutorialLayouts\";\nimport {\n  Button,\n  Container,\n  Grid,\n  IconButton,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Paper,\n  Snackbar,\n  Tabs,\n  Tab,\n  AppBar\n} from \"@material-ui/core\";\nimport { ArrowDownward, ArrowUpward, CloseSharp } from \"@material-ui/icons\";\nimport TutorialThermometer from \"../TutorialThermometer/TutorialThermometer\";\nimport {\n  GCodeBuilder,\n  GExtrude,\n  GGetZProbeOffset,\n  GSetZProbeOffset,\n  GStoreParams,\n  GLoadParams,\n  GMoveToOrigin,\n  GSetToRelativePositioning,\n  GSetToAbsolutePositioning,\n  GSetSoftwareEndstops,\n  GLinearMove,\n  GSetExtruderTemp,\n  GSetBedTemp,\n  Home,\n  NineZero,\n  BlLevel\n} from \"../GCodeBuilder\";\nimport { getStorage, setStorage } from \"../../../Utility/helpers\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst styles = (theme) => ({\n  tutorialWindow: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 1250,\n    backgroundColor: \"#303030\"\n  },\n  tutorialButton: {\n    // backgroundColor: \"rgb(42, 57, 131)\",\n    fontSize: \"20px\"\n  },\n  tutorialCloseButton: {\n    float: \"right\",\n    marginRight: -8\n  },\n  tutorialText: {\n    fontSize: \"20px\",\n    marginBottom: 5\n  },\n  tutorialContainer: {\n    padding: \"8px\",\n    height: \"calc(100% - 48px)\"\n  },\n  tutorialHeading: {\n    paddingTop: \"8px\"\n  },\n  layoutSingleGrid: {\n    paddingLeft: \"16px\",\n    paddingRight: \"16px\"\n  },\n  layoutSingleGridText: {\n    // height: \"50%\"\n    flexGrow: 1\n  },\n  layoutSingleGridButton: {\n    height: \"80px\",\n    textAlign: \"center\"\n  },\n  layoutSingleGridTop: {\n    height: \"50px\"\n  },\n  layoutSingleGridAxisControl: {\n    height: \"550px\"\n  },\n  layoutSingleGridThermalControl: {\n    height: \"550px\"\n  },\n  axisButton: {\n    marginTop: \"2px\",\n    marginBottom: \"2px\",\n    fontSize: \"20px\",\n    textTransform: \"none\",\n    width: \"120px\"\n  },\n  thermoLabel: {\n    textAlign: \"center\",\n    fontSize: \"26px\"\n  },\n  btnContainer: {\n    marginTop: \"40px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nclass Tutorial extends React.Component {\n  constructor(props) {\n    super(props);\n    this.evTutorialClose =\n      props.onTutorialClose ||\n      (() => {\n        console.log(\"Unhandled tutorial close event\");\n      });\n    this.state = {\n      tutorialId: this.props.tutorialName || null,\n      tutorialReady: false,\n      currentStep: 0,\n      exitWarning: false,\n      showSnack: false,\n      snackMessage: \"Your printer is reheating. Wait a moment and try the load/unload button again.\",\n      unit: 0.1,\n      offset: -1.55,\n      delay: false\n    };\n    this.tutorial = null;\n    this.offsetRequested = false;\n  }\n\n  static contextType = TempContext;\n\n  componentDidMount() {\n\n    if(this.props.tutorialName == \"blTouchCalibration\") {\n      // this returns:\n      // [0].current.logs[\n      // 0: \"Send: M851\"\n      // 1: \"Recv: Probe Offset X-44.00 Y-3.74 Z0.00\"\n      // 2: \"Recv: ok\"\n      // ]\n      // and\n      // [0].current.messages: [\"Probe Offset X-44.00 Y-3.74 Z0.00\"]\n      // getting this from ws and storing to TempContext\n      this.attemptGetZOffset();\n      this.offsetRequested = true;\n    }\n\n    if(this.props.firstBoot) {\n      if(this.props.tutorialName == \"bedLevelCornerCalibration\" && getStorage('leveled')) {\n        this.props.setStep(6);\n      }\n\n      if(this.props.tutorialName == \"loadFilament\" && getStorage('loaded')) {\n        this.props.onTutorialClose(getStorage(\"userMode\"));\n      }\n    }\n\n    if (this.state.tutorialId && TutorialDefinitions[this.state.tutorialId]) {\n      this.tutorial = TutorialDefinitions[this.state.tutorialId];\n      this.setState({ tutorialReady: true, currentStep: 0 });\n    } else {\n      console.log(\n        `Unknown tutorial id \"${this.state.tutorialId}\", closing tutorial`\n      );\n      this.evTutorialClose();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.tutorial) {\n      const currentStep = this.tutorial.steps[this.state.currentStep];\n      if (currentStep.layout === TutorialLayouts.ThermalGate) {\n        //We only need to trigger ThermalGates when they are displayed\n      }\n    }\n    if(this.context.zOffset && this.offsetRequested) {\n      console.log(\"offset: \", this.context.zOffset);\n      this.setState({offset: this.context.zOffset});\n      this.offsetRequested = false;\n    }\n  }\n\n  attemptExitActions() {\n    this.processButtonActions(this.tutorial.exitActions);\n  }\n\n  attemptCloseTutorial(reason) {\n    if (\n      this.state.currentStep === 0 ||\n      this.currentStep === this.tutorial.steps.length - 1\n    ) {\n      //This is the first or last step of the tutorial, so we can just close without any warnings\n      this.evTutorialClose(reason);\n      setStorage('onboarded', true);\n    } else {\n      //The tutorial is in-progress, confirm that the user really wishes to exit\n      this.setState({ exitWarning: true });\n    }\n\n    if(this.props.tutorialName == \"bedLevelCornerCalibration\") {\n      setStorage('leveled', true);\n    }\n\n    if(this.props.tutorialName == \"loadFilament\") {\n      setStorage('loaded', true);\n    }\n  }\n\n  attemptAxisMove(axis, amount) {\n    console.log(`Attempting to move on the ${axis} axis by ${amount}mm`);\n    if (axis.toLowerCase() === \"z\") {\n      let newOffset = parseFloat(this.state.offset) + parseFloat(amount);\n      newOffset = newOffset.toFixed(4);\n      console.log(newOffset);\n      this.setState({offset: newOffset});\n      let codeBuilder = new GCodeBuilder();\n      codeBuilder.addCommand(GSetToRelativePositioning());\n      codeBuilder.addCommand(\n        GLinearMove(false, false, true, null, null, amount)\n      );\n      this.sendGcode(codeBuilder.build());\n    }\n  }\n\n  attemptHome() {\n    console.log(`Attempting to home`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(Home());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptAbsolute() {\n    console.log(`Attempting to G90`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(NineZero());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptBlLevel() {\n    console.log(`Attempting to BL Level`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(BlLevel());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptXYMoveTo(x, y) {\n    console.log(`Attempting to move print head to x:${x}, y: ${y}`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 30));\n    codeBuilder.addCommand(GLinearMove(true, true, true, x, y, 0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptZOffsetStart() {\n    console.log(`Attempting to start z offset process`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetSoftwareEndstops(false));\n    codeBuilder.addCommand(GLinearMove(true, true, true, 150, 150, 0.0));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptGetZOffset() {\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GGetZProbeOffset());\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSaveZOffset() {\n    console.log(`Attempting to save z offset`);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetToAbsolutePositioning());\n    codeBuilder.addCommand(GSetZProbeOffset(this.state.offset));\n    codeBuilder.addCommand(GSetSoftwareEndstops(true));\n    codeBuilder.addCommand(GStoreParams());\n    codeBuilder.addCommand(GLoadParams());\n    codeBuilder.addCommand(GMoveToOrigin(true, true, true));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetBedTemp(temp) {\n    console.log(`Attempting to set bed temperature to ${temp} °C`);\n    this.context.setBedTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetBedTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptSetExtruderTemp(temp) {\n    console.log(`Attempting to set extruder temperature to ${temp} °C`);\n    this.context.setNozzleTarget(temp);\n    let codeBuilder = new GCodeBuilder();\n    codeBuilder.addCommand(GSetExtruderTemp(temp));\n    this.sendGcode(codeBuilder.build());\n  }\n\n  attemptTestPrint() {\n    this.attemptAbsolute();\n    fetch(`http://localhost:2127/api/v1/job/BLTouchCalibrationTest.gcode`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" }\n    });\n  }\n\n  loadFilament(distance) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    let codeBuilder = new GCodeBuilder();\n    if(this.context.nozzle >= currentStep.minimumExtruderTemp) {\n      codeBuilder.addCommand(GExtrude(distance,this.context.nozzle));\n      this.sendGcode(codeBuilder.build());\n      this.setState({ showSnack: false });\n    } else {\n      this.setState({ showSnack: true });\n      console.log('current:'+this.context.nozzle+' min:'+currentStep.minimumExtruderTemp);\n    }\n  }\n\n  unloadFilament(distance) {\n    this.loadFilament(distance);\n  }\n\n  tutorialButtonPressed(id) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n    if (\n      currentStep.layout === TutorialLayouts.ButtonSingle ||\n      currentStep.layout === TutorialLayouts.AxisManipulation ||\n      currentStep.layout === TutorialLayouts.ThermalGate ||\n      currentStep.layout === TutorialLayouts.DualThermalGate\n    ) {\n      this.processButtonActions(currentStep.buttonActions);\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      this.processButtonActions(\n        currentStep.buttons.find((b) => {\n          return b.id === id;\n        }).buttonActions\n      );\n    } else {\n      //Do correct button selection logic\n    }\n  }\n\n  sendGcode(gcode) {\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  }\n\n  processButtonActions(actions) {\n    let currentState = this;\n    for (const action of actions) {\n      switch (action.type) {\n        case \"continue\":\n          this.actionContinue();\n          break;\n        case \"home\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptHome();\n          break;\n        case \"bl_level\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptBlLevel();\n          break;\n        case \"movexy\":\n          //Attempt to move the extruder on the x and y axis\n          this.attemptXYMoveTo(action.params[0], action.params[1]);\n          break;\n        case \"jumpto\":\n          this.actionJumpTo(action.params[0]);\n          break;\n        case \"load\":\n          this.loadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"unload\":\n          this.unloadFilament(action.params[0]);\n          this.setState({delay:true});\n          setTimeout(function(){\n            currentState.setState({delay:false});\n          }, 3000);\n          break;\n        case \"exit\":\n          setStorage('onboarded', true);\n          this.evTutorialClose(\n            action.params.length > 0 ? action.params[0] : \"\"\n          );\n          break;\n        case \"savezoffset\":\n          //Attempt to set the z offset from the current z position\n          this.attemptSaveZOffset();\n          break;\n        case \"nozzletemp\":\n          //Attempt to set extruder temp\n          this.attemptSetExtruderTemp(action.params[0]);\n          break;\n        case \"bedtemp\":\n          //Attempt to set bed temperature\n          this.attemptSetBedTemp(action.params[0]);\n          break;\n        case \"printtest\":\n          //Attempt to print test article\n          this.attemptTestPrint();\n          break;\n        case \"zoffsetstart\":\n          //Zero out the printer to start zoffset\n          this.attemptZOffsetStart();\n          break;\n        default:\n          console.log(\n            `Warning! Unhandled tutorial action type: \"${action.type}\"`\n          );\n      }\n    }\n  }\n\n  /**\n   * Attempts to continue to the next tutorial step\n   */\n  actionContinue() {\n    if (this.state.currentStep < this.tutorial.steps.length - 1) {\n      this.setState({ currentStep: this.state.currentStep + 1 });\n    }\n  }\n\n  /**\n   * Jumps the tutorial back (or forward) to a specific step\n   * @param {Number} step The index of the step\n   */\n  actionJumpTo(step) {\n    this.setState({ currentStep: step });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.tutorialWindow}>\n        <AppBar position=\"sticky\">\n          <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n            Printer Name: {this.props.machineName}\n          </Typography>\n        </AppBar>\n        {this.state.tutorialReady && (\n          <Container className={classes.tutorialContainer}>\n            <Grid container>\n              <Grid item xs={10}>\n                <Typography variant=\"h5\" className={classes.tutorialHeading}>\n                  {this.tutorial.name}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <IconButton\n                  className={classes.tutorialCloseButton}\n                  onClick={() => {\n                    this.attemptCloseTutorial(\n                      this.props.firstBoot ? \"skip\" : null\n                    );\n                  }}\n                >\n                  <CloseSharp />\n                </IconButton>\n              </Grid>\n            </Grid>\n            {this.renderTutorialPage(classes)}\n          </Container>\n        )}\n        <Dialog open={this.state.exitWarning}>\n          <DialogTitle>Exit Tutorial</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Are you sure you want to exit this tutorial?\n            </DialogContentText>\n            <DialogActions>\n              <Button\n                onClick={() => {\n                  if(this.props.tutorialName == \"bedLevelCornerCalibration\") {\n                    setStorage('leveled', true);\n                  }\n\n                  if(this.props.tutorialName == \"loadFilament\") {\n                    setStorage('loaded', true);\n                  }\n                  this.attemptExitActions();\n                  this.evTutorialClose();\n                }}\n              >\n                Yes\n              </Button>\n              <Button\n                autoFocus\n                onClick={() => {\n                  this.setState({ exitWarning: false });\n                }}\n              >\n                No\n              </Button>\n            </DialogActions>\n          </DialogContent>\n        </Dialog>\n        <Snackbar\n          open={this.state.showSnack}\n          autoHideDuration={6000}\n          message={this.state.snackMessage}\n          onClose={this.handleSnackClose}\n        ></Snackbar>\n      </div>\n    );\n  }\n\n  renderTutorialPage(classes) {\n    const currentStep = this.tutorial.steps[this.state.currentStep];\n\n    if (currentStep.layout === TutorialLayouts.ButtonSingle) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.image && (\n              <img\n                alt={currentStep.image}\n                src={currentStep.image}\n                style={{\n                  width: '80vw',\n                  height: 'auto',\n                  marginTop: 20,\n                  marginBottom: 20\n                }}\n              ></img>\n            )}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.AxisManipulation) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridAxisControl}>\n            <Grid container justify=\"center\">\n              {currentStep.axisX && this.renderAxisControl(\"X\", classes)}\n              {currentStep.axisY && this.renderAxisControl(\"Y\", classes)}\n              {currentStep.axisZ && this.renderAxisControl(\"Z\", classes)}\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ButtonMulti) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n              return (\n                <Typography variant=\"body1\" className={classes.tutorialText}>\n                  {textSegment}\n                </Typography>\n              );\n            })}\n          </Grid>\n          <Grid item container justify=\"center\" alignItems=\"center\" className={classes.layoutSingleGridText}>\n            {currentStep.image && (\n              <img\n                alt={currentStep.image}\n                src={currentStep.image}\n                style={{\n                  width: '80vw',\n                  height: 'auto',\n                  marginTop: 20,\n                  marginBottom: 20\n                }}\n              ></img>\n            )}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Grid container justify=\"space-around\">\n              {currentStep.buttons.map((button) => {\n                return (\n                  <Grid item xs={6}>\n                    <Button\n                      color=\"primary\"\n                      variant=\"contained\"\n                      className={classes.tutorialButton}\n                      style={{\n                        margin: (\n                          button.buttonText == \"Recalibrate BLTouch Sensor\" || button.buttonText == \"Looks Different / Something Else\"\n                        ) ? 10 : 'inherit'\n                      }}\n                      disabled={this.state.delay}\n                      onClick={() => {\n                        this.tutorialButtonPressed(button.id);\n                      }}\n                      id={button.id}\n                    >\n                      {button.buttonText}\n                    </Button>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.ThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <TutorialThermometer\n                min={0}\n                max={400}\n                value={this.context.nozzle}\n              ></TutorialThermometer>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={!(this.context.nozzle >= currentStep.minimumTemp)}\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    } else if (currentStep.layout === TutorialLayouts.DualThermalGate) {\n      return (\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"stretch\"\n          alignContent=\"stretch\"\n          justify=\"space-between\"\n          className={classes.layoutSingleGrid}\n        >\n          <Grid item className={classes.layoutSingleGridText}>\n            {this.context.nozzle >= currentStep.minimumExtruderTemp &&\n            this.context.bed >= currentStep.minimumBedTemp\n              ? currentStep.gateText.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })\n              : currentStep.text.split(\"%BREAK%\").map((textSegment) => {\n                  return (\n                    <Typography\n                      variant=\"body1\"\n                      className={classes.tutorialText}\n                    >\n                      {textSegment}\n                    </Typography>\n                  );\n                })}\n          </Grid>\n          <Grid item className={classes.layoutSingleGridThermalControl}>\n            <Grid container justify=\"center\">\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.bed}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Bed\n                </Typography>\n              </Grid>\n              <Grid item>\n                <TutorialThermometer\n                  min={0}\n                  max={400}\n                  value={this.context.nozzle}\n                ></TutorialThermometer>\n                <Typography variant=\"body1\" className={classes.thermoLabel}>\n                  Extruder\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item className={classes.layoutSingleGridButton}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={\n                !(\n                  this.context.nozzle >= currentStep.minimumExtruderTemp &&\n                  this.context.bed >= currentStep.minimumBedTemp\n                )\n              }\n              className={classes.tutorialButton}\n              onClick={() => {\n                this.tutorialButtonPressed();\n              }}\n            >\n              {currentStep.buttonText}\n            </Button>\n          </Grid>\n        </Grid>\n      );\n    }\n  }\n\n  renderAxisControl(axis, classes) {\n    const units = [0.01, 0.05, 0.1, 1.0];\n\n    return (\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={12}>\n          <Paper>\n            <Tabs\n              value={this.state.unit}\n              className={classes.tabs}\n              onChange={(e, val) => this.setState({unit:val})}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} value={u} style={{ minWidth: \"138px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 40}}>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n            style={{ height: 220 }}\n          >\n            <Grid item>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => this.attemptAxisMove(axis,-this.state.unit)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorial);\n","import React, { useState } from \"react\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles({\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  container: {\n    padding: \"32px\",\n    textAlign: \"center\",\n    \"& p\": {\n      fontSize: \"2.125rem\"\n    }\n  }\n});\nconst HotspotConnect = ({ setStep, setConnectWifi, machineName }) => {\n  const classes = useStyles();\n  const [networkData, setNetworkData] = useState({});\n\n  useMountEffect(() => {\n    setNetworkData(getStorage(\"network\"));\n  });\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      <h2>\n        Your SSID is\n        <Typography color=\"secondary\" variant=\"body1\">\n          {machineName}\n        </Typography>\n      </h2>\n      <h2>\n        Your password is\n        <Typography color=\"secondary\" variant=\"body1\">\n          makermade\n        </Typography>\n      </h2>\n      <Grid item className={classes.buttonContainer}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={() => setConnectWifi(null)}\n        >\n          Back\n        </Button>\n        <Button color=\"primary\" variant=\"contained\" onClick={() => setStep(1)}>\n          Next\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default HotspotConnect;\n","import React, { useRef, useState } from \"react\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage, setStorage, requestCount, setRequestCount } from \"../../../Utility/helpers\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Backdrop,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  List,\n  ListItem,\n  Snackbar,\n  TextField\n} from \"@material-ui/core\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport RemoveRedEyeIcon from \"@material-ui/icons/RemoveRedEye\";\nimport Keyboard from \"react-simple-keyboard\";\nimport imgPrint from \"../../../img/mm-print.svg\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  accordion: {\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  button: {\n    alignSelf: \"flex-end\",\n    height: \"36px\",\n    marginLeft: \"25px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: \"-40px\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  },\n  wifiList: {\n    height: \"600px\",\n    overflow: \"scroll\",\n    border: \"1px solid #fff\",\n    borderRadius: \"5px\"\n  }\n});\nconst WifiConnect = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  handleSnackClose,\n  setConnectWifi,\n  settingsScreen,\n  setStage,\n  onGoBack\n}) => {\n  const classes = useStyles({ settingsScreen });\n  const [expanded, setExpanded] = useState(false);\n  const [layout, setLayout] = useState(\"default\");\n  const [input, setInput] = useState(\"\");\n  const [wifiArr, setWifiArr] = useState([]);\n  const [connecting, setConnecting] = useState(false);\n  const keyboard = useRef();\n  const [loading, setLoading] = useState(false);\n  const [maskPassword, setMaskPassword] = useState(true);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [reboot, setReboot] = useState(false);\n  const [failed, setFailed] = useState(false);\n  const maxRetryCount = 5;\n\n  const listNetworks = () => {\n    async function getNetworks() {\n      // Default options are marked with *\n      const response = await fetch(`http://localhost:8990/networks/scan`);\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    getNetworks().then((data) => {\n      let networks = data.networks.filter((obj, pos, arr) => {\n        return (\n          arr.map((mapObj) => mapObj[\"ssid\"]).indexOf(obj[\"ssid\"]) === pos &&\n          obj.ssid != null\n        );\n      });\n      setWifiArr(networks);\n      setLoading(false);\n    }).catch((err) => {\n\n        setTimeout(() => {\n          listNetworks();\n        }, 500);\n\n    });\n  };\n\n  const rebootPrinter = () => {\n    async function doReboot() {\n      // Default options are marked with *\n      const response = await fetch(`http://localhost:8990/reboot`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    doReboot().then((data) => {\n      console.log(\"rebooting\");\n    }).catch((err) => {\n        setTimeout(() => {\n          if(requestCount < maxRetryCount) {\n            console.log(requestCount);\n            setRequestCount(requestCount+1);\n            rebootPrinter();\n          } else {\n            setReboot(false);\n            setFailed(true);\n          }\n        }, 1000);\n    });\n  };\n\n  useMountEffect(() => {\n    //Fetch http://localhost:8990/networks/scan\n    //setWifiArr response.networks\n    setLoading(true);\n    listNetworks();\n\n  });\n\n  const handleSubmit = async () => {\n    const body = { ssid: expanded, password: input };\n    //set loading screen\n    setExpanded(false);\n    setConnecting(true);\n    setInput(\"\");\n    //await POST body to http://localhost:8990/connect\n    async function setNetwork(body) {\n      // Default options are marked with *\n      const response = await fetch(`http://localhost:8990/connect`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n    setNetwork(body).then((data) => {\n      //after, display success or failure\n      setConnecting(false);\n      if (data.status === \"connected!\") {\n        setSnackMessage(\"Successfully Connected\");\n        setShowSnack(() => true);\n        let network = getStorage(\"network\");\n        if(!network) {\n          network = {};\n        }\n        network.ssid = body.ssid;\n        setStorage(\"network\", network);\n\n        !settingsScreen && setStep(1);\n      } else {\n        setConnecting(false);\n        setErrorMessage(\"Connection Failed. Try Again\");\n        setShowError(() => true);\n        console.log('wifi connect failed');\n      }\n\n      if(getStorage(\"hotSpotToWifi\")) {\n        setStorage(\"hotSpotToWifi\", false);\n        setReboot(true);\n      }\n\n    }).catch((err) => {\n      setErrorMessage(\"Connection Failed. Try Again\");\n      setShowError(() => true);\n      setConnecting(false);\n    });\n  };\n\n  const handleErrorClose = () => {\n    setShowError(() => false);\n    setErrorMessage(\"\");\n  };\n\n\n  //toggle password masking\n  const passwordToggle = () => {\n    setMaskPassword(!maskPassword);\n  };\n\n  //update text entered into input field\n  const onChange = (input) => {\n    setInput(input);\n    console.log(\"Input changed\", input);\n  };\n\n  //toggle keyboard layouts when user presses shift\n  const handleShift = () => {\n    const newLayoutName = layout === \"default\" ? \"shift\" : \"default\";\n    setLayout(newLayoutName);\n  };\n\n  //handle keyboard layout key presses\n  const onKeyPress = (button) => {\n    if (button === \"{ABC}\") {\n      setLayout(\"shift\");\n    } else if (button === \"{abc}\") {\n      setLayout(\"default\");\n    } else if (button === \"{+=#}\") {\n      setLayout(\"symbol\");\n    } else if (button === \"{123}\") {\n      setLayout(\"number\");\n    }\n    (button === \"{shift}\" || button === \"{lock}\") && handleShift();\n  };\n  const handleExpand = (panel) => {\n    setExpanded(panel);\n  };\n\n  //handle keyboard key presses for input keys\n  const onChangeInput = (event) => {\n    const input = event.target.value;\n    setInput(input);\n    keyboard.current.setInput(input);\n  };\n\n  return (\n    <div className={classes.container}>\n      {!settingsScreen && (\n        <div className={classes.header}>\n          <IconButton\n            aria-label=\"back\"\n            onClick={() => {\n              setConnectWifi(() => null);\n              if (onGoBack) {\n                onGoBack();\n              }\n            }}\n          >\n            <ArrowBackIcon />\n          </IconButton>\n          <h2>Wi-Fi</h2>\n        </div>\n      )}\n      {loading && (\n        <>\n          <img\n            alt=\"print\"\n            src={imgPrint}\n            style={{\n              width: 200,\n              height: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% - 100px)\"\n            }}\n          ></img>\n          <h4\n            style={{\n              width: 200,\n              zIndex: 99999999,\n              position: \"absolute\",\n              left: \"calc(50% - 100px)\",\n              top: \"calc(50% + 120px)\",\n              textAlign: \"center\"\n            }}\n          >\n            Gathering Networks\n          </h4>\n        </>\n      )}\n      <List className={classes.wifiList}>\n        {wifiArr.map((network) => {\n          return (\n            <Accordion\n              expanded={expanded === network.ssid}\n              key={`${network.ssid}-list-item`}\n            >\n              <AccordionSummary classes={{ content: \"accordion-style\" }}>\n                <ListItem className={classes.item}>\n                  {network.ssid}\n                  <Button\n                    color={expanded === network.ssid ? \"secondary\" : \"primary\"}\n                    variant=\"contained\"\n                    onClick={() => {\n                      if (expanded === network.ssid) {\n                        setExpanded(() => false);\n                        setInput(\"\");\n                      } else {\n                        handleExpand(network.ssid);\n                      }\n                    }}\n                  >\n                    {expanded === network.ssid ? \"Close\" : \"Join\"}\n                  </Button>\n                </ListItem>\n              </AccordionSummary>\n              <AccordionDetails className={classes.accordion}>\n                <TextField\n                  id=\"standard-password-input\"\n                  label=\"Password\"\n                  type={maskPassword ? \"password\" : \"text\"}\n                  color=\"secondary\"\n                  value={input}\n                  onChange={onChangeInput}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position=\"end\">\n                        <RemoveRedEyeIcon onClick={passwordToggle} />\n                      </InputAdornment>\n                    )\n                  }}\n                />\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.button}\n                  onClick={() => {\n                    if (input.length > 0) {\n                      handleSubmit();\n                    } else {\n                      setSnackMessage(\"Password required\");\n                      setShowSnack(true);\n                    }\n                  }}\n                >\n                  Connect\n                </Button>\n              </AccordionDetails>\n            </Accordion>\n          );\n        })}\n      </List>\n      <Dialog\n        open={reboot}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Must Reboot When Disabling Hotspot\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            The printer must reboot to connect to wifi after disabling hotspot.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => {\n              rebootPrinter();\n            }}\n            color=\"primary\" autoFocus\n            style={{\n            backgroundColor: \"#0072CE\",\n            color: \"white\",\n            marginRight: 10,\n            marginBottom: 10\n            }}\n          >\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Dialog\n        open={failed}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Reboot Failed\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            The printer reboot process has failed. Turn off your printer and turn it back on, then try again.\n          </DialogContentText>\n        </DialogContent>\n      </Dialog>\n      {connecting && (\n        <Backdrop className={classes.backdrop} open={connecting}>\n          <div className={classes.connecting}>\n            <h4>Connecting</h4>\n            <CircularProgress color=\"inherit\" />\n          </div>\n        </Backdrop>\n      )}\n      {expanded && (\n        <div className={classes.keyboard}>\n          <Keyboard\n            keyboardRef={(r) => (keyboard.current = r)}\n            layoutName={layout}\n            layout={{\n              default: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"a b c d e\",\n                \"f g h i j\",\n                \"k l m n o\",\n                \"p q r s t\",\n                \"u v w x y\",\n                \"z {space} {bksp}\"\n              ],\n              shift: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"A B C D E\",\n                \"F G H I J\",\n                \"K L M N O\",\n                \"P Q R S T\",\n                \"U V W X Y\",\n                \"Z {space} {bksp}\"\n              ],\n              symbol: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"! @ # $ %\",\n                \"^ & * ( )\",\n                \"~ ' _ - =\",\n                \"[ ] { } \\\\\",\n                \"| ; ' : ,\",\n                '\" < > ? .'\n              ],\n              number: [\n                \"{abc} {ABC} {+=#} {123}\",\n                \"1 2 3\",\n                \"4 5 6\",\n                \"7 8 9\",\n                \"$ 0 .\",\n                \"{space}\",\n                \"# {bksp}\"\n              ]\n            }}\n            display={{\n              \"{bksp}\": \"Backspace\",\n              \"{enter}\": \"Enter\",\n              \"{shift}\": \"Shift\",\n              \"{space}\": \"Space\",\n              \"{123}\": \"123\",\n              \"{ABC}\": \"ABC\",\n              \"{abc}\": \"abc\",\n              \"{+=#}\": \"+ = #\"\n            }}\n            onChange={onChange}\n            onKeyPress={onKeyPress}\n          />\n        </div>\n      )}\n      <Snackbar\n        open={showError}\n        autoHideDuration={6000}\n        message={errorMessage}\n        onClose={handleErrorClose}\n      ></Snackbar>\n    </div>\n  );\n};\n\nexport default WifiConnect;\n","import {\n  Backdrop,\n  Button,\n  CircularProgress,\n  Grid,\n  Typography\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport OptionCard from \"../../Common/OptionCard/OptionCard\";\nimport HotspotConnect from \"../NetworkType/HotspotConnect\";\nimport { setStorage, getStorage, fillStorage } from \"../../../Utility/helpers\";\nimport WifiConnect from \"../NetworkType/WifiConnect\";\nimport {\n  ArrowForward,\n  Language,\n  SettingsInputHdmi,\n  SettingsRemote\n} from \"@material-ui/icons\";\n\nclass NetworkSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      stage: \"internet-enable\",\n      enableInternet: false,\n      selectedInterface: null,\n      enableHotspot: false,\n      connecting: false\n    };\n  }\n\n  componentDidMount() {\n    if(getStorage(\"initialUpdate\") === 1) {\n      setStorage(\"initialUpdate\", 2);\n      this.props.setStep(2);\n    }\n    if((getStorage(\"networkProfile\") && getStorage(\"networkProfile\") !== 'none') && getStorage(\"internet\")) {\n      !this.props.settingsScreen && this.props.setStep(1);\n    }\n  }\n\n  complete() {\n\n    setStorage(\"hotspot\", this.state.enableHotspot);\n    setStorage(\"internet\", this.state.enableInternet);\n    setStorage(\"networkProfile\", this.state.selectedInterface);\n\n    if (this.props.setNewType) {\n      this.props.setNewType(this.state.selectedInterface);\n      this.props.setStep(0);\n    } else {\n      if (this.state.enableInternet) {\n        this.props.setStep(1);\n      } else {\n        this.props.setStep(2);\n      }\n    }\n\n  }\n\n  render() {\n\n    async function connect(address, callback) {\n      // Default options are marked with *\n      const response = await fetch(address, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then((data) => {\n        callback();\n      }).catch((err) => {\n          setTimeout(() => {\n            connect(address, callback);\n          }, 1000);\n      });\n    }\n\n    if (this.state.stage === \"internet-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to connect this printer to the internet?\n          </Typography>\n\n          <Typography variant=\"h6\">\n            Connecting to the internet enables updates.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({ enableInternet: true, stage: \"internet-select\" });\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.setState({\n                enableInternet: false,\n                stage: \"hotspot-enable\",\n                selectedInterface: \"none\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"internet-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <Language\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            How would you like to connect this printer?\n          </Typography>\n          <OptionCard\n            title=\"Wi-Fi\"\n            onClick={() => {\n\n              let hotspot = getStorage('hotspot');\n\n              if(hotspot) {\n                setStorage(\"hotSpotToWifi\", true);\n                this.setState({\n                  selectedInterface: \"wifi\",\n                  enableHotspot: false,\n                  enableInternet: true,\n                  stage: \"wifi-select\",\n                });\n\n                connect(`http://localhost:8990/hotspot/disconnect`, () => {\n                  console.log(\"hotspot disconnected\");\n                });\n\n              } else {\n                this.setState({\n                  selectedInterface: \"wifi\",\n                  stage: \"wifi-select\"\n                });\n              }\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"Ethernet\"\n            onClick={() => {\n              this.setState({\n                selectedInterface: \"ethernet\",\n                stage: \"ethernet-check\"\n              });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"ethernet-check\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsInputHdmi\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Please verify that the ethernet cable is properly connected to your\n            device.\n          </Typography>\n          <OptionCard\n            title=\"Done\"\n            onClick={() => {\n              this.setState({ stage: \"hotspot-enable\" });\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n    if (this.state.stage === \"wifi-select\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <WifiConnect\n            setStep={(step) => {\n              this.setState({connecting: true});\n              let currentContext = this;\n\n              setTimeout(() => {\n                currentContext.setState({connecting: false});\n                fillStorage().then(function() {\n                  currentContext.props.setNetworkData(getStorage(\"network\"));\n                  currentContext.complete();\n                });\n              }, 15000);\n            }}\n            setShowSnack={this.props.setShowSnack}\n            setSnackMessage={this.props.setSnackMessage}\n            handleSnackClose={this.props.handleSnackClose}\n            setConnectWifi={() => {}}\n            onGoBack={() => {\n              this.setState({ stage: \"internet-select\" });\n            }}\n          ></WifiConnect>\n          {this.state.connecting && (\n            <Backdrop style={{\n              zIndex: 90000,\n              color: \"#fff\"\n            }} open={this.state.connecting}>\n              <div style={{\n                display: \"flex\",\n                zIndex: 99000,\n                flexDirection: \"column\",\n                alignItems: \"center\",\n                \"& h4\": {\n                  marginBottom: \"24px\"\n                }\n              }}>\n                <h4>Please Wait</h4>\n                <CircularProgress color=\"inherit\" />\n              </div>\n            </Backdrop>\n          )}\n        </>\n      );\n    }\n\n    if (this.state.stage === \"hotspot-enable\") {\n      return (\n        <>\n          {this.renderHeader()}\n          <SettingsRemote\n            style={{\n              fontSize: 100,\n              width: \"100%\",\n              textAlign: \"center\",\n              marginBottom: 20\n            }}\n          />\n          <Typography variant=\"h5\">\n            Would you like to enable the printer's wireless hotspot?\n          </Typography>\n          <Typography variant=\"h6\">\n            This allows you to remotely connect/control your printer.\n          </Typography>\n          <OptionCard\n            title=\"Yes\"\n            onClick={() => {\n              this.setState({\n                enableHotspot: true,\n                stage: \"config-hotspot\",\n                selectedInterface: \"hotspot\",\n              });\n              connect(`http://localhost:8990/hotspot/connect`, () => {\n                console.log(\"hotspot connected\");\n              });\n\n              setStorage(\"networkProfile\", \"hotspot\");\n              let network = getStorage(\"network\");\n              if(!network) {\n                network = {};\n              }\n              network.ssid = '';\n              network.ip = '192.168.50.5';\n              network.hostName = 'http://'+getStorage(\"printerName\")+'.local';\n              setStorage(\"network\", network);\n            }}\n          ></OptionCard>\n          <OptionCard\n            title=\"No\"\n            onClick={() => {\n              this.complete();\n            }}\n          ></OptionCard>\n        </>\n      );\n    }\n\n    if (this.state.stage === \"config-hotspot\") {\n      return (\n        <>\n        <HotspotConnect\n          setStep={() => {\n            this.setState({connecting: true});\n            setTimeout(() => {\n              this.setState({connecting: false});\n              this.complete();\n            }, 10000);\n          }}\n          setConnectWifi={() => {}}\n          machineName={this.props.machineName}\n        />\n        {this.state.connecting && (\n          <Backdrop style={{\n            zIndex: 90000,\n            color: \"#fff\"\n          }} open={this.state.connecting}>\n            <div style={{\n              display: \"flex\",\n              zIndex: 99000,\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              \"& h4\": {\n                marginBottom: \"24px\"\n              }\n            }}>\n              <h4>Please Wait</h4>\n              <CircularProgress color=\"inherit\" />\n            </div>\n          </Backdrop>\n        )}\n        </>\n      );\n    }\n  }\n\n  renderHeader() {\n    return (\n      <Grid\n        container\n        justify=\"space-between\"\n        alignItems=\"center\"\n        style={{ display: \"flex\", marginBottom: 20 }}\n      >\n        <h2 style={{ fontSize: 28 }}>Network</h2>\n        <Button\n          aria-label=\"skip\"\n          endIcon={<ArrowForward />}\n          onClick={() => {\n            this.setState(\n              {\n                enableInternet: getStorage('internet') ? getStorage('internet') : false,\n                stage: \"hotspot-enable\",\n                selectedInterface: getStorage('networkProfile') ? getStorage('networkProfile') : \"none\"\n              },\n              () => {\n                this.complete();\n              }\n            );\n          }}\n        >\n          Skip\n        </Button>\n      </Grid>\n    );\n  }\n}\n\n// setStep={setStep}\n// setShowSnack={setShowSnack}\n// setSnackMessage={setSnackMessage}\n// handleSnackClose={handleSnackClose}\n// setConnectWifi={setConnectWifi}\n// />\n\nexport default NetworkSelect;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport PrinterType from \"./PrinterType/PrinterType\";\nimport NetworkSettings from \"./NetworkType/NetworkSettings\";\nimport UserLevel from \"./UserLevel/UserLevel\";\nimport Update from \"../Menu/MenuTabs/Update\";\nimport Tutorial from \"../Tutorials/Tutorial/Tutorial\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport NetworkSelect from \"./NetworkSelect/NetworkSelect\";\nconst useStyles = makeStyles({\n  container: {\n    flex: 1,\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  welcome: {\n    textAlign: \"center\",\n    height: \"100%\",\n    \"& h2\": {\n      fontSize: \"92px\"\n    },\n    \"& h3\": {\n      fontSize: \"32px\",\n      marginTop: \"16px\"\n    }\n  }\n});\nconst Setup = ({ handleOnboarding, machineName }) => {\n  const classes = useStyles();\n\n  const [step, setStep] = useState(null);\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  return (\n    <Container className={classes.container}>\n      {step === null && (\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"space-around\"\n          alignItems=\"center\"\n          spacing={3}\n          className={classes.welcome}\n        >\n          <Grid\n            item\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Typography variant=\"h2\">Welcome</Typography>\n            <Typography variant=\"h3\">Let's get you set up</Typography>\n          </Grid>\n          <Grid\n            item\n            container\n            alignItems=\"flex-start\"\n            justify=\"center\"\n            style={{ flex: 1 }}\n          >\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              color=\"secondary\"\n              style={{ width: \"190px\", height: \"65px\", fontSize: \"18px\" }}\n              onClick={() => setStep(0)}\n            >\n              Get Started\n            </Button>\n          </Grid>\n        </Grid>\n      )}\n      {step === 0 && (\n        <NetworkSelect\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          machineName={machineName}\n        />\n        // <NetworkType\n        //   setStep={setStep}\n        //   setShowSnack={setShowSnack}\n        //   setSnackMessage={setSnackMessage}\n        //   handleSnackClose={handleSnackClose}\n        //   setNewType={() => {}}\n        // />\n      )}\n      {step === 1 && (\n        <Update\n          autoCheck={false}\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n        />\n      )}\n      {step === 2 && <PrinterType setStep={setStep} />}\n      {step === 3 && (\n        <NetworkSettings\n          setStep={setStep}\n          setShowSnack={setShowSnack}\n          setSnackMessage={setSnackMessage}\n          handleSnackClose={handleSnackClose}\n          setNewType={() => {}}\n        />\n      )}\n      {step === 4 && (\n        <UserLevel handleOnboarding={handleOnboarding} setStep={setStep} />\n      )}\n      {step === 5 && (\n        <Tutorial\n          tutorialName=\"blTouchCalibration\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            setStep(6);\n          }}\n          machineName={machineName}\n        />\n      )}\n      {step === 6 && (\n        <Tutorial\n          tutorialName=\"loadFilament\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            if(reason == \"test_print\") {\n              setStep(7);\n            } else {\n              handleOnboarding(getStorage(\"userMode\"));\n            }\n          }}\n          machineName={machineName}\n        />\n      )}\n      {step === 7 && (\n        <Tutorial\n          tutorialName=\"printTestCube\"\n          handleOnboarding={handleOnboarding}\n          firstBoot={true}\n          setStep={setStep}\n          onTutorialClose={(reason) => {\n            if(reason == \"request-calibration\") {\n              setStep(5);\n            } else if(reason == \"load-filament\") {\n              setStep(6);\n            } else {\n              handleOnboarding(getStorage(\"userMode\"));\n            }\n          }}\n          machineName={machineName}\n        />\n      )}\n      <Snackbar\n        open={showSnack}\n        autoHideDuration={6000}\n        message={snackMessage}\n        onClose={handleSnackClose}\n      ></Snackbar>\n    </Container>\n  );\n};\n\nexport default Setup;\n","import React from 'react';\nimport { Tabs, Tab } from '@material-ui/core';\n\nimport './TabList.css';\nconst TabList = ({ tabList, handleTabClick, activeTab, disabledNav }) => {\n  return (\n    <Tabs value={activeTab} onChange={handleTabClick} centered>\n      {tabList.map((tab) => (\n        <Tab\n          style={{ height: '70px', fontSize: '20px', minWidth: '140px' }}\n          label={tab}\n          key={`tab - ${tab}`}\n          disabled={disabledNav}\n        />\n      ))}\n    </Tabs>\n  );\n};\n\nexport default TabList;\n","import React, { useState, useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Container, Grid, Typography } from \"@material-ui/core\";\nimport { Button, LinearProgress } from \"@material-ui/core\";\nimport { PlayArrow, Pause, Stop } from \"@material-ui/icons\";\n\nimport TutorialThermometer from \"../../Tutorials/TutorialThermometer/TutorialThermometer\";\nimport TempContext from \"../../../TempContext\";\n\nvar toHHMMSS = (secs) => {\n  if(secs) {\n    var sec_num = parseInt(secs, 10)\n    var hours   = Math.floor(sec_num / 3600)\n    var minutes = Math.floor(sec_num / 60) % 60\n    var seconds = sec_num % 60\n\n    return [hours,minutes,seconds]\n        .map(v => v < 10 ? \"0\" + v : v)\n        .filter((v,i) => v !== \"00\" || i > 0)\n        .join(\":\");\n  } else {\n    return \"calculating...\";\n  }\n}\n\nconst PrintStatus = ({\n  lastMessage,\n  progressState,\n  setDisabledNav,\n  state,\n  statusText,\n  fileName\n}) => {\n  const [paused, setPaused] = useState(false);\n  const [value, setValue] = useState(0);\n  const [elapsed, setElapsed] = useState(\"\");\n  const [remaining, setRemaining] = useState(\"\");\n  const [waiting, setWaiting] = useState(false);\n\n  useEffect(() => {\n    if (progressState.completion !== value) {\n      setValue(progressState.completion);\n      setElapsed(toHHMMSS(progressState.printTime));\n      setRemaining(toHHMMSS(progressState.printTimeLeft));\n    }\n  }, [progressState, value]);\n\n  useEffect(() => {\n    if (state && state.flags.paused != paused) {\n      setPaused(state.flags.paused);\n      setWaiting(false);\n    }\n  }, [state]);\n\n\n  return (\n    <>\n      <Container>\n        <Typography\n          variant=\"h5\"\n          style={{ marginTop: 35, width: \"100%\", textAlign: \"center\" }}\n        >\n          {statusText}: {fileName}\n        </Typography>\n        <div className=\"print-status-bar\" style={{ marginTop: 25 }}>\n          <BorderLinearProgress variant=\"determinate\" value={value} />\n          <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={4}  style={{textAlign: \"left\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {elapsed}\n          </Typography>\n          </Grid>\n          <Grid item xs={4}  style={{textAlign: \"center\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {value ? value.toFixed(1) : \"0\"}%\n          </Typography>\n          </Grid>\n          <Grid item xs={4} style={{textAlign: \"right\"}}>\n          <Typography\n            variant=\"h6\"\n            component=\"span\"\n            style={{ width: \"100%\" }}\n          >\n            {remaining}\n          </Typography>\n          </Grid>\n          </Grid>\n        </div>\n        <div style={{ marginTop: 50 }}>\n          <TempContext.Consumer>\n            {({ bed, nozzle, bedTarget, nozzleTarget }) => (\n              <Grid container>\n                <Grid item container xs={6} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={120} value={bed} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {bedTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Bed\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        disabled={waiting}\n                        onClick={() => {\n                          setWaiting(true);\n                          fetch(`http://localhost:2127/api/v1/job`, {\n                            method: \"PATCH\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={!paused ? <Pause /> : <PlayArrow />}\n                      >\n                        {!paused ? \"Pause\" : \"Resume\"}\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n                <Grid item container xs={6} direction=\"column\">\n                  <Grid item style={{ marginBottom: -100 }}>\n                    <div style={{ transform: \"scale(.6)\" }}>\n                      <TutorialThermometer min={0} max={300} value={nozzle} />\n                    </div>\n                  </Grid>\n                  <Grid item style={{ textAlign: \"center\" }}>\n                    <Typography variant=\"h6\">\n                      Target: {nozzleTarget}\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Nozzle\n                    </Typography>\n                    <div className=\"print-btn-container\">\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        disabled={paused ? false : true}\n                        onClick={() => {\n                          fetch(`http://localhost:2127/api/v1/job`, {\n                            method: \"DELETE\",\n                            headers: { \"Content-Type\": \"application/json\" }\n                          });\n                        }}\n                        startIcon={<Stop />}\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                  </Grid>\n                </Grid>\n              </Grid>\n            )}\n          </TempContext.Consumer>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nconst BorderLinearProgress = withStyles((theme) => ({\n  root: {\n    height: 14,\n    borderRadius: 7\n  },\n  colorPrimary: {\n    backgroundColor: \"#606060\"\n  },\n  bar: {\n    borderRadius: 7,\n    backgroundColor: \"#ACC12F\"\n  }\n}))(LinearProgress);\n\nexport default PrintStatus;\n","import React, { useState } from \"react\";\nimport {\n  Grid,\n  Card,\n  CardContent,\n  CardActionArea,\n  Button,\n  Typography,\n  Drawer,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle\n } from \"@material-ui/core\";\nimport PrintStatus from \"./PrintStatus/PrintStatus\";\n\nimport FileManager from \"../Common/FileManager/FileManager\";\nimport \"./Print.css\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: \"10px\"\n  },\n  textCenter: {\n    textAlign: \"center\",\n    marginTop: \"10px\"\n  },\n  card: {\n    margin: \"32px\",\n    border: \"2px solid rgba(0, 0, 0, 0.12)\",\n    textAlign: \"center\"\n  },\n  cardContent: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n});\n\nlet sendGcode = function (gcode) {\n  fetch(`http://${window.location.hostname}:2127/api/v1/send`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      gcode: gcode\n    })\n  });\n};\n\nconst Print = ({ lastMessage, setDisabledNav, machineName }) => {\n  const classes = useStyles();\n  let [state, setState] = useState({\n    extruder: 0,\n    bed: 0,\n    connected: false,\n    feed: \"1\",\n    file: -1,\n    files: [],\n    printing: false,\n    progress: 0,\n    paused: false\n  });\n  const [printState, setPrintState] = useState(null);\n  const [jobState, setJobState] = useState(null);\n  const [progressState, setProgressState] = useState(null);\n  const [fileDrawerOpen, setFileDrawerOpen] = useState(false);\n  const [fileLocation, setFileLocation] = useState(\"\");\n  const [userRequired, setUserRequired] = useState(false);\n  const [runout, setRunout] = useState(null);\n  const [heater, setHeater] = useState(null);\n\n  const fetchFiles = (location) => {\n    setFileLocation(location);\n    setFileDrawerOpen(true);\n  };\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.state) {\n        setPrintState(json[0].current.state);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.job) {\n        setJobState(json[0].current.job);\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        setProgressState(json[0].current.progress);\n      }\n\n      if (json[0].hasOwnProperty(\"plugin\") && json[0].plugin.data.filamentStatus === \"empty\") {\n        setRunout(true);\n      }\n\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n    <Grid>\n      {progressState &&\n      jobState &&\n      jobState.file.name &&\n      progressState.completion < 100 &&\n      printState &&\n      printState.text !== \"Operational\" ? (\n        <PrintStatus\n          lastMessage={lastMessage}\n          progressState={progressState}\n          setDisabledNav={setDisabledNav}\n          statusText={printState.text}\n          fileName={jobState.file.display}\n          state={printState}\n        />\n      ) : (\n        <Grid>\n          <Card className={classes.card} onClick={() => fetchFiles(\"local\")}>\n            <CardActionArea>\n              <CardContent className={classes.cardContent}>\n                <Typography variant=\"h4\">Printer Storage</Typography>\n              </CardContent>\n            </CardActionArea>\n          </Card>\n          <Card className={classes.card} onClick={() => fetchFiles(\"usb\")}>\n            <CardActionArea>\n              <CardContent className={classes.cardContent}>\n                <Typography variant=\"h4\">USB Media</Typography>\n              </CardContent>\n            </CardActionArea>\n          </Card>\n          <Drawer\n            anchor=\"left\"\n            open={fileDrawerOpen}\n            onClose={() => setFileDrawerOpen(false)}\n            classes={{\n              paper: classes.drawerContainer\n            }}\n          >\n            <FileManager\n              setDrawerOpen={setFileDrawerOpen}\n              drawerOpen={fileDrawerOpen}\n              fileLocation={fileLocation}\n              machineName={machineName}\n            />\n          </Drawer>\n          {/*<div className=\"Files\">\n            <label className=\"Files-Upload\">\n              <span>Upload</span>\n              <input\n                type=\"file\"\n                onChange={async (e) => {\n                  let data = new FormData();\n                  console.log(e.target.files);\n                  e.persist();\n                  data.append('file', e.target.files[0]);\n                  // Upload the file\n                  await fetch(\n                    `http://localhost:2127/api/v1/files/${e.target.files[0].name}`,\n                    { method: 'POST', body: data }\n                  );\n                  // Print the file\n                  await fetch(\n                    `http://localhost:2127/api/v1/job/${e.target.files[0].name}`,\n                    {\n                      method: 'POST',\n                      headers: { 'Content-Type': 'application/json' },\n                    }\n                  );\n                  state.printing = true;\n                  uploadedFile(true);\n                  setState({\n                    files: [...state.files, e.target.files[0].name],\n                    file: 0,\n                  });\n                }}\n              ></input>\n            </label>\n              </div>*/}\n        </Grid>\n      )}\n      <div>\n        <Grid>\n          {printState &&\n            jobState &&\n            (jobState.file && typeof jobState.file.display !== \"undefined\" ? (\n              <div>\n                <div className={classes.buttonContainer}>\n                  {progressState &&\n                    (progressState.completion === null ||\n                      progressState.completion === 100) &&\n                    jobState &&\n                    jobState.file.display && (\n                      <>\n                        <div className={classes.textCenter}>\n                          {/*`${printState.text} : ${jobState.file.display}`*/}\n                        </div>\n                        {/* <Button\n                          color=\"primary\"\n                          variant=\"contained\"\n                          onClick={() => {\n                            fetch(\n                              `http://localhost:2127/api/v1/job/${jobState.file.name}`,\n                              {\n                                method: \"POST\",\n                                headers: { \"Content-Type\": \"application/json\" },\n                              }\n                            );\n                          }}\n                        >\n                          Print\n                        </Button> */}\n                      </>\n                    )}\n                </div>\n              </div>\n            ) : (\n              <span>{/*Not Printing*/}</span>\n            ))}\n        </Grid>\n      </div>\n    </Grid>\n    <Dialog\n      open={runout}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\" style={{textAlign:\"center\"}} >\n        Action Required\n      </DialogTitle>\n      <DialogContent style={{textAlign:\"left\"}}>\n        <DialogContentText id=\"alert-dialog-description\">\n          <b>You ran out of filament. Replace the reel and continue.</b>\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => {\n              setRunout(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            I Replaced My Filament\n          </Button>\n      </DialogActions>\n    </Dialog>\n    </>\n  );\n};\n\nexport default Print;\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid,\n  Paper,\n  Tab,\n  Tabs,\n  Typography\n} from \"@material-ui/core\";\nimport {\n  ArrowDownward,\n  ArrowForward,\n  ArrowUpward,\n  ArrowBack,\n  Home\n} from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport \"./Moving.css\";\n\nconst useStyles = makeStyles({\n  btnContainer: {\n    marginTop: \"14px\",\n    marginBottom: \"28px\",\n    textAlign: \"center\"\n  },\n  centerBtns: {\n    \"& button\": {\n      margin: \"0 12px\"\n    }\n  },\n  tabs: {\n    \"& button\": {\n      textTransform: \"none\"\n    }\n  }\n});\n\nconst units = [0.1, 1.0, 10, 20];\n\nconst Moving = ({ position, nozzleTemp }) => {\n  const classes = useStyles();\n\n  const [unit, setUnit] = useState(1);\n  const [heatingDialog, setHeatingDialog] = useState(false);\n  const [delay, setDelay] = useState(false);\n\n\n  let sendGcode = function (gcode) {\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n  const homeAxis = (axis) => {\n    //homing commands\n    // const x = 'G28 X\\nM114\\n';\n    // const y = 'G28 Y\\nM114\\n';\n    // const z = 'G28 Z\\nM114\\n';\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: `G28 ${axis}\\nM114\\n`\n      })\n    });\n  };\n\n  const moveAxis = (axis, negative) => {\n    //example move commands\n    // const x = 'G91\\nG0 X-10\\nM114\\n';\n    // const y = 'G91\\nG0 Y-1\\nM114\\n';\n    // const z = 'G91\\nG0 Z10\\nM114\\n';\n    // const e = 'G91\\nG1 E10 F300\\nM114\\n';\n    const command = `${axis}${negative ? -units[unit] : units[unit]}`;\n    let gcode = `M220 S200\\nG91\\nG0 ${command}\\nM220 S100\\nM114\\n`\n\n    if(axis == 'E') {\n      if(nozzleTemp < 200) {\n        setHeatingDialog(true);\n        return;\n      }\n\n      setDelay(true);\n      setTimeout(function(){\n        setDelay(false);\n      }, 3000);\n\n      gcode = `M220 S200\\nG91\\nG1 ${command} F300\\nM220 S100\\nM114\\n`\n    }\n\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  return (\n    <Box style={{ textAlign: \"center\" }}>\n      <Typography variant=\"h4\" style={{ marginTop: 15 }}>\n        Movement\n      </Typography>\n      <Grid container justify=\"center\" style={{ marginTop: 10 }}>\n        <Grid item justifyContent=\"center\" alignItems=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              sendGcode(\"G28\\nM240 S1\\nM114\\n\");\n            }}\n            style={{ width: 130, height: 50 }}\n          >\n            Home All\n          </Button>\n        </Grid>\n      </Grid>\n      <Grid\n        container\n        justify=\"center\"\n        className={classes.btnContainer}\n        spacing={0}\n        direction=\"row\"\n      >\n        <Grid item xs={12}>\n          <Paper>\n            <Tabs\n              value={unit}\n              className={classes.tabs}\n              onChange={(e, val) => setUnit(val)}\n            >\n              {units.map((u) => (\n                <Tab label={`${u}mm`} key={u} style={{ minWidth: \"150px\" }} />\n              ))}\n            </Tabs>\n          </Paper>\n        </Grid>\n        <Grid item container xs={12} style={{ marginTop: 20, marginLeft: 20 }}>\n          <Grid\n            container\n            item\n            xs={6}\n            justify=\"center\"\n            alignItems=\"flex-start\"\n            spacing={0}\n          >\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">X</Typography>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"X\")}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"X\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n            <Grid item xs={12} style={{margin:20}}>\n\n            </Grid>\n            <Grid item xs={12} alignItems=\"flex-start\">\n              <Typography variant=\"body1\">E</Typography>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                item\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowBack />\n              </Button>\n            </Grid>\n            <Grid item xs={4}>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                disabled={delay}\n                onClick={() => moveAxis(\"E\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowForward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n          >\n            <Grid item>\n              <Typography variant=\"body1\">Y</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Y\")}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Y\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n          <Grid\n            container\n            item\n            xs\n            direction=\"column\"\n            alignItems=\"center\"\n            spacing={0}\n            style={{ height: 220 }}\n          >\n            <Grid item>\n              <Typography variant=\"body1\">Z</Typography>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", false)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowUpward />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => homeAxis(\"Z\")}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <Home />\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                color=\"secondary\"\n                size=\"large\"\n                variant=\"contained\"\n                onClick={() => moveAxis(\"Z\", true)}\n                style={{ margin: 7, width: 85, height: 50 }}\n              >\n                <ArrowDownward />\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Dialog\n        open={heatingDialog}\n        disableBackdropClick={true}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Hotend Must Be Hot to Move Filament\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            You must preheat the hotend before extruding filament.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n        <Button onClick={() => {\n                  setHeatingDialog(false);\n                }}\n                color=\"primary\" autoFocus\n                style={{\n                  backgroundColor: \"#0072CE\",\n                  color: \"white\",\n                  marginRight: 10,\n                  marginBottom: 10\n                }}\n        >\n          Cancel\n        </Button>\n          <Button onClick={() => {\n                    sendGcode(\"M104 S220\");\n                    setHeatingDialog(false);\n                  }}\n                  color=\"primary\" autoFocus\n                  style={{\n                    backgroundColor: \"#0072CE\",\n                    color: \"white\",\n                    marginRight: 10,\n                    marginBottom: 10\n                  }}\n          >\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default Moving;\n","import React from \"react\";\nimport { Button, Box, Grid, Slider, Typography } from \"@material-ui/core\";\nimport \"./Heating.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TempContext from \"../../../TempContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  drawerContainer: {\n    width: \"100%\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  modal: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"75%\",\n    height: \"60%\"\n  },\n  modalContainer: {\n    height: \"100%\",\n    padding: \"25px\",\n    \"& h2\": {\n      fontSize: \"2.5rem\",\n      marginTop: \"10px\"\n    }\n  },\n  printButton: {\n    width: \"120px\",\n    height: \"40px\",\n    alignSelf: \"center\",\n    marginTop: \"auto\",\n    marginBottom: \"100px\"\n  },\n  sliceDropdown: {\n    border: \"1px solid #ced4da\",\n    borderRadius: 4,\n    width: \"150px\",\n    padding: \"0 10px\"\n  },\n  slider: {\n    maxWidth: \"60px\",\n    marginLeft: \"20px\",\n    \"& input\": {\n      padding: \"8px\",\n      textAlign: \"center\"\n    }\n  },\n  summary: {\n    height: \"56px\",\n    cursor: \"pointer\",\n    \"&$selected, &$selected:hover\": {\n      backgroundColor: theme.palette.secondary.main\n    }\n  },\n  selected: {},\n  hover: {},\n  text: {\n    fontSize: \"1.5em\",\n    fontWeight: \"bold\"\n  },\n  gauges: {\n    display: \"flex\"\n  },\n  nozzleSlider: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    width: 250\n  },\n  tempOutputs: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  }\n}));\n\nconst Heating = () => {\n  let sendGcode = function (gcode) {\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Box style={{ textAlign: \"center\", marginTop: 40 }}>\n      <Typography variant=\"h4\">Heating</Typography>\n      <Grid container justify=\"center\">\n        <Grid item xs={3}>\n          <h4>Preheat</h4>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <TempContext.Consumer>\n              {({ setBedTarget, setNozzleTarget }) => (\n                <>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3, height: 50 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S220\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(220);\n                    }}\n                  >\n                    PLA\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3, height: 50 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S245\\nM140 S70\");\n                      setBedTarget(70);\n                      setNozzleTarget(245);\n                    }}\n                  >\n                    PETG\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3, height: 50 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S230\\nM140 S50\");\n                      setBedTarget(50);\n                      setNozzleTarget(230);\n                    }}\n                  >\n                    TPU\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    style={{ margin: 3, height: 50 }}\n                    onClick={() => {\n                      sendGcode(\"M104 S0\\nM140 S0\");\n                      setBedTarget(0);\n                      setNozzleTarget(0);\n                    }}\n                  >\n                    Cooldown\n                  </Button>\n                </>\n              )}\n            </TempContext.Consumer>\n          </div>\n        </Grid>\n        <Grid item xs={7}>\n          <Grid container direction=\"column\" style={{ marginTop: 55 }}>\n            <Grid item style={{ marginTop: 40 }}>\n              <span>Nozzle</span>\n            </Grid>\n            <Grid item container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ nozzleTarget, setNozzleTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setNozzleTarget(newVal);\n                        sendGcode(`M104 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${nozzleTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={260}\n                      style={{ maxWidth: \"200px\" }}\n                      value={nozzleTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ nozzle, nozzleTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${nozzle}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${nozzleTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <span>Bed</span>\n            </Grid>\n            <Grid container justify=\"center\">\n              <Grid item xs={9}>\n                <TempContext.Consumer>\n                  {({ bedTarget, setBedTarget }) => (\n                    <Slider\n                      defaultValue={0}\n                      color=\"secondary\"\n                      onChange={(e, newVal) => {\n                        setBedTarget(newVal);\n                      }}\n                      onChangeCommitted={(e, newVal) => {\n                        setBedTarget(newVal);\n                        sendGcode(`M140 S${newVal}\\n`);\n                      }}\n                      getAriaValueText={() => `${bedTarget}C`}\n                      valueLabelDisplay=\"auto\"\n                      step={5}\n                      min={0}\n                      max={100}\n                      style={{ maxWidth: \"200px\" }}\n                      value={bedTarget}\n                    />\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n              <Grid item>\n                <TempContext.Consumer>\n                  {({ bed, bedTarget }) => (\n                    <div className={classes.tempOutputs}>\n                      <span\n                        style={{ color: \"#aaaaaa\", width: 30 }}\n                      >{`${bed}C`}</span>\n                      <span\n                        style={{ color: \"#ffffff\", width: 30 }}\n                      >{`${bedTarget}C`}</span>\n                    </div>\n                  )}\n                </TempContext.Consumer>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default Heating;\n","import React from \"react\";\nimport \"./style.css\";\n\nimport TempContext from \"../../../TempContext\";\nimport { Button, withStyles } from \"@material-ui/core\";\nimport { Power, PowerOff } from \"@material-ui/icons\";\n\nimport {\n  GCodeBuilder,\n  GEnableAllMotors,\n  GDisableAllMotors\n} from \"../../Tutorials/GCodeBuilder\";\n\nclass StepperDisable extends React.Component {\n  static contextType = TempContext;\n\n  disableMotors() {\n    let gcode = new GCodeBuilder();\n    gcode.addCommand(GDisableAllMotors());\n    this.sendGcode(gcode.build());\n    this.context.setSteppersEnabled(false);\n  }\n\n  enableMotors() {\n    let gcode = new GCodeBuilder();\n    gcode.addCommand(GEnableAllMotors());\n    this.sendGcode(gcode.build());\n    this.context.setSteppersEnabled(true);\n  }\n\n  sendGcode(gcode) {\n    fetch(`http://localhost:2127/api/v1/send`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        gcode: gcode\n      })\n    });\n  }\n\n  render() {\n    if (!this.context.steppersEnabled) {\n      return (\n        <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 50 }}>\n          <EnableButton\n            startIcon={<Power />}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              this.enableMotors();\n            }}\n          >\n            Enable Motors\n          </EnableButton>\n        </div>\n      );\n    } else {\n      return (\n        <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 50 }}>\n          <DisableButton\n            startIcon={<PowerOff />}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              this.disableMotors();\n            }}\n          >\n            Disable Motors\n          </DisableButton>\n        </div>\n      );\n    }\n  }\n}\n\nconst DisableButton = withStyles({\n  root: {\n    width: 200,\n    height: 50,\n    backgroundColor: \"#B01C34\",\n    \"&:hover\": {\n      backgroundColor: \"#B01C34\"\n    }\n  }\n})(Button);\n\nconst EnableButton = withStyles({\n  root: {\n    width: 200,\n    height: 50,\n    backgroundColor: \"#679436\",\n    \"&:hover\": {\n      backgroundColor: \"#679436\"\n    }\n  }\n})(Button);\n\nexport default StepperDisable;\n","import React from \"react\";\nimport Moving from \"./Moving/Moving\";\nimport Heating from \"./Heating/Heating\";\nimport StepperDisable from \"./StepperDisable/StepperDisable\";\n\nimport \"./Control.css\";\n\nconst Control = (lastMessage) => {\n  const [position, setPosition] = React.useState({ x: 0, y: 0, z: 0 });\n  const [nozzleTemp, setNozzleTemp] = React.useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      typeof lastMessage.lastMessage !== \"undefined\" &&\n      lastMessage.lastMessage &&\n      typeof lastMessage.lastMessage.data !== \"undefined\" &&\n      lastMessage.lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if(json[0].current.temps[0].hasOwnProperty(\"tool0\")\n        ) {\n          let temps = json[0].current.temps[0];\n          setNozzleTemp(parseInt(temps.tool0.actual));\n        }\n      }\n\n      if (\n        json[0].hasOwnProperty(\"event\") &&\n        json[0].event.hasOwnProperty(\"payload\")\n      ) {\n        if (json[0].event.payload) {\n          setPosition({\n            x: json[0].event.payload.x,\n            y: json[0].event.payload.y,\n            z: json[0].event.payload.z\n          });\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <>\n      <Moving position={position} nozzleTemp={nozzleTemp} />\n      <Heating />\n      <StepperDisable />\n    </>\n  );\n};\n\nexport default Control;\n","import React, { useState, useEffect } from 'react';\nimport {\n    Button,\n    Grid,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    ListItemSecondaryAction,\n    ListSubheader,\n    Select,\n    Switch,\n    Typography,\n  } from '@material-ui/core';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FileManager from '../../Common/FileManager/FileManager';\n\n\nconst useStyles = makeStyles({\n    componentContainer: {\n      display: 'flex',\n      flex: 1,\n    },\n    drawerContainer: {\n      width: '100%',\n    },\n    header: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    item: {\n      height: '100px',\n      padding: '0 22px',\n    },\n    text: {\n      fontSize: '1.5em',\n      fontWeight: 'bold',\n    },\n  });\n\n  \n  \n\nconst ManageStorage = () => {\n    const classes = useStyles();\n    const [fileDrawerOpen, setFileDrawerOpen] = useState(true);\n\n    \n  return (\n    <Grid>\n      <FileManager\n        fileLocation={'local'}\n        drawerOpen={true}\n        setDrawerOpen={setFileDrawerOpen}\n        manage={true}\n        update={false}\n      />\n    </Grid>\n  );\n};\n\nexport default ManageStorage;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  ListItemSecondaryAction,\n  ListSubheader,\n  Select,\n  Snackbar,\n  Switch,\n  Typography\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  CastConnected,\n  Class,\n  LocalLibrary,\n  Wifi,\n  WifiTethering,\n  SettingsEthernet,\n  SettingsInputAntenna,\n  SignalCellularNull\n} from \"@material-ui/icons/\";\n\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage, setStorage, fillStorage } from \"../../../Utility/helpers\";\nimport NetworkSettings from \"../../Setup/NetworkType/NetworkSettings\";\n\nimport NetworkSelect from \"../../Setup/NetworkSelect/NetworkSelect\";\n\nimport WifiConnect from \"../../Setup/NetworkType/WifiConnect\";\n\nconst networkOptions = {\n  wifi: {\n    name: \"Wi-Fi\",\n    icon: <Wifi />\n  },\n  hotspot: {\n    name: \"Hotspot\",\n    icon: <WifiTethering />\n  },\n  ethernet: {\n    name: \"Ethernet\",\n    icon: <SettingsEthernet />\n  },\n  none: {\n    name: \"None\",\n    icon: <SignalCellularNull />\n  }\n};\n\nconst useStyles = makeStyles({});\nconst Settings = ({machineName}) => {\n  const [networkExpanded, setNetworkExpanded] = useState(false);\n  const [networkType, setNetworkType] = useState(\"none\");\n  const [printerMode, setPrinterMode] = useState(\"\");\n  const [userMode, setUserMode] = useState(\"\");\n  const [displaySSID, setDisplaySSID] = useState(false);\n  const [allowPrerelease, setAllowPrerelease] = useState(false);\n  const [allowAutoUpdate, setAllowAutoUpdate] = useState(false);\n  const [step, setStep] = useState(0);\n  const [networkData, setNetworkData] = useState({});\n\n  const [showSnack, setShowSnack] = useState(false);\n  const [snackMessage, setSnackMessage] = useState(\"\");\n  const handleSnackClose = () => {\n    setShowSnack(() => false);\n    setSnackMessage(\"\");\n  };\n\n  const classes = useStyles();\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n      setNetworkType(() => {\n        const networkProfile = getStorage(\"networkProfile\");\n        return networkProfile ? networkProfile : \"none\";\n      });\n      setPrinterMode(() => getStorage(\"printerProfile\"));\n      setUserMode(() => getStorage(\"userMode\"));\n      setAllowPrerelease(getStorage(\"allowPrerelease\"));\n      setAllowAutoUpdate(getStorage(\"allowAutoUpdate\"));\n      setNetworkData(getStorage(\"network\"));\n    });\n  });\n\n  const handleNetworkToggle = (value) => {\n    const network = value.toLowerCase();\n    setNetworkExpanded(false);\n    setNetworkType(network);\n    setStorage(\"networkProfile\", network);\n    setStep(0);\n  };\n\n  const setNewType = (value) => {\n    const network = value.toLowerCase();\n    setNetworkType(network);\n  };\n  return (\n    <>\n      <Grid container direction=\"column\" className={classes.container}>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Network</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem\n              button\n              onClick={() => {\n                if (networkType === \"hotspot\") {\n                  setDisplaySSID((prev) => !prev);\n                } else {\n                  return;\n                }\n              }}\n            >\n              <ListItemIcon>\n                {networkOptions[networkType].icon || <Wifi />}\n              </ListItemIcon>\n              <ListItemText primary={\n                networkOptions[networkType].name + (\n                  networkOptions[networkType].name != 'Hotspot' ?\n                  (\n                    (\n                      networkOptions[networkType].name != 'None' &&\n                      networkOptions[networkType].name != 'Ethernet'\n                    ) ?\n                    (\n                      networkData &&\n                      networkData.ssid ? ': '+networkData.ssid : ': Not Connected'\n                    ) : ''\n                  ) :\n                  (': '+machineName)\n                )\n              } />\n              <ListItemSecondaryAction>\n                <Button\n                  variant=\"contained\"\n                  color={networkExpanded ? \"secondary\" : \"primary\"}\n                  onClick={() => {\n                    setStep(2);\n                  }}\n                  size={networkExpanded ? \"small\" : \"medium\"}\n                >\n                  {networkExpanded ? \"Select\" : \"Change\"}\n                </Button>\n              </ListItemSecondaryAction>\n            </ListItem>\n            {networkData && networkData.hostName && (\n              <ListItem>\n                <ListItemIcon><CastConnected /></ListItemIcon>\n                <ListItemText primary={'Host Name: '+networkData.hostName} />\n              </ListItem>\n              )}\n              {networkData && networkData.ip && (\n              <ListItem>\n                <ListItemIcon><SettingsInputAntenna /></ListItemIcon>\n                <ListItemText primary={'IP Address: '+networkData.ip} />\n              </ListItem>\n            )}\n            {networkExpanded && (\n              <>\n                {Object.entries(networkOptions).map((option) => {\n                  const obj = option[1];\n                  if (networkType !== option[0]) {\n                    return (\n                      <ListItem key={`${option[0]}-exanded-network`}>\n                        <ListItemIcon>{obj.icon}</ListItemIcon>\n                        <ListItemText primary={obj.name} />\n                        <ListItemSecondaryAction>\n                          <Button\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            onClick={() => handleNetworkToggle(obj.name)}\n                            size=\"small\"\n                          >\n                            Select\n                          </Button>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    );\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </>\n            )}\n          </List>\n        </Grid>\n        {displaySSID && (\n          <Grid style={{marginLeft:16}}>\n            Your SSID is\n            <Typography color=\"secondary\" variant=\"body1\">\n              {machineName}\n            </Typography>\n            Your password is\n            <Typography color=\"secondary\" variant=\"body1\">\n              makermade\n            </Typography>\n            {networkType === \"ethernet\" && (\n              <Typography variant=\"body2\">\n                Don't forget to connect your cable!\n              </Typography>\n            )}\n          </Grid>\n        )}\n\n        <Grid>\n          <List\n            subheader={<ListSubheader>User Type</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <LocalLibrary />\n              </ListItemIcon>\n              <ListItemText primary=\"Experience Level\" />\n              <Select\n                native\n                value={userMode}\n                onChange={(e) => {\n                  if (e.target && e.target.value) {\n                    setUserMode(e.target.value);\n                    setStorage(\"userMode\", e.target.value);\n                  }\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                  },\n                  getContentAnchorEl: null\n                }}\n              >\n                <option value=\"beginner\">Beginner</option>\n                <option value=\"advanced\">Advanced</option>\n                <option value=\"expert\">Expert</option>\n              </Select>\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Printer</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Classroom Mode\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    const checkedValue = e.target.checked\n                      ? \"classroom\"\n                      : \"home\";\n                    setPrinterMode(() => checkedValue);\n                    setStorage(\"printerProfile\", checkedValue);\n                  }}\n                  checked={printerMode !== \"home\"}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText\n                primary={`Printer Name: ${machineName}`}\n              />\n              <ListItemSecondaryAction>\n                <Button\n                  variant=\"contained\"\n                  color={networkExpanded ? \"secondary\" : \"primary\"}\n                  onClick={() => {\n                    setStep(1);\n                  }}\n                  size={networkExpanded ? \"small\" : \"medium\"}\n                >\n                  {networkExpanded ? \"Select\" : \"Change\"}\n                </Button>\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid>\n          <List\n            subheader={<ListSubheader>Software</ListSubheader>}\n            className={classes.root}\n          >\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Update Pre-Releases\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowPrerelease(e.target.checked);\n                    setStorage(\"allowPrerelease\", e.target.checked);\n                  }}\n                  checked={allowPrerelease}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <Class />\n              </ListItemIcon>\n              <ListItemText primary=\"Allow Software Auto-Updating\" />\n              <ListItemSecondaryAction>\n                <Switch\n                  edge=\"end\"\n                  onChange={(e) => {\n                    setAllowAutoUpdate(e.target.checked);\n                    setStorage(\"allowAutoUpdate\", e.target.checked);\n                  }}\n                  checked={allowAutoUpdate}\n                />\n              </ListItemSecondaryAction>\n            </ListItem>\n          </List>\n        </Grid>\n        <Snackbar\n          open={showSnack}\n          autoHideDuration={6000}\n          message={snackMessage}\n          onClose={handleSnackClose}\n        ></Snackbar>\n      </Grid>\n      {step === 2 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSelect\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n            settingsScreen={true}\n            machineName={machineName}\n            setNetworkData={setNetworkData}\n          />\n        </div>\n      )}\n      {step === 1 && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"rgb(66,66,66)\",\n            zIndex: 8000,\n            paddingLeft: 24,\n            paddingRight: 24\n          }}\n        >\n          <NetworkSettings\n            setStep={setStep}\n            setShowSnack={setShowSnack}\n            setSnackMessage={setSnackMessage}\n            handleSnackClose={handleSnackClose}\n            settingsScreen={true}\n            setNewType={(type) => {\n              setNewType(type);\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\n","import React from \"react\";\nimport { Card, CardContent, Container, Typography } from \"@material-ui/core\";\nimport TutorialDefinitions from \"../../Tutorials/TutorialDefinitions\";\nimport Tutorial from \"../../Tutorials/Tutorial/Tutorial\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\nclass Tutorials extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props.machineName);\n    this.state = {\n      currentTutorial: null,\n      machineName: this.props.machineName\n    };\n  }\n  selectTutorial(id) {\n    this.setState({ currentTutorial: id });\n  }\n  closeTutorial(reason) {\n    this.setState({ currentTutorial: null });\n    if (reason && reason === \"request-calibration\") {\n      setTimeout(() => {\n        this.selectTutorial(\"bedLevelSensorCalibration\");\n      }, 1000);\n    }\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Container className={classes.tutorialContainer}>\n          {Object.getOwnPropertyNames(TutorialDefinitions).map((tutName) => {\n            if (TutorialDefinitions[tutName].userVisable) {\n              return (\n                <>\n                  <Card\n                    className={classes.tutorialCard}\n                    onClick={() => {\n                      this.selectTutorial(tutName);\n                    }}\n                  >\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {TutorialDefinitions[tutName].name}\n                      </Typography>\n                      <Typography variant=\"body2\">\n                        {TutorialDefinitions[tutName].description}\n                      </Typography>\n                    </CardContent>\n                  </Card>\n                </>\n              );\n            } else {\n              return <></>;\n            }\n          })}\n        </Container>\n        {this.state.currentTutorial && (\n          <Tutorial\n            tutorialName={this.state.currentTutorial}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.closeTutorial(reason);\n            }}\n            machineName={this.state.machineName}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(Tutorials);\n","import React, { useState } from \"react\";\nimport { Button, CircularProgress, Grid, Typography } from \"@material-ui/core\";\nimport { resetStorage } from \"../../../Utility/helpers\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport \"react-simple-keyboard/build/css/index.css\";\n\nconst useStyles = makeStyles({\n  backdrop: {\n    zIndex: 10000,\n    color: \"#fff\"\n  },\n  buttonContainer: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"56px\"\n  },\n  connecting: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    \"& h4\": {\n      marginBottom: \"24px\"\n    }\n  },\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    padding: (props) => (props.settingsScreen ? \"10px\" : \"30px 15px\"),\n    fontSize: (props) => (props.settingsScreen ? \"18px\" : \"24px\"),\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  keyboard: {\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n    right: 0,\n    color: \"#000\"\n  }\n});\n\nconst ResetPrinter = ({\n  setStep,\n  setShowSnack,\n  setSnackMessage,\n  settingsScreen\n}) => {\n  const classes = useStyles();\n  const type = \"configure\";\n  const [rebootMessage, setRebootMessage] = useState(false);\n\n  const handleReset = () => {\n    console.log(\"reset\");\n    resetStorage().then((newSettings) => {\n      window.location.reload();\n    });\n  };\n\n  return (\n    <Grid\n      container\n      item\n      spacing={6}\n      direction=\"column\"\n      alignItems=\"center\"\n      className={classes.container}\n    >\n      {type === \"configure\" && (\n        <div>\n          <Grid\n            container\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ paddingTop: 140 }}\n          >\n            <Typography variant=\"h4\" style={{ textAlign: \"center\" }}>\n              Warning!\n            </Typography>\n            <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n              This will reset your printer to factory settings.\n            </Typography>\n            <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n              All gcode and stl files will be preserved.\n            </Typography>\n          </Grid>\n          <Grid\n            container\n            item\n            spacing={6}\n            direction=\"column\"\n            alignItems=\"center\"\n            style={{ marginTop: 100 }}\n          >\n              {rebootMessage ? (\n                <Grid\n                  container\n                  direction=\"column\"\n                  alignItems=\"center\"\n                >\n                <Grid item>\n                  <CircularProgress className={classes.button} color=\"secondary\" />\n                </Grid>\n                <Grid item>\n                  <Typography\n                    variant=\"h5\"\n                    style={{ marginTop: 60, textAlign: \"center\" }}\n                  >\n                    Rebooting printer to apply changes, this will take approximately 2\n                    minutes.\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <Typography\n                    variant=\"h5\"\n                    style={{ marginTop: 60, textAlign: \"center\" }}\n                  >\n                    DO NOT TURN OFF PRINTER UNTIL AFTER IT REBOOTS!\n                  </Typography>\n                </Grid>\n                </Grid>\n              ) : (\n                <Grid item>\n                  <Button\n                    color=\"secondary\"\n                    variant=\"contained\"\n                    className={classes.button}\n                    style={{ marginTop: 10 }}\n                    onClick={() => {\n                      handleReset();\n                    }}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n              )}\n          </Grid>\n        </div>\n      )}\n    </Grid>\n  );\n};\n\nexport default ResetPrinter;\n","import React, { useState } from \"react\";\nimport {\n  Grid,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from \"@material-ui/core\";\nimport {\n  AcUnit,\n  LocalGasStation,\n  Pool,\n  Save,\n  WbIncandescent\n} from \"@material-ui/icons\";\nimport { useMountEffect } from \"../../../Utility/useMountEffect\";\nimport { getStorage } from \"../../../Utility/helpers\";\nimport packageJson from '../../../../package.json';\n\nconst About = () => {\n  const [releaseNotes, setReleaseNotes] = useState(false);\n\n  useMountEffect(() => {\n\n    async function checkUpdateInfo() {\n      const response = await fetch(\n        `http://localhost:2127/api/v1/update/version/info`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }\n      );\n      return response.json(); // parses JSON response into native JavaScript objects\n    }\n\n    checkUpdateInfo().then((data) => {\n      //after api call\n      console.log(data);\n      if(data.success) {\n        setReleaseNotes(data.update_info);\n      }\n    });\n\n  });\n\n  return (\n    <Grid container direction=\"column\">\n    {/*\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Hardware</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <WbIncandescent />\n          </ListItemIcon>\n          <ListItemText primary=\"Lamp\" secondary=\"700 Watt\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <Pool />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Liquids\"\n            secondary=\"1.5 Gallons Emergency Water Supply\"\n          />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <LocalGasStation />\n          </ListItemIcon>\n          <ListItemText primary=\"Gases\" secondary=\"Secondary Helium Reserve\" />\n        </ListItem>\n        <ListItem>\n          <ListItemIcon>\n            <AcUnit />\n          </ListItemIcon>\n          <ListItemText primary=\"Operating Range\" secondary=\"-40 °C - -37 °C\" />\n        </ListItem>\n      </List>\n    */}\n      <List\n        subheader={\n          <ListSubheader style={{ fontSize: \"20px\" }}>Software</ListSubheader>\n        }\n      >\n        <ListItem>\n          <ListItemIcon>\n            <Save />\n          </ListItemIcon>\n          <ListItemText\n            primary=\"Firmware Version\"\n            secondary={packageJson.version}\n          />\n        </ListItem>\n      </List>\n      {releaseNotes && (\n        <List\n          subheader={\n            <ListSubheader style={{ fontSize: \"20px\" }}>Release Notes</ListSubheader>\n          }\n        >\n        {Object.entries(releaseNotes).reverse().map((version, index) => {\n            return (\n              <ListItem key={`version-${index}`}>\n              <ListItemText\n                primary={version[0]}\n                secondary={\n                  <div dangerouslySetInnerHTML={{\n                    __html: version[1].replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n                  }} />\n                }\n              />\n              </ListItem>\n            );\n        })}\n        </List>\n      )}\n    </Grid>\n  );\n};\n\nexport default About;\n","import React, { useState } from \"react\";\nimport { getStorage } from \"../../Utility/helpers\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport {\n  AppBar,\n  Container,\n  Divider,\n  Drawer,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography\n} from \"@material-ui/core\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Update from \"./MenuTabs/Update\";\nimport ManageStorage from \"./MenuTabs/ManageStorage\";\nimport Settings from \"./MenuTabs/Settings\";\nimport Tutorials from \"./MenuTabs/Tutorials\";\nimport ResetPrinter from \"./MenuTabs/ResetPrinter\";\nimport About from \"./MenuTabs/About\";\n\nconst useStyles = makeStyles({\n  componentContainer: {\n    display: \"flex\",\n    flex: 1\n  },\n  drawerContainer: {\n    width: \"100%\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  item: {\n    height: \"100px\",\n    padding: \"0 22px\"\n  },\n  text: {\n    fontSize: \"1.5em\"\n  }\n});\n\nconst Menu = ({lastMessage, machineName, fastTrackUpdate, setFastTrackUpdate}) => {\n  const classes = useStyles();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [activeComponent, setActiveComponent] = useState({});\n\n  useMountEffect(() => {\n     if(getStorage(\"allowAutoUpdate\") && fastTrackUpdate) {\n       let updateItem = MenuArray.find(obj => {\n         return obj.name === \"Update\"\n       });\n       if(updateItem) {\n         handleDrawer(updateItem);\n       }\n     }\n  });\n\n  const handleDrawer = (item) => {\n    //call setActiveComponent\n    setActiveComponent(item);\n    setDrawerOpen(true);\n  };\n  const MenuArray = [\n    {\n      name: \"Tutorials\",\n      component: <Tutorials machineName={machineName}/>\n    },\n    {\n      name: \"Settings\",\n      component: <Settings machineName={machineName}/>\n    },\n    {\n      name: \"Storage\",\n      component: <ManageStorage />\n    },\n    //{ name: \"Manage Storage\", component: <ManageStorage /> },\n    //{ name: \"Troubleshooting\", component: null },\n    { name: \"Update\", component: <Update firstBoot={false} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} /> },\n    { name: \"Reset\", component: <ResetPrinter /> },\n    { name: \"About\", component: <About /> }\n    //{ name: \"About\", component: <About /> }\n  ];\n  return (\n    <div>\n      <List>\n        {MenuArray.map((item) => {\n          return (\n            <React.Fragment key={`${item.name}-item`}>\n              <ListItem\n                button\n                onClick={() => handleDrawer(item)}\n                className={classes.item}\n              >\n                <ListItemText\n                  primary={\n                    <Typography className={classes.text}>\n                      {item.name}\n                    </Typography>\n                  }\n                />\n                <ArrowForwardIosIcon />\n              </ListItem>\n              <Divider />\n            </React.Fragment>\n          );\n        })}\n      </List>\n      <Drawer\n        anchor=\"right\"\n        open={drawerOpen}\n        onClose={() => setDrawerOpen(false)}\n        classes={{\n          paper: classes.drawerContainer\n        }}\n      >\n        <AppBar position=\"sticky\">\n        <Typography variant=\"h6\" style={{ textAlign: 'center' }}>\n          Printer Name: {machineName}\n        </Typography>\n        </AppBar>\n        <div className={classes.header}>\n          <IconButton aria-label=\"back\" onClick={() => setDrawerOpen(false)}>\n            <ArrowBackIcon />\n          </IconButton>\n          <Typography variant=\"h5\">\n            {activeComponent.name}\n          </Typography>\n        </div>\n        <Container className={classes.componentContainer}>\n          {activeComponent.component}\n        </Container>\n      </Drawer>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { Card, CardContent, Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport React, { Component } from \"react\";\nimport TutorialDefinitions from \"../TutorialDefinitions\";\nimport Tutorial from \"./Tutorial\";\n\nconst styles = (theme) => ({\n  tutorialContainer: {\n    maxHeight: \"950px\",\n    overflow: \"auto\"\n  },\n  tutorialCard: {\n    backgroundColor: \"rgb(46,46,46)\",\n    marginBottom: \"8px\"\n  },\n  updateContainer: {\n    flex: 3,\n    \"& h3\": {\n      fontSize: \"28px\",\n      textAlign: \"center\"\n    }\n  }\n});\n\nclass TutorialButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { tutorialShown: false };\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <>\n        <Card\n          className={classes.tutorialCard}\n          onClick={() => {\n            this.setState({ tutorialShown: true });\n          }}\n        >\n          <CardContent>\n            <Typography variant=\"h6\">\n              {TutorialDefinitions[this.props.tutorialName].name}\n            </Typography>\n            <Typography variant=\"body2\">\n              {TutorialDefinitions[this.props.tutorialName].description}\n            </Typography>\n          </CardContent>\n        </Card>\n        {this.state.tutorialShown && (\n          <Tutorial\n            tutorialName={this.props.tutorialName}\n            extruderTemp={this.props.extruderTemp}\n            bedTemp={this.props.bedTemp}\n            showClose={true}\n            onTutorialClose={(reason) => {\n              this.setState({ tutorialShown: false });\n            }}\n            machineName={this.props.machineName}\n          ></Tutorial>\n        )}\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles)(TutorialButton);\n","import React, { useState } from \"react\";\nimport TutorialButton from \"../Tutorials/Tutorial/TutorialButton\";\n\nconst Tune = ({lastMessage, machineName}) => {\n  const [extruder, setExtruder] = useState(0);\n  const [bed, setBed] = useState(0);\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n      console.log(json);\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n        if (json[0].current.temps[0]) {\n          let temps = json[0].current.temps[0];\n          setExtruder(parseInt(temps.tool0.actual));\n          setBed(parseInt(temps.bed.actual));\n        }\n      }\n    }\n  }, [lastMessage]);\n\n  return (\n    <div>\n      <TutorialButton\n        tutorialName={\"blTouchCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n        machineName={machineName}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"bedLevelCornerCalibration\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n        machineName={machineName}\n      ></TutorialButton>\n      {/*<Button\n        color=\"primary\"\n        variant=\"contained\"\n        onClick={() => {\n          sendGcode(\"G29 T\\nM114\\n\");\n        }}\n      >\n        Generate Mesh\n      </Button>*/}\n      <TutorialButton\n        tutorialName={\"loadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n        machineName={machineName}\n      ></TutorialButton>\n      <TutorialButton\n        tutorialName={\"unloadFilament\"}\n        extruderTemp={extruder}\n        bedTemp={bed}\n        machineName={machineName}\n      ></TutorialButton>\n    </div>\n  );\n};\n\nexport default Tune;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport {\n  AppBar,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TabList from \"../Common/Tabs/TabList\";\nimport Print from \"../Print/Print\";\nimport Control from \"../Control/Control\";\nimport Menu from \"../Menu/Menu\";\nimport Tune from \"../Tune/Tune\";\nimport { useMountEffect } from \"../../Utility/useMountEffect\";\nimport { getStorage, fillStorage } from \"../../Utility/helpers\";\nimport TempContext from \"../../TempContext\";\n\nimport \"./Home.css\";\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    top: \"auto\",\n    bottom: 0,\n    textAlign: \"center\",\n    padding: 0\n  },\n  okButton: {\n    backgroundColor: \"#0072CE\",\n    color: \"white\",\n    marginRight: 10,\n    marginBottom: 10\n  }\n}));\n\nasync function checkOnline() {\n  const response = await fetch(\n    `http://localhost:2127/api/v1/check/internet/connection`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nasync function checkUpdates() {\n  // Default options are marked with *\n  const response = await fetch(\n    `http://localhost:2127/api/v1/update/software/check`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  return response.json(); // parses JSON response into native JavaScript objects\n}\n\nconst tabList = [\"Print\", \"Control\", \"Tune\", \"Menu\"];\nconst Home = ({ lastMessage, mode, setActiveMode, machineName }) => {\n  const context = useContext(TempContext);\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = useState(\"Print\");\n  const [disabledNav, setDisabledNav] = useState(false);\n  const [newVersionTitle, setNewVersionTitle] = useState(false);\n  const [releaseNotes, setReleaseNotes] = useState(false);\n  const [fastTrackUpdate, setFastTrackUpdate] = useState(false);\n\n  useMountEffect(() => {\n    fillStorage().then(function() {\n       if(getStorage(\"allowAutoUpdate\")) {\n         checkOnline().then((onlineData) => {\n           //after api call\n           if (onlineData.online) {\n             checkUpdates().then((updateData) => {\n               console.log(updateData);\n               //after api call\n               if (updateData.update) {\n                 setNewVersionTitle(updateData.message);\n                 setReleaseNotes(updateData.releaseNotes);\n               }\n             });\n           }\n         });\n       }\n     });\n  });\n\n  React.useEffect(() => {\n    if (\n      typeof lastMessage !== \"undefined\" &&\n      lastMessage &&\n      typeof lastMessage.data !== \"undefined\" &&\n      lastMessage.data.length > 1\n    ) {\n      let json = JSON.parse(lastMessage.data.substring(1));\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.progress) {\n        if(\n          json[0].current.progress &&\n          json[0].current.job &&\n          json[0].current.job.file.name &&\n          json[0].current.progress.completion < 100 &&\n          json[0].current.state &&\n          json[0].current.state.text !== \"Operational\"\n        ) {\n          if(activeTab !== \"Menu\") {\n            setActiveTab('Print');\n            setDisabledNav(true);\n          }\n        } else {\n          setDisabledNav(false);\n        }\n      }\n\n      if (json[0].hasOwnProperty(\"current\") && json[0].current.messages.length) {\n        let messages = json[0].current.messages;\n        for (let idx in messages) {\n          if(!messages[idx].includes(\"echo:\") && messages[idx].includes(\"Probe Offset\")) {\n            let values = messages[idx].split(\" \");\n            let offset = values[values.length - 1];\n            let offsetIgnoreZ = offset.substring(1);\n            console.log(offsetIgnoreZ);\n            context.setZOffset(offsetIgnoreZ);\n          }\n        }\n      }\n\n    }\n  }, [lastMessage]);\n\n  const handleTabClick = (event, val) => {\n    setActiveTab(tabList[val]);\n  };\n  const Components = {\n    Print: <Print lastMessage={lastMessage} setDisabledNav={setDisabledNav} machineName={machineName} />,\n    Control: <Control lastMessage={lastMessage} />,\n    Menu: <Menu lastMessage={lastMessage} machineName={machineName} fastTrackUpdate={fastTrackUpdate} setFastTrackUpdate={setFastTrackUpdate} />,\n    Tune: <Tune lastMessage={lastMessage} machineName={machineName} />\n  };\n  return (\n    <div className=\"home-container\">\n      <AppBar\n        position=\"fixed\"\n        color=\"primary\"\n        className={classes.appBar}\n        disabled={true}\n      >\n        <TabList\n          tabList={tabList}\n          handleTabClick={handleTabClick}\n          activeTab={tabList.indexOf(activeTab)}\n          disabledNav={disabledNav}\n        />\n      </AppBar>\n      <div className=\"component-container\">{Components[activeTab]}</div>\n      <Dialog\n        open={newVersionTitle}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{textAlign:\"center\"}} >\n          {newVersionTitle}\n        </DialogTitle>\n        <DialogContent style={{textAlign:\"left\"}}>\n          <DialogContentText id=\"alert-dialog-description\">\n            <b>A new software version is available.</b>\n\n            {releaseNotes && (\n              <div dangerouslySetInnerHTML={{\n                __html: releaseNotes.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>').replace(/(?:-)/g, '<b>&#9900;</b>')\n              }} />\n            )}\n\n            <b>Would you like to update now?</b>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => {\n              setFastTrackUpdate(false);\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={() => {\n              setFastTrackUpdate(true);\n              setActiveTab('Menu');\n              setNewVersionTitle(false);\n            }}\n            color=\"primary\" className={classes.okButton} autoFocus>\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useMemo, useRef } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Setup from \"./components/Setup/Setup\";\nimport Home from \"./components/Home/Home\";\nimport {\n  createMuiTheme,\n  MuiThemeProvider\n  // makeStyles,\n} from \"@material-ui/core/styles\";\nimport {\n  AppBar,\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Typography\n} from \"@material-ui/core\";\nimport { getStorage, setStorage, fillStorage } from \"./Utility/helpers\";\nimport { useMountEffect } from \"./Utility/useMountEffect\";\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\nimport TempContext from \"./TempContext\";\nimport imgPrint from \"./img/mm-print.svg\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#0071CE\"\n    },\n    secondary: {\n      main: \"#CD6930\"\n    },\n    background: {\n      default: \"#3A3A3A\"\n    },\n    type: \"dark\"\n  },\n  overrides: {\n    MuiAppBar: {\n      \"root\": {\n        \"padding\": \"10px\"\n      }\n    },\n    MuiTab: {\n      \"root\": {\n        \"&$selected\": {\n          \"color\": \"#FFFFFF\",\n          \"background-color\": \"#0055a1\"\n        },\n        \"font-weight\": 300\n      }\n    },\n    MuiPaper: {\n      rounded: {\n        \"border-radius\": \"15px\"\n      }\n    },\n    MuiButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiButtonBase: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiIconButton: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiListItemText: {\n      \"root\": {\n        \"font-weight\": 300\n      }\n    },\n    MuiDialogActions: {\n      \"root\": {\n        \"justify-content\": \"space-around\"\n      }\n    },\n    MuiTypography: {\n      \"root\": {\n        \"font-weight\": 300\n      },\n      h1: {\n        \"font-weight\": 300\n      },\n      h2: {\n        \"font-weight\": 300\n      },\n      h3: {\n        \"font-weight\": 300\n      },\n      h4: {\n        \"font-weight\": 300\n      },\n      h5: {\n        \"font-weight\": 300\n      },\n      h6: {\n        \"font-weight\": 300\n      },\n      body1: {\n        \"font-weight\": 300\n      },\n      body2: {\n        \"font-weight\": 300\n      }\n    }\n  }\n});\n// const useStyles = makeStyles({});\nconst App = () => {\n  // const classes = useStyles();\n\n  const [mode, setActiveMode] = useState(null);\n  const [onboarded, setOnboarded] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [bedTemp, setBedTemp] = useState(0);\n  const [bedTargetTemp, setBedTargetTemp] = useState(0);\n  const [nozzleTemp, setNozzleTemp] = useState(0);\n  const [nozzleTargetTemp, setNozzleTargetTemp] = useState(0);\n  const [zOffset, setZOffset] = useState(0);\n  const [machineName, setMachineName] = useState(\"\");\n  const [steppersEnabled, setSteppersEnabled] = useState(true);\n  const [errorDialog, setErrorDialog] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [errorTitle, setErrorTitle] = useState(\"\");\n\n  const [socketUrl] = useState(\n    \"ws://localhost:9000/sockjs/718/qerksnvm/websocket\"\n  );\n  const messageHistory = useRef([]);\n\n  const { sendMessage, lastMessage, readyState } = useWebSocket(socketUrl, {\n    //Will attempt to reconnect on all close events, such as server shutting down\n    shouldReconnect: (closeEvent) => true,\n    reconnectAttempts: 999999, // default: 20\n    reconnectInterval: 0, // default: 5000\n    onOpen: () => {\n      console.log(\"socket opened\");\n    },\n    onError: () => {\n      console.log(\"socket error\");\n    },\n    onClose: () => {\n      // force reconnect somehow like sending message?\n      console.log(\"socket closed\");\n    },\n    onMessage: (msg) => {\n      // console.log(\"MESSAGE EVENT\");\n      try {\n        let json = JSON.parse(msg.data.substring(1));\n        if (json.length && json.length > 0) {\n          if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n            if(json[0].current.temps[0].hasOwnProperty(\"tool0\") &&\n               json[0].current.temps[0].hasOwnProperty(\"bed\")\n            ) {\n              let temps = json[0].current.temps[0];\n              setNozzleTemp(parseInt(temps.tool0.actual));\n              setBedTemp(parseInt(temps.bed.actual));\n              setNozzleTargetTemp(parseInt(temps.tool0.target));\n              setBedTargetTemp(parseInt(temps.bed.target));\n            }\n          }\n\n          if (json[0].hasOwnProperty(\"event\") && json[0].event.type == \"Error\") {\n            // set error\n            let error = json[0].event;\n            console.log(error);\n            let title = \"Error thrown by \" + error.payload.reason;\n            let message = error.payload.error;\n            setErrorMessage(message);\n            setErrorTitle(title);\n            setErrorDialog(true);\n          }\n\n        }\n      } catch (error) {}\n      // console.log(msg);\n    }\n  });\n\n  messageHistory.current = useMemo(() => {\n    try {\n      messageHistory.current.concat(lastMessage);\n      // let json = JSON.parse(lastMessage.data.substring(1));\n      // if (json[0].hasOwnProperty(\"current\") && json[0].current.temps[0]) {\n      //   if (json[0].current.temps[0]) {\n      //     let temps = json[0].current.temps[0];\n      //     setNozzleTemp(parseInt(temps.tool0.actual));\n      //     setBedTemp(parseInt(temps.bed.actual));\n      //   }\n      // }\n    } catch (error) {}\n  }, [lastMessage]);\n\n  const connectionStatus = {\n    [ReadyState.CONNECTING]: \"Connecting\",\n    [ReadyState.OPEN]: \"Open\",\n    [ReadyState.CLOSING]: \"Closing\",\n    [ReadyState.CLOSED]: \"Closed\",\n    [ReadyState.UNINSTANTIATED]: \"Uninstantiated\"\n  }[readyState];\n\n  async function connect(address, callback) {\n    // Default options are marked with *\n    const response = await fetch(address, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    callback();\n    return response.json(); // parses JSON response into native JavaScript objects\n  }\n\n  useMountEffect(() => {\n   setLoading(true);\n   fillStorage().then(function() {\n     setOnboarded(getStorage(\"onboarded\"));\n     if(!getStorage(\"userMode\") || !getStorage(\"didUserMode\")) {\n       setStorage(\"didUserMode\", true);\n       setStorage(\"userMode\", \"advanced\");\n     } else {\n       setActiveMode(getStorage(\"userMode\"));\n     }\n\n     let networkType = getStorage(\"networkProfile\");\n     let printerName = getStorage(\"printerName\");\n\n     if (!loading && connectionStatus === \"Open\") {\n       setLoading(true);\n     }\n\n     if (networkType === \"hotspot\") {\n       connect(`http://localhost:8990/hotspot/connect`, () => {\n         if (connectionStatus === \"Open\") {\n           setLoading(false);\n         }\n       });\n     }\n\n     if (networkType === \"wifi\") {\n       connect(`http://localhost:8990/hotspot/disconnect`, () => {\n         if (connectionStatus === \"Open\") {\n           setLoading(false);\n         }\n       });\n     }\n\n     if (printerName === null) {\n       setStorage(\"printerName\", \"300x\");\n       setMachineName(\"300x\");\n     } else {\n       if(printerName === \"300X\") {\n         setStorage(\"printerName\", \"300x\");\n         setMachineName(\"300x\");\n       } else {\n         setMachineName(printerName);\n       }\n     }\n   });\n  });\n\n  const handleOnboarding = (val) => {\n    setActiveMode(val);\n    setOnboarded(true);\n  };\n\n  React.useEffect(() => {\n    console.log(connectionStatus);\n    if (connectionStatus === \"Open\") {\n      sendMessage('{ \"auth\": \"E7BFE47F2DBF489B9E78A3D9D042874A\" }');\n      sendMessage('{ \"throttle\": 2 }');\n      sendMessage('{ \"current\": \"state\" }');\n      setLoading(false);\n    }\n  }, [connectionStatus, sendMessage]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <TempContext.Provider\n        value={{\n          bedTarget: bedTargetTemp,\n          bed: bedTemp,\n          nozzleTarget: nozzleTargetTemp,\n          nozzle: nozzleTemp,\n          zOffset: zOffset,\n          setBedTarget: setBedTargetTemp,\n          setNozzleTarget: setNozzleTargetTemp,\n          setBed: setBedTemp,\n          setNozzle: setNozzleTemp,\n          steppersEnabled: steppersEnabled,\n          setSteppersEnabled: setSteppersEnabled,\n          setZOffset: setZOffset\n        }}\n      >\n        <CssBaseline />\n        <Box height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n          {onboarded && (\n            <AppBar position=\"sticky\">\n              <Typography variant=\"h6\" style={{ textAlign: \"center\" }}>\n                Printer Name: {machineName}\n              </Typography>\n            </AppBar>\n          )}\n          {loading ? (\n            <>\n              <img\n                alt=\"print\"\n                src={imgPrint}\n                style={{\n                  width: 200,\n                  height: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% - 100px)\"\n                }}\n              ></img>\n              <h4\n                style={{\n                  width: 200,\n                  zIndex: 99999999,\n                  position: \"absolute\",\n                  left: \"calc(50% - 100px)\",\n                  top: \"calc(50% + 120px)\",\n                  textAlign: \"center\"\n                }}\n              >\n                Loading ...\n              </h4>\n            </>\n          ) : !onboarded ? (\n            <Setup handleOnboarding={handleOnboarding} machineName={machineName} />\n          ) : (\n            <Home\n              mode={mode}\n              lastMessage={lastMessage}\n              setActiveMode={setActiveMode}\n              machineName={machineName}\n            />\n          )}\n          <Dialog\n            open={errorDialog}\n            disableBackdropClick={true}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            style={{textAlign:\"center\"}}\n          >\n            <DialogTitle id=\"alert-dialog-title\">{errorTitle}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                {errorMessage}\n                <br />\n                Turn off your printer and check to make sure you have no loose wire connections.\n                Once you have checked all connections, turn your printer back on and try again.\n              </DialogContentText>\n            </DialogContent>\n          </Dialog>\n        </Box>\n      </TempContext.Provider>\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/mm-print.01cf77d4.svg\";"],"sourceRoot":""}